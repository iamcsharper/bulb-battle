{"version":3,"file":"319.js","mappings":"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","sources":["webpack://citylights/./node_modules/sim-ecs/dist/commands/command-entity-builder.js","webpack://citylights/./node_modules/sim-ecs/dist/commands/command-entity-builder.spec.js","webpack://citylights/./node_modules/sim-ecs/dist/commands/commands-aggregator.js","webpack://citylights/./node_modules/sim-ecs/dist/commands/commands-aggregator.spec.js","webpack://citylights/./node_modules/sim-ecs/dist/commands/commands.js","webpack://citylights/./node_modules/sim-ecs/dist/commands/commands.spec.js","webpack://citylights/./node_modules/sim-ecs/dist/ecs.js","webpack://citylights/./node_modules/sim-ecs/dist/entity-builder.js","webpack://citylights/./node_modules/sim-ecs/dist/entity-builder.spec.js","webpack://citylights/./node_modules/sim-ecs/dist/entity.js","webpack://citylights/./node_modules/sim-ecs/dist/entity.spec.js","webpack://citylights/./node_modules/sim-ecs/dist/index.js","webpack://citylights/./node_modules/sim-ecs/dist/pda.js","webpack://citylights/./node_modules/sim-ecs/dist/query.js","webpack://citylights/./node_modules/sim-ecs/dist/query.spec.js","webpack://citylights/./node_modules/sim-ecs/dist/serde/default-handlers.js","webpack://citylights/./node_modules/sim-ecs/dist/serde/serde.js","webpack://citylights/./node_modules/sim-ecs/dist/serde/serde.spec.js","webpack://citylights/./node_modules/sim-ecs/dist/serde/serial-format.js","webpack://citylights/./node_modules/sim-ecs/dist/serde/serial-format.spec.js","webpack://citylights/./node_modules/sim-ecs/dist/state.js","webpack://citylights/./node_modules/sim-ecs/dist/state.spec.js","webpack://citylights/./node_modules/sim-ecs/dist/system.js","webpack://citylights/./node_modules/sim-ecs/dist/system.spec.js","webpack://citylights/./node_modules/sim-ecs/dist/world-builder.js","webpack://citylights/./node_modules/sim-ecs/dist/world.js","webpack://citylights/./node_modules/sim-ecs/dist/world.spec.js","webpack://citylights/./node_modules/sim-ecs/node_modules/tslib/tslib.es6.js","webpack://citylights/./node_modules/box2d-wasm/dist/es/entry.js","webpack://citylights/./node_modules/keycode-js/dist/keycode.esm.js","webpack://citylights/./node_modules/tslib/tslib.es6.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CommandEntityBuilder = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\nconst entity_1 = require(\"../entity\");\r\ntslib_1.__exportStar(require(\"./command-entity-builder.spec\"), exports);\r\nclass CommandEntityBuilder {\r\n    constructor(commands) {\r\n        this.commands = commands;\r\n        this.entity = new entity_1.Entity();\r\n    }\r\n    build() {\r\n        this.commands.aggregator.addCommand(() => this.commands.world.addEntity(this.entity));\r\n    }\r\n    with(component, ...args) {\r\n        this.entity.addComponent(this.asComponent(component));\r\n        return this;\r\n    }\r\n    withAll(...components) {\r\n        let component;\r\n        for (component of components) {\r\n            this.with(component);\r\n        }\r\n        return this;\r\n    }\r\n    asComponent(component, ...args) {\r\n        return typeof component === 'object'\r\n            ? component\r\n            : new (component.prototype.constructor.bind(component, ...Array.from(arguments).slice(1)))();\r\n    }\r\n}\r\nexports.CommandEntityBuilder = CommandEntityBuilder;\r\n//# sourceMappingURL=command-entity-builder.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=command-entity-builder.spec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CommandsAggregator = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\ntslib_1.__exportStar(require(\"./commands-aggregator.spec\"), exports);\r\nclass CommandsAggregator {\r\n    constructor(world) {\r\n        this.world = world;\r\n        this.commands = [];\r\n        this.doMaintain = false;\r\n    }\r\n    addCommand(command) {\r\n        this.commands.push(command);\r\n    }\r\n    async executeAll() {\r\n        for (let command = this.commands.shift(); !!command; command = this.commands.shift()) {\r\n            await command();\r\n        }\r\n        if (this.doMaintain) {\r\n            this.world.maintain();\r\n        }\r\n    }\r\n    triggerMaintain() {\r\n        this.doMaintain = true;\r\n    }\r\n}\r\nexports.CommandsAggregator = CommandsAggregator;\r\n//# sourceMappingURL=commands-aggregator.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=commands-aggregator.spec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Commands = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\nconst command_entity_builder_1 = require(\"./command-entity-builder\");\r\ntslib_1.__exportStar(require(\"./commands.spec\"), exports);\r\nclass Commands {\r\n    constructor(world, aggregator) {\r\n        this.world = world;\r\n        this.aggregator = aggregator;\r\n    }\r\n    addEntity(entity) {\r\n        this.aggregator.addCommand(() => this.world.addEntity(entity));\r\n    }\r\n    addResource(obj, ...args) {\r\n        let type;\r\n        let instance;\r\n        if (typeof obj === 'object') {\r\n            type = obj.constructor;\r\n            instance = obj;\r\n        }\r\n        else {\r\n            type = obj;\r\n            instance = new (obj.prototype.constructor.bind(obj, ...Array.from(arguments).slice(1)))();\r\n        }\r\n        if (this.world.resources.has(type)) {\r\n            throw new Error(`Resource with name \"${type.name}\" already exists!`);\r\n        }\r\n        this.aggregator.addCommand(() => {\r\n            if (this.world.resources.has(type)) {\r\n                throw new Error(`Resource with name \"${type.name}\" already exists!`);\r\n            }\r\n            this.world.resources.set(type, instance);\r\n        });\r\n        return instance;\r\n    }\r\n    buildEntity() {\r\n        return new command_entity_builder_1.CommandEntityBuilder(this);\r\n    }\r\n    clearEntities() {\r\n        this.aggregator.addCommand(() => this.world.entities.clear());\r\n    }\r\n    load(prefab, options) {\r\n        const handle = this.world.groups.nextHandle++;\r\n        this.aggregator.addCommand(() => { this.world.load(prefab, options, handle); });\r\n        return handle;\r\n    }\r\n    maintain() {\r\n        this.aggregator.triggerMaintain();\r\n    }\r\n    merge(world) {\r\n        const handle = this.world.groups.nextHandle++;\r\n        this.aggregator.addCommand(() => { this.world.merge(world, handle); });\r\n        return handle;\r\n    }\r\n    popState() {\r\n        this.aggregator.addCommand(() => this.world.popState());\r\n    }\r\n    pushState(NewState) {\r\n        this.aggregator.addCommand(() => this.world.pushState(NewState));\r\n    }\r\n    queueCommand(command) {\r\n        this.aggregator.addCommand(command);\r\n    }\r\n    removeEntity(entity) {\r\n        this.aggregator.addCommand(() => this.world.removeEntity(entity));\r\n    }\r\n    removeResource(type) {\r\n        if (!this.world.resources.has(type)) {\r\n            throw new Error(`Resource with name \"${type.name}\" does not exists!`);\r\n        }\r\n        this.aggregator.addCommand(() => {\r\n            if (!this.world.resources.has(type)) {\r\n                throw new Error(`Resource with name \"${type.name}\" does not exists!`);\r\n            }\r\n            this.world.resources.delete(type);\r\n        });\r\n    }\r\n    replaceResource(obj, ...args) {\r\n        let type;\r\n        if (typeof obj === 'object') {\r\n            type = obj.constructor;\r\n        }\r\n        else {\r\n            type = obj;\r\n        }\r\n        if (!this.world.resources.has(type)) {\r\n            throw new Error(`Resource with name \"${type.name}\" does not exists!`);\r\n        }\r\n        this.aggregator.addCommand(() => {\r\n            if (!this.world.resources.has(type)) {\r\n                throw new Error(`Resource with name \"${type.name}\" does not exists!`);\r\n            }\r\n            this.world.resources.delete(type);\r\n            this.world.addResource(obj, ...args);\r\n        });\r\n    }\r\n    stopRun() {\r\n        this.aggregator.addCommand(() => this.world.stopRun());\r\n    }\r\n    unloadPrefab(handle) {\r\n        this.aggregator.addCommand(() => this.world.unloadPrefab(handle));\r\n    }\r\n}\r\nexports.Commands = Commands;\r\n//# sourceMappingURL=commands.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=commands.spec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ECS = void 0;\r\nconst world_builder_1 = require(\"./world-builder\");\r\nclass ECS {\r\n    constructor() {\r\n        this.worlds = new Map();\r\n    }\r\n    buildWorld(name) {\r\n        return new world_builder_1.WorldBuilder(this).addCallback(world => this.worlds.set(world, { name, world }));\r\n    }\r\n    removeWorld(world) {\r\n        this.worlds.delete(world);\r\n    }\r\n}\r\nexports.ECS = ECS;\r\nexports.default = ECS;\r\n//# sourceMappingURL=ecs.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EntityBuilder = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\nconst entity_1 = require(\"./entity\");\r\ntslib_1.__exportStar(require(\"./entity-builder.spec\"), exports);\r\nclass EntityBuilder {\r\n    constructor() {\r\n        this.entity = new entity_1.Entity();\r\n    }\r\n    build() {\r\n        return this.entity;\r\n    }\r\n    with(component, ...args) {\r\n        this.entity.addComponent(this.asComponent(component));\r\n        return this;\r\n    }\r\n    withAll(...components) {\r\n        let component;\r\n        for (component of components) {\r\n            this.with(component);\r\n        }\r\n        return this;\r\n    }\r\n    asComponent(component, ...args) {\r\n        return typeof component === 'object'\r\n            ? component\r\n            : new (component.prototype.constructor.bind(component, ...Array.from(arguments).slice(1)))();\r\n    }\r\n}\r\nexports.EntityBuilder = EntityBuilder;\r\n//# sourceMappingURL=entity-builder.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=entity-builder.spec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Entity = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\ntslib_1.__exportStar(require(\"./entity.spec\"), exports);\r\nclass Entity {\r\n    constructor() {\r\n        this.components = new Map();\r\n        this.tags = new Set();\r\n    }\r\n    addComponent(component) {\r\n        if (this.hasComponent(component.constructor)) {\r\n            throw new Error(`Component \"${component.constructor.name}\" already exists on entity!`);\r\n        }\r\n        this.components.set(component.constructor, component);\r\n        return this;\r\n    }\r\n    addTag(tag) {\r\n        this.tags.add(tag);\r\n        return this;\r\n    }\r\n    getComponent(component) {\r\n        return this.components.get(component);\r\n    }\r\n    getComponents() {\r\n        return this.components.values();\r\n    }\r\n    getTags() {\r\n        return this.tags.values();\r\n    }\r\n    hasComponent(component) {\r\n        return this.components.has(component);\r\n    }\r\n    hasTag(tag) {\r\n        return this.tags.has(tag);\r\n    }\r\n    removeComponent(component) {\r\n        this.components.delete(component.constructor);\r\n        return this;\r\n    }\r\n    removeTag(tag) {\r\n        this.tags.delete(tag);\r\n        return this;\r\n    }\r\n}\r\nexports.Entity = Entity;\r\n//# sourceMappingURL=entity.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=entity.spec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst tslib_1 = require(\"tslib\");\r\ntslib_1.__exportStar(require(\"./ecs\"), exports);\r\ntslib_1.__exportStar(require(\"./entity\"), exports);\r\ntslib_1.__exportStar(require(\"./entity-builder\"), exports);\r\ntslib_1.__exportStar(require(\"./query\"), exports);\r\ntslib_1.__exportStar(require(\"./serde/serde\"), exports);\r\ntslib_1.__exportStar(require(\"./serde/serial-format\"), exports);\r\ntslib_1.__exportStar(require(\"./state\"), exports);\r\ntslib_1.__exportStar(require(\"./system\"), exports);\r\ntslib_1.__exportStar(require(\"./world\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PushDownAutomaton = void 0;\r\nclass PushDownAutomaton {\r\n    get state() {\r\n        return this.currentState;\r\n    }\r\n    clear() {\r\n        this.currentState = undefined;\r\n        this.statesTail = undefined;\r\n    }\r\n    pop() {\r\n        var _a;\r\n        if (!this.statesTail)\r\n            return;\r\n        const oldTail = this.statesTail;\r\n        this.statesTail = this.statesTail.prevNode;\r\n        this.currentState = (_a = this.statesTail) === null || _a === void 0 ? void 0 : _a.state;\r\n        return oldTail.state;\r\n    }\r\n    push(State) {\r\n        this.currentState = new State();\r\n        this.statesTail = {\r\n            prevNode: this.statesTail,\r\n            state: this.currentState,\r\n        };\r\n    }\r\n}\r\nexports.PushDownAutomaton = PushDownAutomaton;\r\n//# sourceMappingURL=pda.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WithoutTag = exports.Without = exports.WithTag = exports.With = exports.Write = exports.Read = exports.ReadEntity = exports.Query = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\nconst query_spec_1 = require(\"./query.spec\");\r\nconst entity_1 = require(\"./entity\");\r\ntslib_1.__exportStar(require(\"./query.spec\"), exports);\r\n// todo: ReadEntity() should also work\r\nclass Query {\r\n    constructor(queryDescriptor) {\r\n        this.queryDescriptor = queryDescriptor;\r\n        this.queryResult = new Map();\r\n    }\r\n    get descriptor() {\r\n        return this.queryDescriptor;\r\n    }\r\n    [query_spec_1.addEntitySym](entity) {\r\n        if (this.matchesEntity(entity)) {\r\n            if (Array.isArray(this.queryDescriptor)) {\r\n                this.queryResult.set(entity, entity);\r\n            }\r\n            else {\r\n                this.queryResult.set(entity, this.getDataFromEntity(entity, this.queryDescriptor));\r\n            }\r\n        }\r\n    }\r\n    [query_spec_1.clearEntitiesSym]() {\r\n        this.queryResult.clear();\r\n    }\r\n    [query_spec_1.removeEntitySym](entity) {\r\n        this.queryResult.delete(entity);\r\n    }\r\n    [query_spec_1.setEntitiesSym](entities) {\r\n        let entity;\r\n        this.queryResult.clear();\r\n        for (entity of entities) {\r\n            this[query_spec_1.addEntitySym](entity);\r\n        }\r\n    }\r\n    execute(handler) {\r\n        let data;\r\n        for (data of this.queryResult.values()) {\r\n            handler(data);\r\n        }\r\n    }\r\n    getDataFromEntity(entity, descriptor) {\r\n        const components = {};\r\n        let componentDesc;\r\n        for (componentDesc of Object.entries(descriptor)) {\r\n            if (componentDesc[1][query_spec_1.accessDescSym].type == query_spec_1.EAccess.meta) {\r\n                if (componentDesc[1][query_spec_1.accessDescSym].targetType == query_spec_1.ETargetType.entity) {\r\n                    components[componentDesc[0]] = entity;\r\n                }\r\n            }\r\n            else {\r\n                components[componentDesc[0]] = entity.getComponent(componentDesc[1][query_spec_1.accessDescSym].target);\r\n            }\r\n        }\r\n        return components;\r\n    }\r\n    iter(world) {\r\n        if (world) {\r\n            const data = [];\r\n            // @ts-ignore todo: figure out why the type system errors `this`\r\n            const entities = world.getEntities(this);\r\n            let entity;\r\n            for (entity of entities) {\r\n                data.push(this.getDataFromEntity(entity, this.queryDescriptor));\r\n            }\r\n            return data.values();\r\n        }\r\n        else {\r\n            return this.queryResult.values();\r\n        }\r\n    }\r\n    matchesEntity(entity) {\r\n        if (Array.isArray(this.queryDescriptor)) {\r\n            let componentDesc;\r\n            for (componentDesc of this.queryDescriptor) {\r\n                if (componentDesc[query_spec_1.existenceDescSym].targetType == query_spec_1.ETargetType.tag\r\n                    && entity.hasTag(componentDesc[query_spec_1.existenceDescSym].target) != (componentDesc[query_spec_1.existenceDescSym].type == query_spec_1.EExistence.set)) {\r\n                    return false;\r\n                }\r\n                if (componentDesc[query_spec_1.existenceDescSym].targetType == query_spec_1.ETargetType.component\r\n                    && entity.hasComponent(componentDesc[query_spec_1.existenceDescSym].target) != (componentDesc[query_spec_1.existenceDescSym].type == query_spec_1.EExistence.set)) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let componentDesc;\r\n            for (componentDesc of Object.values(this.queryDescriptor)) {\r\n                if (componentDesc[query_spec_1.accessDescSym].targetType == query_spec_1.ETargetType.tag\r\n                    && !entity.hasTag(componentDesc[query_spec_1.accessDescSym].target)) {\r\n                    return false;\r\n                }\r\n                if (componentDesc[query_spec_1.accessDescSym].targetType == query_spec_1.ETargetType.component\r\n                    && !entity.hasComponent(componentDesc[query_spec_1.accessDescSym].target)) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\nexports.Query = Query;\r\nfunction ReadEntity() {\r\n    return Object.assign({}, entity_1.Entity, {\r\n        [query_spec_1.accessDescSym]: {\r\n            target: entity_1.Entity,\r\n            targetType: query_spec_1.ETargetType.entity,\r\n            type: query_spec_1.EAccess.meta,\r\n        },\r\n    });\r\n}\r\nexports.ReadEntity = ReadEntity;\r\nfunction Read(componentPrototype) {\r\n    return Object.assign({}, componentPrototype.prototype, {\r\n        [query_spec_1.accessDescSym]: {\r\n            target: componentPrototype,\r\n            targetType: query_spec_1.ETargetType.component,\r\n            type: query_spec_1.EAccess.read,\r\n        },\r\n    });\r\n}\r\nexports.Read = Read;\r\nfunction Write(componentPrototype) {\r\n    return Object.assign({}, componentPrototype.prototype, {\r\n        [query_spec_1.accessDescSym]: {\r\n            target: componentPrototype,\r\n            targetType: query_spec_1.ETargetType.component,\r\n            type: query_spec_1.EAccess.write,\r\n        },\r\n    });\r\n}\r\nexports.Write = Write;\r\nfunction With(componentPrototype) {\r\n    return {\r\n        [query_spec_1.existenceDescSym]: {\r\n            target: componentPrototype,\r\n            targetType: query_spec_1.ETargetType.component,\r\n            type: query_spec_1.EExistence.set,\r\n        }\r\n    };\r\n}\r\nexports.With = With;\r\nfunction WithTag(tag) {\r\n    return {\r\n        [query_spec_1.accessDescSym]: {\r\n            target: tag,\r\n            targetType: query_spec_1.ETargetType.tag,\r\n            type: query_spec_1.EAccess.meta,\r\n        },\r\n        [query_spec_1.existenceDescSym]: {\r\n            target: tag,\r\n            targetType: query_spec_1.ETargetType.tag,\r\n            type: query_spec_1.EExistence.set,\r\n        }\r\n    };\r\n}\r\nexports.WithTag = WithTag;\r\nfunction Without(componentPrototype) {\r\n    return {\r\n        [query_spec_1.existenceDescSym]: {\r\n            target: componentPrototype,\r\n            targetType: query_spec_1.ETargetType.component,\r\n            type: query_spec_1.EExistence.unset,\r\n        }\r\n    };\r\n}\r\nexports.Without = Without;\r\nfunction WithoutTag(tag) {\r\n    return {\r\n        [query_spec_1.existenceDescSym]: {\r\n            target: tag,\r\n            targetType: query_spec_1.ETargetType.tag,\r\n            type: query_spec_1.EExistence.unset,\r\n        }\r\n    };\r\n}\r\nexports.WithoutTag = WithoutTag;\r\n//# sourceMappingURL=query.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ETargetType = exports.EExistence = exports.EAccess = exports.existenceDescSym = exports.accessDescSym = exports.setEntitiesSym = exports.removeEntitySym = exports.clearEntitiesSym = exports.addEntitySym = void 0;\r\nexports.addEntitySym = Symbol();\r\nexports.clearEntitiesSym = Symbol();\r\nexports.removeEntitySym = Symbol();\r\nexports.setEntitiesSym = Symbol();\r\nexports.accessDescSym = Symbol();\r\nexports.existenceDescSym = Symbol();\r\nvar EAccess;\r\n(function (EAccess) {\r\n    EAccess[EAccess[\"meta\"] = 0] = \"meta\";\r\n    EAccess[EAccess[\"read\"] = 1] = \"read\";\r\n    EAccess[EAccess[\"write\"] = 2] = \"write\";\r\n})(EAccess = exports.EAccess || (exports.EAccess = {}));\r\nvar EExistence;\r\n(function (EExistence) {\r\n    EExistence[EExistence[\"set\"] = 0] = \"set\";\r\n    EExistence[EExistence[\"unset\"] = 1] = \"unset\";\r\n})(EExistence = exports.EExistence || (exports.EExistence = {}));\r\nvar ETargetType;\r\n(function (ETargetType) {\r\n    ETargetType[ETargetType[\"component\"] = 0] = \"component\";\r\n    ETargetType[ETargetType[\"entity\"] = 1] = \"entity\";\r\n    ETargetType[ETargetType[\"tag\"] = 2] = \"tag\";\r\n})(ETargetType = exports.ETargetType || (exports.ETargetType = {}));\r\n/*\r\nexport interface IQuery<D extends IAccessQueryResult<Object> | TExistenceQueryResult> {\r\n    iter(): IterableIterator<D extends Array<infer T> ? IEntity : { [P in keyof D]: Required<Omit<InstanceType<D[P]>, keyof IAccessDescriptor<Object>>> }>\r\n    matchesEntity(entity: IEntity): boolean\r\n}\r\n\r\nexport type TQueryProto<D extends IAccessQueryResult<Object> | TExistenceQueryResult> = { new(): IQuery<D> };\r\n*/ \r\n//# sourceMappingURL=query.spec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getDefaultDeserializer = exports.getDefaultSerializer = void 0;\r\nconst getDefaultSerializer = function (customSerializer) {\r\n    return (component) => {\r\n        let componentName = typeof component;\r\n        switch (typeof component) {\r\n            case 'number': {\r\n                return component;\r\n            }\r\n            case 'object': {\r\n                if (component == null) {\r\n                    return 'null';\r\n                }\r\n                componentName = component.constructor.name;\r\n                switch (component.constructor.name) {\r\n                    case 'Date':\r\n                        return component.getTime();\r\n                    case 'Array':\r\n                    case 'Object':\r\n                        return JSON.stringify(component.toString());\r\n                    case 'Map':\r\n                    case 'Set':\r\n                        return JSON.stringify(Array.from(component));\r\n                    case 'Number':\r\n                        return component;\r\n                }\r\n                break;\r\n            }\r\n            case \"string\": {\r\n                return JSON.stringify(component);\r\n            }\r\n        }\r\n        if (!customSerializer) {\r\n            throw new Error(`Missing serializer for \"${componentName}\"!`);\r\n        }\r\n        return customSerializer(component);\r\n    };\r\n};\r\nexports.getDefaultSerializer = getDefaultSerializer;\r\nconst getDefaultDeserializer = function (customDeserializer) {\r\n    return (constructorName, data) => {\r\n        switch (constructorName.toLowerCase()) {\r\n            case 'array': {\r\n                if (!Array.isArray(data)) {\r\n                    throw new Error(`Cannot deserialize Array with data of type ${typeof data}! Array expected!`);\r\n                }\r\n                return data;\r\n            }\r\n            case 'date': {\r\n                if (typeof data != 'number') {\r\n                    throw new Error(`Cannot deserialize Date with data of type ${typeof data}! Number expected!`);\r\n                }\r\n                return new Date(data);\r\n            }\r\n            case 'map': {\r\n                if (!Array.isArray(data)) {\r\n                    throw new Error(`Cannot deserialize Map with data of type ${typeof data}! Array of arrays expected!`);\r\n                }\r\n                return new Map(data);\r\n            }\r\n            case 'number': {\r\n                if (typeof data != 'number') {\r\n                    throw new Error(`Cannot deserialize Number with data of type ${typeof data}! Number expected!`);\r\n                }\r\n                return data;\r\n            }\r\n            case 'object': {\r\n                if (typeof data != 'object') {\r\n                    throw new Error(`Cannot deserialize Object with data of type ${typeof data}! Object expected!`);\r\n                }\r\n                return data;\r\n            }\r\n            case 'set': {\r\n                if (!Array.isArray(data)) {\r\n                    throw new Error(`Cannot deserialize Set with data of type ${typeof data}! Array expected!`);\r\n                }\r\n                return new Set(data);\r\n            }\r\n            case 'string': {\r\n                if (typeof data != 'string') {\r\n                    throw new Error(`Cannot deserialize String with data of type ${typeof data}! String expected!`);\r\n                }\r\n                return data;\r\n            }\r\n        }\r\n        if (!customDeserializer) {\r\n            throw new Error(`Missing deserializer for \"${constructorName}\"!`);\r\n        }\r\n        return customDeserializer(constructorName, data);\r\n    };\r\n};\r\nexports.getDefaultDeserializer = getDefaultDeserializer;\r\n//# sourceMappingURL=default-handlers.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SerDe = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\nconst serde_spec_1 = require(\"./serde.spec\");\r\nconst serial_format_1 = require(\"./serial-format\");\r\nconst default_handlers_1 = require(\"./default-handlers\");\r\nconst entity_1 = require(\"../entity\");\r\ntslib_1.__exportStar(require(\"./serde.spec\"), exports);\r\nclass SerDe {\r\n    constructor() {\r\n        this.typeHandlers = new Map();\r\n    }\r\n    deserialize(data, options) {\r\n        var _a, _b;\r\n        const finalOptions = {\r\n            useDefaultHandler: (_a = options === null || options === void 0 ? void 0 : options.useDefaultHandler) !== null && _a !== void 0 ? _a : true,\r\n            useRegisteredHandlers: (_b = options === null || options === void 0 ? void 0 : options.useRegisteredHandlers) !== null && _b !== void 0 ? _b : true,\r\n            fallbackHandler: options === null || options === void 0 ? void 0 : options.fallbackHandler,\r\n        };\r\n        const entities = [];\r\n        let entity;\r\n        let serialComponentData;\r\n        let serialComponentName;\r\n        let serialEntity;\r\n        let tag;\r\n        for (serialEntity of data) {\r\n            entity = new entity_1.Entity();\r\n            for ([serialComponentName, serialComponentData] of Object.entries(serialEntity)) {\r\n                if (finalOptions.useRegisteredHandlers && this.typeHandlers.has(serialComponentName)) {\r\n                    entity.addComponent(this.typeHandlers.get(serialComponentName).deserializer(serialComponentData));\r\n                }\r\n                else if (serialComponentName == serde_spec_1.CTagMarker) {\r\n                    if (!Array.isArray(serialComponentData)) {\r\n                        throw new Error('Expected array of tags for the hash identifier!');\r\n                    }\r\n                    for (tag of serialComponentData) {\r\n                        if (!['string', 'number'].includes(typeof tag)) {\r\n                            throw new Error('Tags must be of type string or number!');\r\n                        }\r\n                        entity.addTag(tag);\r\n                    }\r\n                }\r\n                else if (finalOptions.useDefaultHandler) {\r\n                    entity.addComponent(default_handlers_1.getDefaultDeserializer(finalOptions.fallbackHandler)(serialComponentName, serialComponentData));\r\n                }\r\n            }\r\n            entities.push(entity);\r\n        }\r\n        return {\r\n            entities: entities.values(),\r\n        };\r\n    }\r\n    getRegisteredTypeHandlers() {\r\n        return this.typeHandlers.entries();\r\n    }\r\n    registerTypeHandler(Type, deserializer, serializer) {\r\n        if (this.typeHandlers.has(Type.name)) {\r\n            throw new Error(`The type \"${Type.name}\" was already registered!`);\r\n        }\r\n        this.typeHandlers.set(Type.name, {\r\n            deserializer,\r\n            serializer,\r\n        });\r\n    }\r\n    serialize(data, options) {\r\n        var _a, _b;\r\n        const finalOptions = {\r\n            useDefaultHandler: (_a = options === null || options === void 0 ? void 0 : options.useDefaultHandler) !== null && _a !== void 0 ? _a : true,\r\n            useRegisteredHandlers: (_b = options === null || options === void 0 ? void 0 : options.useRegisteredHandlers) !== null && _b !== void 0 ? _b : true,\r\n            fallbackHandler: options === null || options === void 0 ? void 0 : options.fallbackHandler,\r\n        };\r\n        const outData = new serial_format_1.SerialFormat();\r\n        let component;\r\n        let entity;\r\n        let serialData;\r\n        let serialEntity;\r\n        let tags;\r\n        for (entity of data.entities) {\r\n            serialEntity = {};\r\n            for (component of entity.getComponents()) {\r\n                if (finalOptions.useRegisteredHandlers && this.typeHandlers.has(component.constructor.name)) {\r\n                    serialData = this.typeHandlers.get(component.constructor.name).serializer(component);\r\n                }\r\n                else if (finalOptions.useDefaultHandler) {\r\n                    serialData = default_handlers_1.getDefaultSerializer(finalOptions.fallbackHandler)(component);\r\n                }\r\n                serialEntity[component.constructor.name] = serialData;\r\n                serialData = undefined;\r\n            }\r\n            {\r\n                tags = Array.from(entity.getTags());\r\n                if (tags.length > 0) {\r\n                    serialEntity[serde_spec_1.CTagMarker] = tags;\r\n                }\r\n            }\r\n            outData.push(serialEntity);\r\n        }\r\n        return outData;\r\n    }\r\n}\r\nexports.SerDe = SerDe;\r\n//# sourceMappingURL=serde.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CTagMarker = void 0;\r\nexports.CTagMarker = '#Tags';\r\n//# sourceMappingURL=serde.spec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SerialFormat = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\ntslib_1.__exportStar(require(\"./serial-format.spec\"), exports);\r\nclass SerialFormat extends Array {\r\n    static fromArray(arr) {\r\n        return new SerialFormat().fromArray(arr);\r\n    }\r\n    static fromJSON(json) {\r\n        return new SerialFormat().fromJSON(json);\r\n    }\r\n    fromArray(arr) {\r\n        Object.assign(this, arr);\r\n        return this;\r\n    }\r\n    fromJSON(json) {\r\n        this.length = 0;\r\n        const newVals = JSON.parse(json);\r\n        if (!Array.isArray(newVals)) {\r\n            throw new Error('Input JSON must be an array!');\r\n        }\r\n        for (const entity of newVals) {\r\n            this.push(entity);\r\n        }\r\n        return this;\r\n    }\r\n    toJSON(indentation) {\r\n        return JSON.stringify(Array.from(this), undefined, indentation);\r\n    }\r\n}\r\nexports.SerialFormat = SerialFormat;\r\n//# sourceMappingURL=serial-format.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=serial-format.spec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.State = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\ntslib_1.__exportStar(require(\"./state.spec\"), exports);\r\nclass State {\r\n    constructor(_systems = []) {\r\n        this._systems = _systems;\r\n    }\r\n    get systems() {\r\n        return this._systems;\r\n    }\r\n    activate(actions) { }\r\n    create(actions) { }\r\n    deactivate(actions) { }\r\n    destroy(actions) { }\r\n}\r\nexports.State = State;\r\n//# sourceMappingURL=state.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=state.spec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.System = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\ntslib_1.__exportStar(require(\"./system.spec\"), exports);\r\nclass System {\r\n    destroy(actions) { }\r\n    setup(actions) { }\r\n}\r\nexports.System = System;\r\n//# sourceMappingURL=system.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=system.spec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports._ = exports.WorldBuilder = void 0;\r\nconst world_1 = require(\"./world\");\r\nconst serde_1 = require(\"./serde/serde\");\r\nclass WorldBuilder {\r\n    constructor(ecs) {\r\n        this.ecs = ecs;\r\n        this.callbacks = new Set();\r\n        this.serde = new serde_1.SerDe();\r\n        this.systemInfos = new Map();\r\n    }\r\n    addCallback(cb) {\r\n        this.callbacks.add(cb);\r\n        return this;\r\n    }\r\n    build() {\r\n        const world = new world_1.World(this.ecs, new Set(this.systemInfos.values()), this.serde);\r\n        for (const cb of this.callbacks) {\r\n            cb(world);\r\n        }\r\n        return world;\r\n    }\r\n    withSystem(System, dependencies) {\r\n        if (this.systemInfos.has(System)) {\r\n            throw new Error(`The system ${System.constructor.name} is already registered!`);\r\n        }\r\n        this.systemInfos.set(System, {\r\n            system: new System(),\r\n            dependencies: new Set(dependencies),\r\n        });\r\n        return this;\r\n    }\r\n    withComponent(Component, options) {\r\n        var _a, _b, _c, _d;\r\n        this.serde.registerTypeHandler(Component, (_b = (_a = options === null || options === void 0 ? void 0 : options.serDe) === null || _a === void 0 ? void 0 : _a.deserializer) !== null && _b !== void 0 ? _b : dataStructDeserializer.bind(undefined, Component), (_d = (_c = options === null || options === void 0 ? void 0 : options.serDe) === null || _c === void 0 ? void 0 : _c.serializer) !== null && _d !== void 0 ? _d : dataStructSerializer);\r\n        return this;\r\n    }\r\n    withComponents(...Components) {\r\n        for (const Component of Components) {\r\n            this.withComponent(Component);\r\n        }\r\n        return this;\r\n    }\r\n}\r\nexports.WorldBuilder = WorldBuilder;\r\n// todo: read the Constructor parameters in order to throw early if a field is missing\r\nfunction dataStructDeserializer(Constructor, data) {\r\n    if (typeof data != 'object') {\r\n        throw new Error(`Cannot default-deserialize ${Constructor.name}, because the data is of type ${typeof data}!`);\r\n    }\r\n    const obj = new Constructor();\r\n    for (const kv of Object.entries(data)) {\r\n        obj[kv[0]] = kv[1];\r\n    }\r\n    return obj;\r\n}\r\nfunction dataStructSerializer(component) {\r\n    return component;\r\n}\r\nexports._ = {\r\n    dataStructDeserializer,\r\n    dataStructSerializer,\r\n};\r\n//# sourceMappingURL=world-builder.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.World = void 0;\r\nconst tslib_1 = require(\"tslib\");\r\nconst entity_1 = require(\"./entity\");\r\nconst entity_builder_1 = require(\"./entity-builder\");\r\nconst state_1 = require(\"./state\");\r\nconst pda_1 = require(\"./pda\");\r\nconst serde_1 = require(\"./serde/serde\");\r\nconst commands_1 = require(\"./commands/commands\");\r\nconst commands_aggregator_1 = require(\"./commands/commands-aggregator\");\r\nconst query_1 = require(\"./query\");\r\ntslib_1.__exportStar(require(\"./world.spec\"), exports);\r\nclass World {\r\n    constructor(ecs, systemInfos = new Set(), _serde = new serde_1.SerDe()) {\r\n        this.ecs = ecs;\r\n        this.systemInfos = systemInfos;\r\n        this._serde = _serde;\r\n        this._dirty = false;\r\n        this.entities = new Set();\r\n        this.pda = new pda_1.PushDownAutomaton();\r\n        this.groups = {\r\n            nextHandle: 0,\r\n            entityLinks: new Map(),\r\n        };\r\n        this.queries = [];\r\n        this.resources = new Map();\r\n        this.runExecutionPipeline = [];\r\n        this.runExecutionPipelineCache = new Map();\r\n        this.runPromise = undefined;\r\n        this.shouldRunSystems = false;\r\n        const self = this;\r\n        this._commandsAggregator = new commands_aggregator_1.CommandsAggregator(this);\r\n        this._commands = new commands_1.Commands(this, this._commandsAggregator);\r\n        this.systemWorld = Object.freeze({\r\n            get commands() {\r\n                return self._commands;\r\n            },\r\n            get currentState() {\r\n                return self.pda.state;\r\n            },\r\n            getEntities: this.getEntities.bind(this),\r\n            getResource: this.getResource.bind(this),\r\n        });\r\n        this.transitionWorld = Object.freeze({\r\n            get commands() {\r\n                return self._commands;\r\n            },\r\n            get currentState() {\r\n                return self.pda.state;\r\n            },\r\n            get serde() {\r\n                return self.serde;\r\n            },\r\n            buildEntity: this.buildEntity.bind(this),\r\n            flushCommands: this.flushCommands.bind(this),\r\n            getEntities: this.getEntities.bind(this),\r\n            getResource: this.getResource.bind(this),\r\n            getResources: this.getResources.bind(this),\r\n            maintain: this.maintain.bind(this),\r\n            save: this.save.bind(this),\r\n        });\r\n        this.sortedSystems = this.sortSystems(this.systemInfos);\r\n        for (const systemInfo of this.systemInfos) {\r\n            if (systemInfo.system.query) {\r\n                this.queries.push(systemInfo.system.query);\r\n            }\r\n        }\r\n    }\r\n    get commands() {\r\n        return this._commands;\r\n    }\r\n    get dirty() {\r\n        return this._dirty;\r\n    }\r\n    get running() {\r\n        return this.shouldRunSystems;\r\n    }\r\n    get serde() {\r\n        return this._serde;\r\n    }\r\n    addEntity(entity) {\r\n        if (!this.entities.has(entity)) {\r\n            this.entities.add(entity);\r\n            this._dirty = true;\r\n        }\r\n    }\r\n    addResource(obj, ...args) {\r\n        let type;\r\n        let instance;\r\n        if (typeof obj === 'object') {\r\n            type = obj.constructor;\r\n            instance = obj;\r\n        }\r\n        else {\r\n            type = obj;\r\n            instance = new (obj.prototype.constructor.bind(obj, ...Array.from(arguments).slice(1)))();\r\n        }\r\n        if (this.resources.has(type)) {\r\n            throw new Error(`Resource with name \"${type.name}\" already exists!`);\r\n        }\r\n        this.resources.set(type, instance);\r\n        return instance;\r\n    }\r\n    buildEntity() {\r\n        return new entity_builder_1.EntityBuilder();\r\n    }\r\n    clearEntities() {\r\n        this.entities.clear();\r\n    }\r\n    createEntity() {\r\n        const entity = new entity_1.Entity();\r\n        this.entities.add(entity);\r\n        this._dirty = true;\r\n        return entity;\r\n    }\r\n    async dispatch(state) {\r\n        await this.run({\r\n            initialState: state,\r\n            afterStepHandler: actions => actions.commands.stopRun(),\r\n        });\r\n    }\r\n    flushCommands() {\r\n        return this._commandsAggregator.executeAll();\r\n    }\r\n    getEntities(query) {\r\n        if (!query) {\r\n            return this.entities.keys();\r\n        }\r\n        const resultEntities = new Set();\r\n        let entity;\r\n        for (entity of this.entities.keys()) {\r\n            if (query.matchesEntity(entity)) {\r\n                resultEntities.add(entity);\r\n            }\r\n        }\r\n        return resultEntities.values();\r\n    }\r\n    getResource(type) {\r\n        if (!this.resources.has(type)) {\r\n            throw new Error(`Resource of type \"${type.name}\" does not exist!`);\r\n        }\r\n        return this.resources.get(type);\r\n    }\r\n    getResources() {\r\n        return this.resources.values();\r\n    }\r\n    load(prefab, options, intoGroup) {\r\n        const entities = [];\r\n        const groupHandle = intoGroup !== null && intoGroup !== void 0 ? intoGroup : this.groups.nextHandle++;\r\n        let entity;\r\n        for (entity of this._serde.deserialize(prefab, options).entities) {\r\n            this.addEntity(entity);\r\n            entities.push(entity);\r\n        }\r\n        this.groups.entityLinks.set(groupHandle, entities);\r\n        return groupHandle;\r\n    }\r\n    // todo: add parameter which only maintains for a specific state\r\n    // todo: maybe use a change-log to only maintain real changes instead of everything\r\n    maintain() {\r\n        let query;\r\n        for (query of this.queries) {\r\n            query[query_1.setEntitiesSym](this.entities.values());\r\n        }\r\n        this._dirty = false;\r\n    }\r\n    merge(elsewhere, intoGroup) {\r\n        const groupHandle = intoGroup !== null && intoGroup !== void 0 ? intoGroup : this.groups.nextHandle++;\r\n        const entities = [];\r\n        let entity;\r\n        for (entity of elsewhere.getEntities()) {\r\n            this.addEntity(entity);\r\n            entities.push(entity);\r\n        }\r\n        return [groupHandle, entities];\r\n    }\r\n    async popState() {\r\n        var _a, _b;\r\n        await ((_a = this.pda.pop()) === null || _a === void 0 ? void 0 : _a.deactivate(this.transitionWorld));\r\n        const newState = this.pda.state;\r\n        if (!newState) {\r\n            this.runExecutionPipeline = [];\r\n            return;\r\n        }\r\n        await newState.activate(this.transitionWorld);\r\n        this.runExecutionPipeline = (_b = this.runExecutionPipelineCache.get(newState.constructor)) !== null && _b !== void 0 ? _b : [];\r\n    }\r\n    // todo: improve logic which sets up the groups (tracked by #13)\r\n    prepareExecutionPipeline(state) {\r\n        // todo: this could be further optimized by allowing systems with dependencies to run in parallel\r\n        //    if all of their dependencies already ran\r\n        // todo: also, if two systems depend on the same components, they may run in parallel\r\n        //    if they only require READ access\r\n        const result = [];\r\n        const stateSystems = state.systems;\r\n        let executionGroup = new Set();\r\n        let shouldRunSystem;\r\n        let systemInfo;\r\n        if (this.sortedSystems.size == 0) {\r\n            this.sortSystems(this.systemInfos);\r\n        }\r\n        for (systemInfo of this.sortedSystems) {\r\n            shouldRunSystem = !!stateSystems.find(stateSys => stateSys.prototype.constructor.name === systemInfo.system.constructor.name);\r\n            if (shouldRunSystem) {\r\n                if (systemInfo.dependencies.size > 0) {\r\n                    result.push(executionGroup);\r\n                    executionGroup = new Set();\r\n                }\r\n                executionGroup.add(systemInfo.system);\r\n            }\r\n        }\r\n        result.push(executionGroup);\r\n        return result;\r\n    }\r\n    async pushState(NewState) {\r\n        var _a, _b;\r\n        await ((_a = this.pda.state) === null || _a === void 0 ? void 0 : _a.deactivate(this.transitionWorld));\r\n        this.pda.push(NewState);\r\n        const newState = this.pda.state;\r\n        const registeredSystemNames = Array.from(this.systemInfos).map(nfo => nfo.system.constructor.name);\r\n        for (const system of newState.systems) {\r\n            if (!registeredSystemNames.includes(system.name)) {\r\n                // cannot infer dependencies, so we have to throw :/\r\n                throw new Error(`Did you forget to register System ${system.name}?`);\r\n            }\r\n        }\r\n        if (this.runExecutionPipelineCache.has(NewState)) {\r\n            this.runExecutionPipeline = (_b = this.runExecutionPipelineCache.get(NewState)) !== null && _b !== void 0 ? _b : [];\r\n        }\r\n        else {\r\n            newState.create(this.transitionWorld);\r\n            this.runExecutionPipeline = this.prepareExecutionPipeline(newState);\r\n            this.runExecutionPipelineCache.set(NewState, this.runExecutionPipeline);\r\n        }\r\n        await newState.activate(this.transitionWorld);\r\n    }\r\n    async prepareRun(configuration) {\r\n        var _a, _b, _c;\r\n        if (this.runPromise) {\r\n            throw new Error('The dispatch loop is already running!');\r\n        }\r\n        if (this._dirty) {\r\n            this.maintain();\r\n        }\r\n        configuration || (configuration = {});\r\n        const initialState = configuration.initialState\r\n            ? configuration.initialState\r\n            : state_1.State.bind(undefined, Array.from(this.systemInfos.values()).map(systemInfo => systemInfo.system.constructor));\r\n        const runConfig = {\r\n            afterStepHandler: (_a = configuration.afterStepHandler) !== null && _a !== void 0 ? _a : (_action => { }),\r\n            beforeStepHandler: (_b = configuration.beforeStepHandler) !== null && _b !== void 0 ? _b : (_action => { }),\r\n            executionFunction: (_c = configuration.executionFunction) !== null && _c !== void 0 ? _c : (typeof requestAnimationFrame == 'function'\r\n                ? requestAnimationFrame\r\n                : setTimeout),\r\n            initialState,\r\n        };\r\n        this.pda.clear();\r\n        this.shouldRunSystems = true;\r\n        for (const systemInfo of this.systemInfos) {\r\n            await systemInfo.system.setup(this.systemWorld);\r\n        }\r\n        await this.pushState(initialState);\r\n        this.runExecutionPipeline = this.prepareExecutionPipeline(this.pda.state);\r\n        this.lastRunPreparation = runConfig;\r\n        return runConfig;\r\n    }\r\n    removeEntity(entity) {\r\n        this.entities.delete(entity);\r\n        this._dirty = true;\r\n    }\r\n    removeEntityFromSystems(entity) {\r\n        this.removeEntity(entity);\r\n        this.maintain();\r\n    }\r\n    replaceEntitiesWith(world) {\r\n        this.clearEntities();\r\n        this.merge(world);\r\n    }\r\n    replaceResource(obj, ...args) {\r\n        let type;\r\n        if (typeof obj === 'object') {\r\n            type = obj.constructor;\r\n        }\r\n        else {\r\n            type = obj;\r\n        }\r\n        if (!this.resources.has(type)) {\r\n            throw new Error(`Resource with name \"${type.name}\" does not exists!`);\r\n        }\r\n        this.resources.delete(type);\r\n        this.addResource(obj, ...args);\r\n    }\r\n    removeResource(type) {\r\n        if (!this.resources.has(type)) {\r\n            throw new Error(`Resource with name \"${type.name}\" does not exists!`);\r\n        }\r\n        this.resources.delete(type);\r\n    }\r\n    run(configuration, skipPreparation = false) {\r\n        const runPromise = new Promise(async (resolver) => {\r\n            let preparedConfig;\r\n            await this._commandsAggregator.executeAll();\r\n            if (!skipPreparation) {\r\n                preparedConfig = await this.prepareRun(configuration);\r\n            }\r\n            else {\r\n                preparedConfig = this.lastRunPreparation;\r\n            }\r\n            if (!preparedConfig) {\r\n                throw new Error('Cannot run without preparing the run!');\r\n            }\r\n            this.runPromise = runPromise;\r\n            const afterStepHandler = preparedConfig.afterStepHandler;\r\n            const beforeStepHandler = preparedConfig.beforeStepHandler;\r\n            const execFn = preparedConfig.executionFunction;\r\n            let systemPromises;\r\n            const cleanUp = async () => {\r\n                var _a;\r\n                await ((_a = this.pda.state) === null || _a === void 0 ? void 0 : _a.deactivate(this.transitionWorld));\r\n                for (let state = this.pda.pop(); !!state; state = this.pda.pop()) {\r\n                    await state.destroy(this.transitionWorld);\r\n                }\r\n                for (const systemInfo of this.systemInfos) {\r\n                    await systemInfo.system.destroy(this.systemWorld);\r\n                }\r\n                this.runExecutionPipelineCache.clear();\r\n                this.runPromise = undefined;\r\n                resolver();\r\n            };\r\n            const mainLoop = async () => {\r\n                if (!this.shouldRunSystems) {\r\n                    await cleanUp();\r\n                    return;\r\n                }\r\n                await beforeStepHandler(this.transitionWorld);\r\n                {\r\n                    let executionGroup;\r\n                    let system;\r\n                    for (executionGroup of this.runExecutionPipeline) {\r\n                        systemPromises = [];\r\n                        for (system of executionGroup) {\r\n                            systemPromises.push(system.run(this.systemWorld));\r\n                        }\r\n                        await Promise.all(systemPromises);\r\n                    }\r\n                }\r\n                await afterStepHandler(this.transitionWorld);\r\n                await this._commandsAggregator.executeAll();\r\n                execFn(mainLoop);\r\n            };\r\n            execFn(mainLoop);\r\n        });\r\n        return runPromise;\r\n    }\r\n    sortSystems(unsorted) {\r\n        const unsortedArr = Array.from(unsorted);\r\n        const graph = new Map(unsortedArr.map(node => [node.system.constructor, Array.from(node.dependencies)]));\r\n        let edges;\r\n        /// toposort with Kahn\r\n        /// https://en.wikipedia.org/wiki/Topological_sorting#Kahn's_algorithm\r\n        const L = []; // Empty list that will contain the sorted elements\r\n        const S = Array.from(graph.entries()).filter(pair => pair[1].length === 0).map(pair => pair[0]); // Set of all nodes with no incoming edge\r\n        let n;\r\n        // while S is non-empty do\r\n        while (S.length > 0) {\r\n            // remove a node n from S\r\n            n = S.shift();\r\n            // add n to tail of L\r\n            L.push(n);\r\n            // for each node m with an edge e from n to m do\r\n            for (let m of Array.from(graph.entries()).filter(pair => pair[1].includes(n)).map(pair => pair[0])) {\r\n                // remove edge e from the graph\r\n                edges = graph.get(m);\r\n                edges.splice(edges.indexOf(n), 1);\r\n                // if m has no other incoming edges then\r\n                if (edges.length <= 0) {\r\n                    // insert m into S\r\n                    S.push(m);\r\n                }\r\n            }\r\n        }\r\n        if (Array.from(graph.values()).find(n => n.length > 0)) {\r\n            throw new Error('The system dependency graph is cyclic!');\r\n        }\r\n        let obj;\r\n        return new Set(L.map(t => {\r\n            obj = unsortedArr.find(n => n.system.constructor == t);\r\n            if (!obj) {\r\n                throw new Error(`The system ${t.name} was not registered!`);\r\n            }\r\n            return obj;\r\n        }));\r\n    }\r\n    stopRun() {\r\n        this.shouldRunSystems = false;\r\n    }\r\n    save(query, options) {\r\n        return this.serde.serialize({ entities: this.getEntities(query) }, options);\r\n    }\r\n    unloadPrefab(handle) {\r\n        if (!this.groups.entityLinks.has(handle)) {\r\n            throw new Error(`Could not find any loaded prefab under handle \"${handle}\"!`);\r\n        }\r\n        let entity;\r\n        for (entity of this.groups.entityLinks.get(handle)) {\r\n            this.removeEntity(entity);\r\n        }\r\n        this.groups.entityLinks.delete(handle);\r\n    }\r\n}\r\nexports.World = World;\r\n//# sourceMappingURL=world.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=world.spec.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","/**\n * @param {Parameters<import('box2d-wasm')>} args\n * @return {ReturnType<import('box2d-wasm')>}\n */\nexport default async (...args) => {\n  /**\n   * This validation expression comes from wasm-feature-detect:\n   * https://github.com/GoogleChromeLabs/wasm-feature-detect\n   * \n   * Copyright 2019 Google Inc. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n  const hasSIMD = WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));\n  /** @type {{ 'default': import('box2d-wasm') }} */\n  const Box2DModule = await (\n    hasSIMD\n      ? import('./Box2D.simd.js')\n      : import('./Box2D.js')\n  );\n  const { 'default': Box2DFactory } = Box2DModule;\n  // awaiting gives us a better stack trace (at the cost of an extra microtask)\n  return await Box2DFactory(...args);\n};","// Key code constants\r\n// Available values for `KeyboardEvent.keyCode` attribute.\r\nvar KEY_CANCEL = 3;\r\nvar KEY_HELP = 6;\r\nvar KEY_BACK_SPACE = 8;\r\nvar KEY_TAB = 9;\r\nvar KEY_CLEAR = 12;\r\nvar KEY_RETURN = 13;\r\nvar KEY_SHIFT = 16;\r\nvar KEY_CONTROL = 17;\r\nvar KEY_ALT = 18;\r\nvar KEY_PAUSE = 19;\r\nvar KEY_CAPS_LOCK = 20;\r\nvar KEY_ESCAPE = 27;\r\nvar KEY_SPACE = 32;\r\nvar KEY_PAGE_UP = 33;\r\nvar KEY_PAGE_DOWN = 34;\r\nvar KEY_END = 35;\r\nvar KEY_HOME = 36;\r\nvar KEY_LEFT = 37;\r\nvar KEY_UP = 38;\r\nvar KEY_RIGHT = 39;\r\nvar KEY_DOWN = 40;\r\nvar KEY_PRINTSCREEN = 44;\r\nvar KEY_INSERT = 45;\r\nvar KEY_DELETE = 46;\r\nvar KEY_0 = 48;\r\nvar KEY_1 = 49;\r\nvar KEY_2 = 50;\r\nvar KEY_3 = 51;\r\nvar KEY_4 = 52;\r\nvar KEY_5 = 53;\r\nvar KEY_6 = 54;\r\nvar KEY_7 = 55;\r\nvar KEY_8 = 56;\r\nvar KEY_9 = 57;\r\nvar KEY_A = 65;\r\nvar KEY_B = 66;\r\nvar KEY_C = 67;\r\nvar KEY_D = 68;\r\nvar KEY_E = 69;\r\nvar KEY_F = 70;\r\nvar KEY_G = 71;\r\nvar KEY_H = 72;\r\nvar KEY_I = 73;\r\nvar KEY_J = 74;\r\nvar KEY_K = 75;\r\nvar KEY_L = 76;\r\nvar KEY_M = 77;\r\nvar KEY_N = 78;\r\nvar KEY_O = 79;\r\nvar KEY_P = 80;\r\nvar KEY_Q = 81;\r\nvar KEY_R = 82;\r\nvar KEY_S = 83;\r\nvar KEY_T = 84;\r\nvar KEY_U = 85;\r\nvar KEY_V = 86;\r\nvar KEY_W = 87;\r\nvar KEY_X = 88;\r\nvar KEY_Y = 89;\r\nvar KEY_Z = 90;\r\nvar KEY_LEFT_CMD = 91;\r\nvar KEY_RIGHT_CMD = 92;\r\nvar KEY_CONTEXT_MENU = 93;\r\nvar KEY_NUMPAD0 = 96;\r\nvar KEY_NUMPAD1 = 97;\r\nvar KEY_NUMPAD2 = 98;\r\nvar KEY_NUMPAD3 = 99;\r\nvar KEY_NUMPAD4 = 100;\r\nvar KEY_NUMPAD5 = 101;\r\nvar KEY_NUMPAD6 = 102;\r\nvar KEY_NUMPAD7 = 103;\r\nvar KEY_NUMPAD8 = 104;\r\nvar KEY_NUMPAD9 = 105;\r\nvar KEY_MULTIPLY = 106;\r\nvar KEY_ADD = 107;\r\nvar KEY_SUBTRACT = 109;\r\nvar KEY_DECIMAL = 110;\r\nvar KEY_DIVIDE = 111;\r\nvar KEY_F1 = 112;\r\nvar KEY_F2 = 113;\r\nvar KEY_F3 = 114;\r\nvar KEY_F4 = 115;\r\nvar KEY_F5 = 116;\r\nvar KEY_F6 = 117;\r\nvar KEY_F7 = 118;\r\nvar KEY_F8 = 119;\r\nvar KEY_F9 = 120;\r\nvar KEY_F10 = 121;\r\nvar KEY_F11 = 122;\r\nvar KEY_F12 = 123;\r\nvar KEY_F13 = 124;\r\nvar KEY_F14 = 125;\r\nvar KEY_F15 = 126;\r\nvar KEY_F16 = 127;\r\nvar KEY_F17 = 128;\r\nvar KEY_F18 = 129;\r\nvar KEY_F19 = 130;\r\nvar KEY_F20 = 131;\r\nvar KEY_F21 = 132;\r\nvar KEY_F22 = 133;\r\nvar KEY_F23 = 134;\r\nvar KEY_F24 = 135;\r\nvar KEY_NUM_LOCK = 144;\r\nvar KEY_SCROLL_LOCK = 145;\r\nvar KEY_SEMICOLON = 186;\r\nvar KEY_EQUALS = 187;\r\nvar KEY_COMMA = 188;\r\nvar KEY_DASH = 189;\r\nvar KEY_PERIOD = 190;\r\nvar KEY_SLASH = 191;\r\nvar KEY_BACK_QUOTE = 192;\r\nvar KEY_OPEN_BRACKET = 219;\r\nvar KEY_BACK_SLASH = 220;\r\nvar KEY_CLOSE_BRACKET = 221;\r\nvar KEY_QUOTE = 222;\r\n// Key code constants specific to firefox only.\r\nvar KEY_FIREFOX_ENTER = 14;\r\nvar KEY_FIREFOX_SEMICOLON = 59;\r\nvar KEY_FIREFOX_EQUALS = 61;\r\nvar KEY_FIREFOX_SEPARATOR = 108;\r\nvar KEY_FIREFOX_META = 224;\r\n// Key values constants\r\n// Available values for `KeyboardEvent.key` attribute.\r\nvar VALUE_CANCEL = 'Cancel';\r\nvar VALUE_HELP = 'Help';\r\nvar VALUE_BACK_SPACE = 'Backspace';\r\nvar VALUE_TAB = 'Tab';\r\nvar VALUE_CLEAR = 'Clear';\r\nvar VALUE_ENTER = 'Enter';\r\nvar VALUE_RETURN = 'Enter';\r\nvar VALUE_SHIFT = 'Shift';\r\nvar VALUE_CONTROL = 'Control';\r\nvar VALUE_ALT = 'Alt';\r\nvar VALUE_PAUSE = 'Pause';\r\nvar VALUE_CAPS_LOCK = 'CapsLock';\r\nvar VALUE_ESCAPE = 'Escape';\r\nvar VALUE_SPACE = ' ';\r\nvar VALUE_PAGE_UP = 'PageUp';\r\nvar VALUE_PAGE_DOWN = 'PageDown';\r\nvar VALUE_END = 'End';\r\nvar VALUE_HOME = 'Home';\r\nvar VALUE_LEFT = 'ArrowLeft';\r\nvar VALUE_UP = 'ArrowUp';\r\nvar VALUE_RIGHT = 'ArrowRight';\r\nvar VALUE_DOWN = 'ArrowDown';\r\nvar VALUE_PRINTSCREEN = 'PrintScreen';\r\nvar VALUE_INSERT = 'Insert';\r\nvar VALUE_DELETE = 'Delete';\r\nvar VALUE_0 = '0';\r\nvar VALUE_1 = '1';\r\nvar VALUE_2 = '2';\r\nvar VALUE_3 = '3';\r\nvar VALUE_4 = '4';\r\nvar VALUE_5 = '5';\r\nvar VALUE_6 = '6';\r\nvar VALUE_7 = '7';\r\nvar VALUE_8 = '8';\r\nvar VALUE_9 = '9';\r\nvar VALUE_A = 'a';\r\nvar VALUE_B = 'b';\r\nvar VALUE_C = 'c';\r\nvar VALUE_D = 'd';\r\nvar VALUE_E = 'e';\r\nvar VALUE_F = 'f';\r\nvar VALUE_G = 'g';\r\nvar VALUE_H = 'h';\r\nvar VALUE_I = 'i';\r\nvar VALUE_J = 'j';\r\nvar VALUE_K = 'k';\r\nvar VALUE_L = 'l';\r\nvar VALUE_M = 'm';\r\nvar VALUE_N = 'n';\r\nvar VALUE_O = 'o';\r\nvar VALUE_P = 'p';\r\nvar VALUE_Q = 'q';\r\nvar VALUE_R = 'r';\r\nvar VALUE_S = 's';\r\nvar VALUE_T = 't';\r\nvar VALUE_U = 'u';\r\nvar VALUE_V = 'v';\r\nvar VALUE_W = 'w';\r\nvar VALUE_X = 'x';\r\nvar VALUE_Y = 'y';\r\nvar VALUE_Z = 'z';\r\nvar VALUE_META = 'Meta';\r\nvar VALUE_LEFT_CMD = 'Meta';\r\nvar VALUE_RIGHT_CMD = 'Meta';\r\nvar VALUE_CONTEXT_MENU = 'ContextMenu';\r\nvar VALUE_NUMPAD0 = '0';\r\nvar VALUE_NUMPAD1 = '1';\r\nvar VALUE_NUMPAD2 = '2';\r\nvar VALUE_NUMPAD3 = '3';\r\nvar VALUE_NUMPAD4 = '4';\r\nvar VALUE_NUMPAD5 = '5';\r\nvar VALUE_NUMPAD6 = '6';\r\nvar VALUE_NUMPAD7 = '7';\r\nvar VALUE_NUMPAD8 = '8';\r\nvar VALUE_NUMPAD9 = '9';\r\nvar VALUE_MULTIPLY = '*';\r\nvar VALUE_ADD = '+';\r\nvar VALUE_SUBTRACT = '-';\r\nvar VALUE_DECIMAL = '.';\r\nvar VALUE_DIVIDE = '/';\r\nvar VALUE_F1 = 'F1';\r\nvar VALUE_F2 = 'F2';\r\nvar VALUE_F3 = 'F3';\r\nvar VALUE_F4 = 'F4';\r\nvar VALUE_F5 = 'F5';\r\nvar VALUE_F6 = 'F6';\r\nvar VALUE_F7 = 'F7';\r\nvar VALUE_F8 = 'F8';\r\nvar VALUE_F9 = 'F9';\r\nvar VALUE_F10 = 'F10';\r\nvar VALUE_F11 = 'F11';\r\nvar VALUE_F12 = 'F12';\r\nvar VALUE_F13 = 'F13';\r\nvar VALUE_F14 = 'F14';\r\nvar VALUE_F15 = 'F15';\r\nvar VALUE_F16 = 'F16';\r\nvar VALUE_F17 = 'F17';\r\nvar VALUE_F18 = 'F18';\r\nvar VALUE_F19 = 'F19';\r\nvar VALUE_F20 = 'F20';\r\nvar VALUE_F21 = 'F21';\r\nvar VALUE_F22 = 'F22';\r\nvar VALUE_F23 = 'F23';\r\nvar VALUE_F24 = 'F24';\r\nvar VALUE_NUM_LOCK = 'NumLock';\r\nvar VALUE_SCROLL_LOCK = 'ScrollLock';\r\nvar VALUE_SEMICOLON = ';';\r\nvar VALUE_EQUALS = '=';\r\nvar VALUE_COMMA = ',';\r\nvar VALUE_DASH = '-';\r\nvar VALUE_PERIOD = '.';\r\nvar VALUE_SLASH = '/';\r\nvar VALUE_BACK_QUOTE = '`';\r\nvar VALUE_OPEN_BRACKET = '[';\r\nvar VALUE_BACK_SLASH = '\\\\';\r\nvar VALUE_CLOSE_BRACKET = ']';\r\nvar VALUE_QUOTE = \"'\";\r\n// Key code constants\r\n// Available values for `KeyboardEvent.code` attribute.\r\nvar CODE_UNIDENTIFIED = 'Unidentified';\r\nvar CODE_ESCAPE = 'Escape';\r\nvar CODE_MINUS = 'Minus';\r\nvar CODE_DASH = 'Minus';\r\nvar CODE_EQUALS = 'Equal';\r\nvar CODE_BACK_SPACE = 'Backspace';\r\nvar CODE_TAB = 'Tab';\r\nvar CODE_ENTER = 'Enter';\r\nvar CODE_RETURN = 'Enter';\r\nvar CODE_SHIFT_LEFT = 'ShiftLeft';\r\nvar CODE_SHIFT_RIGHT = 'ShiftRight';\r\nvar CODE_CONTROL_LEFT = 'ControlLeft';\r\nvar CODE_CONTROL_RIGHT = 'ControlRight';\r\nvar CODE_ALT_LEFT = 'AltLeft';\r\nvar CODE_ALT_RIGHT = 'AltRight';\r\nvar CODE_PAUSE = 'Pause';\r\nvar CODE_CAPS_LOCK = 'CapsLock';\r\nvar CODE_SPACE = 'Space';\r\nvar CODE_PAGE_UP = 'PageUp';\r\nvar CODE_PAGE_DOWN = 'PageDown';\r\nvar CODE_END = 'End';\r\nvar CODE_HOME = 'Home';\r\nvar CODE_LEFT = 'ArrowLeft';\r\nvar CODE_UP = 'ArrowUp';\r\nvar CODE_RIGHT = 'ArrowRight';\r\nvar CODE_DOWN = 'ArrowDown';\r\nvar CODE_PRINTSCREEN = 'PrintScreen';\r\nvar CODE_INSERT = 'Insert';\r\nvar CODE_DELETE = 'Delete';\r\nvar CODE_0 = 'Digit0';\r\nvar CODE_1 = 'Digit1';\r\nvar CODE_2 = 'Digit2';\r\nvar CODE_3 = 'Digit3';\r\nvar CODE_4 = 'Digit4';\r\nvar CODE_5 = 'Digit5';\r\nvar CODE_6 = 'Digit6';\r\nvar CODE_7 = 'Digit7';\r\nvar CODE_8 = 'Digit8';\r\nvar CODE_9 = 'Digit9';\r\nvar CODE_A = 'KeyA';\r\nvar CODE_B = 'KeyB';\r\nvar CODE_C = 'KeyC';\r\nvar CODE_D = 'KeyD';\r\nvar CODE_E = 'KeyE';\r\nvar CODE_F = 'KeyF';\r\nvar CODE_G = 'KeyG';\r\nvar CODE_H = 'KeyH';\r\nvar CODE_I = 'KeyI';\r\nvar CODE_J = 'KeyJ';\r\nvar CODE_K = 'KeyK';\r\nvar CODE_L = 'KeyL';\r\nvar CODE_M = 'KeyM';\r\nvar CODE_N = 'KeyN';\r\nvar CODE_O = 'KeyO';\r\nvar CODE_P = 'KeyP';\r\nvar CODE_Q = 'KeyQ';\r\nvar CODE_R = 'KeyR';\r\nvar CODE_S = 'KeyS';\r\nvar CODE_T = 'KeyT';\r\nvar CODE_U = 'KeyU';\r\nvar CODE_V = 'KeyV';\r\nvar CODE_W = 'KeyW';\r\nvar CODE_X = 'KeyX';\r\nvar CODE_Y = 'KeyY';\r\nvar CODE_Z = 'KeyZ';\r\nvar CODE_META_LEFT = 'MetaLeft';\r\nvar CODE_OS_LEFT = 'OSLeft';\r\nvar CODE_META_RIGHT = 'MetaRight';\r\nvar CODE_OS_RIGHT = 'OSRight';\r\nvar CODE_CONTEXT_MENU = 'ContextMenu';\r\nvar CODE_NUMPAD0 = 'Numpad0';\r\nvar CODE_NUMPAD1 = 'Numpad1';\r\nvar CODE_NUMPAD2 = 'Numpad2';\r\nvar CODE_NUMPAD3 = 'Numpad3';\r\nvar CODE_NUMPAD4 = 'Numpad4';\r\nvar CODE_NUMPAD5 = 'Numpad5';\r\nvar CODE_NUMPAD6 = 'Numpad6';\r\nvar CODE_NUMPAD7 = 'Numpad7';\r\nvar CODE_NUMPAD8 = 'Numpad8';\r\nvar CODE_NUMPAD9 = 'Numpad9';\r\nvar CODE_NUMPAD_MULTIPLY = 'NumpadMultiply';\r\nvar CODE_NUMPAD_ADD = 'NumpadAdd';\r\nvar CODE_NUMPAD_SUBTRACT = 'NumpadSubtract';\r\nvar CODE_NUMPAD_DECIMAL = 'NumpadDecimal';\r\nvar CODE_NUMPAD_DIVIDE = 'NumpadDivide';\r\nvar CODE_NUMPAD_ENTER = 'NumpadEnter';\r\nvar CODE_F1 = 'F1';\r\nvar CODE_F2 = 'F2';\r\nvar CODE_F3 = 'F3';\r\nvar CODE_F4 = 'F4';\r\nvar CODE_F5 = 'F5';\r\nvar CODE_F6 = 'F6';\r\nvar CODE_F7 = 'F7';\r\nvar CODE_F8 = 'F8';\r\nvar CODE_F9 = 'F9';\r\nvar CODE_F10 = 'F10';\r\nvar CODE_F11 = 'F11';\r\nvar CODE_F12 = 'F12';\r\nvar CODE_F13 = 'F13';\r\nvar CODE_F14 = 'F14';\r\nvar CODE_F15 = 'F15';\r\nvar CODE_F16 = 'F16';\r\nvar CODE_F17 = 'F17';\r\nvar CODE_F18 = 'F18';\r\nvar CODE_F19 = 'F19';\r\nvar CODE_F20 = 'F20';\r\nvar CODE_F21 = 'F21';\r\nvar CODE_F22 = 'F22';\r\nvar CODE_F23 = 'F23';\r\nvar CODE_F24 = 'F24';\r\nvar CODE_NUM_LOCK = 'NumLock';\r\nvar CODE_SCROLL_LOCK = 'ScrollLock';\r\nvar CODE_SEMICOLON = 'Semicolon';\r\nvar CODE_COMMA = 'Comma';\r\nvar CODE_PERIOD = 'Period';\r\nvar CODE_SLASH = 'Slash';\r\nvar CODE_BACK_QUOTE = 'Backquote';\r\nvar CODE_OPEN_BRACKET = 'BracketLeft';\r\nvar CODE_BACK_SLASH = 'Backslash';\r\nvar CODE_CLOSE_BRACKET = 'BracketRight';\r\nvar CODE_QUOTE = 'Quote';\n\nexport { CODE_0, CODE_1, CODE_2, CODE_3, CODE_4, CODE_5, CODE_6, CODE_7, CODE_8, CODE_9, CODE_A, CODE_ALT_LEFT, CODE_ALT_RIGHT, CODE_B, CODE_BACK_QUOTE, CODE_BACK_SLASH, CODE_BACK_SPACE, CODE_C, CODE_CAPS_LOCK, CODE_CLOSE_BRACKET, CODE_COMMA, CODE_CONTEXT_MENU, CODE_CONTROL_LEFT, CODE_CONTROL_RIGHT, CODE_D, CODE_DASH, CODE_DELETE, CODE_DOWN, CODE_E, CODE_END, CODE_ENTER, CODE_EQUALS, CODE_ESCAPE, CODE_F, CODE_F1, CODE_F10, CODE_F11, CODE_F12, CODE_F13, CODE_F14, CODE_F15, CODE_F16, CODE_F17, CODE_F18, CODE_F19, CODE_F2, CODE_F20, CODE_F21, CODE_F22, CODE_F23, CODE_F24, CODE_F3, CODE_F4, CODE_F5, CODE_F6, CODE_F7, CODE_F8, CODE_F9, CODE_G, CODE_H, CODE_HOME, CODE_I, CODE_INSERT, CODE_J, CODE_K, CODE_L, CODE_LEFT, CODE_M, CODE_META_LEFT, CODE_META_RIGHT, CODE_MINUS, CODE_N, CODE_NUMPAD0, CODE_NUMPAD1, CODE_NUMPAD2, CODE_NUMPAD3, CODE_NUMPAD4, CODE_NUMPAD5, CODE_NUMPAD6, CODE_NUMPAD7, CODE_NUMPAD8, CODE_NUMPAD9, CODE_NUMPAD_ADD, CODE_NUMPAD_DECIMAL, CODE_NUMPAD_DIVIDE, CODE_NUMPAD_ENTER, CODE_NUMPAD_MULTIPLY, CODE_NUMPAD_SUBTRACT, CODE_NUM_LOCK, CODE_O, CODE_OPEN_BRACKET, CODE_OS_LEFT, CODE_OS_RIGHT, CODE_P, CODE_PAGE_DOWN, CODE_PAGE_UP, CODE_PAUSE, CODE_PERIOD, CODE_PRINTSCREEN, CODE_Q, CODE_QUOTE, CODE_R, CODE_RETURN, CODE_RIGHT, CODE_S, CODE_SCROLL_LOCK, CODE_SEMICOLON, CODE_SHIFT_LEFT, CODE_SHIFT_RIGHT, CODE_SLASH, CODE_SPACE, CODE_T, CODE_TAB, CODE_U, CODE_UNIDENTIFIED, CODE_UP, CODE_V, CODE_W, CODE_X, CODE_Y, CODE_Z, KEY_0, KEY_1, KEY_2, KEY_3, KEY_4, KEY_5, KEY_6, KEY_7, KEY_8, KEY_9, KEY_A, KEY_ADD, KEY_ALT, KEY_B, KEY_BACK_QUOTE, KEY_BACK_SLASH, KEY_BACK_SPACE, KEY_C, KEY_CANCEL, KEY_CAPS_LOCK, KEY_CLEAR, KEY_CLOSE_BRACKET, KEY_COMMA, KEY_CONTEXT_MENU, KEY_CONTROL, KEY_D, KEY_DASH, KEY_DECIMAL, KEY_DELETE, KEY_DIVIDE, KEY_DOWN, KEY_E, KEY_END, KEY_EQUALS, KEY_ESCAPE, KEY_F, KEY_F1, KEY_F10, KEY_F11, KEY_F12, KEY_F13, KEY_F14, KEY_F15, KEY_F16, KEY_F17, KEY_F18, KEY_F19, KEY_F2, KEY_F20, KEY_F21, KEY_F22, KEY_F23, KEY_F24, KEY_F3, KEY_F4, KEY_F5, KEY_F6, KEY_F7, KEY_F8, KEY_F9, KEY_FIREFOX_ENTER, KEY_FIREFOX_EQUALS, KEY_FIREFOX_META, KEY_FIREFOX_SEMICOLON, KEY_FIREFOX_SEPARATOR, KEY_G, KEY_H, KEY_HELP, KEY_HOME, KEY_I, KEY_INSERT, KEY_J, KEY_K, KEY_L, KEY_LEFT, KEY_LEFT_CMD, KEY_M, KEY_MULTIPLY, KEY_N, KEY_NUMPAD0, KEY_NUMPAD1, KEY_NUMPAD2, KEY_NUMPAD3, KEY_NUMPAD4, KEY_NUMPAD5, KEY_NUMPAD6, KEY_NUMPAD7, KEY_NUMPAD8, KEY_NUMPAD9, KEY_NUM_LOCK, KEY_O, KEY_OPEN_BRACKET, KEY_P, KEY_PAGE_DOWN, KEY_PAGE_UP, KEY_PAUSE, KEY_PERIOD, KEY_PRINTSCREEN, KEY_Q, KEY_QUOTE, KEY_R, KEY_RETURN, KEY_RIGHT, KEY_RIGHT_CMD, KEY_S, KEY_SCROLL_LOCK, KEY_SEMICOLON, KEY_SHIFT, KEY_SLASH, KEY_SPACE, KEY_SUBTRACT, KEY_T, KEY_TAB, KEY_U, KEY_UP, KEY_V, KEY_W, KEY_X, KEY_Y, KEY_Z, VALUE_0, VALUE_1, VALUE_2, VALUE_3, VALUE_4, VALUE_5, VALUE_6, VALUE_7, VALUE_8, VALUE_9, VALUE_A, VALUE_ADD, VALUE_ALT, VALUE_B, VALUE_BACK_QUOTE, VALUE_BACK_SLASH, VALUE_BACK_SPACE, VALUE_C, VALUE_CANCEL, VALUE_CAPS_LOCK, VALUE_CLEAR, VALUE_CLOSE_BRACKET, VALUE_COMMA, VALUE_CONTEXT_MENU, VALUE_CONTROL, VALUE_D, VALUE_DASH, VALUE_DECIMAL, VALUE_DELETE, VALUE_DIVIDE, VALUE_DOWN, VALUE_E, VALUE_END, VALUE_ENTER, VALUE_EQUALS, VALUE_ESCAPE, VALUE_F, VALUE_F1, VALUE_F10, VALUE_F11, VALUE_F12, VALUE_F13, VALUE_F14, VALUE_F15, VALUE_F16, VALUE_F17, VALUE_F18, VALUE_F19, VALUE_F2, VALUE_F20, VALUE_F21, VALUE_F22, VALUE_F23, VALUE_F24, VALUE_F3, VALUE_F4, VALUE_F5, VALUE_F6, VALUE_F7, VALUE_F8, VALUE_F9, VALUE_G, VALUE_H, VALUE_HELP, VALUE_HOME, VALUE_I, VALUE_INSERT, VALUE_J, VALUE_K, VALUE_L, VALUE_LEFT, VALUE_LEFT_CMD, VALUE_M, VALUE_META, VALUE_MULTIPLY, VALUE_N, VALUE_NUMPAD0, VALUE_NUMPAD1, VALUE_NUMPAD2, VALUE_NUMPAD3, VALUE_NUMPAD4, VALUE_NUMPAD5, VALUE_NUMPAD6, VALUE_NUMPAD7, VALUE_NUMPAD8, VALUE_NUMPAD9, VALUE_NUM_LOCK, VALUE_O, VALUE_OPEN_BRACKET, VALUE_P, VALUE_PAGE_DOWN, VALUE_PAGE_UP, VALUE_PAUSE, VALUE_PERIOD, VALUE_PRINTSCREEN, VALUE_Q, VALUE_QUOTE, VALUE_R, VALUE_RETURN, VALUE_RIGHT, VALUE_RIGHT_CMD, VALUE_S, VALUE_SCROLL_LOCK, VALUE_SEMICOLON, VALUE_SHIFT, VALUE_SLASH, VALUE_SPACE, VALUE_SUBTRACT, VALUE_T, VALUE_TAB, VALUE_U, VALUE_UP, VALUE_V, VALUE_W, VALUE_X, VALUE_Y, VALUE_Z };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n"],"names":["Object","defineProperty","exports","value","CommandEntityBuilder","tslib_1","entity_1","__exportStar","constructor","commands","this","entity","Entity","build","aggregator","addCommand","world","addEntity","with","component","args","addComponent","asComponent","withAll","components","prototype","bind","Array","from","arguments","slice","CommandsAggregator","doMaintain","command","push","shift","maintain","triggerMaintain","Commands","command_entity_builder_1","addResource","obj","type","instance","resources","has","Error","name","set","buildEntity","clearEntities","entities","clear","load","prefab","options","handle","groups","nextHandle","merge","popState","pushState","NewState","queueCommand","removeEntity","removeResource","delete","replaceResource","stopRun","unloadPrefab","ECS","world_builder_1","worlds","Map","buildWorld","WorldBuilder","addCallback","removeWorld","default","EntityBuilder","tags","Set","hasComponent","addTag","tag","add","getComponent","get","getComponents","values","getTags","hasTag","removeComponent","removeTag","PushDownAutomaton","currentState","undefined","statesTail","pop","_a","oldTail","prevNode","state","State","WithoutTag","Without","WithTag","With","Write","Read","ReadEntity","Query","query_spec_1","queryDescriptor","queryResult","addEntitySym","matchesEntity","isArray","getDataFromEntity","clearEntitiesSym","removeEntitySym","setEntitiesSym","execute","handler","data","descriptor","componentDesc","entries","accessDescSym","EAccess","meta","targetType","ETargetType","target","iter","getEntities","existenceDescSym","EExistence","assign","componentPrototype","read","write","unset","Symbol","getDefaultDeserializer","getDefaultSerializer","customSerializer","componentName","getTime","JSON","stringify","toString","customDeserializer","constructorName","toLowerCase","Date","SerDe","serde_spec_1","serial_format_1","default_handlers_1","typeHandlers","deserialize","_b","finalOptions","useDefaultHandler","useRegisteredHandlers","fallbackHandler","serialComponentData","serialComponentName","serialEntity","deserializer","CTagMarker","includes","getRegisteredTypeHandlers","registerTypeHandler","Type","serializer","serialize","outData","SerialFormat","serialData","length","arr","fromArray","json","fromJSON","newVals","parse","toJSON","indentation","_systems","activate","actions","create","deactivate","destroy","System","setup","_","world_1","serde_1","dataStructDeserializer","Constructor","kv","dataStructSerializer","ecs","callbacks","serde","systemInfos","cb","World","withSystem","dependencies","system","withComponent","Component","_c","_d","serDe","withComponents","Components","entity_builder_1","state_1","pda_1","commands_1","commands_aggregator_1","query_1","_serde","_dirty","pda","entityLinks","queries","runExecutionPipeline","runExecutionPipelineCache","runPromise","shouldRunSystems","self","_commandsAggregator","_commands","systemWorld","freeze","getResource","transitionWorld","flushCommands","getResources","save","sortedSystems","sortSystems","systemInfo","query","createEntity","run","initialState","afterStepHandler","executeAll","keys","resultEntities","intoGroup","groupHandle","elsewhere","newState","prepareExecutionPipeline","result","stateSystems","systems","shouldRunSystem","executionGroup","size","find","stateSys","registeredSystemNames","map","nfo","configuration","runConfig","_action","beforeStepHandler","executionFunction","requestAnimationFrame","setTimeout","lastRunPreparation","removeEntityFromSystems","replaceEntitiesWith","skipPreparation","Promise","async","resolver","preparedConfig","prepareRun","execFn","systemPromises","cleanUp","mainLoop","all","unsorted","unsortedArr","graph","node","edges","L","S","filter","pair","n","m","splice","indexOf","t","extendStatics","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","call","__extends","TypeError","String","__","__assign","s","i","apply","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","f","y","g","label","sent","trys","ops","verb","iterator","v","op","__createBinding","o","k","k2","enumerable","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__spreadArray","to","pack","l","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","receiver","kind","__classPrivateFieldSet","hasSIMD","WebAssembly","validate","Uint8Array","Box2DModule","Box2DFactory","KEY_CANCEL","KEY_HELP","KEY_BACK_SPACE","KEY_TAB","KEY_CLEAR","KEY_RETURN","KEY_SHIFT","KEY_CONTROL","KEY_ALT","KEY_PAUSE","KEY_CAPS_LOCK","KEY_ESCAPE","KEY_SPACE","KEY_PAGE_UP","KEY_PAGE_DOWN","KEY_END","KEY_HOME","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_PRINTSCREEN","KEY_INSERT","KEY_DELETE","KEY_0","KEY_1","KEY_2","KEY_3","KEY_4","KEY_5","KEY_6","KEY_7","KEY_8","KEY_9","KEY_A","KEY_B","KEY_C","KEY_D","KEY_E","KEY_F","KEY_G","KEY_H","KEY_I","KEY_J","KEY_K","KEY_L","KEY_M","KEY_N","KEY_O","KEY_P","KEY_Q","KEY_R","KEY_S","KEY_T","KEY_U","KEY_V","KEY_W","KEY_X","KEY_Y","KEY_Z","KEY_LEFT_CMD","KEY_RIGHT_CMD","KEY_CONTEXT_MENU","KEY_NUMPAD0","KEY_NUMPAD1","KEY_NUMPAD2","KEY_NUMPAD3","KEY_NUMPAD4","KEY_NUMPAD5","KEY_NUMPAD6","KEY_NUMPAD7","KEY_NUMPAD8","KEY_NUMPAD9","KEY_MULTIPLY","KEY_ADD","KEY_SUBTRACT","KEY_DECIMAL","KEY_DIVIDE","KEY_F1","KEY_F2","KEY_F3","KEY_F4","KEY_F5","KEY_F6","KEY_F7","KEY_F8","KEY_F9","KEY_F10","KEY_F11","KEY_F12","KEY_F13","KEY_F14","KEY_F15","KEY_F16","KEY_F17","KEY_F18","KEY_F19","KEY_F20","KEY_F21","KEY_F22","KEY_F23","KEY_F24","KEY_NUM_LOCK","KEY_SCROLL_LOCK","KEY_SEMICOLON","KEY_EQUALS","KEY_COMMA","KEY_DASH","KEY_PERIOD","KEY_SLASH","KEY_BACK_QUOTE","KEY_OPEN_BRACKET","KEY_BACK_SLASH","KEY_CLOSE_BRACKET","KEY_QUOTE","KEY_FIREFOX_ENTER","KEY_FIREFOX_SEMICOLON","KEY_FIREFOX_EQUALS","KEY_FIREFOX_SEPARATOR","KEY_FIREFOX_META","VALUE_CANCEL","VALUE_HELP","VALUE_BACK_SPACE","VALUE_TAB","VALUE_CLEAR","VALUE_ENTER","VALUE_RETURN","VALUE_SHIFT","VALUE_CONTROL","VALUE_ALT","VALUE_PAUSE","VALUE_CAPS_LOCK","VALUE_ESCAPE","VALUE_SPACE","VALUE_PAGE_UP","VALUE_PAGE_DOWN","VALUE_END","VALUE_HOME","VALUE_LEFT","VALUE_UP","VALUE_RIGHT","VALUE_DOWN","VALUE_PRINTSCREEN","VALUE_INSERT","VALUE_DELETE","VALUE_0","VALUE_1","VALUE_2","VALUE_3","VALUE_4","VALUE_5","VALUE_6","VALUE_7","VALUE_8","VALUE_9","VALUE_A","VALUE_B","VALUE_C","VALUE_D","VALUE_E","VALUE_F","VALUE_G","VALUE_H","VALUE_I","VALUE_J","VALUE_K","VALUE_L","VALUE_M","VALUE_N","VALUE_O","VALUE_P","VALUE_Q","VALUE_R","VALUE_S","VALUE_T","VALUE_U","VALUE_V","VALUE_W","VALUE_X","VALUE_Y","VALUE_Z","VALUE_META","VALUE_LEFT_CMD","VALUE_RIGHT_CMD","VALUE_CONTEXT_MENU","VALUE_NUMPAD0","VALUE_NUMPAD1","VALUE_NUMPAD2","VALUE_NUMPAD3","VALUE_NUMPAD4","VALUE_NUMPAD5","VALUE_NUMPAD6","VALUE_NUMPAD7","VALUE_NUMPAD8","VALUE_NUMPAD9","VALUE_MULTIPLY","VALUE_ADD","VALUE_SUBTRACT","VALUE_DECIMAL","VALUE_DIVIDE","VALUE_F1","VALUE_F2","VALUE_F3","VALUE_F4","VALUE_F5","VALUE_F6","VALUE_F7","VALUE_F8","VALUE_F9","VALUE_F10","VALUE_F11","VALUE_F12","VALUE_F13","VALUE_F14","VALUE_F15","VALUE_F16","VALUE_F17","VALUE_F18","VALUE_F19","VALUE_F20","VALUE_F21","VALUE_F22","VALUE_F23","VALUE_F24","VALUE_NUM_LOCK","VALUE_SCROLL_LOCK","VALUE_SEMICOLON","VALUE_EQUALS","VALUE_COMMA","VALUE_DASH","VALUE_PERIOD","VALUE_SLASH","VALUE_BACK_QUOTE","VALUE_OPEN_BRACKET","VALUE_BACK_SLASH","VALUE_CLOSE_BRACKET","VALUE_QUOTE","CODE_UNIDENTIFIED","CODE_ESCAPE","CODE_MINUS","CODE_DASH","CODE_EQUALS","CODE_BACK_SPACE","CODE_TAB","CODE_ENTER","CODE_RETURN","CODE_SHIFT_LEFT","CODE_SHIFT_RIGHT","CODE_CONTROL_LEFT","CODE_CONTROL_RIGHT","CODE_ALT_LEFT","CODE_ALT_RIGHT","CODE_PAUSE","CODE_CAPS_LOCK","CODE_SPACE","CODE_PAGE_UP","CODE_PAGE_DOWN","CODE_END","CODE_HOME","CODE_LEFT","CODE_UP","CODE_RIGHT","CODE_DOWN","CODE_PRINTSCREEN","CODE_INSERT","CODE_DELETE","CODE_0","CODE_1","CODE_2","CODE_3","CODE_4","CODE_5","CODE_6","CODE_7","CODE_8","CODE_9","CODE_A","CODE_B","CODE_C","CODE_D","CODE_E","CODE_F","CODE_G","CODE_H","CODE_I","CODE_J","CODE_K","CODE_L","CODE_M","CODE_N","CODE_O","CODE_P","CODE_Q","CODE_R","CODE_S","CODE_T","CODE_U","CODE_V","CODE_W","CODE_X","CODE_Y","CODE_Z","CODE_META_LEFT","CODE_OS_LEFT","CODE_META_RIGHT","CODE_OS_RIGHT","CODE_CONTEXT_MENU","CODE_NUMPAD0","CODE_NUMPAD1","CODE_NUMPAD2","CODE_NUMPAD3","CODE_NUMPAD4","CODE_NUMPAD5","CODE_NUMPAD6","CODE_NUMPAD7","CODE_NUMPAD8","CODE_NUMPAD9","CODE_NUMPAD_MULTIPLY","CODE_NUMPAD_ADD","CODE_NUMPAD_SUBTRACT","CODE_NUMPAD_DECIMAL","CODE_NUMPAD_DIVIDE","CODE_NUMPAD_ENTER","CODE_F1","CODE_F2","CODE_F3","CODE_F4","CODE_F5","CODE_F6","CODE_F7","CODE_F8","CODE_F9","CODE_F10","CODE_F11","CODE_F12","CODE_F13","CODE_F14","CODE_F15","CODE_F16","CODE_F17","CODE_F18","CODE_F19","CODE_F20","CODE_F21","CODE_F22","CODE_F23","CODE_F24","CODE_NUM_LOCK","CODE_SCROLL_LOCK","CODE_SEMICOLON","CODE_COMMA","CODE_PERIOD","CODE_SLASH","CODE_BACK_QUOTE","CODE_OPEN_BRACKET","CODE_BACK_SLASH","CODE_CLOSE_BRACKET","CODE_QUOTE"],"sourceRoot":""}