/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/scss/app.scss":
/*!***************************!*\
  !*** ./src/scss/app.scss ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./res/meshes/1.ts":
/*!*************************!*\
  !*** ./res/meshes/1.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.verticies = void 0;
exports.verticies = [
    { x: -0.358251, y: -4.302196 },
    { x: -0.19581, y: -4.342153 },
    { x: -0.109997, y: -4.35505 },
    { x: 0.058886, y: -4.364037 },
    { x: 0.137183, y: -4.359068 },
    { x: 0.269559, y: -4.327562 },
    { x: 0.318867, y: -4.299967 },
    { x: 0.377784, y: -4.18074 },
    { x: 0.398368, y: -4.02064 },
    { x: 0.434304, y: -3.526998 },
    { x: 0.452233, y: -3.222337 },
    { x: 0.49445, y: -2.569536 },
    { x: 0.521315, y: -2.250278 },
    { x: 0.592999, y: -1.69825 },
    { x: 0.640393, y: -1.494361 },
    { x: 0.753266, y: -1.263757 },
    { x: 0.799154, y: -1.177335 },
    { x: 0.87012, y: -1.02497 },
    { x: 0.900048, y: -0.957821 },
    { x: 0.96092, y: -0.838578 },
    { x: 0.996714, y: -0.785278 },
    { x: 1.091145, y: -0.688305 },
    { x: 1.154632, y: -0.643427 },
    { x: 1.316479, y: -0.558592 },
    { x: 1.397872, y: -0.517463 },
    { x: 1.548353, y: -0.425622 },
    { x: 1.615615, y: -0.369478 },
    { x: 1.729616, y: -0.223163 },
    { x: 1.774529, y: -0.127559 },
    { x: 1.835619, y: 0.122122 },
    { x: 1.849969, y: 0.281632 },
    { x: 1.843292, y: 0.662242 },
    { x: 1.824571, y: 0.843738 },
    { x: 1.760238, y: 1.164726 },
    { x: 1.71574, y: 1.30252 },
    { x: 1.604872, y: 1.528463 },
    { x: 1.539616, y: 1.614915 },
    { x: 1.392247, y: 1.730534 },
    { x: 1.31125, y: 1.758003 },
    { x: 1.142765, y: 1.759883 },
    { x: 1.066142, y: 1.756323 },
    { x: 0.929642, y: 1.747777 },
    { x: 0.868038, y: 1.741074 },
    { x: 0.753802, y: 1.718515 },
    { x: 0.699444, y: 1.700942 },
    { x: 0.591929, y: 1.648915 },
    { x: 0.537046, y: 1.612743 },
    { x: 0.420683, y: 1.524279 },
    { x: 0.358345, y: 1.487761 },
    { x: 0.227429, y: 1.437976 },
    { x: 0.159877, y: 1.424548 },
    { x: 0.023142, y: 1.420211 },
    { x: -0.045015, y: 1.429141 },
    { x: -0.178351, y: 1.468793 },
    { x: -0.242506, y: 1.499353 },
    { x: -0.364149, y: 1.577342 },
    { x: -0.42301, y: 1.615606 },
    { x: -0.539011, y: 1.681719 },
    { x: -0.59677, y: 1.707538 },
    { x: -0.713358, y: 1.739628 },
    { x: -0.772807, y: 1.743868 },
    { x: -0.895564, y: 1.723668 },
    { x: -0.959492, y: 1.697198 },
    { x: -1.092316, y: 1.60973 },
    { x: -1.157688, y: 1.554206 },
    { x: -1.280792, y: 1.424273 },
    { x: -1.336818, y: 1.350611 },
    { x: -1.433553, y: 1.187768 },
    { x: -1.472556, y: 1.099335 },
    { x: -1.527566, y: 0.910315 },
    { x: -1.541867, y: 0.810476 },
    { x: -1.545358, y: 0.607388 },
    { x: -1.543899, y: 0.514505 },
    { x: -1.535444, y: 0.345315 },
    { x: -1.52656, y: 0.266333 },
    { x: -1.494764, y: 0.112901 },
    { x: -1.469964, y: 0.035775 },
    { x: -1.397842, y: -0.125987 },
    { x: -1.348633, y: -0.213301 },
    { x: -1.224696, y: -0.396925 },
    { x: -1.159711, y: -0.475497 },
    { x: -1.028962, y: -0.607226 },
    { x: -0.963228, y: -0.665174 },
    { x: -0.831118, y: -0.777217 },
    { x: -0.764772, y: -0.836102 },
    { x: -0.631574, y: -0.971577 },
    { x: -0.564752, y: -1.052958 },
    { x: -0.445742, y: -1.289822 },
    { x: -0.420157, y: -1.507468 },
    { x: -0.42791, y: -2.1019 },
    { x: -0.450993, y: -2.446579 },
    { x: -0.509934, y: -3.150588 },
    { x: -0.535538, y: -3.47781 },
    { x: -0.553376, y: -4.002419 },
    { x: -0.535355, y: -4.167696 },
    { x: -0.449055, y: -4.270403 },
    { x: -0.42929, y: -4.281094 },
    { x: -0.44194, y: -4.274252 },
    { x: -0.464867, y: -4.26185 },
    { x: -0.52021, y: -4.231915 },
    { x: -0.543137, y: -4.219514 },
    { x: -0.555787, y: -4.212672 },
    { x: -0.536022, y: -4.223363 },
    { x: -0.449055, y: -4.270403 },
    { x: -0.42929, y: -4.281094 },
    { x: -0.441939, y: -4.274252 },
    { x: -0.464867, y: -4.26185 },
    { x: -0.52021, y: -4.231915 },
    { x: -0.543137, y: -4.219514 },
    { x: -0.555787, y: -4.212672 },
    { x: -0.536022, y: -4.223363 }
];


/***/ }),

/***/ "./src/app/actions.ts":
/*!****************************!*\
  !*** ./src/app/actions.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EActions = void 0;
var EActions;
(function (EActions) {
    EActions[EActions["Continue"] = 0] = "Continue";
    EActions[EActions["Exit"] = 1] = "Exit";
    EActions[EActions["Play"] = 2] = "Play";
})(EActions = exports.EActions || (exports.EActions = {}));


/***/ }),

/***/ "./src/app/frame-transition-handlers.ts":
/*!**********************************************!*\
  !*** ./src/app/frame-transition-handlers.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.beforeFrameHandler = void 0;
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const pause_1 = __webpack_require__(/*! ../states/pause */ "./src/states/pause.ts");
const engine_1 = __webpack_require__(/*! ../engine */ "./src/engine/index.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const hrtimeToSeconds = (s_ns) => (s_ns[0] + s_ns[1] * 1e-9);
let lastTransition = engine_1.hrtime();
let deltaSum = 0;
async function beforeFrameHandler(actions) {
    var _a;
    const gameStore = actions.getResource(game_store_1.GameStore);
    const commonStore = actions.getResource(common_store_1.CommonStore);
    const isPauseState = ((_a = gameStore.currentState) === null || _a === void 0 ? void 0 : _a.constructor) == pause_1.PauseState;
    if (!isPauseState) {
        commonStore.lastFrameDeltaTime = hrtimeToSeconds(engine_1.hrtime(lastTransition));
        if (commonStore.lastFrameDeltaTime > 0.1) {
            commonStore.lastFrameDeltaTime = 0.1;
        }
        commonStore.timeSinceLevelLoaded +=
            commonStore.lastFrameDeltaTime;
        deltaSum += commonStore.lastFrameDeltaTime;
        commonStore.medianFps = ++commonStore.ticks / deltaSum;
        lastTransition = engine_1.hrtime();
    }
    const ctx = actions.getResource(CanvasRenderingContext2D);
    ctx.beginPath();
    ctx.fillStyle = '#000';
    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
}
exports.beforeFrameHandler = beforeFrameHandler;


/***/ }),

/***/ "./src/app/persistence.ts":
/*!********************************!*\
  !*** ./src/app/persistence.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.save = exports.load = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
const saveKey = 'save';
function load(actions) {
    const save = localStorage.getItem(saveKey);
    if (!save) {
        throw new Error('No save available. Cannot load!');
    }
    const handle = actions.commands.load(sim_ecs_1.SerialFormat.fromJSON(save));
    return handle;
}
exports.load = load;
function save(actions) {
    localStorage.setItem(saveKey, actions.save(new sim_ecs_1.Query([sim_ecs_1.WithTag(tags_1.ETags.save)])).toJSON());
}
exports.save = save;


/***/ }),

/***/ "./src/components/character.ts":
/*!*************************************!*\
  !*** ./src/components/character.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Character = void 0;
class Character {
    constructor(name = '') {
        this.name = name;
    }
}
exports.Character = Character;


/***/ }),

/***/ "./src/components/ui-item.ts":
/*!***********************************!*\
  !*** ./src/components/ui-item.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIItem = void 0;
class UIItem {
    constructor(caption, color, fontSize, action, active, activeColor) {
        this.caption = caption;
        this.color = color;
        this.fontSize = fontSize;
        this.action = action;
        this.active = active;
        this.activeColor = activeColor;
        this.captionMod = (strIn) => strIn;
    }
    get finalCaption() {
        return this.captionMod(this.caption);
    }
}
exports.UIItem = UIItem;


/***/ }),

/***/ "./src/engine/components/collision.ts":
/*!********************************************!*\
  !*** ./src/engine/components/collision.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Collision = void 0;
class Collision {
    constructor(shapeFromVisuals = true, shape = null) {
        this.shapeFromVisuals = shapeFromVisuals;
        this.shape = shape;
        this.collisionObjects = new Set();
        this.occurred = false;
        if (!shapeFromVisuals && !shape) {
            throw new Error('Either copy the collision shape\
                from visuals or provide a new one');
        }
    }
}
exports.Collision = Collision;


/***/ }),

/***/ "./src/engine/components/material.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/material.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Material = void 0;
class Material {
    constructor(color) {
        this.color = color;
    }
}
exports.Material = Material;


/***/ }),

/***/ "./src/engine/components/mesh.ts":
/*!***************************************!*\
  !*** ./src/engine/components/mesh.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Mesh = void 0;
class Mesh {
    constructor(verticies) {
        this.verticies = verticies;
        this.isConvex = true;
    }
}
exports.Mesh = Mesh;


/***/ }),

/***/ "./src/engine/components/physics-bridge.ts":
/*!*************************************************!*\
  !*** ./src/engine/components/physics-bridge.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PhysicsBridge = void 0;
class PhysicsBridge {
    constructor(bodyPtr = null) {
        this.bodyPtr = bodyPtr;
    }
}
exports.PhysicsBridge = PhysicsBridge;


/***/ }),

/***/ "./src/engine/components/position.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/position.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Position = void 0;
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
class Position extends vector2d_1.Vector2D {
}
exports.Position = Position;


/***/ }),

/***/ "./src/engine/components/rotation.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/rotation.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Rotation = void 0;
class Rotation {
    constructor(value) {
        this._val = 0;
        this._sin = 0;
        this._cos = 0;
        this.value = value;
    }
    get sin_cos() {
        return [this._sin, this._cos];
    }
    get value() {
        return this._val;
    }
    set value(newval) {
        this._sin = Math.sin(newval);
        this._cos = Math.cos(newval);
        this._val = newval;
    }
}
exports.Rotation = Rotation;


/***/ }),

/***/ "./src/engine/components/shape.ts":
/*!****************************************!*\
  !*** ./src/engine/components/shape.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Shape = exports.ShapePivotNames = exports.ShapePivot = exports.ShapePrimitive = void 0;
const rect_1 = __webpack_require__(/*! ../models/rect */ "./src/engine/models/rect.ts");
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
var ShapePrimitive;
(function (ShapePrimitive) {
    ShapePrimitive["Circle"] = "circle";
    ShapePrimitive["Rect"] = "rect";
    ShapePrimitive["Mesh"] = "mesh";
})(ShapePrimitive = exports.ShapePrimitive || (exports.ShapePrimitive = {}));
var ShapePivot;
(function (ShapePivot) {
    ShapePivot[ShapePivot["TopLeft"] = 0] = "TopLeft";
    ShapePivot[ShapePivot["TopMiddle"] = 1] = "TopMiddle";
    ShapePivot[ShapePivot["TopRight"] = 2] = "TopRight";
    ShapePivot[ShapePivot["Left"] = 3] = "Left";
    ShapePivot[ShapePivot["Middle"] = 4] = "Middle";
    ShapePivot[ShapePivot["Right"] = 5] = "Right";
    ShapePivot[ShapePivot["BottomLeft"] = 6] = "BottomLeft";
    ShapePivot[ShapePivot["BottomMiddle"] = 7] = "BottomMiddle";
    ShapePivot[ShapePivot["BottomRight"] = 8] = "BottomRight";
})(ShapePivot = exports.ShapePivot || (exports.ShapePivot = {}));
exports.ShapePivotNames = {
    [ShapePivot.TopLeft]: 'TopLeft',
    [ShapePivot.TopMiddle]: 'TopMiddle',
    [ShapePivot.TopRight]: 'TopRight',
    [ShapePivot.Left]: 'Left',
    [ShapePivot.Middle]: 'Middle',
    [ShapePivot.Right]: 'Right',
    [ShapePivot.BottomLeft]: 'BottomLeft',
    [ShapePivot.BottomMiddle]: 'BottomMiddle',
    [ShapePivot.BottomRight]: 'BottomRight',
};
class Shape {
    constructor(zIndex = 0, pivot = ShapePivot.Middle, offsetX = 0, offsetY = 0, dimensions = vector2d_1.vecZero, primitive = ShapePrimitive.Rect, mesh = null) {
        this.zIndex = zIndex;
        this.pivot = pivot;
        this.offsetX = offsetX;
        this.offsetY = offsetY;
        this.dimensions = dimensions;
        this.primitive = primitive;
        this.mesh = mesh;
        this.bBox = new rect_1.Rect(0, 0, 0, 0);
        this.isBuilt = false;
    }
    build() {
        if (this.isBuilt)
            return;
        if (this.primitive === ShapePrimitive.Mesh) {
            if (!this.mesh || !this.mesh.verticies.length)
                throw new Error('Shapes with mesh primitive\
                must provide a non-empty mesh data');
        }
        if (this.primitive !== ShapePrimitive.Mesh && !this.dimensions) {
            console.error('dimensions:', this.dimensions, 'primitive:', this.primitive, 'mesh:', this.mesh);
            throw new Error('Shapes with non-mesh primitive\
                must provide dimensions');
        }
        let minX = 0, minY = 0, maxX = 0, maxY = 0;
        if (this.primitive === ShapePrimitive.Circle) {
            const d = this.dimensions.x;
            const rad = d / 2;
            this.bBox.x = -rad;
            this.bBox.y = -rad;
            this.bBox.w = d;
            this.bBox.h = d;
        }
        else if (this.primitive === ShapePrimitive.Rect) {
            this.bBox.x = -this.dimensions.x / 2;
            this.bBox.y = -this.dimensions.y / 2;
            this.bBox.w = this.dimensions.x;
            this.bBox.h = this.dimensions.y;
        }
        else if (this.primitive === ShapePrimitive.Mesh && this.mesh) {
            minX = this.mesh.verticies[0].x;
            minY = this.mesh.verticies[0].y;
            maxX = this.mesh.verticies[0].x;
            maxY = this.mesh.verticies[0].y;
            for (let i = 1; i < this.mesh.verticies.length; ++i) {
                const { x, y } = this.mesh.verticies[i];
                if (x < minX)
                    minX = x;
                if (x > maxX)
                    maxX = x;
                if (y < minY)
                    minY = y;
                if (y > maxY)
                    maxY = y;
            }
            this.bBox.w = maxX - minX;
            this.bBox.h = maxY - minY;
            this.bBox.x = -this.bBox.w / 2;
            this.bBox.y = -this.bBox.h / 2;
        }
        if (this.pivot === ShapePivot.TopLeft) {
            this.bBox.x += this.bBox.w / 2;
            this.bBox.y += this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.TopMiddle) {
            this.bBox.y += this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.TopRight) {
            this.bBox.x -= this.bBox.w / 2;
            this.bBox.y += this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.Left) {
            this.bBox.x += this.bBox.w / 2;
        }
        else if (this.pivot === ShapePivot.Right) {
            this.bBox.x -= this.bBox.w / 2;
        }
        else if (this.pivot === ShapePivot.BottomLeft) {
            this.bBox.x += this.bBox.w / 2;
            this.bBox.y -= this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.BottomMiddle) {
            this.bBox.y -= this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.BottomRight) {
            this.bBox.x -= this.bBox.w / 2;
            this.bBox.y -= this.bBox.h / 2;
        }
        if (this.primitive === ShapePrimitive.Mesh && this.mesh) {
            for (let i = 0; i < this.mesh.verticies.length; ++i) {
                this.mesh.verticies[i].x += (this.bBox.x - minX);
                this.mesh.verticies[i].y += (this.bBox.y - minY);
            }
        }
        this.isBuilt = true;
    }
    getBBox() {
        return this.bBox;
    }
}
exports.Shape = Shape;


/***/ }),

/***/ "./src/engine/components/velocity.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/velocity.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Velocity = void 0;
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
class Velocity extends vector2d_1.Vector2D {
    constructor(x, y, angular) {
        super(x, y);
        this.angular = angular;
    }
}
exports.Velocity = Velocity;


/***/ }),

/***/ "./src/engine/index.ts":
/*!*****************************!*\
  !*** ./src/engine/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.hrtime = exports.updateRenderContext = void 0;
const updateRenderContext = () => {
    const canvasEle = document.querySelector('canvas');
    if (!canvasEle)
        throw new Error('Could not find canvas element!');
    const renderContext = canvasEle.getContext('2d');
    if (!renderContext)
        throw new Error('Could not initialize 2D context');
    const canvasBoundingRect = canvasEle.getBoundingClientRect();
    canvasEle.width = canvasBoundingRect.width;
    canvasEle.height = canvasBoundingRect.height;
    renderContext.imageSmoothingEnabled = false;
    return renderContext;
};
exports.updateRenderContext = updateRenderContext;
const hrtime = (previousTimestamp) => {
    const clocktime = performance.now() * 1e-3;
    let seconds = Math.floor(clocktime);
    let nanoseconds = Math.floor((clocktime % 1) * 1e9);
    if (previousTimestamp) {
        seconds = seconds - previousTimestamp[0];
        nanoseconds = nanoseconds - previousTimestamp[1];
        if (nanoseconds < 0) {
            seconds--;
            nanoseconds += 1e9;
        }
    }
    return [seconds, nanoseconds];
};
exports.hrtime = hrtime;


/***/ }),

/***/ "./src/engine/level.h.ts":
/*!*******************************!*\
  !*** ./src/engine/level.h.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Level = void 0;
const _1 = __webpack_require__(/*! ./ */ "./src/engine/index.ts");
const frame_transition_handlers_1 = __webpack_require__(/*! ../app/frame-transition-handlers */ "./src/app/frame-transition-handlers.ts");
class Level {
    constructor(physics, name) {
        this.physics = physics;
        this.name = name;
        const world = this.createWorld();
        if (!world) {
            throw new Error(`The level ${name} must have a non-null \
            resulting createWorld function`);
        }
        this.world = world;
        const renderContext = _1.updateRenderContext();
        this.world.addResource(renderContext);
    }
    destroy() {
        this.world.commands.stopRun();
    }
    async run() {
        return this.world.run({
            beforeStepHandler: frame_transition_handlers_1.beforeFrameHandler,
            initialState: this.initialState,
        }).then(() => this.destroy());
    }
}
exports.Level = Level;


/***/ }),

/***/ "./src/engine/models/camera.ts":
/*!*************************************!*\
  !*** ./src/engine/models/camera.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Camera = exports.CameraFollowMethod = void 0;
var CameraFollowMethod;
(function (CameraFollowMethod) {
    CameraFollowMethod[CameraFollowMethod["Immediate"] = 0] = "Immediate";
    CameraFollowMethod[CameraFollowMethod["Smooth"] = 1] = "Smooth";
    CameraFollowMethod[CameraFollowMethod["Elastic"] = 2] = "Elastic";
})(CameraFollowMethod = exports.CameraFollowMethod || (exports.CameraFollowMethod = {}));
class Camera {
    constructor(x = 0, y = 0, offset = {
        x: 0,
        y: 0,
    }, vel = {
        x: 0,
        y: 0
    }, zoom = 1, rotation = 0, follow, elasticity = 0.01, friction = 0.15) {
        this.x = x;
        this.y = y;
        this.offset = offset;
        this.vel = vel;
        this.zoom = zoom;
        this.rotation = rotation;
        this.follow = follow;
        this.elasticity = elasticity;
        this.friction = friction;
    }
}
exports.Camera = Camera;


/***/ }),

/***/ "./src/engine/models/common-store.ts":
/*!*******************************************!*\
  !*** ./src/engine/models/common-store.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CommonStore = void 0;
const input_1 = __webpack_require__(/*! ../systems/input */ "./src/engine/systems/input.ts");
class CommonStore {
    constructor() {
        this.drawables = 0;
        this.rendered = 0;
        this.lastFrameDeltaTime = 0;
        this.ticks = 0;
        this.medianFps = 30;
        this.timeSinceLevelLoaded = 0;
        this.input = {
            wheel: 0,
            cursorPos: { x: -1, y: -1 },
            keyStates: new Map(),
            prevKeyStates: new Map(),
            mouseStates: new Map(),
            resetPrevKey(key) {
                this.prevKeyStates.set(key, this.keyStates.get(key));
            },
            isAnyKey(key, state) {
                return key.some(e => (this.keyStates.get(e) === state));
            },
            isAnyKeyDifferent(key, state) {
                const res = key.some(e => (this.keyStates.get(e) === state &&
                    this.prevKeyStates.get(e) !== state));
                if (res) {
                    for (const k of key)
                        this.resetPrevKey(k);
                }
                return res;
            },
            isKeyDown(key) {
                return this.keyStates.get(key) === input_1.EKeyState.Down;
            },
            isKeyUp(key) {
                return this.keyStates.get(key) === input_1.EKeyState.Up;
            },
            wasKeyPressed(key) {
                if (this.keyStates.get(key) === input_1.EKeyState.Down &&
                    this.prevKeyStates.get(key) !== input_1.EKeyState.Down) {
                    this.resetPrevKey(key);
                    return true;
                }
                return false;
            },
            wasKeyReleased(key) {
                if (this.keyStates.get(key) === input_1.EKeyState.Up &&
                    this.prevKeyStates.get(key) !== input_1.EKeyState.Up) {
                    this.resetPrevKey(key);
                    return true;
                }
                return false;
            },
        };
        this.debugShapes = false;
        this.wasBlurred = false;
        this.wasIntentionallyPaused = false;
    }
    toWorldSpace({ x, y }) {
        const { a, b, c, d, e, f } = this.screenToWorld;
        return {
            x: a * x + c * y + e,
            y: b * x + d * y + f,
        };
    }
    toScreenSpace({ x, y }) {
        const { a, b, c, d, e, f } = this.worldToScreen;
        return {
            x: a * x + c * y + e,
            y: b * x + d * y + f,
        };
    }
}
exports.CommonStore = CommonStore;


/***/ }),

/***/ "./src/engine/models/common-tags.ts":
/*!******************************************!*\
  !*** ./src/engine/models/common-tags.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ECommonTags = void 0;
var ECommonTags;
(function (ECommonTags) {
    ECommonTags[ECommonTags["ui"] = 0] = "ui";
    ECommonTags[ECommonTags["terrain"] = 1] = "terrain";
    ECommonTags[ECommonTags["destroyEntity"] = 2] = "destroyEntity";
    ECommonTags[ECommonTags["__LATEST"] = 3] = "__LATEST";
})(ECommonTags = exports.ECommonTags || (exports.ECommonTags = {}));


/***/ }),

/***/ "./src/engine/models/rect.ts":
/*!***********************************!*\
  !*** ./src/engine/models/rect.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Rect = void 0;
class Rect {
    constructor(x, y, w, h) {
        this.x = x;
        this.y = y;
        this.w = w;
        this.h = h;
    }
    static checkPointInside(r, { x, y }) {
        return !(x < r.x ||
            x > r.x + r.w ||
            y < r.y ||
            y > r.y + r.h);
    }
    static checkIntersects(r1, r2) {
        return !(r2.x > r1.x + r1.w ||
            r2.x + r2.w < r1.x ||
            r2.y > r1.y + r1.h ||
            r2.y + r2.h < r1.y);
    }
}
exports.Rect = Rect;


/***/ }),

/***/ "./src/engine/models/vector2d.ts":
/*!***************************************!*\
  !*** ./src/engine/models/vector2d.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.vecRight = exports.vecLeft = exports.vecDown = exports.vecUp = exports.vecOne = exports.vecZero = exports.Vector2D = void 0;
class Vector2D {
    constructor(x = 0, y = 0) {
        this.x = x;
        this.y = y;
        this.buf = new ArrayBuffer(4);
        this.f32 = new Float32Array(this.buf);
        this.u32 = new Uint32Array(this.buf);
    }
    addSelf(vec) {
        this.x += vec.x;
        this.y += vec.y;
    }
    subSelf(vec) {
        this.x -= vec.x;
        this.y -= vec.y;
    }
    scale(factor) {
        this.x *= factor;
        this.y *= factor;
    }
    normalize() {
        const inv = this.invSqrt();
        this.x *= inv;
        this.y *= inv;
    }
    invSqrt() {
        const x = this.x * this.x + this.y * this.y;
        const x2 = 0.5 * (this.f32[0] = x);
        this.u32[0] = (0x5f3759df - (this.u32[0] >> 1));
        let y = this.f32[0];
        y = y * (1.5 - (x2 * y * y));
        return y;
    }
    distance(to) {
        const dx = to.x - this.x;
        const dy = to.y - this.y;
        return Math.sqrt(dx * dx + dy * dy);
    }
    sqrDistance(to) {
        const dx = to.x - this.x;
        const dy = to.y - this.y;
        return dx * dx + dy * dy;
    }
    sqrLength() {
        return this.x * this.x + this.y * this.y;
    }
    length() {
        return Math.sqrt(this.x * this.x + this.y * this.y);
    }
}
exports.Vector2D = Vector2D;
exports.vecZero = new Vector2D(0, 0);
exports.vecOne = new Vector2D(1, 1);
exports.vecUp = new Vector2D(0, 1);
exports.vecDown = new Vector2D(0, -1);
exports.vecLeft = new Vector2D(-1, 0);
exports.vecRight = new Vector2D(1, 0);


/***/ }),

/***/ "./src/engine/server.ts":
/*!******************************!*\
  !*** ./src/engine/server.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadPhysics = void 0;
const tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
const box2d_wasm_1 = tslib_1.__importDefault(__webpack_require__(/*! box2d-wasm */ "./node_modules/box2d-wasm/dist/es/entry.js"));
const loadPhysics = async () => {
    return box2d_wasm_1.default().then((box2D) => {
        return box2D;
    });
};
exports.loadPhysics = loadPhysics;


/***/ }),

/***/ "./src/engine/systems/camera.ts":
/*!**************************************!*\
  !*** ./src/engine/systems/camera.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CameraSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const camera_1 = __webpack_require__(/*! ../models/camera */ "./src/engine/models/camera.ts");
const util_1 = __webpack_require__(/*! ../util */ "./src/engine/util.ts");
class CameraSystem extends sim_ecs_1.System {
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.camera = actions.getResource(camera_1.Camera);
    }
    run(_) {
        if (this.camera.rotation > 2 * Math.PI) {
            this.camera.rotation -= 2 * Math.PI;
        }
        if (this.camera.rotation < -2 * Math.PI) {
            this.camera.rotation += 2 * Math.PI;
        }
        if (this.camera.zoom < 0.1) {
            this.camera.zoom = 0.1;
        }
        if (this.camera.zoom > 1.5) {
            this.camera.zoom = 1.5;
        }
        const { follow, offset, } = this.camera;
        if (!follow)
            return;
        const { targetAngle, target, method, } = follow;
        let tx = target.x;
        let ty = target.y;
        offset.x = -this.ctx.canvas.width / (2 * util_1.PIXELS_PER_METER * this.camera.zoom);
        offset.y = -this.ctx.canvas.height / (2 * util_1.PIXELS_PER_METER * this.camera.zoom);
        if (targetAngle !== undefined) {
            this.camera.rotation = util_1.angleLerp(this.camera.rotation, -targetAngle, 0.01);
        }
        if (method === camera_1.CameraFollowMethod.Immediate) {
            this.camera.x = tx;
            this.camera.y = ty;
        }
        else if (method === camera_1.CameraFollowMethod.Smooth) {
            this.camera.x = util_1.lerp(this.camera.x, tx, 0.01);
            this.camera.y = util_1.lerp(this.camera.y, ty, 0.01);
        }
        else if (method === camera_1.CameraFollowMethod.Elastic) {
            const dx = (tx - this.camera.x) * this.camera.elasticity;
            const dy = (ty - this.camera.y) * this.camera.elasticity;
            this.camera.vel.x += dx;
            this.camera.vel.y += dy;
            const fx = -this.camera.friction * this.camera.vel.x;
            const fy = -this.camera.friction * this.camera.vel.y;
            this.camera.vel.x += fx;
            this.camera.vel.y += fy;
            this.camera.x += this.camera.vel.x / this.camera.zoom;
            this.camera.y += this.camera.vel.y / this.camera.zoom;
        }
    }
}
exports.CameraSystem = CameraSystem;


/***/ }),

/***/ "./src/engine/systems/collision.ts":
/*!*****************************************!*\
  !*** ./src/engine/systems/collision.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CollisionSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const shape_1 = __webpack_require__(/*! ../components/shape */ "./src/engine/components/shape.ts");
const collision_1 = __webpack_require__(/*! ../components/collision */ "./src/engine/components/collision.ts");
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
class CollisionSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            collision: sim_ecs_1.Write(collision_1.Collision),
            entity: sim_ecs_1.ReadEntity(),
            position: sim_ecs_1.Read(vector2d_1.Vector2D),
            shape: sim_ecs_1.Read(shape_1.Shape)
        });
    }
    run(actions) {
        const rects = Array.from(this.query.iter())
            .map(({ collision, entity, position, shape }) => {
            collision.collisionObjects.clear();
            collision.occurred = false;
            const { x, y, w, h } = shape.getBBox();
            return {
                collisionData: collision,
                entity,
                width: w,
                height: h,
                x: position.x + x,
                y: position.y + y,
            };
        });
        for (let i = 0; i < rects.length; i++) {
            for (let j = 0; j < rects.length; j++) {
                if (i == j) {
                    continue;
                }
                const rect1 = rects[i];
                const rect2 = rects[j];
                if (rect1.x < rect2.x + rect2.width &&
                    rect1.x + rect1.width > rect2.x &&
                    rect1.y < rect2.y + rect2.height &&
                    rect1.y + rect1.height > rect2.y) {
                    if (!rect1.collisionData.occurred) {
                        rect1.collisionData.occurred = true;
                        rect1.collisionData.collisionObjects.add(rect2.entity);
                    }
                    if (!rect2.collisionData.occurred) {
                        rect2.collisionData.occurred = true;
                        rect2.collisionData.collisionObjects.add(rect1.entity);
                    }
                }
            }
        }
    }
}
exports.CollisionSystem = CollisionSystem;


/***/ }),

/***/ "./src/engine/systems/gc.ts":
/*!**********************************!*\
  !*** ./src/engine/systems/gc.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GcSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const physics_bridge_1 = __webpack_require__(/*! ../components/physics-bridge */ "./src/engine/components/physics-bridge.ts");
const common_tags_1 = __webpack_require__(/*! ../models/common-tags */ "./src/engine/models/common-tags.ts");
const common_store_1 = __webpack_require__(/*! ../models/common-store */ "./src/engine/models/common-store.ts");
class GcSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            entity: sim_ecs_1.ReadEntity(),
            _del: sim_ecs_1.WithTag(common_tags_1.ECommonTags.destroyEntity),
        });
    }
    setup(actions) {
        const { physicsNamespace: { b2World } } = actions.getResource(common_store_1.CommonStore);
        this.physWorld = actions.getResource(b2World);
    }
    run(actions) {
        this.query.execute(({ entity }) => {
            const phys = entity.getComponent(physics_bridge_1.PhysicsBridge);
            if (phys && phys.bodyPtr) {
                this.physWorld.DestroyBody(phys.bodyPtr);
            }
            actions.commands.removeEntity(entity);
        });
        actions.commands.maintain();
    }
}
exports.GcSystem = GcSystem;


/***/ }),

/***/ "./src/engine/systems/input.ts":
/*!*************************************!*\
  !*** ./src/engine/systems/input.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InputSystem = exports.EMouseState = exports.EKeyState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const common_store_1 = __webpack_require__(/*! ../models/common-store */ "./src/engine/models/common-store.ts");
var EKeyState;
(function (EKeyState) {
    EKeyState[EKeyState["Up"] = 0] = "Up";
    EKeyState[EKeyState["Down"] = 1] = "Down";
})(EKeyState = exports.EKeyState || (exports.EKeyState = {}));
var EMouseState;
(function (EMouseState) {
    EMouseState[EMouseState["Down"] = 0] = "Down";
    EMouseState[EMouseState["Up"] = 1] = "Up";
    EMouseState[EMouseState["Move"] = 2] = "Move";
})(EMouseState = exports.EMouseState || (exports.EMouseState = {}));
class InputSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.mouseEvents = [];
        this.wheelEvents = [];
        this.listeners = {
            wheel: (e) => (this.wheelEvents.push(-e.deltaY / 125)),
            keydown: (e) => {
                this.resetPrevState(e.code);
                this.commonStore.input.keyStates.set(e.code, EKeyState.Down);
            },
            keyup: (e) => {
                this.resetPrevState(e.code);
                this.commonStore.input.keyStates.set(e.code, EKeyState.Up);
            },
            mousedown: (e) => this.mouseEvents.push({
                button: e.button,
                type: EMouseState.Down,
                x: e.clientX,
                y: e.clientY,
            }),
            mouseup: (e) => this.mouseEvents.push({
                button: e.button,
                type: EMouseState.Up,
                x: e.clientX,
                y: e.clientY,
            }),
            mousemove: (e) => this.mouseEvents.push({
                button: e.button,
                type: EMouseState.Move,
                x: e.clientX,
                y: e.clientY,
            }),
            contextmenu: (e) => e.preventDefault(),
        };
    }
    resetPrevState(code) {
        const prevState = this.commonStore.input.keyStates.get(code);
        this.commonStore.input.prevKeyStates.set(code, prevState);
    }
    setup(actions) {
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        for (const [event, handler] of Object.entries(this.listeners)) {
            window.addEventListener(event, handler);
        }
    }
    destroy(_) {
        super.destroy(_);
        for (const [event, handler] of Object.entries(this.listeners)) {
            window.removeEventListener(event, handler);
        }
    }
    run(actions) {
        let mouseEvent;
        this.commonStore.input.mouseStates.clear();
        while ((mouseEvent = this.mouseEvents.pop())) {
            const { type, x, y, button } = mouseEvent;
            this.commonStore.input.mouseStates.set(button, type);
            this.commonStore.input.cursorPos.x = x;
            this.commonStore.input.cursorPos.y = y;
        }
        let wheelDelta;
        this.commonStore.input.wheel = 0;
        while ((wheelDelta = this.wheelEvents.pop())) {
            this.commonStore.input.wheel = wheelDelta;
        }
    }
}
exports.InputSystem = InputSystem;


/***/ }),

/***/ "./src/engine/systems/physics.ts":
/*!***************************************!*\
  !*** ./src/engine/systems/physics.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PhysicsSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const position_1 = __webpack_require__(/*! ../components/position */ "./src/engine/components/position.ts");
const rotation_1 = __webpack_require__(/*! ../components/rotation */ "./src/engine/components/rotation.ts");
const velocity_1 = __webpack_require__(/*! ../components/velocity */ "./src/engine/components/velocity.ts");
const common_store_1 = __webpack_require__(/*! ../models/common-store */ "./src/engine/models/common-store.ts");
const physics_bridge_1 = __webpack_require__(/*! ../components/physics-bridge */ "./src/engine/components/physics-bridge.ts");
class PhysicsSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            entity: sim_ecs_1.ReadEntity(),
            pos: sim_ecs_1.Write(position_1.Position),
            rot: sim_ecs_1.Write(rotation_1.Rotation),
            vel: sim_ecs_1.Read(velocity_1.Velocity),
        });
    }
    setup(actions) {
        const { physicsNamespace: { b2World } } = actions.getResource(common_store_1.CommonStore);
        this.physWorld = actions.getResource(b2World);
    }
    run(actions) {
        const dt = 0.016;
        const { physicsNamespace: { getPointer, NULL } } = actions.getResource(common_store_1.CommonStore);
        this.query.execute(({ entity, pos, rot, vel }) => {
            const phys = entity.getComponent(physics_bridge_1.PhysicsBridge);
            if (phys) {
                const body = phys.bodyPtr;
                if (!body)
                    return;
                const { x, y } = body.GetPosition();
                const angle = body.GetAngle();
                pos.x = x;
                pos.y = y;
                rot.value = angle;
            }
            else {
                pos.x += vel.x * dt;
                pos.y += vel.y * dt;
                rot.value += vel.angular * dt;
            }
        });
        this.physWorld.Step(dt, 1, 1);
    }
}
exports.PhysicsSystem = PhysicsSystem;


/***/ }),

/***/ "./src/engine/util.ts":
/*!****************************!*\
  !*** ./src/engine/util.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.angleLerp = exports.shortAngleDist = exports.lerp = exports.PIXELS_PER_METER = exports.drawPoint = exports.TWOPI = void 0;
exports.TWOPI = Math.PI * 2;
const drawPoint = (ctx, x, y, size = 0.1) => {
    ctx.beginPath();
    ctx.fillStyle = 'rgba(255,255,255,0.7)';
    ctx.arc(x, y, size, 0, exports.TWOPI);
    ctx.fill();
};
exports.drawPoint = drawPoint;
exports.PIXELS_PER_METER = 32;
const lerp = (value1, value2, factor) => {
    factor = factor < 0 ? 0 : factor;
    factor = factor > 1 ? 1 : factor;
    return value1 + (value2 - value1) * factor;
};
exports.lerp = lerp;
function shortAngleDist(a0, a1) {
    const max = Math.PI * 2;
    const da = (a1 - a0) % max;
    return 2 * da % max - da;
}
exports.shortAngleDist = shortAngleDist;
function angleLerp(a0, a1, t) {
    return a0 + shortAngleDist(a0, a1) * t;
}
exports.angleLerp = angleLerp;


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const topdown_1 = __webpack_require__(/*! ./levels/topdown */ "./src/levels/topdown.ts");
__webpack_require__(/*! ./scss/app.scss */ "./src/scss/app.scss");
const engine_1 = __webpack_require__(/*! ./engine */ "./src/engine/index.ts");
const server_1 = __webpack_require__(/*! ./engine/server */ "./src/engine/server.ts");
window.addEventListener('resize', engine_1.updateRenderContext);
const _fetch = window.fetch;
window.fetch = (input, init) => {
    if ((init === null || init === void 0 ? void 0 : init.credentials) === 'same-origin') {
        delete init.credentials;
    }
    return _fetch(input, init);
};
const levels = {
    'topdown': topdown_1.Topdown,
};
(async () => {
    const box2D = await server_1.loadPhysics();
    const options = Object.keys(levels)
        .map((e, i) => (`${i + 1}) ${e}`));
    options.push('exit (or empty)');
    let requestedLevel = 'topdown';
    while (requestedLevel !== 'exit') {
        const level = requestedLevel;
        let world = new levels[level](box2D);
        await world.run();
        requestedLevel = prompt('What level would you like to check next?\n' +
            options.join('\n')) || 'exit';
    }
})().catch(console.error);


/***/ }),

/***/ "./src/levels/topdown.ts":
/*!*******************************!*\
  !*** ./src/levels/topdown.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Topdown = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const character_1 = __webpack_require__(/*! ../components/character */ "./src/components/character.ts");
const ui_item_1 = __webpack_require__(/*! ../components/ui-item */ "./src/components/ui-item.ts");
const collision_1 = __webpack_require__(/*! ../engine/components/collision */ "./src/engine/components/collision.ts");
const material_1 = __webpack_require__(/*! ../engine/components/material */ "./src/engine/components/material.ts");
const mesh_1 = __webpack_require__(/*! ../engine/components/mesh */ "./src/engine/components/mesh.ts");
const physics_bridge_1 = __webpack_require__(/*! ../engine/components/physics-bridge */ "./src/engine/components/physics-bridge.ts");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const rotation_1 = __webpack_require__(/*! ../engine/components/rotation */ "./src/engine/components/rotation.ts");
const shape_1 = __webpack_require__(/*! ../engine/components/shape */ "./src/engine/components/shape.ts");
const velocity_1 = __webpack_require__(/*! ../engine/components/velocity */ "./src/engine/components/velocity.ts");
const level_h_1 = __webpack_require__(/*! ../engine/level.h */ "./src/engine/level.h.ts");
const camera_1 = __webpack_require__(/*! ../engine/models/camera */ "./src/engine/models/camera.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const camera_2 = __webpack_require__(/*! ../engine/systems/camera */ "./src/engine/systems/camera.ts");
const collision_2 = __webpack_require__(/*! ../engine/systems/collision */ "./src/engine/systems/collision.ts");
const gc_1 = __webpack_require__(/*! ../engine/systems/gc */ "./src/engine/systems/gc.ts");
const input_1 = __webpack_require__(/*! ../engine/systems/input */ "./src/engine/systems/input.ts");
const physics_1 = __webpack_require__(/*! ../engine/systems/physics */ "./src/engine/systems/physics.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const menu_1 = __webpack_require__(/*! ../states/menu */ "./src/states/menu.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
const character_2 = __webpack_require__(/*! ../systems/character */ "./src/systems/character.ts");
const menu_2 = __webpack_require__(/*! ../systems/menu */ "./src/systems/menu.ts");
const pause_1 = __webpack_require__(/*! ../systems/pause */ "./src/systems/pause.ts");
const render_game_1 = __webpack_require__(/*! ../systems/render-game */ "./src/systems/render-game.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
class Topdown extends level_h_1.Level {
    constructor(physics) {
        super(physics, 'topdown');
        this.initialState = menu_1.MenuState;
        const { b2Vec2, b2World } = physics;
        const gravity = new b2Vec2(0, 9.81);
        const physWorld = new b2World(gravity);
        this.world.addResource(physWorld);
        const zero = new b2Vec2(0, 0);
        const gameStore = new game_store_1.GameStore();
        const camera = new camera_1.Camera();
        const commonStore = new common_store_1.CommonStore();
        commonStore.physicsNamespace = physics;
        commonStore.physicsZero = zero;
        this.world.addResource(commonStore);
        this.world.addResource(gameStore);
        this.world.addResource(camera);
    }
    destroy() {
        super.destroy();
        const { physicsNamespace, physicsZero } = this.world.getResource(common_store_1.CommonStore);
        const physicsWorld = this.world.getResource(physicsNamespace.b2World);
        physicsNamespace.destroy(physicsWorld);
        physicsNamespace.destroy(physicsZero);
        const ctx = this.world.getResource(CanvasRenderingContext2D);
        ctx.fillStyle = '#ececec';
        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
    }
    createWorld() {
        return new sim_ecs_1.ECS()
            .buildWorld()
            .withSystem(camera_2.CameraSystem, [
            character_2.CharacterSystem
        ])
            .withSystem(physics_1.PhysicsSystem, [
            character_2.CharacterSystem
        ])
            .withSystem(character_2.CharacterSystem, [
            collision_2.CollisionSystem
        ])
            .withSystem(collision_2.CollisionSystem, [])
            .withSystem(actions_1.ActionsSystem, [
            pause_1.PauseSystem
        ])
            .withSystem(input_1.InputSystem)
            .withSystem(menu_2.MenuSystem, [
            input_1.InputSystem,
        ])
            .withSystem(pause_1.PauseSystem, [
            input_1.InputSystem
        ])
            .withSystem(render_game_1.RenderGameSystem, [
            physics_1.PhysicsSystem,
            character_2.CharacterSystem,
        ])
            .withSystem(gc_1.GcSystem, [
            render_game_1.RenderGameSystem,
        ])
            .withSystem(render_ui_1.RenderUISystem, [
            physics_1.PhysicsSystem,
            menu_2.MenuSystem,
            pause_1.PauseSystem
        ])
            .withComponents(collision_1.Collision, material_1.Material, mesh_1.Mesh, position_1.Position, rotation_1.Rotation, shape_1.Shape, ui_item_1.UIItem, velocity_1.Velocity, character_1.Character, physics_bridge_1.PhysicsBridge)
            .build();
    }
}
exports.Topdown = Topdown;


/***/ }),

/***/ "./src/models/game-store.ts":
/*!**********************************!*\
  !*** ./src/models/game-store.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameStore = void 0;
class GameStore {
    constructor() {
        this.continue = false;
        this.actions = {
            characterMovement: 0,
            menuConfirm: false,
            menuMovement: 0,
            togglePause: false,
        };
    }
}
exports.GameStore = GameStore;


/***/ }),

/***/ "./src/models/tags.ts":
/*!****************************!*\
  !*** ./src/models/tags.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ETags = exports.MyTags = void 0;
const common_tags_1 = __webpack_require__(/*! ../engine/models/common-tags */ "./src/engine/models/common-tags.ts");
var MyTags;
(function (MyTags) {
    MyTags[MyTags["save"] = 3] = "save";
    MyTags[MyTags["character"] = 4] = "character";
    MyTags[MyTags["networkObject"] = 5] = "networkObject";
})(MyTags = exports.MyTags || (exports.MyTags = {}));
exports.ETags = Object.assign(Object.assign({}, common_tags_1.ECommonTags), MyTags);


/***/ }),

/***/ "./src/prefabs/game.ts":
/*!*****************************!*\
  !*** ./src/prefabs/game.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.gamePrefab = void 0;
const shape_1 = __webpack_require__(/*! ../engine/components/shape */ "./src/engine/components/shape.ts");
exports.gamePrefab = [
    {
        PhysicsBridge: {},
        Collision: {},
        Position: {
            x: 0,
            y: 0,
        },
        Rotation: {
            value: 0
        },
        Velocity: {
            x: 0,
            y: 0,
        },
        Material: {
            color: '#fdff03'
        },
        Shape: {
            dimensions: {
                x: 2,
                y: 0.7,
            },
            pivot: shape_1.ShapePivot.TopLeft,
            primitive: shape_1.ShapePrimitive.Rect,
        },
    },
    {
        Collision: {},
        Position: {
            x: 1,
            y: 3,
        },
        Rotation: {
            value: 0
        },
        Velocity: {
            x: 2,
            y: 0,
        },
        Material: {
            color: '#fdff03'
        },
        Shape: {
            zIndex: 10,
            pivot: shape_1.ShapePivot.TopLeft,
            dimensions: {
                x: 0.7,
            },
            primitive: shape_1.ShapePrimitive.Circle,
        },
    },
    {
        Collision: {},
        Position: {
            x: 18,
            y: 0,
        },
        Rotation: {
            value: 7 * Math.PI / 4
        },
        Velocity: {
            x: 0,
            y: 0,
        },
        Material: {
            color: '#0bb'
        },
    },
];


/***/ }),

/***/ "./src/prefabs/menu.ts":
/*!*****************************!*\
  !*** ./src/prefabs/menu.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.menuPrefab = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const actions_1 = __webpack_require__(/*! ../app/actions */ "./src/app/actions.ts");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
exports.menuPrefab = [
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.05 * 1024,
        },
        UIItem: {
            caption: 'SHPEK',
            color: '#ddd',
            fontSize: 64,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.12 * 1024,
        },
        UIItem: {
            caption: 'Pen is game',
            color: '#ddd',
            fontSize: 24,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.2 * 1024,
        },
        UIItem: {
            caption: 'How to play: Move: WASD, Rotate Q/E, Pause: Escape',
            color: '#ddd',
            fontSize: 24,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.24 * 1024,
        },
        UIItem: {
            caption: 'The game will be saved upon pausing (not yet lmao)',
            color: '#ddd',
            fontSize: 24,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.15 * 1024,
            y: 0.35 * 1024,
        },
        UIItem: {
            action: actions_1.EActions.Play,
            active: true,
            color: '#ddd',
            caption: 'Play',
            fontSize: 32,
        },
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.15 * 1024,
            y: 0.4 * 1024,
        },
        UIItem: {
            action: actions_1.EActions.Continue,
            color: '#ddd',
            caption: 'Continue',
            fontSize: 32,
        },
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.15 * 1024,
            y: 0.45 * 1024,
        },
        UIItem: {
            action: actions_1.EActions.Exit,
            color: '#ddd',
            caption: 'Exit (really?)',
            fontSize: 32,
        },
    },
];


/***/ }),

/***/ "./src/prefabs/pause.ts":
/*!******************************!*\
  !*** ./src/prefabs/pause.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.pausePrefab = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
exports.pausePrefab = [
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 50,
            y: 30,
        },
        UIItem: {
            caption: ' PAUSE',
            color: '#ddd',
            fontSize: 64,
        }
    },
];


/***/ }),

/***/ "./src/prefabs/savable.ts":
/*!********************************!*\
  !*** ./src/prefabs/savable.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.savablePrefab = void 0;
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const _1_1 = __webpack_require__(/*! ../../res/meshes/1 */ "./res/meshes/1.ts");
const shape_1 = __webpack_require__(/*! ../engine/components/shape */ "./src/engine/components/shape.ts");
exports.savablePrefab = [
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.character,
        ],
        Character: {
            name: 'XuPoH'
        },
        Velocity: {
            x: 0,
            y: 0,
            angular: 0,
        },
        Collision: {},
        Rotation: {
            value: 0
        },
        Position: {
            x: 0,
            y: 0,
        },
        Shape: {
            zIndex: 11,
            dimensions: {
                x: 1,
            },
            mesh: {
                verticies: _1_1.verticies
            },
            primitive: shape_1.ShapePrimitive.Mesh,
            pivot: shape_1.ShapePivot.Middle,
        },
        Material: {
            color: '#cca',
        },
    },
];


/***/ }),

/***/ "./src/states/game.ts":
/*!****************************!*\
  !*** ./src/states/game.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const persistence_1 = __webpack_require__(/*! ../app/persistence */ "./src/app/persistence.ts");
const physics_bridge_1 = __webpack_require__(/*! ../engine/components/physics-bridge */ "./src/engine/components/physics-bridge.ts");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const shape_1 = __webpack_require__(/*! ../engine/components/shape */ "./src/engine/components/shape.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const camera_1 = __webpack_require__(/*! ../engine/systems/camera */ "./src/engine/systems/camera.ts");
const collision_1 = __webpack_require__(/*! ../engine/systems/collision */ "./src/engine/systems/collision.ts");
const gc_1 = __webpack_require__(/*! ../engine/systems/gc */ "./src/engine/systems/gc.ts");
const input_1 = __webpack_require__(/*! ../engine/systems/input */ "./src/engine/systems/input.ts");
const physics_1 = __webpack_require__(/*! ../engine/systems/physics */ "./src/engine/systems/physics.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const game_1 = __webpack_require__(/*! ../prefabs/game */ "./src/prefabs/game.ts");
const savable_1 = __webpack_require__(/*! ../prefabs/savable */ "./src/prefabs/savable.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
const character_1 = __webpack_require__(/*! ../systems/character */ "./src/systems/character.ts");
const pause_1 = __webpack_require__(/*! ../systems/pause */ "./src/systems/pause.ts");
const render_game_1 = __webpack_require__(/*! ../systems/render-game */ "./src/systems/render-game.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
class GameState extends sim_ecs_1.State {
    constructor() {
        super(...arguments);
        this._systems = [
            physics_1.PhysicsSystem,
            character_1.CharacterSystem,
            collision_1.CollisionSystem,
            input_1.InputSystem,
            camera_1.CameraSystem,
            pause_1.PauseSystem,
            render_game_1.RenderGameSystem,
            render_ui_1.RenderUISystem,
            gc_1.GcSystem,
            actions_1.ActionsSystem,
        ];
    }
    activate(actions) {
        actions.getResource(game_store_1.GameStore).currentState = this;
    }
    async create(actions) {
        var _a;
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.staticDataPrefabHandle = createNewGame(actions);
        if (this.gameStore.continue) {
            this.saveDataPrefabHandle = persistence_1.load(actions);
        }
        else {
            this.saveDataPrefabHandle = createGameFromSaveData(actions);
        }
        await actions.flushCommands();
        for (const entity of actions.getEntities(new sim_ecs_1.Query([
            sim_ecs_1.With(shape_1.Shape)
        ]))) {
            (_a = entity.getComponent(shape_1.Shape)) === null || _a === void 0 ? void 0 : _a.build();
        }
        const { b2World, b2CircleShape, b2Shape, b2PolygonShape, b2BodyDef, b2_dynamicBody, b2Vec2, destroy, } = this.commonStore.physicsNamespace;
        const physWorld = actions.getResource(b2World);
        const zero = this.commonStore.physicsZero;
        let physShape = null;
        for (const entity of actions.getEntities(new sim_ecs_1.Query([
            sim_ecs_1.With(shape_1.Shape),
            sim_ecs_1.With(position_1.Position),
            sim_ecs_1.With(physics_bridge_1.PhysicsBridge)
        ]))) {
            const pos = entity.getComponent(position_1.Position);
            const shape = entity.getComponent(shape_1.Shape);
            const physicsBridge = entity.getComponent(physics_bridge_1.PhysicsBridge);
            console.log('Adding to physics world:', pos, shape);
            const vec = new b2Vec2(pos.x, pos.y);
            const bd = new b2BodyDef();
            const { w, h } = shape.getBBox();
            if (shape.primitive === shape_1.ShapePrimitive.Rect) {
                const _shape = new b2PolygonShape();
                _shape.SetAsBox(w, h);
                physShape = _shape;
            }
            else if (shape.primitive === shape_1.ShapePrimitive.Circle) {
                const _shape = new b2CircleShape();
                _shape.set_m_radius(shape.dimensions.x / 2);
                physShape = _shape;
            }
            else {
                console.error(shape.primitive, 'is not supported by physics now');
            }
            if (physShape) {
                bd.set_type(b2_dynamicBody);
                bd.set_position(vec);
                const body = physWorld.CreateBody(bd);
                vec.Set(0, 0);
                body.SetTransform(vec, 0);
                body.CreateFixture(physShape, 1);
                destroy(vec);
                destroy(physShape);
                body.SetLinearVelocity(zero);
                body.SetAwake(true);
                body.SetEnabled(true);
                physicsBridge.bodyPtr = body;
            }
        }
        actions.commands.maintain();
    }
    destroy(actions) {
        if (this.staticDataPrefabHandle) {
            actions.commands.unloadPrefab(this.staticDataPrefabHandle);
        }
        if (this.saveDataPrefabHandle) {
            actions.commands.unloadPrefab(this.saveDataPrefabHandle);
        }
        const { physicsNamespace: { b2World, destroy } } = this.commonStore;
        destroy(actions.getResource(b2World));
        actions.commands.maintain();
    }
}
exports.GameState = GameState;
const createNewGame = function (actions) {
    return actions.commands.load(sim_ecs_1.SerialFormat.fromArray(game_1.gamePrefab));
};
const createGameFromSaveData = function (actions) {
    return actions.commands.load(sim_ecs_1.SerialFormat.fromArray(savable_1.savablePrefab));
};


/***/ }),

/***/ "./src/states/menu.ts":
/*!****************************!*\
  !*** ./src/states/menu.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MenuState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const menu_1 = __webpack_require__(/*! ../prefabs/menu */ "./src/prefabs/menu.ts");
const menu_2 = __webpack_require__(/*! ../systems/menu */ "./src/systems/menu.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const input_1 = __webpack_require__(/*! ../engine/systems/input */ "./src/engine/systems/input.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
class MenuState extends sim_ecs_1.State {
    constructor() {
        super(...arguments);
        this._systems = [input_1.InputSystem, actions_1.ActionsSystem, menu_2.MenuSystem, render_ui_1.RenderUISystem];
    }
    activate(actions) {
        actions.getResource(game_store_1.GameStore).currentState = this;
        this.prefabHandle = actions.commands.load(sim_ecs_1.SerialFormat.fromArray(menu_1.menuPrefab));
        actions.commands.maintain();
    }
    deactivate(actions) {
        actions.commands.unloadPrefab(this.prefabHandle);
        actions.commands.maintain();
    }
}
exports.MenuState = MenuState;


/***/ }),

/***/ "./src/states/pause.ts":
/*!*****************************!*\
  !*** ./src/states/pause.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PauseState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const pause_1 = __webpack_require__(/*! ../systems/pause */ "./src/systems/pause.ts");
const pause_2 = __webpack_require__(/*! ../prefabs/pause */ "./src/prefabs/pause.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const persistence_1 = __webpack_require__(/*! ../app/persistence */ "./src/app/persistence.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
const render_game_1 = __webpack_require__(/*! ../systems/render-game */ "./src/systems/render-game.ts");
const input_1 = __webpack_require__(/*! ../engine/systems/input */ "./src/engine/systems/input.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
class PauseState extends sim_ecs_1.State {
    constructor() {
        super(...arguments);
        this._systems = [input_1.InputSystem, actions_1.ActionsSystem, pause_1.PauseSystem, render_game_1.RenderGameSystem, render_ui_1.RenderUISystem];
    }
    activate(actions) {
        const gameStore = actions.getResource(game_store_1.GameStore);
        persistence_1.save(actions);
        gameStore.currentState = this;
        this.prefabHandle = actions.commands.load(sim_ecs_1.SerialFormat.fromArray(pause_2.pausePrefab));
        actions.commands.maintain();
    }
    deactivate(actions) {
        actions.commands.unloadPrefab(this.prefabHandle);
        actions.commands.maintain();
    }
}
exports.PauseState = PauseState;


/***/ }),

/***/ "./src/systems/actions.ts":
/*!********************************!*\
  !*** ./src/systems/actions.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ActionsSystem = void 0;
const tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const KeyCode = tslib_1.__importStar(__webpack_require__(/*! keycode-js */ "./node_modules/keycode-js/dist/keycode.esm.js"));
const input_1 = __webpack_require__(/*! ../engine/systems/input */ "./src/engine/systems/input.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
class ActionsSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.listeners = {
            blur: () => {
                this.gameStore.actions.characterMovement = 0;
                this.gameStore.actions.menuMovement = 0;
                this.gameStore.actions.togglePause = false;
                this.commonStore.input.keyStates.clear();
            },
            focus: () => this.listeners.blur(),
        };
    }
    setup(actions) {
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        for (const [event, handler] of Object.entries(this.listeners)) {
            window.addEventListener(event, handler);
        }
    }
    updateAction(triggers, pos, neg, menu) {
        if (menu) {
            if (this.commonStore.input.isAnyKeyDifferent(triggers, input_1.EKeyState.Down)) {
                this.gameStore.actions.menuMovement = menu;
            }
        }
        if (this.commonStore.input.isAnyKey(triggers, input_1.EKeyState.Down)) {
            this.gameStore.actions.characterMovement |= pos;
            this.gameStore.actions.characterMovement &= ~neg;
        }
        else if (this.commonStore.input.isAnyKeyDifferent(triggers, input_1.EKeyState.Up)) {
            this.gameStore.actions.characterMovement &= ~pos;
        }
    }
    run(actions) {
        {
            this.gameStore.actions.menuConfirm = false;
            this.gameStore.actions.menuMovement = 0;
            this.gameStore.actions.togglePause = false;
        }
        const { input } = this.commonStore;
        if (input.wasKeyPressed(KeyCode.CODE_ENTER)) {
            this.gameStore.actions.menuConfirm = true;
        }
        if (input.wasKeyPressed(KeyCode.CODE_ESCAPE)) {
            console.log(input);
            this.gameStore.actions.togglePause = true;
        }
        this.updateAction([
            KeyCode.CODE_W,
            KeyCode.CODE_UP
        ], 1, 2, 1);
        this.updateAction([
            KeyCode.CODE_A,
            KeyCode.CODE_LEFT
        ], 4, 8);
        this.updateAction([
            KeyCode.CODE_S,
            KeyCode.CODE_DOWN
        ], 2, 1, 2);
        this.updateAction([
            KeyCode.CODE_D,
            KeyCode.CODE_RIGHT
        ], 8, 4);
    }
}
exports.ActionsSystem = ActionsSystem;


/***/ }),

/***/ "./src/systems/character.ts":
/*!**********************************!*\
  !*** ./src/systems/character.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CharacterSystem = void 0;
const keycode_js_1 = __webpack_require__(/*! keycode-js */ "./node_modules/keycode-js/dist/keycode.esm.js");
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const rotation_1 = __webpack_require__(/*! ../engine/components/rotation */ "./src/engine/components/rotation.ts");
const velocity_1 = __webpack_require__(/*! ../engine/components/velocity */ "./src/engine/components/velocity.ts");
const camera_1 = __webpack_require__(/*! ../engine/models/camera */ "./src/engine/models/camera.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
class CharacterSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            _character: sim_ecs_1.WithTag(tags_1.ETags.character),
            entity: sim_ecs_1.ReadEntity(),
            pos: sim_ecs_1.Read(position_1.Position),
            rotation: sim_ecs_1.Write(rotation_1.Rotation),
            velocity: sim_ecs_1.Write(velocity_1.Velocity),
        });
        this.runs = 0;
    }
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.camera = actions.getResource(camera_1.Camera);
        this.camera.elasticity = 0.008;
        this.camera.follow = {
            method: camera_1.CameraFollowMethod.Elastic,
            target: {
                x: this.camera.x,
                y: this.camera.y,
            },
            prevX: this.camera.x,
            prevY: this.camera.y,
        };
    }
    run(actions) {
        this.camera.zoom += this.commonStore.input.wheel / 10;
        this.query.execute(({ rotation, pos, velocity }) => {
            if (this.commonStore.input.isKeyDown(keycode_js_1.CODE_E)) {
                rotation.value += 0.01;
            }
            if (this.commonStore.input.isKeyDown(keycode_js_1.CODE_Q)) {
                rotation.value -= 0.01;
            }
            this.camera.follow.target = pos;
            this.camera.follow.targetAngle = rotation.value;
            const dt = this.commonStore.lastFrameDeltaTime;
            const { characterMovement: move } = this.gameStore.actions;
            const isLeft = (move & 4) === 4;
            const isRight = (move & 8) === 8;
            velocity.x = 0;
            if (isLeft && !isRight) {
                velocity.x = -1;
            }
            if (isRight && !isLeft) {
                velocity.x = 1;
            }
            if ((move & 1) === 1) {
                velocity.y = -1;
            }
            else if ((move & 2) === 2) {
                velocity.y = 1;
            }
            else {
                velocity.y = 0;
            }
            const { x: vx, y: vy } = velocity;
            const [sin, cos] = rotation.sin_cos;
            velocity.x = vx * cos - vy * sin;
            velocity.y = vx * sin + vy * cos;
            velocity.normalize();
            velocity.scale(dt * 60 * 2);
        });
    }
}
exports.CharacterSystem = CharacterSystem;


/***/ }),

/***/ "./src/systems/menu.ts":
/*!*****************************!*\
  !*** ./src/systems/menu.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MenuSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const ui_item_1 = __webpack_require__(/*! ../components/ui-item */ "./src/components/ui-item.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const actions_1 = __webpack_require__(/*! ../app/actions */ "./src/app/actions.ts");
const game_1 = __webpack_require__(/*! ../states/game */ "./src/states/game.ts");
const menu_1 = __webpack_require__(/*! ../states/menu */ "./src/states/menu.ts");
class MenuSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this._states = [
            game_1.GameState,
            menu_1.MenuState
        ];
        this.query = new sim_ecs_1.Query({
            uiItem: sim_ecs_1.Write(ui_item_1.UIItem)
        });
        this.menuAction = actions_1.EActions.Play;
    }
    setup(actions) {
        this.actions = actions;
        this.gameStore = actions.getResource(game_store_1.GameStore);
        console.log('setup Menu');
    }
    run(actions) {
        if (this.gameStore.actions.menuMovement == 2) {
            switch (this.menuAction) {
                case actions_1.EActions.Play:
                    this.menuAction = actions_1.EActions.Continue;
                    break;
                case actions_1.EActions.Continue:
                    this.menuAction = actions_1.EActions.Exit;
                    break;
                case actions_1.EActions.Exit:
                    this.menuAction = actions_1.EActions.Play;
                    break;
                default: {
                    throw new Error(`Action ${this.menuAction} not implemented!`);
                }
            }
        }
        else if (this.gameStore.actions.menuMovement == 1) {
            switch (this.menuAction) {
                case actions_1.EActions.Play:
                    this.menuAction = actions_1.EActions.Exit;
                    break;
                case actions_1.EActions.Continue:
                    this.menuAction = actions_1.EActions.Play;
                    break;
                case actions_1.EActions.Exit:
                    this.menuAction = actions_1.EActions.Continue;
                    break;
                default: {
                    throw new Error(`Action ${this.menuAction} not implemented!`);
                }
            }
        }
        if (this.gameStore.actions.menuConfirm) {
            if (this.menuAction == actions_1.EActions.Play) {
                this.actions.commands.pushState(game_1.GameState);
            }
            else if (this.menuAction == actions_1.EActions.Continue) {
                if (localStorage.getItem('save') == null) {
                    alert('Sorry you werent saved lol');
                    return;
                }
                this.gameStore.continue = true;
                this.actions.commands.pushState(game_1.GameState);
            }
            else {
                this.actions.commands.stopRun();
            }
            return;
        }
        for (const { uiItem } of this.query.iter()) {
            uiItem.active = uiItem.action == this.menuAction;
        }
    }
}
exports.MenuSystem = MenuSystem;


/***/ }),

/***/ "./src/systems/pause.ts":
/*!******************************!*\
  !*** ./src/systems/pause.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PauseSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const game_1 = __webpack_require__(/*! ../states/game */ "./src/states/game.ts");
const pause_1 = __webpack_require__(/*! ../states/pause */ "./src/states/pause.ts");
class PauseSystem extends sim_ecs_1.System {
    setup(actions) {
        this.actions = actions;
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        window.addEventListener('blur', () => {
            var _a, _b;
            const isGameState = ((_a = this.gameStore.currentState) === null || _a === void 0 ? void 0 : _a.constructor) == game_1.GameState;
            const isPauseState = ((_b = this.gameStore.currentState) === null || _b === void 0 ? void 0 : _b.constructor) == pause_1.PauseState;
            if (!isGameState && !isPauseState)
                return;
            if (!isPauseState) {
                this.actions.commands.pushState(pause_1.PauseState);
                this.commonStore.wasBlurred = true;
            }
        });
        window.addEventListener('focus', () => {
            if (this.commonStore.wasBlurred &&
                !this.commonStore.wasIntentionallyPaused) {
                this.actions.commands.popState();
            }
        });
    }
    run(actions) {
        var _a, _b;
        const isGameState = ((_a = this.gameStore.currentState) === null || _a === void 0 ? void 0 : _a.constructor) == game_1.GameState;
        const isPauseState = ((_b = this.gameStore.currentState) === null || _b === void 0 ? void 0 : _b.constructor) == pause_1.PauseState;
        if (!isGameState && !isPauseState) {
            return;
        }
        if (this.gameStore.actions.togglePause) {
            if (isGameState) {
                this.commonStore.wasIntentionallyPaused = true;
                this.actions.commands.pushState(pause_1.PauseState);
            }
            else {
                this.commonStore.wasIntentionallyPaused = false;
                this.actions.commands.popState();
            }
        }
    }
}
exports.PauseSystem = PauseSystem;


/***/ }),

/***/ "./src/systems/render-game.ts":
/*!************************************!*\
  !*** ./src/systems/render-game.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RenderGameSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const material_1 = __webpack_require__(/*! ../engine/components/material */ "./src/engine/components/material.ts");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const rotation_1 = __webpack_require__(/*! ../engine/components/rotation */ "./src/engine/components/rotation.ts");
const shape_1 = __webpack_require__(/*! ../engine/components/shape */ "./src/engine/components/shape.ts");
const camera_1 = __webpack_require__(/*! ../engine/models/camera */ "./src/engine/models/camera.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const rect_1 = __webpack_require__(/*! ../engine/models/rect */ "./src/engine/models/rect.ts");
const util_1 = __webpack_require__(/*! ../engine/util */ "./src/engine/util.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
class RenderGameSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            pos: sim_ecs_1.Read(position_1.Position),
            rot: sim_ecs_1.Write(rotation_1.Rotation),
            shape: sim_ecs_1.Read(shape_1.Shape),
            material: sim_ecs_1.Read(material_1.Material),
        });
        this.runs = 0;
    }
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        this.camera = actions.getResource(camera_1.Camera);
        this.controls = document.querySelector('#controls');
    }
    run(actions) {
        const viewport = {
            x: this.camera.x + this.camera.offset.x,
            y: this.camera.y + this.camera.offset.y,
            w: this.ctx.canvas.width / (this.camera.zoom * util_1.PIXELS_PER_METER),
            h: this.ctx.canvas.height / (this.camera.zoom * util_1.PIXELS_PER_METER),
        };
        this.camera.viewport = viewport;
        this.ctx.save();
        this.ctx.scale(util_1.PIXELS_PER_METER * this.camera.zoom, util_1.PIXELS_PER_METER * this.camera.zoom);
        this.ctx.translate(-viewport.x, -viewport.y);
        this.ctx.translate(this.camera.x, this.camera.y);
        this.ctx.rotate(this.camera.rotation);
        this.ctx.translate(-this.camera.x, -this.camera.y);
        this.commonStore.worldToScreen = this.ctx.getTransform();
        this.commonStore.screenToWorld = this.ctx.getTransform().inverse();
        const { x: mx, y: my } = this.commonStore.input.cursorPos;
        const rows = 10;
        const cols = 18;
        const perCol = this.ctx.canvas.width / (cols * util_1.PIXELS_PER_METER);
        const perRow = this.ctx.canvas.height / (rows * util_1.PIXELS_PER_METER);
        for (let i = 0; i < rows; i++) {
            for (let j = 0; j < cols; j++) {
                const x = j * perCol;
                const y = i * perRow;
                this.ctx.lineWidth = 2 / 32;
                this.ctx.strokeStyle = '#dadada';
                this.ctx.strokeRect(x, y, perCol, perRow);
            }
        }
        const iter = Array.from(this.query.iter());
        this.commonStore.drawables = iter.length;
        const drawables = iter.filter(({ pos, shape }) => {
            const bbox = shape.getBBox();
            const r = {
                x: pos.x + bbox.x,
                y: pos.y + bbox.y,
                w: bbox.w,
                h: bbox.h,
            };
            const inView = rect_1.Rect.checkIntersects(r, viewport);
            return inView;
        })
            .sort(({ shape: a }, { shape: b }) => {
            return a.zIndex - b.zIndex;
        });
        this.commonStore.rendered = drawables.length;
        for (let i = 0; i < drawables.length; i++) {
            const { pos, shape, rot, material } = drawables[i];
            this.drawShape(pos, shape, material, rot);
        }
        this.ctx.restore();
    }
    drawShape(pos, shape, material, rot) {
        const { x: w, y: h } = shape.dimensions;
        const { x: bx, y: by, w: bw, h: bh, } = shape.getBBox();
        const { x, y } = pos;
        this.ctx.save();
        this.ctx.translate(x, y);
        this.ctx.rotate(rot.value);
        this.ctx.fillStyle = material.color;
        if (shape.primitive === shape_1.ShapePrimitive.Rect) {
            this.ctx.fillRect(bx, by, w, h);
        }
        else if (shape.primitive === shape_1.ShapePrimitive.Circle) {
            this.ctx.beginPath();
            this.ctx.arc(bx + w / 2, bx + w / 2, w / 2, 0, util_1.TWOPI);
            this.ctx.fill();
        }
        else if (shape.primitive === shape_1.ShapePrimitive.Mesh
            && shape.mesh) {
            this.ctx.beginPath();
            const { offsetX, offsetY } = shape;
            for (let i = 0; i < shape.mesh.verticies.length; ++i) {
                const { x: dx, y: dy } = shape.mesh.verticies[i];
                this.ctx.lineTo(dx + offsetX, dy + offsetY);
            }
            this.ctx.closePath();
            this.ctx.fill();
        }
        if (this.commonStore.debugShapes) {
            this.ctx.save();
            this.ctx.fillStyle = '#fff';
            this.ctx.font = '0.1rem Arial';
            this.ctx.fillText(`Z=${shape.zIndex},x=${Math.floor(x)},y=${Math.floor(y)}`, 0, -by - 2);
            this.ctx.fillText(`Pivot=${shape_1.ShapePivotNames[shape.pivot]}`, 0, -by - 3);
            this.ctx.strokeStyle = '#f0f';
            const padding = 0;
            this.ctx.lineWidth = 0.1;
            this.ctx.strokeRect(bx - padding, by - padding, bw + padding * 2, bh + padding * 2);
            this.ctx.restore();
            util_1.drawPoint(this.ctx, 0, 0);
        }
        this.ctx.restore();
    }
}
exports.RenderGameSystem = RenderGameSystem;


/***/ }),

/***/ "./src/systems/render-ui.ts":
/*!**********************************!*\
  !*** ./src/systems/render-ui.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RenderUISystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const ui_item_1 = __webpack_require__(/*! ../components/ui-item */ "./src/components/ui-item.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
class RenderUISystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            _tag: sim_ecs_1.WithTag(tags_1.ETags.ui),
            pos: sim_ecs_1.Read(position_1.Position),
            ui: sim_ecs_1.Read(ui_item_1.UIItem)
        });
        this.runs = 0;
    }
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.commonStore = actions.getResource(common_store_1.CommonStore);
    }
    run(actions) {
        this.ctx.textBaseline = 'top';
        this.ctx.save();
        this.query.execute(({ pos, ui }) => {
            var _a;
            this.ctx.fillStyle = ui.active
                ? (_a = ui.activeColor) !== null && _a !== void 0 ? _a : 'red'
                : ui.color;
            this.ctx.font = ui.active
                ? `${ui.fontSize * 1.2}px serif`
                : `${ui.fontSize}px serif`;
            this.ctx.fillText(ui.finalCaption, pos.x, pos.y);
        });
        this.ctx.restore();
        this.ctx.font = '32px serif';
        this.ctx.fillStyle = '#fff';
        this.ctx.fillText(`${Math.floor(10 * this.commonStore.timeSinceLevelLoaded) / 10.0} s.`, this.ctx.canvas.width - 200, 20);
        this.ctx.fillText(`${Math.floor(this.commonStore.medianFps + 0.5)} FPS`, this.ctx.canvas.width - 200, 60);
        this.ctx.fillText(`${this.commonStore.rendered} / ${this.commonStore.drawables}`, this.ctx.canvas.width - 200, 100);
        {
            let str = this.gameStore.actions.characterMovement.toString(2);
            str = '0'.repeat(4 - str.length) + str;
            this.ctx.fillText(`${str}`, this.ctx.canvas.width - 200, 140);
        }
        {
            let str = this.gameStore.actions.menuMovement.toString(2);
            str = '0'.repeat(4 - str.length) + str;
            this.ctx.fillText(`MENU: ${str}`, this.ctx.canvas.width - 200, 180);
        }
    }
}
exports.RenderUISystem = RenderUISystem;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference all chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return undefined;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "citylights:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) var result = runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkIds[i]] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkcitylights"] = self["webpackChunkcitylights"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors-node_modules_sim-ecs_dist_index_js-node_modules_box2d-wasm_dist_es_entry_js-node_modu-0d9457"], () => (__webpack_require__("./src/index.ts")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7OztBQ0VhLGlCQUFTLEdBQWdCO0lBQ2xDLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3hCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3hCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3ZCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLE9BQU8sRUFBQztJQUN0QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN2QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDeEIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3hCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLE9BQU8sRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDeEIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLE1BQU0sRUFBQztJQUN2QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENB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SUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1NBQ2hDO2FBQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFVBQVUsQ0FBQyxTQUFTLEVBQUU7WUFDNUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1NBQ2hDO2FBQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFVBQVUsQ0FBQyxRQUFRLEVBQUU7WUFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1lBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztTQUNoQzthQUFNLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsSUFBSSxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztTQUNoQzthQUFNLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsS0FBSyxFQUFFO1lBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztTQUNoQzthQUFNLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsVUFBVSxFQUFFO1lBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztZQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7U0FDaEM7YUFBTSxJQUFJLElB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O1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0Esa0M7Ozs7O1dDZkE7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBOztXQUVBO1dBQ0E7V0FDQTtXQUNBLGlDQUFpQzs7V0FFakM7V0FDQTtXQUNBO1dBQ0EsS0FBSztXQUNMLGVBQWU7V0FDZjtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLE1BQU07V0FDTjtXQUNBO1dBQ0E7O1dBRUE7O1dBRUE7O1dBRUE7O1dBRUE7O1dBRUE7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxNQUFNLHFCQUFxQjtXQUMzQjtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBOztXQUVBO1dBQ0E7V0FDQSw0Rzs7Ozs7VUVuRkE7VUFDQTtVQUNBO1VBQ0E7VUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc2Nzcy9hcHAuc2NzcyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vcmVzL21lc2hlcy8xLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvYXBwL2FjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9hcHAvZnJhbWUtdHJhbnNpdGlvbi1oYW5kbGVycy50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2FwcC9wZXJzaXN0ZW5jZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2NvbXBvbmVudHMvY2hhcmFjdGVyLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvY29tcG9uZW50cy91aS1pdGVtLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvY29sbGlzaW9uLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvbWF0ZXJpYWwudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvY29tcG9uZW50cy9tZXNoLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvcGh5c2ljcy1icmlkZ2UudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvY29tcG9uZW50cy9wb3NpdGlvbi50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9jb21wb25lbnRzL3JvdGF0aW9uLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvc2hhcGUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvY29tcG9uZW50cy92ZWxvY2l0eS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9pbmRleC50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9sZXZlbC5oLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL21vZGVscy9jYW1lcmEudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvbW9kZWxzL2NvbW1vbi1zdG9yZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9tb2RlbHMvY29tbW9uLXRhZ3MudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvbW9kZWxzL3JlY3QudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvbW9kZWxzL3ZlY3RvcjJkLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL3NlcnZlci50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9zeXN0ZW1zL2NhbWVyYS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9zeXN0ZW1zL2NvbGxpc2lvbi50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9zeXN0ZW1zL2djLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL3N5c3RlbXMvaW5wdXQudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvc3lzdGVtcy9waHlzaWNzLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL3V0aWwudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2xldmVscy90b3Bkb3duLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvbW9kZWxzL2dhbWUtc3RvcmUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9tb2RlbHMvdGFncy50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3ByZWZhYnMvZ2FtZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3ByZWZhYnMvbWVudS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3ByZWZhYnMvcGF1c2UudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9wcmVmYWJzL3NhdmFibGUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9zdGF0ZXMvZ2FtZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3N0YXRlcy9tZW51LnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3RhdGVzL3BhdXNlLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3lzdGVtcy9hY3Rpb25zLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3lzdGVtcy9jaGFyYWN0ZXIudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9zeXN0ZW1zL21lbnUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9zeXN0ZW1zL3BhdXNlLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3lzdGVtcy9yZW5kZXItZ2FtZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3N5c3RlbXMvcmVuZGVyLXVpLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ydW50aW1lL2Vuc3VyZSBjaHVuayIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9nZXQgbWluaS1jc3MgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9sb2FkIHNjcmlwdCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9iZWZvcmUtc3RhcnR1cCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svYWZ0ZXItc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCJpbXBvcnQgeyBJVmVjdG9yMkQgfSBmcm9tIFwiLi4vLi4vc3JjL2VuZ2luZS9tb2RlbHMvdmVjdG9yMmRcIjtcclxuXHJcbmV4cG9ydCBjb25zdCB2ZXJ0aWNpZXM6IElWZWN0b3IyRFtdID0gW1xyXG4gICAge3g6LTAuMzU4MjUxLCB5Oi00LjMwMjE5Nn0sXHJcbiAgICB7eDotMC4xOTU4MSwgeTotNC4zNDIxNTN9LFxyXG4gICAge3g6LTAuMTA5OTk3LCB5Oi00LjM1NTA1fSxcclxuICAgIHt4OjAuMDU4ODg2LCB5Oi00LjM2NDAzN30sXHJcbiAgICB7eDowLjEzNzE4MywgeTotNC4zNTkwNjh9LFxyXG4gICAge3g6MC4yNjk1NTksIHk6LTQuMzI3NTYyfSxcclxuICAgIHt4OjAuMzE4ODY3LCB5Oi00LjI5OTk2N30sXHJcbiAgICB7eDowLjM3Nzc4NCwgeTotNC4xODA3NH0sXHJcbiAgICB7eDowLjM5ODM2OCwgeTotNC4wMjA2NH0sXHJcbiAgICB7eDowLjQzNDMwNCwgeTotMy41MjY5OTh9LFxyXG4gICAge3g6MC40NTIyMzMsIHk6LTMuMjIyMzM3fSxcclxuICAgIHt4OjAuNDk0NDUsIHk6LTIuNTY5NTM2fSxcclxuICAgIHt4OjAuNTIxMzE1LCB5Oi0yLjI1MDI3OH0sXHJcbiAgICB7eDowLjU5Mjk5OSwgeTotMS42OTgyNX0sXHJcbiAgICB7eDowLjY0MDM5MywgeTotMS40OTQzNjF9LFxyXG4gICAge3g6MC43NTMyNjYsIHk6LTEuMjYzNzU3fSxcclxuICAgIHt4OjAuNzk5MTU0LCB5Oi0xLjE3NzMzNX0sXHJcbiAgICB7eDowLjg3MDEyLCB5Oi0xLjAyNDk3fSxcclxuICAgIHt4OjAuOTAwMDQ4LCB5Oi0wLjk1NzgyMX0sXHJcbiAgICB7eDowLjk2MDkyLCB5Oi0wLjgzODU3OH0sXHJcbiAgICB7eDowLjk5NjcxNCwgeTotMC43ODUyNzh9LFxyXG4gICAge3g6MS4wOTExNDUsIHk6LTAuNjg4MzA1fSxcclxuICAgIHt4OjEuMTU0NjMyLCB5Oi0wLjY0MzQyN30sXHJcbiAgICB7eDoxLjMxNjQ3OSwgeTotMC41NTg1OTJ9LFxyXG4gICAge3g6MS4zOTc4NzIsIHk6LTAuNTE3NDYzfSxcclxuICAgIHt4OjEuNTQ4MzUzLCB5Oi0wLjQyNTYyMn0sXHJcbiAgICB7eDoxLjYxNTYxNSwgeTotMC4zNjk0Nzh9LFxyXG4gICAge3g6MS43Mjk2MTYsIHk6LTAuMjIzMTYzfSxcclxuICAgIHt4OjEuNzc0NTI5LCB5Oi0wLjEyNzU1OX0sXHJcbiAgICB7eDoxLjgzNTYxOSwgeTowLjEyMjEyMn0sXHJcbiAgICB7eDoxLjg0OTk2OSwgeTowLjI4MTYzMn0sXHJcbiAgICB7eDoxLjg0MzI5MiwgeTowLjY2MjI0Mn0sXHJcbiAgICB7eDoxLjgyNDU3MSwgeTowLjg0MzczOH0sXHJcbiAgICB7eDoxLjc2MDIzOCwgeToxLjE2NDcyNn0sXHJcbiAgICB7eDoxLjcxNTc0LCB5OjEuMzAyNTJ9LFxyXG4gICAge3g6MS42MDQ4NzIsIHk6MS41Mjg0NjN9LFxyXG4gICAge3g6MS41Mzk2MTYsIHk6MS42MTQ5MTV9LFxyXG4gICAge3g6MS4zOTIyNDcsIHk6MS43MzA1MzR9LFxyXG4gICAge3g6MS4zMTEyNSwgeToxLjc1ODAwM30sXHJcbiAgICB7eDoxLjE0Mjc2NSwgeToxLjc1OTg4M30sXHJcbiAgICB7eDoxLjA2NjE0MiwgeToxLjc1NjMyM30sXHJcbiAgICB7eDowLjkyOTY0MiwgeToxLjc0Nzc3N30sXHJcbiAgICB7eDowLjg2ODAzOCwgeToxLjc0MTA3NH0sXHJcbiAgICB7eDowLjc1MzgwMiwgeToxLjcxODUxNX0sXHJcbiAgICB7eDowLjY5OTQ0NCwgeToxLjcwMDk0Mn0sXHJcbiAgICB7eDowLjU5MTkyOSwgeToxLjY0ODkxNX0sXHJcbiAgICB7eDowLjUzNzA0NiwgeToxLjYxMjc0M30sXHJcbiAgICB7eDowLjQyMDY4MywgeToxLjUyNDI3OX0sXHJcbiAgICB7eDowLjM1ODM0NSwgeToxLjQ4Nzc2MX0sXHJcbiAgICB7eDowLjIyNzQyOSwgeToxLjQzNzk3Nn0sXHJcbiAgICB7eDowLjE1OTg3NywgeToxLjQyNDU0OH0sXHJcbiAgICB7eDowLjAyMzE0MiwgeToxLjQyMDIxMX0sXHJcbiAgICB7eDotMC4wNDUwMTUsIHk6MS40MjkxNDF9LFxyXG4gICAge3g6LTAuMTc4MzUxLCB5OjEuNDY4NzkzfSxcclxuICAgIHt4Oi0wLjI0MjUwNiwgeToxLjQ5OTM1M30sXHJcbiAgICB7eDotMC4zNjQxNDksIHk6MS41NzczNDJ9LFxyXG4gICAge3g6LTAuNDIzMDEsIHk6MS42MTU2MDZ9LFxyXG4gICAge3g6LTAuNTM5MDExLCB5OjEuNjgxNzE5fSxcclxuICAgIHt4Oi0wLjU5Njc3LCB5OjEuNzA3NTM4fSxcclxuICAgIHt4Oi0wLjcxMzM1OCwgeToxLjczOTYyOH0sXHJcbiAgICB7eDotMC43NzI4MDcsIHk6MS43NDM4Njh9LFxyXG4gICAge3g6LTAuODk1NTY0LCB5OjEuNzIzNjY4fSxcclxuICAgIHt4Oi0wLjk1OTQ5MiwgeToxLjY5NzE5OH0sXHJcbiAgICB7eDotMS4wOTIzMTYsIHk6MS42MDk3M30sXHJcbiAgICB7eDotMS4xNTc2ODgsIHk6MS41NTQyMDZ9LFxyXG4gICAge3g6LTEuMjgwNzkyLCB5OjEuNDI0MjczfSxcclxuICAgIHt4Oi0xLjMzNjgxOCwgeToxLjM1MDYxMX0sXHJcbiAgICB7eDotMS40MzM1NTMsIHk6MS4xODc3Njh9LFxyXG4gICAge3g6LTEuNDcyNTU2LCB5OjEuMDk5MzM1fSxcclxuICAgIHt4Oi0xLjUyNzU2NiwgeTowLjkxMDMxNX0sXHJcbiAgICB7eDotMS41NDE4NjcsIHk6MC44MTA0NzZ9LFxyXG4gICAge3g6LTEuNTQ1MzU4LCB5OjAuNjA3Mzg4fSxcclxuICAgIHt4Oi0xLjU0Mzg5OSwgeTowLjUxNDUwNX0sXHJcbiAgICB7eDotMS41MzU0NDQsIHk6MC4zNDUzMTV9LFxyXG4gICAge3g6LTEuNTI2NTYsIHk6MC4yNjYzMzN9LFxyXG4gICAge3g6LTEuNDk0NzY0LCB5OjAuMTEyOTAxfSxcclxuICAgIHt4Oi0xLjQ2OTk2NCwgeTowLjAzNTc3NX0sXHJcbiAgICB7eDotMS4zOTc4NDIsIHk6LTAuMTI1OTg3fSxcclxuICAgIHt4Oi0xLjM0ODYzMywgeTotMC4yMTMzMDF9LFxyXG4gICAge3g6LTEuMjI0Njk2LCB5Oi0wLjM5NjkyNX0sXHJcbiAgICB7eDotMS4xNTk3MTEsIHk6LTAuNDc1NDk3fSxcclxuICAgIHt4Oi0xLjAyODk2MiwgeTotMC42MDcyMjZ9LFxyXG4gICAge3g6LTAuOTYzMjI4LCB5Oi0wLjY2NTE3NH0sXHJcbiAgICB7eDotMC44MzExMTgsIHk6LTAuNzc3MjE3fSxcclxuICAgIHt4Oi0wLjc2NDc3MiwgeTotMC44MzYxMDJ9LFxyXG4gICAge3g6LTAuNjMxNTc0LCB5Oi0wLjk3MTU3N30sXHJcbiAgICB7eDotMC41NjQ3NTIsIHk6LTEuMDUyOTU4fSxcclxuICAgIHt4Oi0wLjQ0NTc0MiwgeTotMS4yODk4MjJ9LFxyXG4gICAge3g6LTAuNDIwMTU3LCB5Oi0xLjUwNzQ2OH0sXHJcbiAgICB7eDotMC40Mjc5MSwgeTotMi4xMDE5fSxcclxuICAgIHt4Oi0wLjQ1MDk5MywgeTotMi40NDY1Nzl9LFxyXG4gICAge3g6LTAuNTA5OTM0LCB5Oi0zLjE1MDU4OH0sXHJcbiAgICB7eDotMC41MzU1MzgsIHk6LTMuNDc3ODF9LFxyXG4gICAge3g6LTAuNTUzMzc2LCB5Oi00LjAwMjQxOX0sXHJcbiAgICB7eDotMC41MzUzNTUsIHk6LTQuMTY3Njk2fSxcclxuICAgIHt4Oi0wLjQ0OTA1NSwgeTotNC4yNzA0MDN9LFxyXG4gICAge3g6LTAuNDI5MjksIHk6LTQuMjgxMDk0fSxcclxuICAgIHt4Oi0wLjQ0MTk0LCB5Oi00LjI3NDI1Mn0sXHJcbiAgICB7eDotMC40NjQ4NjcsIHk6LTQuMjYxODV9LFxyXG4gICAge3g6LTAuNTIwMjEsIHk6LTQuMjMxOTE1fSxcclxuICAgIHt4Oi0wLjU0MzEzNywgeTotNC4yMTk1MTR9LFxyXG4gICAge3g6LTAuNTU1Nzg3LCB5Oi00LjIxMjY3Mn0sXHJcbiAgICB7eDotMC41MzYwMjIsIHk6LTQuMjIzMzYzfSxcclxuICAgIHt4Oi0wLjQ0OTA1NSwgeTotNC4yNzA0MDN9LFxyXG4gICAge3g6LTAuNDI5MjksIHk6LTQuMjgxMDk0fSxcclxuICAgIHt4Oi0wLjQ0MTkzOSwgeTotNC4yNzQyNTJ9LFxyXG4gICAge3g6LTAuNDY0ODY3LCB5Oi00LjI2MTg1fSxcclxuICAgIHt4Oi0wLjUyMDIxLCB5Oi00LjIzMTkxNX0sXHJcbiAgICB7eDotMC41NDMxMzcsIHk6LTQuMjE5NTE0fSxcclxuICAgIHt4Oi0wLjU1NTc4NywgeTotNC4yMTI2NzJ9LFxyXG4gICAge3g6LTAuNTM2MDIyLCB5Oi00LjIyMzM2M31cclxuXTsiLCJleHBvcnQgZW51bSBFQWN0aW9ucyB7XG4gICAgQ29udGludWUsXG4gICAgRXhpdCxcbiAgICBQbGF5LFxufVxuIiwiaW1wb3J0IHtHYW1lU3RvcmV9IGZyb20gXCIuLi9tb2RlbHMvZ2FtZS1zdG9yZVwiO1xyXG5pbXBvcnQge0lUcmFuc2l0aW9uQWN0aW9uc30gZnJvbSBcInNpbS1lY3NcIjtcclxuaW1wb3J0IHsgUGF1c2VTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZXMvcGF1c2VcIjtcclxuaW1wb3J0IHsgaHJ0aW1lIH0gZnJvbSBcIi4uL2VuZ2luZVwiO1xyXG5pbXBvcnQgeyBDb21tb25TdG9yZSB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL2NvbW1vbi1zdG9yZVwiO1xyXG5cclxuY29uc3QgaHJ0aW1lVG9TZWNvbmRzID0gKHNfbnM6IG51bWJlcltdKSA9PiAoXHJcbiAgc19uc1swXSArIHNfbnNbMV0gKiAxZS05XHJcbik7XHJcblxyXG5sZXQgbGFzdFRyYW5zaXRpb24gPSBocnRpbWUoKTtcclxuXHJcbmxldCBkZWx0YVN1bSA9IDA7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYmVmb3JlRnJhbWVIYW5kbGVyKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xyXG4gICAgY29uc3QgZ2FtZVN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpO1xyXG4gICAgY29uc3QgY29tbW9uU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcclxuXHJcbiAgICBjb25zdCBpc1BhdXNlU3RhdGUgPSBnYW1lU3RvcmUuY3VycmVudFN0YXRlPy5jb25zdHJ1Y3RvciA9PSBQYXVzZVN0YXRlO1xyXG5cclxuICAgIGlmICghaXNQYXVzZVN0YXRlKSB7XHJcbiAgICAgIGNvbW1vblN0b3JlLmxhc3RGcmFtZURlbHRhVGltZSA9IGhydGltZVRvU2Vjb25kcyhcclxuICAgICAgICBocnRpbWUobGFzdFRyYW5zaXRpb24pXHJcbiAgICAgICk7XHJcbiAgXHJcbiAgICAgIGlmIChjb21tb25TdG9yZS5sYXN0RnJhbWVEZWx0YVRpbWUgPiAwLjEpIHtcclxuICAgICAgICBjb21tb25TdG9yZS5sYXN0RnJhbWVEZWx0YVRpbWUgPSAwLjE7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgY29tbW9uU3RvcmUudGltZVNpbmNlTGV2ZWxMb2FkZWQgKz0gXHJcbiAgICAgICAgY29tbW9uU3RvcmUubGFzdEZyYW1lRGVsdGFUaW1lOyBcclxuICBcclxuICAgICAgZGVsdGFTdW0gKz0gY29tbW9uU3RvcmUubGFzdEZyYW1lRGVsdGFUaW1lO1xyXG4gICAgICBjb21tb25TdG9yZS5tZWRpYW5GcHMgPSArK2NvbW1vblN0b3JlLnRpY2tzIC8gZGVsdGFTdW07XHJcbiAgXHJcbiAgICAgIGxhc3RUcmFuc2l0aW9uID0gaHJ0aW1lKCk7ICBcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhciBjYW52YXNcclxuICAgIGNvbnN0IGN0eCA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMCc7XHJcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY3R4LmNhbnZhcy53aWR0aCwgY3R4LmNhbnZhcy5oZWlnaHQpO1xyXG59XHJcbiIsImltcG9ydCB7SVRyYW5zaXRpb25BY3Rpb25zLCBRdWVyeSwgU2VyaWFsRm9ybWF0LCBUR3JvdXBIYW5kbGUsIFdpdGhUYWd9IGZyb20gXCJzaW0tZWNzXCI7XG5pbXBvcnQge0VUYWdzfSBmcm9tIFwiLi4vbW9kZWxzL3RhZ3NcIjtcblxuXG5jb25zdCBzYXZlS2V5ID0gJ3NhdmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZChhY3Rpb25zOiBJVHJhbnNpdGlvbkFjdGlvbnMpOiBUR3JvdXBIYW5kbGUge1xuICAgIGNvbnN0IHNhdmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzYXZlS2V5KTtcblxuICAgIGlmICghc2F2ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNhdmUgYXZhaWxhYmxlLiBDYW5ub3QgbG9hZCEnKTtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGUgPSBhY3Rpb25zLmNvbW1hbmRzLmxvYWQoU2VyaWFsRm9ybWF0LmZyb21KU09OKHNhdmUpKTtcblxuICAgIHJldHVybiBoYW5kbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHNhdmVLZXksIGFjdGlvbnMuc2F2ZShuZXcgUXVlcnkoW1dpdGhUYWcoRVRhZ3Muc2F2ZSldKSkudG9KU09OKCkpO1xufVxuIiwiZXhwb3J0IGNsYXNzIENoYXJhY3RlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSAnJyxcbiAgICApIHt9XG59IiwiaW1wb3J0IHtFQWN0aW9uc30gZnJvbSBcIi4uL2FwcC9hY3Rpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBVSUl0ZW0ge1xuICAgIHB1YmxpYyBjYXB0aW9uTW9kID0gKHN0ckluOiBzdHJpbmcpID0+IHN0ckluO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBjYXB0aW9uOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBjb2xvcjogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgZm9udFNpemU6IG51bWJlcixcbiAgICAgICAgcHVibGljIGFjdGlvbj86IEVBY3Rpb25zLFxuICAgICAgICBwdWJsaWMgYWN0aXZlPzogYm9vbGVhbixcbiAgICAgICAgcHVibGljIGFjdGl2ZUNvbG9yPzogc3RyaW5nLFxuICAgICkge31cblxuICAgIGdldCBmaW5hbENhcHRpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FwdGlvbk1vZCh0aGlzLmNhcHRpb24pO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBJRW50aXR5IH0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSBcIi4vc2hhcGVcIjtcblxuZXhwb3J0IGNsYXNzIENvbGxpc2lvbiB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBzaGFwZUZyb21WaXN1YWxzOiBib29sZWFuID0gdHJ1ZSxcbiAgICAgICAgcHVibGljIHNoYXBlOiBTaGFwZSB8IG51bGwgPSBudWxsXG4gICAgKSB7XG4gICAgICAgIGlmICghc2hhcGVGcm9tVmlzdWFscyAmJiAhc2hhcGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWl0aGVyIGNvcHkgdGhlIGNvbGxpc2lvbiBzaGFwZVxcXG4gICAgICAgICAgICAgICAgZnJvbSB2aXN1YWxzIG9yIHByb3ZpZGUgYSBuZXcgb25lJylcbiAgICAgICAgfSBcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGNvbGxpc2lvbk9iamVjdHM6IFNldDxJRW50aXR5PiA9IG5ldyBTZXQ8SUVudGl0eT4oKTtcbiAgICBwdWJsaWMgb2NjdXJyZWQgPSBmYWxzZTtcbn1cbiIsImV4cG9ydCBjbGFzcyBNYXRlcmlhbCB7XG4gICAgY29uc3RydWN0b3IgKFxuICAgICAgICBwdWJsaWMgY29sb3I6IHN0cmluZ1xuICAgICkge31cbn0iLCJpbXBvcnQgeyBJVmVjdG9yMkQgfSBmcm9tIFwiLi4vbW9kZWxzL3ZlY3RvcjJkXCI7XG5cbmV4cG9ydCBjbGFzcyBNZXNoIHtcbiAgICBwdWJsaWMgaXNDb252ZXg6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvciAocHVibGljIHZlcnRpY2llczogSVZlY3RvcjJEW10pIHtcbiAgICAgICAgLy8gVE9ETzogdGVzdCBmb3IgY29udmV4bmVzc1xuICAgICAgICB0aGlzLmlzQ29udmV4ID0gdHJ1ZTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFBoeXNpY3NCcmlkZ2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgYm9keVB0cjogQm94MkQuYjJCb2R5IHwgbnVsbCA9IG51bGwsXG4gICAgKSB7XG5cbiAgICB9XG59IiwiaW1wb3J0IHsgVmVjdG9yMkQgfSBmcm9tIFwiLi4vbW9kZWxzL3ZlY3RvcjJkXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3NpdGlvbiBleHRlbmRzIFZlY3RvcjJEIHt9XG4iLCJleHBvcnQgY2xhc3MgUm90YXRpb24ge1xuICAgIHByaXZhdGUgX3ZhbDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9zaW46IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfY29zOiBudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIGdldCBzaW5fY29zKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuX3NpbiwgdGhpcy5fY29zXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgdmFsdWUobmV3dmFsOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fc2luID0gTWF0aC5zaW4obmV3dmFsKTtcbiAgICAgICAgdGhpcy5fY29zID0gTWF0aC5jb3MobmV3dmFsKTtcblxuICAgICAgICB0aGlzLl92YWwgPSBuZXd2YWw7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxufSIsImltcG9ydCB7IFJlY3QgfSBmcm9tIFwiLi4vbW9kZWxzL3JlY3RcIjtcclxuaW1wb3J0IHsgVmVjdG9yMkQsIHZlY1plcm8gfSBmcm9tIFwiLi4vbW9kZWxzL3ZlY3RvcjJkXCI7XHJcbmltcG9ydCB7IE1lc2ggfSBmcm9tIFwiLi9tZXNoXCI7XHJcblxyXG5leHBvcnQgZW51bSBTaGFwZVByaW1pdGl2ZSB7XHJcbiAgICBDaXJjbGUgPSAnY2lyY2xlJyxcclxuICAgIFJlY3QgPSAncmVjdCcsXHJcbiAgICBNZXNoID0gJ21lc2gnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBTaGFwZVBpdm90IHtcclxuICAgIFRvcExlZnQgPSAwLFxyXG4gICAgVG9wTWlkZGxlID0gMSxcclxuICAgIFRvcFJpZ2h0ID0gMixcclxuICAgIExlZnQgPSAzLFxyXG4gICAgTWlkZGxlID0gNCxcclxuICAgIFJpZ2h0ID0gNSxcclxuICAgIEJvdHRvbUxlZnQgPSA2LFxyXG4gICAgQm90dG9tTWlkZGxlID0gNyxcclxuICAgIEJvdHRvbVJpZ2h0ID0gOFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgU2hhcGVQaXZvdE5hbWVzOntcclxuICAgIFtrZXkgaW4gU2hhcGVQaXZvdF06IHN0cmluZztcclxufSA9IHtcclxuICAgIFtTaGFwZVBpdm90LlRvcExlZnRdOiAnVG9wTGVmdCcsXHJcbiAgICBbU2hhcGVQaXZvdC5Ub3BNaWRkbGVdOiAnVG9wTWlkZGxlJyxcclxuICAgIFtTaGFwZVBpdm90LlRvcFJpZ2h0XTogJ1RvcFJpZ2h0JyxcclxuICAgIFtTaGFwZVBpdm90LkxlZnRdOiAnTGVmdCcsXHJcbiAgICBbU2hhcGVQaXZvdC5NaWRkbGVdOiAnTWlkZGxlJyxcclxuICAgIFtTaGFwZVBpdm90LlJpZ2h0XTogJ1JpZ2h0JyxcclxuICAgIFtTaGFwZVBpdm90LkJvdHRvbUxlZnRdOiAnQm90dG9tTGVmdCcsXHJcbiAgICBbU2hhcGVQaXZvdC5Cb3R0b21NaWRkbGVdOiAnQm90dG9tTWlkZGxlJyxcclxuICAgIFtTaGFwZVBpdm90LkJvdHRvbVJpZ2h0XTogJ0JvdHRvbVJpZ2h0JyxcclxufVxyXG5cclxuLy8gdG9kbyB0cmlhbmdsZSwgY2Fwc3VsZVxyXG5cclxuZXhwb3J0IGNsYXNzIFNoYXBlIHtcclxuICAgIHB1YmxpYyBiQm94OiBSZWN0ID0gbmV3IFJlY3QoMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgcHVibGljIGlzQnVpbHQgPSBmYWxzZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGRpbWVuc2lvbnMgKHdpZHRoLGhlaWdodCkgaWYgcmVjdCwgKGRpYW1ldGVyLGFueSkgaWYgY2lyY2xlXHJcbiAgICAgKiBAcGFyYW0gcHJpbWl0aXZlIEVudW0gb3Igc3RyaW5nIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gbWVzaCB2ZXJ0aWNpZXMgZGF0YVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgekluZGV4ID0gMCxcclxuICAgICAgICAvLyBUT0RPOiBtYWtlIGl0IHJlYWxcclxuICAgICAgICBwdWJsaWMgcGl2b3QgPSBTaGFwZVBpdm90Lk1pZGRsZSxcclxuICAgICAgICBwdWJsaWMgb2Zmc2V0WCA9IDAsXHJcbiAgICAgICAgcHVibGljIG9mZnNldFkgPSAwLFxyXG4gICAgICAgIHB1YmxpYyBkaW1lbnNpb25zOiBWZWN0b3IyRCA9IHZlY1plcm8sXHJcbiAgICAgICAgcHVibGljIHByaW1pdGl2ZTogU2hhcGVQcmltaXRpdmUgPSBTaGFwZVByaW1pdGl2ZS5SZWN0LFxyXG4gICAgICAgIHB1YmxpYyBtZXNoOiBNZXNoIHwgbnVsbCA9IG51bGwsXHJcbiAgICApIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBidWlsZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0J1aWx0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuTWVzaCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMubWVzaCB8fCAhdGhpcy5tZXNoLnZlcnRpY2llcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYXBlcyB3aXRoIG1lc2ggcHJpbWl0aXZlXFxcclxuICAgICAgICAgICAgICAgIG11c3QgcHJvdmlkZSBhIG5vbi1lbXB0eSBtZXNoIGRhdGEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJpbWl0aXZlICE9PSBTaGFwZVByaW1pdGl2ZS5NZXNoICYmICF0aGlzLmRpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignZGltZW5zaW9uczonLCB0aGlzLmRpbWVuc2lvbnMsXHJcbiAgICAgICAgICAgICAgICAncHJpbWl0aXZlOicsIHRoaXMucHJpbWl0aXZlLFxyXG4gICAgICAgICAgICAgICAgJ21lc2g6JywgdGhpcy5tZXNoKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFwZXMgd2l0aCBub24tbWVzaCBwcmltaXRpdmVcXFxyXG4gICAgICAgICAgICAgICAgbXVzdCBwcm92aWRlIGRpbWVuc2lvbnMnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWxsIHRoZSBzaGFwZXMgYXJlIGNlbmV0ZXJlZCBieSBkZWZhdWx0XHJcblxyXG4gICAgICAgIGxldCBtaW5YID0gMCwgbWluWSA9IDAsIG1heFggPSAwLCBtYXhZID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5DaXJjbGUpIHtcclxuICAgICAgICAgICAgLy8gQSBjZW50ZXItcG9zaXRpb25lZCBjaXJjbGVcclxuICAgICAgICAgICAgLy8gd2lsbCBmaXQgaW50byBhIG1pZC1zaGlmdGVkXHJcbiAgICAgICAgICAgIC8vIHNxdWFyZSB3aXRoIHNpZGUgPSBkaWFtZXRlclxyXG4gICAgICAgICAgICBjb25zdCBkID0gdGhpcy5kaW1lbnNpb25zLnhcclxuICAgICAgICAgICAgY29uc3QgcmFkID0gZC8yO1xyXG4gICAgICAgICAgICB0aGlzLmJCb3gueCA9IC1yYWQ7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC55ID0gLXJhZDtcclxuICAgICAgICAgICAgdGhpcy5iQm94LncgPSBkO1xyXG4gICAgICAgICAgICB0aGlzLmJCb3guaCA9IGQ7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuUmVjdCkge1xyXG4gICAgICAgICAgICAvLyBhIHRvcC1sZWZ0IHBvc2l0aW9uZWQgcmVjdGFuZ2xlXHJcbiAgICAgICAgICAgIC8vIGlzIHRoZSBib3VuZGluZyBib3ggaXRzZWxmXHJcbiAgICAgICAgICAgIHRoaXMuYkJveC54ID0gLXRoaXMuZGltZW5zaW9ucy54LzI7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC55ID0gLXRoaXMuZGltZW5zaW9ucy55LzI7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC53ID0gdGhpcy5kaW1lbnNpb25zLng7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC5oID0gdGhpcy5kaW1lbnNpb25zLnk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuTWVzaCAmJiB0aGlzLm1lc2gpIHtcclxuICAgICAgICAgICAgbWluWCA9IHRoaXMubWVzaC52ZXJ0aWNpZXNbMF0ueDtcclxuICAgICAgICAgICAgbWluWSA9IHRoaXMubWVzaC52ZXJ0aWNpZXNbMF0ueTtcclxuXHJcbiAgICAgICAgICAgIG1heFggPSB0aGlzLm1lc2gudmVydGljaWVzWzBdLng7XHJcbiAgICAgICAgICAgIG1heFkgPSB0aGlzLm1lc2gudmVydGljaWVzWzBdLnk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpPTE7aTx0aGlzLm1lc2gudmVydGljaWVzLmxlbmd0aDsrK2kpe1xyXG4gICAgICAgICAgICAgICAgY29uc3Qge3gsIHl9ID0gdGhpcy5tZXNoLnZlcnRpY2llc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xyXG4gICAgICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcclxuICAgICAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYkJveC53ID0gbWF4WCAtIG1pblg7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC5oID0gbWF4WSAtIG1pblk7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC54ID0gLXRoaXMuYkJveC53LzI7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC55ID0gLXRoaXMuYkJveC5oLzI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5waXZvdCA9PT0gU2hhcGVQaXZvdC5Ub3BMZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC54ICs9IHRoaXMuYkJveC53LzI7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC55ICs9IHRoaXMuYkJveC5oLzI7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdm90ID09PSBTaGFwZVBpdm90LlRvcE1pZGRsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmJCb3gueSArPSB0aGlzLmJCb3guaC8yO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5waXZvdCA9PT0gU2hhcGVQaXZvdC5Ub3BSaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLmJCb3gueCAtPSB0aGlzLmJCb3gudy8yO1xyXG4gICAgICAgICAgICB0aGlzLmJCb3gueSArPSB0aGlzLmJCb3guaC8yO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5waXZvdCA9PT0gU2hhcGVQaXZvdC5MZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC54ICs9IHRoaXMuYkJveC53LzI7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdm90ID09PSBTaGFwZVBpdm90LlJpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC54IC09IHRoaXMuYkJveC53LzI7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdm90ID09PSBTaGFwZVBpdm90LkJvdHRvbUxlZnQpIHtcclxuICAgICAgICAgICAgdGhpcy5iQm94LnggKz0gdGhpcy5iQm94LncvMjtcclxuICAgICAgICAgICAgdGhpcy5iQm94LnkgLT0gdGhpcy5iQm94LmgvMjtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGl2b3QgPT09IFNoYXBlUGl2b3QuQm90dG9tTWlkZGxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC55IC09IHRoaXMuYkJveC5oLzI7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdm90ID09PSBTaGFwZVBpdm90LkJvdHRvbVJpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC54IC09IHRoaXMuYkJveC53LzI7XHJcbiAgICAgICAgICAgIHRoaXMuYkJveC55IC09IHRoaXMuYkJveC5oLzI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wcmltaXRpdmUgPT09IFNoYXBlUHJpbWl0aXZlLk1lc2ggJiYgdGhpcy5tZXNoKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMubWVzaC52ZXJ0aWNpZXMubGVuZ3RoOysraSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc2gudmVydGljaWVzW2ldLnggKz0gKHRoaXMuYkJveC54IC0gbWluWCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc2gudmVydGljaWVzW2ldLnkgKz0gKHRoaXMuYkJveC55IC0gbWluWSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaXNCdWlsdCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QkJveCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iQm94O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFZlY3RvcjJEIH0gZnJvbSBcIi4uL21vZGVscy92ZWN0b3IyZFwiO1xuXG5leHBvcnQgY2xhc3MgVmVsb2NpdHkgZXh0ZW5kcyBWZWN0b3IyRCB7XG4gICAgY29uc3RydWN0b3IoeDpudW1iZXIsIHk6IG51bWJlciwgcHVibGljIGFuZ3VsYXI6IG51bWJlcikge1xuICAgICAgICBzdXBlcih4LCB5KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgdXBkYXRlUmVuZGVyQ29udGV4dCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhc0VsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xyXG4gICAgaWYgKCFjYW52YXNFbGUpIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgY2FudmFzIGVsZW1lbnQhJyk7XHJcblxyXG4gICAgY29uc3QgcmVuZGVyQ29udGV4dCA9IGNhbnZhc0VsZS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgaWYgKCFyZW5kZXJDb250ZXh0KSB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBpbml0aWFsaXplIDJEIGNvbnRleHQnKTtcclxuXHJcbiAgICBjb25zdCBjYW52YXNCb3VuZGluZ1JlY3QgPSBjYW52YXNFbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgY2FudmFzRWxlLndpZHRoID0gY2FudmFzQm91bmRpbmdSZWN0LndpZHRoO1xyXG4gICAgY2FudmFzRWxlLmhlaWdodCA9IGNhbnZhc0JvdW5kaW5nUmVjdC5oZWlnaHQ7XHJcblxyXG4gICAgcmVuZGVyQ29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICByZXR1cm4gcmVuZGVyQ29udGV4dDtcclxufVxyXG5cclxuLy8gZ2VuZXJhdGUgdGltZXN0YW1wIG9yIGRlbHRhXHJcbi8vIHNlZSBodHRwOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NfcHJvY2Vzc19ocnRpbWVcclxuZXhwb3J0IGNvbnN0IGhydGltZSA9IChwcmV2aW91c1RpbWVzdGFtcD86IG51bWJlcltdKSA9PiB7XHJcbiAgICBjb25zdCBjbG9ja3RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAqIDFlLTNcclxuICAgIGxldCBzZWNvbmRzID0gTWF0aC5mbG9vcihjbG9ja3RpbWUpXHJcbiAgICBsZXQgbmFub3NlY29uZHMgPSBNYXRoLmZsb29yKChjbG9ja3RpbWUlMSkqMWU5KVxyXG4gICAgaWYgKHByZXZpb3VzVGltZXN0YW1wKSB7XHJcbiAgICAgIHNlY29uZHMgPSBzZWNvbmRzIC0gcHJldmlvdXNUaW1lc3RhbXBbMF1cclxuICAgICAgbmFub3NlY29uZHMgPSBuYW5vc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzFdXHJcbiAgICAgIGlmIChuYW5vc2Vjb25kczwwKSB7XHJcbiAgICAgICAgc2Vjb25kcy0tXHJcbiAgICAgICAgbmFub3NlY29uZHMgKz0gMWU5XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIHJldHVybiBbc2Vjb25kcywgbmFub3NlY29uZHNdO1xyXG59IiwiaW1wb3J0IHsgSVdvcmxkLCBUU3RhdGVQcm90byB9IGZyb20gXCJzaW0tZWNzXCI7XHJcbmltcG9ydCB7IHVwZGF0ZVJlbmRlckNvbnRleHQgfSBmcm9tIFwiLi9cIjtcclxuaW1wb3J0IHsgYmVmb3JlRnJhbWVIYW5kbGVyIH0gZnJvbSBcIi4uL2FwcC9mcmFtZS10cmFuc2l0aW9uLWhhbmRsZXJzXCI7XHJcbmltcG9ydCB7IF9Cb3gyRCB9IGZyb20gXCIuL3NlcnZlclwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJTGV2ZWwge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIC8vIFRPRE86IGxvYWQgZnJvbSBmaWxlc3lzdGVtLCBmcm9tIFVSTFxyXG4gICAgLy8gcGF0aDogc3RyaW5nOyBcclxuXHJcbiAgICB3b3JsZDogSVdvcmxkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHJpZ2h0IGFmdGVyIHRoZSBpbml0aWFsaXphdGlvbiwgbWFpbiBsb29wIGdvZXMgaGVyZVxyXG4gICAgICovXHJcbiAgICBydW4oKTogUHJvbWlzZTxhbnk+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVsZWFzZSB0aGUgcmVzb3VyY2VzIHRvIHJ1biBhbm90aGVyIGxldmVsXHJcbiAgICAgKi9cclxuICAgIGRlc3Ryb3koKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIExldmVsIGltcGxlbWVudHMgSUxldmVsIHtcclxuXHJcbiAgICBwdWJsaWMgd29ybGQ6IElXb3JsZDtcclxuXHJcbiAgICByZWFkb25seSBpbml0aWFsU3RhdGU/OiBUU3RhdGVQcm90bztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgcGh5c2ljczogX0JveDJELFxyXG4gICAgICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXHJcbiAgICApIHtcclxuICAgICAgICBjb25zdCB3b3JsZCA9IHRoaXMuY3JlYXRlV29ybGQoKTtcclxuXHJcbiAgICAgICAgaWYgKCF3b3JsZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBsZXZlbCAke25hbWV9IG11c3QgaGF2ZSBhIG5vbi1udWxsIFxcXHJcbiAgICAgICAgICAgIHJlc3VsdGluZyBjcmVhdGVXb3JsZCBmdW5jdGlvbmApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xyXG5cclxuICAgICAgICBjb25zdCByZW5kZXJDb250ZXh0ID0gdXBkYXRlUmVuZGVyQ29udGV4dCgpO1xyXG5cclxuICAgICAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKHJlbmRlckNvbnRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGNyZWF0ZVdvcmxkKCk6IElXb3JsZDtcclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCBpZiB5b3UgaGF2ZSB0byByZWxlYXNlIG1vcmUgcmVzb3VyY2VzXHJcbiAgICAgKiAoYXVkaW8sIHZpZGVvLCBXZWJSVEMsIHRleHR1cmVzLCBmaWxlcywgZXRjLilcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLndvcmxkLmNvbW1hbmRzLnN0b3BSdW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBydW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGQucnVuKHtcclxuICAgICAgICAgICAgYmVmb3JlU3RlcEhhbmRsZXI6IGJlZm9yZUZyYW1lSGFuZGxlcixcclxuICAgICAgICAgICAgaW5pdGlhbFN0YXRlOiB0aGlzLmluaXRpYWxTdGF0ZSxcclxuICAgICAgICB9KS50aGVuKCgpPT50aGlzLmRlc3Ryb3koKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWZWxvY2l0eSB9IGZyb20gXCIuLi9jb21wb25lbnRzL3ZlbG9jaXR5XCI7XHJcbmltcG9ydCB7IElSZWN0IH0gZnJvbSBcIi4vcmVjdFwiO1xyXG5pbXBvcnQgeyBJVmVjdG9yMkQgfSBmcm9tIFwiLi92ZWN0b3IyZFwiO1xyXG5cclxuZXhwb3J0IGVudW0gQ2FtZXJhRm9sbG93TWV0aG9kIHtcclxuICAgIEltbWVkaWF0ZSxcclxuICAgIFNtb290aCxcclxuICAgIEVsYXN0aWNcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDYW1lcmFGb2xsb3cge1xyXG4gICAgdGFyZ2V0OiBJVmVjdG9yMkRcclxuICAgIHRhcmdldEFuZ2xlPzogbnVtYmVyXHJcbiAgICBtZXRob2Q6IENhbWVyYUZvbGxvd01ldGhvZFxyXG4gICAgcHJldlg6IG51bWJlclxyXG4gICAgcHJldlk6IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtZXJhIHtcclxuICAgIHB1YmxpYyB2aWV3cG9ydCE6IElSZWN0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyB4OiBudW1iZXIgPSAwLFxyXG4gICAgICAgIHB1YmxpYyB5OiBudW1iZXIgPSAwLFxyXG4gICAgICAgIHB1YmxpYyBvZmZzZXQ6IElWZWN0b3IyRCA9IHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHB1YmxpYyB2ZWw6IFZlbG9jaXR5ID0gPFZlbG9jaXR5PntcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHVibGljIHpvb206IG51bWJlciA9IDEsXHJcbiAgICAgICAgcHVibGljIHJvdGF0aW9uOiBudW1iZXIgPSAwLFxyXG4gICAgICAgIHB1YmxpYyBmb2xsb3c/OiBDYW1lcmFGb2xsb3csXHJcbiAgICAgICAgcHVibGljIGVsYXN0aWNpdHk6IG51bWJlciA9IDAuMDEsXHJcbiAgICAgICAgcHVibGljIGZyaWN0aW9uOiBudW1iZXIgPSAwLjE1LFxyXG4gICAgKSB7fVxyXG59IiwiaW1wb3J0IHsgRUtleVN0YXRlLCBFTW91c2VTdGF0ZSB9IGZyb20gXCIuLi9zeXN0ZW1zL2lucHV0XCJcclxuaW1wb3J0IHsgSVZlY3RvcjJEIH0gZnJvbSBcIi4vdmVjdG9yMmRcIlxyXG5cclxuZXhwb3J0IGNsYXNzIENvbW1vblN0b3JlIHtcclxuICAgIGRyYXdhYmxlcyA9IDBcclxuICAgIHJlbmRlcmVkID0gMFxyXG4gICAgXHJcbiAgICBsYXN0RnJhbWVEZWx0YVRpbWUgPSAwXHJcbiAgICB0aWNrcyA9IDBcclxuICAgIG1lZGlhbkZwcyA9IDMwXHJcbiAgICB0aW1lU2luY2VMZXZlbExvYWRlZCA9IDBcclxuXHJcbiAgICBwaHlzaWNzTmFtZXNwYWNlITogdHlwZW9mIEJveDJEO1xyXG4gICAgcGh5c2ljc1plcm8hOiBCb3gyRC5iMlZlYzI7XHJcblxyXG4gICAgc2NyZWVuVG9Xb3JsZCE6IERPTU1hdHJpeDtcclxuICAgIHdvcmxkVG9TY3JlZW4hOiBET01NYXRyaXg7XHJcblxyXG4gICAgdG9Xb3JsZFNwYWNlKHtcclxuICAgICAgICB4LCB5XHJcbiAgICB9OiBJVmVjdG9yMkQpOiBJVmVjdG9yMkQge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgYSxiLGMsZCxlLGZcclxuICAgICAgICB9ID0gdGhpcy5zY3JlZW5Ub1dvcmxkO1xyXG5cclxuICAgICAgICAvLyBhIGMgZSAgeCAgYSp4ICsgYyp5ICsgZSp6XHJcbiAgICAgICAgLy8gYiBkIGYgIHkgIGIqeCArIGQqeSArIGYqelxyXG4gICAgICAgIC8vIDAgMCAxICB6ICA/XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IGEqeCArIGMqeSArIGUsXHJcbiAgICAgICAgICAgIHk6IGIqeCArIGQqeSArIGYsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0b1NjcmVlblNwYWNlKHtcclxuICAgICAgICB4LCB5XHJcbiAgICB9OiBJVmVjdG9yMkQpOiBJVmVjdG9yMkQge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgYSxiLGMsZCxlLGZcclxuICAgICAgICB9ID0gdGhpcy53b3JsZFRvU2NyZWVuO1xyXG5cclxuICAgICAgICAvLyBhIGMgZSAgeCAgYSp4ICsgYyp5ICsgZSp6XHJcbiAgICAgICAgLy8gYiBkIGYgIHkgIGIqeCArIGQqeSArIGYqelxyXG4gICAgICAgIC8vIDAgMCAxICB6ICA/XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IGEqeCArIGMqeSArIGUsXHJcbiAgICAgICAgICAgIHk6IGIqeCArIGQqeSArIGYsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dDoge1xyXG4gICAgICAgIHdoZWVsOiBudW1iZXJcclxuICAgICAgICBjdXJzb3JQb3M6IElWZWN0b3IyRFxyXG4gICAgICAgIGtleVN0YXRlczogTWFwPHN0cmluZywgRUtleVN0YXRlPlxyXG4gICAgICAgIHByZXZLZXlTdGF0ZXM6IE1hcDxzdHJpbmcsIEVLZXlTdGF0ZSB8IHVuZGVmaW5lZD5cclxuICAgICAgICBtb3VzZVN0YXRlczogTWFwPG51bWJlciwgRU1vdXNlU3RhdGU+XHJcblxyXG4gICAgICAgIHJlc2V0UHJldktleShrZXk6IHN0cmluZyk6IHZvaWQsXHJcblxyXG4gICAgICAgIGlzS2V5RG93bihrZXk6IHN0cmluZyk6IGJvb2xlYW4sXHJcbiAgICAgICAgaXNLZXlVcChrZXk6IHN0cmluZyk6IGJvb2xlYW4sXHJcblxyXG4gICAgICAgIGlzQW55S2V5KGtleXM6IHN0cmluZ1tdLCBzdGF0ZTogRUtleVN0YXRlKTogYm9vbGVhbixcclxuICAgICAgICBpc0FueUtleURpZmZlcmVudChrZXk6IHN0cmluZ1tdLCBzdGF0ZTogRUtleVN0YXRlKTogYm9vbGVhblxyXG5cclxuICAgICAgICB3YXNLZXlQcmVzc2VkKGtleTogc3RyaW5nKTogYm9vbGVhbixcclxuICAgICAgICB3YXNLZXlSZWxlYXNlZChrZXk6IHN0cmluZyk6IGJvb2xlYW4sXHJcbiAgICB9ID0ge1xyXG4gICAgICAgIHdoZWVsOiAwLFxyXG4gICAgICAgIGN1cnNvclBvczoge3g6LTEsIHk6LTF9LFxyXG4gICAgICAgIGtleVN0YXRlczogbmV3IE1hcDxzdHJpbmcsIEVLZXlTdGF0ZT4oKSxcclxuICAgICAgICBwcmV2S2V5U3RhdGVzOiBuZXcgTWFwPHN0cmluZywgRUtleVN0YXRlIHwgdW5kZWZpbmVkPigpLFxyXG4gICAgICAgIG1vdXNlU3RhdGVzOiBuZXcgTWFwPG51bWJlciwgRU1vdXNlU3RhdGU+KCksXHJcblxyXG4gICAgICAgIHJlc2V0UHJldktleShrZXk6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLnByZXZLZXlTdGF0ZXMuc2V0KGtleSwgdGhpcy5rZXlTdGF0ZXMuZ2V0KGtleSkpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzQW55S2V5KGtleTogc3RyaW5nW10sIHN0YXRlOiBFS2V5U3RhdGUpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIGtleS5zb21lKGUgPT4gKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlTdGF0ZXMuZ2V0KGUpID09PSBzdGF0ZVxyXG4gICAgICAgICAgICApKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpc0FueUtleURpZmZlcmVudChrZXk6IHN0cmluZ1tdLCBzdGF0ZTogRUtleVN0YXRlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGtleS5zb21lKGUgPT4gKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlTdGF0ZXMuZ2V0KGUpID09PSBzdGF0ZSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2S2V5U3RhdGVzLmdldChlKSAhPT0gc3RhdGVcclxuICAgICAgICAgICAgKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGsgb2Yga2V5KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQcmV2S2V5KGspO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzS2V5RG93bihrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlTdGF0ZXMuZ2V0KGtleSkgPT09IEVLZXlTdGF0ZS5Eb3duO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzS2V5VXAoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMua2V5U3RhdGVzLmdldChrZXkpID09PSBFS2V5U3RhdGUuVXA7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgd2FzS2V5UHJlc3NlZChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5rZXlTdGF0ZXMuZ2V0KGtleSkgPT09IEVLZXlTdGF0ZS5Eb3duICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZLZXlTdGF0ZXMuZ2V0KGtleSkgIT09IEVLZXlTdGF0ZS5Eb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UHJldktleShrZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgd2FzS2V5UmVsZWFzZWQoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMua2V5U3RhdGVzLmdldChrZXkpID09PSBFS2V5U3RhdGUuVXAgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMucHJldktleVN0YXRlcy5nZXQoa2V5KSAhPT0gRUtleVN0YXRlLlVwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UHJldktleShrZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgIH1cclxuXHJcbiAgICAvLyBlbmFibGVkIGVhc2lseVxyXG4gICAgZGVidWdTaGFwZXMgPSBmYWxzZVxyXG4gICAgd2FzQmx1cnJlZCA9IGZhbHNlXHJcbiAgICB3YXNJbnRlbnRpb25hbGx5UGF1c2VkID0gZmFsc2VcclxufSIsImV4cG9ydCBlbnVtIEVDb21tb25UYWdzIHtcclxuICAgIHVpLFxyXG4gICAgdGVycmFpbixcclxuICAgIGRlc3Ryb3lFbnRpdHksXHJcblxyXG5cclxuICAgIF9fTEFURVNUXHJcbn0iLCJpbXBvcnQgeyBJVmVjdG9yMkQgfSBmcm9tIFwiLi92ZWN0b3IyZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSZWN0IHtcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHc6IG51bWJlcixcbiAgICBoOiBudW1iZXIsXG59XG5cbmV4cG9ydCBjbGFzcyBSZWN0IGltcGxlbWVudHMgSVJlY3Qge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgeDogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgeTogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgdzogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgaDogbnVtYmVyLFxuICAgICkge31cblxuICAgIHN0YXRpYyBjaGVja1BvaW50SW5zaWRlKHI6IElSZWN0LCB7eCwgeX06IElWZWN0b3IyRCkge1xuICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgIHggPCByLnggfHwgXG4gICAgICAgICAgICB4ID4gci54ICsgci53IHx8XG4gICAgICAgICAgICB5IDwgci55IHx8XG4gICAgICAgICAgICB5ID4gci55ICsgci5oXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNoZWNrSW50ZXJzZWN0cyhyMTogSVJlY3QsIHIyOiBJUmVjdCkge1xuICAgICAgICByZXR1cm4gIShyMi54ID4gcjEueCtyMS53IHx8IFxuICAgICAgICAgICAgcjIueCtyMi53IDwgcjEueCB8fCBcbiAgICAgICAgICAgIHIyLnkgPiByMS55K3IxLmggfHxcbiAgICAgICAgICAgIHIyLnkrcjIuaCA8IHIxLnkpO1xuICAgIH1cbn0iLCJleHBvcnQgaW50ZXJmYWNlIElWZWN0b3IyRCB7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFZlY3RvcjJEIGltcGxlbWVudHMgSVZlY3RvcjJEIHtcbiAgICBidWYgPSBuZXcgQXJyYXlCdWZmZXIoNCk7XG4gICAgZjMyID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLmJ1Zik7XG4gICAgdTMyID0gbmV3IFVpbnQzMkFycmF5KHRoaXMuYnVmKTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgeCA9IDAsXG4gICAgICAgIHB1YmxpYyB5ID0gMCxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgYWRkU2VsZih2ZWM6IFZlY3RvcjJEKSB7XG4gICAgICAgIHRoaXMueCArPSB2ZWMueDtcbiAgICAgICAgdGhpcy55ICs9IHZlYy55O1xuICAgIH1cblxuICAgIHB1YmxpYyBzdWJTZWxmKHZlYzogVmVjdG9yMkQpIHtcbiAgICAgICAgdGhpcy54IC09IHZlYy54O1xuICAgICAgICB0aGlzLnkgLT0gdmVjLnk7XG4gICAgfVxuXG4gICAgcHVibGljIHNjYWxlKGZhY3RvcjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMueCAqPSBmYWN0b3I7XG4gICAgICAgIHRoaXMueSAqPSBmYWN0b3I7XG4gICAgfVxuXG4gICAgcHVibGljIG5vcm1hbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgaW52ID0gdGhpcy5pbnZTcXJ0KCk7XG5cbiAgICAgICAgdGhpcy54ICo9IGludjtcbiAgICAgICAgdGhpcy55ICo9IGludjtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW52U3FydCgpOiBudW1iZXIge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xuICAgICAgICBjb25zdCB4MiA9IDAuNSAqICh0aGlzLmYzMlswXSA9IHgpO1xuICAgICAgICB0aGlzLnUzMlswXSA9ICgweDVmMzc1OWRmIC0gKHRoaXMudTMyWzBdID4+IDEpKTtcbiAgICAgICAgbGV0IHkgPSB0aGlzLmYzMlswXTtcbiAgICAgICAgeSAgPSB5ICogKCAxLjUgLSAoIHgyICogeSAqIHkgKSApOyAgIC8vIDFzdCBpdGVyYXRpb25cblxuICAgICAgICByZXR1cm4geTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzdGFuY2UodG86IFZlY3RvcjJEKSB7XG4gICAgICAgIGNvbnN0IGR4ID0gdG8ueCAtIHRoaXMueDtcbiAgICAgICAgY29uc3QgZHkgPSB0by55IC0gdGhpcy55O1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4KmR4ICsgZHkqZHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzcXJEaXN0YW5jZSh0bzogVmVjdG9yMkQpIHtcbiAgICAgICAgY29uc3QgZHggPSB0by54IC0gdGhpcy54O1xuICAgICAgICBjb25zdCBkeSA9IHRvLnkgLSB0aGlzLnk7XG4gICAgICAgIHJldHVybiBkeCpkeCArIGR5KmR5O1xuICAgIH1cblxuICAgIHB1YmxpYyBzcXJMZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnk7XG4gICAgfVxuXG4gICAgcHVibGljIGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHZlY1plcm8gPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG5leHBvcnQgY29uc3QgdmVjT25lID0gbmV3IFZlY3RvcjJEKDEsIDEpO1xuZXhwb3J0IGNvbnN0IHZlY1VwID0gbmV3IFZlY3RvcjJEKDAsIDEpO1xuZXhwb3J0IGNvbnN0IHZlY0Rvd24gPSBuZXcgVmVjdG9yMkQoMCwgLTEpO1xuZXhwb3J0IGNvbnN0IHZlY0xlZnQgPSBuZXcgVmVjdG9yMkQoLTEsIDApO1xuZXhwb3J0IGNvbnN0IHZlY1JpZ2h0ID0gbmV3IFZlY3RvcjJEKDEsIDApOyIsImltcG9ydCBCb3gyREZhY3RvcnkgZnJvbSAnYm94MmQtd2FzbSc7XHJcblxyXG5leHBvcnQgdHlwZSBfQm94MkQgPSB0eXBlb2YgQm94MkQgJiBFbXNjcmlwdGVuTW9kdWxlO1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvYWRQaHlzaWNzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgcmV0dXJuIEJveDJERmFjdG9yeSgpLnRoZW4oKGJveDJEOiBfQm94MkQpID0+IHtcclxuICAgICAgICByZXR1cm4gYm94MkQ7XHJcbiAgICB9KTtcclxufSIsImltcG9ydCB7IF9Cb3gyRCB9IGZyb20gXCIuLi9zZXJ2ZXJcIjtcclxuaW1wb3J0IHtJU3lzdGVtQWN0aW9ucywgU3lzdGVtfSBmcm9tIFwic2ltLWVjc1wiO1xyXG5pbXBvcnQgeyBDYW1lcmEsIENhbWVyYUZvbGxvd01ldGhvZCB9IGZyb20gXCIuLi9tb2RlbHMvY2FtZXJhXCI7XHJcbmltcG9ydCB7IGFuZ2xlTGVycCwgbGVycCwgUElYRUxTX1BFUl9NRVRFUiB9IGZyb20gXCIuLi91dGlsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtZXJhU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcclxuICAgIGNhbWVyYSE6IENhbWVyYTtcclxuICAgIGN0eCE6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xyXG4gICAgICAgIHRoaXMuY3R4ID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDYW1lcmEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJ1bihfOiBJU3lzdGVtQWN0aW9ucykge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbWVyYS5yb3RhdGlvbiA+IDIqTWF0aC5QSSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5yb3RhdGlvbiAtPSAyKk1hdGguUEk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNhbWVyYS5yb3RhdGlvbiA8IC0yKk1hdGguUEkpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEucm90YXRpb24gKz0gMipNYXRoLlBJO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY2FtZXJhLnpvb20gPCAwLjEpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEuem9vbSA9IDAuMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNhbWVyYS56b29tID4gMS41KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnpvb20gPSAxLjU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGZvbGxvdyxcclxuICAgICAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgIH0gPSB0aGlzLmNhbWVyYTtcclxuXHJcbiAgICAgICAgaWYgKCFmb2xsb3cpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICB0YXJnZXRBbmdsZSxcclxuICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICBtZXRob2QsXHJcbiAgICAgICAgfSA9IGZvbGxvdztcclxuXHJcbiAgICAgICAgbGV0IHR4ID0gdGFyZ2V0Lng7XHJcbiAgICAgICAgbGV0IHR5ID0gdGFyZ2V0Lnk7XHJcblxyXG4gICAgICAgIG9mZnNldC54ID0gLXRoaXMuY3R4LmNhbnZhcy53aWR0aCAvICgyKlBJWEVMU19QRVJfTUVURVIgKiB0aGlzLmNhbWVyYS56b29tKTtcclxuICAgICAgICBvZmZzZXQueSA9IC10aGlzLmN0eC5jYW52YXMuaGVpZ2h0IC8gKDIqUElYRUxTX1BFUl9NRVRFUiAqIHRoaXMuY2FtZXJhLnpvb20pO1xyXG5cclxuICAgICAgICBpZiAodGFyZ2V0QW5nbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5yb3RhdGlvbiA9IGFuZ2xlTGVycCh0aGlzLmNhbWVyYS5yb3RhdGlvbiwgLXRhcmdldEFuZ2xlLCAwLjAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChtZXRob2QgPT09IENhbWVyYUZvbGxvd01ldGhvZC5JbW1lZGlhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEueCA9IHR4O1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS55ID0gdHk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IENhbWVyYUZvbGxvd01ldGhvZC5TbW9vdGgpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEueCA9IGxlcnAodGhpcy5jYW1lcmEueCwgdHgsIDAuMDEpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS55ID0gbGVycCh0aGlzLmNhbWVyYS55LCB0eSwgMC4wMSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IENhbWVyYUZvbGxvd01ldGhvZC5FbGFzdGljKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGR4ID0gKHR4IC0gdGhpcy5jYW1lcmEueCkgKiB0aGlzLmNhbWVyYS5lbGFzdGljaXR5O1xyXG4gICAgICAgICAgICBjb25zdCBkeSA9ICh0eSAtIHRoaXMuY2FtZXJhLnkpICogdGhpcy5jYW1lcmEuZWxhc3RpY2l0eTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnZlbC54ICs9IGR4O1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS52ZWwueSArPSBkeTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZ4ID0gLXRoaXMuY2FtZXJhLmZyaWN0aW9uICogdGhpcy5jYW1lcmEudmVsLng7XHJcbiAgICAgICAgICAgIGNvbnN0IGZ5ID0gLXRoaXMuY2FtZXJhLmZyaWN0aW9uICogdGhpcy5jYW1lcmEudmVsLnk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS52ZWwueCArPSBmeDtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEudmVsLnkgKz0gZnk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS54ICs9IHRoaXMuY2FtZXJhLnZlbC54IC8gdGhpcy5jYW1lcmEuem9vbTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEueSArPSB0aGlzLmNhbWVyYS52ZWwueSAvIHRoaXMuY2FtZXJhLnpvb207XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFF1ZXJ5LCBSZWFkLCBSZWFkRW50aXR5LCBTeXN0ZW0sIFdyaXRlfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHtTaGFwZX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvc2hhcGVcIjtcbmltcG9ydCB7Q29sbGlzaW9ufSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb2xsaXNpb25cIjtcbmltcG9ydCB7IFZlY3RvcjJEIH0gZnJvbSBcIi4uL21vZGVscy92ZWN0b3IyZFwiO1xuXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBxdWVyeSA9IG5ldyBRdWVyeSh7XG4gICAgICAgIGNvbGxpc2lvbjogV3JpdGUoQ29sbGlzaW9uKSxcbiAgICAgICAgZW50aXR5OiBSZWFkRW50aXR5KCksXG4gICAgICAgIHBvc2l0aW9uOiBSZWFkKFZlY3RvcjJEKSxcbiAgICAgICAgc2hhcGU6IFJlYWQoU2hhcGUpXG4gICAgfSk7XG5cbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVjdHMgPSBBcnJheS5mcm9tKHRoaXMucXVlcnkuaXRlcigpKVxuICAgICAgICAubWFwKCh7Y29sbGlzaW9uLCBlbnRpdHksIHBvc2l0aW9uLCBzaGFwZX0pID0+IHtcbiAgICAgICAgICAgIC8vIGlkZWFsbHksIHRoaXMgc2hvdWxkIGJlIHR3byBzZXBhcmF0ZSBzdGVwcyxcbiAgICAgICAgICAgIC8vIGJ1dCBKUyB3b3VsZCBsb29wIHR3aWNlLlxuICAgICAgICAgICAgLy8gQXMgYW4gb3B0aW1pemF0aW9uLCBJIHdpbGwgaW5jbHVkZVxuICAgICAgICAgICAgLy8gdGhpcyBkYXRhIGNoYW5nZSBpbnRvIHRoZSBtYXAoKSBmdW5jdGlvblxuICAgICAgICAgICAgY29sbGlzaW9uLmNvbGxpc2lvbk9iamVjdHMuY2xlYXIoKTtcbiAgICAgICAgICAgIGNvbGxpc2lvbi5vY2N1cnJlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgeCx5LHcsaFxuICAgICAgICAgICAgfSA9IHNoYXBlLmdldEJCb3goKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25EYXRhOiBjb2xsaXNpb24sXG4gICAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgICAgICAgICB4OiBwb3NpdGlvbi54ICsgeCxcbiAgICAgICAgICAgICAgICB5OiBwb3NpdGlvbi55ICsgeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNoZWNrIGZvciBjb2xsaXNpb24gYmV0d2VlbiBhbGwgY29sbGlzaW9uLWVuYWJsZWQgc2hhcGVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVjdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QxID0gcmVjdHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdDIgPSByZWN0c1tqXTtcblxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvR2FtZXMvVGVjaG5pcXVlcy8yRF9jb2xsaXNpb25fZGV0ZWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICByZWN0MS54IDwgcmVjdDIueCArIHJlY3QyLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgIHJlY3QxLnggKyByZWN0MS53aWR0aCA+IHJlY3QyLnggJiZcbiAgICAgICAgICAgICAgICAgICAgcmVjdDEueSA8IHJlY3QyLnkgKyByZWN0Mi5oZWlnaHQgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVjdDEueSArIHJlY3QxLmhlaWdodCA+IHJlY3QyLnlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWN0MS5jb2xsaXNpb25EYXRhLm9jY3VycmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0MS5jb2xsaXNpb25EYXRhLm9jY3VycmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QxLmNvbGxpc2lvbkRhdGEuY29sbGlzaW9uT2JqZWN0cy5hZGQocmVjdDIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVjdDIuY29sbGlzaW9uRGF0YS5vY2N1cnJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdDIuY29sbGlzaW9uRGF0YS5vY2N1cnJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0Mi5jb2xsaXNpb25EYXRhLmNvbGxpc2lvbk9iamVjdHMuYWRkKHJlY3QxLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBfQm94MkQgfSBmcm9tIFwiLi4vc2VydmVyXCI7XHJcbmltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFJlYWRFbnRpdHksIFF1ZXJ5LCBTeXN0ZW0sIFdpdGhUYWd9IGZyb20gXCJzaW0tZWNzXCI7XHJcbmltcG9ydCB7IFBoeXNpY3NCcmlkZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9waHlzaWNzLWJyaWRnZVwiO1xyXG5pbXBvcnQgeyBFQ29tbW9uVGFncyB9IGZyb20gXCIuLi9tb2RlbHMvY29tbW9uLXRhZ3NcIjtcclxuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbW1vbi1zdG9yZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdjU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcclxuICAgIHJlYWRvbmx5IHF1ZXJ5ID0gbmV3IFF1ZXJ5KHtcclxuICAgICAgICBlbnRpdHk6IFJlYWRFbnRpdHkoKSxcclxuICAgICAgICBfZGVsOiBXaXRoVGFnKEVDb21tb25UYWdzLmRlc3Ryb3lFbnRpdHkpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcGh5c1dvcmxkITogQm94MkQuYjJXb3JsZDtcclxuXHJcbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgcGh5c2ljc05hbWVzcGFjZToge1xyXG4gICAgICAgICAgICAgICAgYjJXb3JsZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xyXG4gICAgICAgIHRoaXMucGh5c1dvcmxkID0gYWN0aW9ucy5nZXRSZXNvdXJjZShiMldvcmxkKTtcclxuICAgIH1cclxuXHJcbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnF1ZXJ5LmV4ZWN1dGUoKHtlbnRpdHl9KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBoeXMgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFBoeXNpY3NCcmlkZ2UpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBoeXMgJiYgcGh5cy5ib2R5UHRyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNXb3JsZC5EZXN0cm95Qm9keShwaHlzLmJvZHlQdHIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhY3Rpb25zLmNvbW1hbmRzLnJlbW92ZUVudGl0eShlbnRpdHkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhY3Rpb25zLmNvbW1hbmRzLm1haW50YWluKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtJU3lzdGVtQWN0aW9ucywgU3lzdGVtfSBmcm9tIFwic2ltLWVjc1wiO1xyXG5pbXBvcnQgeyBDb21tb25TdG9yZSB9IGZyb20gJy4uL21vZGVscy9jb21tb24tc3RvcmUnO1xyXG5cclxuZXhwb3J0IGVudW0gRUtleVN0YXRlIHtcclxuICAgIFVwLFxyXG4gICAgRG93bixcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRU1vdXNlU3RhdGUge1xyXG4gICAgRG93bixcclxuICAgIFVwLFxyXG4gICAgTW92ZVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSU1vdXNlRXZlbnQge1xyXG4gICAgdHlwZTogRU1vdXNlU3RhdGVcclxuICAgIGJ1dHRvbjogbnVtYmVyXHJcbiAgICB4OiBudW1iZXJcclxuICAgIHk6IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSW5wdXRTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xyXG4gICAgY29tbW9uU3RvcmUhOiBDb21tb25TdG9yZTtcclxuICAgIG1vdXNlRXZlbnRzOiBJTW91c2VFdmVudFtdID0gW107XHJcbiAgICB3aGVlbEV2ZW50czogbnVtYmVyW10gPSBbXTtcclxuXHJcbiAgICByZXNldFByZXZTdGF0ZShjb2RlOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBwcmV2U3RhdGUgPSB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmtleVN0YXRlcy5nZXQoY29kZSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUuaW5wdXQucHJldktleVN0YXRlcy5zZXQoXHJcbiAgICAgICAgICAgIGNvZGUsIHByZXZTdGF0ZVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVhZG9ubHkgbGlzdGVuZXJzID0ge1xyXG4gICAgICAgIHdoZWVsOiAoZTogV2hlZWxFdmVudCkgPT4gKFxyXG4gICAgICAgICAgICB0aGlzLndoZWVsRXZlbnRzLnB1c2goLWUuZGVsdGFZIC8gMTI1XHJcbiAgICAgICAgKSksXHJcbiAgICAgICAga2V5ZG93bjogKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldFByZXZTdGF0ZShlLmNvZGUpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmtleVN0YXRlcy5zZXQoZS5jb2RlLCBFS2V5U3RhdGUuRG93bik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBrZXl1cDogKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldFByZXZTdGF0ZShlLmNvZGUpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmtleVN0YXRlcy5zZXQoZS5jb2RlLCBFS2V5U3RhdGUuVXApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW91c2Vkb3duOiAoZTogTW91c2VFdmVudCkgPT4gdGhpcy5tb3VzZUV2ZW50cy5wdXNoKHtcclxuICAgICAgICAgICAgYnV0dG9uOiBlLmJ1dHRvbixcclxuICAgICAgICAgICAgdHlwZTogRU1vdXNlU3RhdGUuRG93bixcclxuICAgICAgICAgICAgeDogZS5jbGllbnRYLFxyXG4gICAgICAgICAgICB5OiBlLmNsaWVudFksXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgbW91c2V1cDogKGU6TW91c2VFdmVudCkgPT4gdGhpcy5tb3VzZUV2ZW50cy5wdXNoKHtcclxuICAgICAgICAgICAgYnV0dG9uOiBlLmJ1dHRvbixcclxuICAgICAgICAgICAgdHlwZTogRU1vdXNlU3RhdGUuVXAsXHJcbiAgICAgICAgICAgIHg6IGUuY2xpZW50WCxcclxuICAgICAgICAgICAgeTogZS5jbGllbnRZLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIG1vdXNlbW92ZTogKGU6IE1vdXNlRXZlbnQpID0+IHRoaXMubW91c2VFdmVudHMucHVzaCh7XHJcbiAgICAgICAgICAgIGJ1dHRvbjogZS5idXR0b24sXHJcbiAgICAgICAgICAgIHR5cGU6IEVNb3VzZVN0YXRlLk1vdmUsXHJcbiAgICAgICAgICAgIHg6IGUuY2xpZW50WCxcclxuICAgICAgICAgICAgeTogZS5jbGllbnRZLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIGNvbnRleHRtZW51OiAoZTogTW91c2VFdmVudCkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XHJcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IFtldmVudCwgaGFuZGxlcl0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5saXN0ZW5lcnMpKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICAgICAgZXZlbnQsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyIGFzIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3RcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveShfOiBJU3lzdGVtQWN0aW9ucykge1xyXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koXyk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgW2V2ZW50LCBoYW5kbGVyXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmxpc3RlbmVycykpIHtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgICAgICBldmVudCxcclxuICAgICAgICAgICAgICAgIGhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcclxuICAgICAgICBsZXQgbW91c2VFdmVudDogSU1vdXNlRXZlbnQgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZS5pbnB1dC5tb3VzZVN0YXRlcy5jbGVhcigpO1xyXG5cclxuICAgICAgICB3aGlsZSAoKG1vdXNlRXZlbnQgPSB0aGlzLm1vdXNlRXZlbnRzLnBvcCgpKSkge1xyXG4gICAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAgeCwgeSxcclxuICAgICAgICAgICAgICAgIGJ1dHRvblxyXG4gICAgICAgICAgICB9ID0gbW91c2VFdmVudDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29tbW9uU3RvcmUuaW5wdXQubW91c2VTdGF0ZXMuc2V0KGJ1dHRvbiwgdHlwZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmN1cnNvclBvcy54ID0geDtcclxuICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS5pbnB1dC5jdXJzb3JQb3MueSA9IHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgd2hlZWxEZWx0YTogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0LndoZWVsID0gMDtcclxuXHJcbiAgICAgICAgd2hpbGUgKCh3aGVlbERlbHRhID0gdGhpcy53aGVlbEV2ZW50cy5wb3AoKSkpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS5pbnB1dC53aGVlbCA9IHdoZWVsRGVsdGE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFJlYWRFbnRpdHksIFF1ZXJ5LCBSZWFkLCBTeXN0ZW0sIFdyaXRlfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9wb3NpdGlvblwiO1xuaW1wb3J0IHsgUm90YXRpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9yb3RhdGlvblwiO1xuaW1wb3J0IHtWZWxvY2l0eX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdmVsb2NpdHlcIjtcbmltcG9ydCB7IENvbW1vblN0b3JlIH0gZnJvbSBcIi4uL21vZGVscy9jb21tb24tc3RvcmVcIjtcbmltcG9ydCB7IFBoeXNpY3NCcmlkZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9waHlzaWNzLWJyaWRnZVwiO1xuXG5leHBvcnQgY2xhc3MgUGh5c2ljc1N5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgcXVlcnkgPSBuZXcgUXVlcnkoe1xuICAgICAgICBlbnRpdHk6IFJlYWRFbnRpdHkoKSxcbiAgICAgICAgcG9zOiBXcml0ZShQb3NpdGlvbiksXG4gICAgICAgIHJvdDogV3JpdGUoUm90YXRpb24pLFxuICAgICAgICB2ZWw6IFJlYWQoVmVsb2NpdHkpLFxuICAgIH0pO1xuXG4gICAgcGh5c1dvcmxkITogQm94MkQuYjJXb3JsZDtcblxuICAgIHNldHVwKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHBoeXNpY3NOYW1lc3BhY2U6IHtcbiAgICAgICAgICAgICAgICBiMldvcmxkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gPSBhY3Rpb25zLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcbiAgICAgICAgdGhpcy5waHlzV29ybGQgPSBhY3Rpb25zLmdldFJlc291cmNlKGIyV29ybGQpO1xuICAgIH1cblxuICAgIHJ1bihhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICBjb25zdCBkdCA9IDAuMDE2O1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHBoeXNpY3NOYW1lc3BhY2U6IHtcbiAgICAgICAgICAgICAgICBnZXRQb2ludGVyLFxuICAgICAgICAgICAgICAgIE5VTExcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xuXG4gICAgICAgIC8vIGNvbnN0IGhhc2hCb2RpZXM6UmVjb3JkPG51bWJlciwgQm94MkQuYjJCb2R5PiA9IHt9O1xuICAgICAgICAvLyBsZXQgcHRyOiBudW1iZXI7XG5cbiAgICAgICAgLy8gZm9yIChcbiAgICAgICAgLy8gICAgIGxldCBib2R5ID0gdGhpcy5waHlzV29ybGQuR2V0Qm9keUxpc3QoKTtcbiAgICAgICAgLy8gICAgIChwdHIgPSBnZXRQb2ludGVyKGJvZHkpKSAhPT0gZ2V0UG9pbnRlcihOVUxMKTtcbiAgICAgICAgLy8gICAgIGJvZHkgPSBib2R5LkdldE5leHQoKVxuICAgICAgICAvLyApIHtcbiAgICAgICAgLy8gICAgIGhhc2hCb2RpZXNbcHRyXSA9IGJvZHk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICB0aGlzLnF1ZXJ5LmV4ZWN1dGUoKHtlbnRpdHksIHBvcywgcm90LCB2ZWx9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwaHlzID0gZW50aXR5LmdldENvbXBvbmVudChQaHlzaWNzQnJpZGdlKTtcbiAgICAgICAgICAgIGlmIChwaHlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9keSA9IHBoeXMuYm9keVB0cjtcbiAgICAgICAgICAgICAgICBpZiAoIWJvZHkpIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCB7eCwgeX0gPSBib2R5LkdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBib2R5LkdldEFuZ2xlKCk7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IHg7XG4gICAgICAgICAgICAgICAgcG9zLnkgPSB5O1xuICAgICAgICAgICAgICAgIHJvdC52YWx1ZSA9IGFuZ2xlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSB2ZWwueCAqIGR0O1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IHZlbC55ICogZHQ7XG4gICAgICAgICAgICAgICAgcm90LnZhbHVlICs9IHZlbC5hbmd1bGFyICogZHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGh5c1dvcmxkLlN0ZXAoZHQsIDEsIDEpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBUV09QSSA9IE1hdGguUEkgKiAyO1xuZXhwb3J0IGNvbnN0IGRyYXdQb2ludCA9IChcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICB4Om51bWJlcixcbiAgICB5Om51bWJlcixcbiAgICBzaXplOm51bWJlciA9IDAuMVxuKSA9PiB7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjcpJztcbiAgICBjdHguYXJjKHgsIHksIHNpemUsIDAsIFRXT1BJKTtcbiAgICBjdHguZmlsbCgpO1xufVxuXG5leHBvcnQgY29uc3QgUElYRUxTX1BFUl9NRVRFUiA9IDMyO1xuXG5leHBvcnQgY29uc3QgbGVycCA9ICh2YWx1ZTE6IG51bWJlciwgdmFsdWUyOiBudW1iZXIsIGZhY3RvcjogbnVtYmVyKSA9PiB7XG4gICAgZmFjdG9yID0gZmFjdG9yIDwgMCA/IDAgOiBmYWN0b3I7XG4gICAgZmFjdG9yID0gZmFjdG9yID4gMSA/IDEgOiBmYWN0b3I7XG4gICAgcmV0dXJuIHZhbHVlMSArICh2YWx1ZTIgLSB2YWx1ZTEpICogZmFjdG9yO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvcnRBbmdsZURpc3QoYTA6IG51bWJlciwgYTE6IG51bWJlcikge1xuICAgIGNvbnN0IG1heCA9IE1hdGguUEkgKiAyO1xuICAgIGNvbnN0IGRhID0gKGExIC0gYTApICUgbWF4O1xuICAgIHJldHVybiAyICogZGEgJSBtYXggLSBkYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlTGVycChhMDogbnVtYmVyLCBhMTogbnVtYmVyLCB0OiBudW1iZXIpIHtcbiAgICByZXR1cm4gYTAgKyBzaG9ydEFuZ2xlRGlzdChhMCwgYTEpICogdDtcbn0iLCJpbXBvcnQgeyBUb3Bkb3duIH0gZnJvbSAnLi9sZXZlbHMvdG9wZG93bic7XHJcbmltcG9ydCAnLi9zY3NzL2FwcC5zY3NzJztcclxuaW1wb3J0IHsgTGV2ZWwgfSBmcm9tICcuL2VuZ2luZS9sZXZlbC5oJztcclxuaW1wb3J0IHsgdXBkYXRlUmVuZGVyQ29udGV4dCB9IGZyb20gJy4vZW5naW5lJztcclxuaW1wb3J0IHsgX0JveDJELCBsb2FkUGh5c2ljcyB9IGZyb20gJy4vZW5naW5lL3NlcnZlcic7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlUmVuZGVyQ29udGV4dCk7XHJcblxyXG5jb25zdCBfZmV0Y2ggPSB3aW5kb3cuZmV0Y2g7XHJcbndpbmRvdy5mZXRjaCA9IChcclxuICAgIGlucHV0OiBSZXF1ZXN0SW5mbyxcclxuICAgIGluaXQ/OiBSZXF1ZXN0SW5pdCB8IHVuZGVmaW5lZCk6IFByb21pc2U8UmVzcG9uc2U+ID0+IHtcclxuICAgIGlmIChpbml0Py5jcmVkZW50aWFscyA9PT0gJ3NhbWUtb3JpZ2luJykge1xyXG4gICAgICAgIGRlbGV0ZSBpbml0LmNyZWRlbnRpYWxzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9mZXRjaChpbnB1dCwgaW5pdCk7XHJcbn1cclxuXHJcbmNvbnN0IGxldmVsczp7XHJcbiAgICBbbmFtZTogc3RyaW5nXTogbmV3ICguLi5hcmdzOltfQm94MkRdKSA9PiBMZXZlbCxcclxufSA9IHtcclxuICAgICd0b3Bkb3duJzogVG9wZG93bixcclxufTtcclxuXHJcbnR5cGUgbGV2ZWxUeXBlID0ga2V5b2YgdHlwZW9mIGxldmVscztcclxuXHJcbi8vIG1haW4gZnVuY3Rpb25cclxuKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGJveDJEID0gYXdhaXQgbG9hZFBoeXNpY3MoKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmtleXMobGV2ZWxzKVxyXG4gICAgICAgIC5tYXAoKGUsaSkgPT4gKGAke2krMX0pICR7ZX1gKSk7XHJcbiAgICBvcHRpb25zLnB1c2goJ2V4aXQgKG9yIGVtcHR5KScpO1xyXG5cclxuICAgIGxldCByZXF1ZXN0ZWRMZXZlbCA9ICd0b3Bkb3duJztcclxuXHJcbiAgICB3aGlsZSAocmVxdWVzdGVkTGV2ZWwgIT09ICdleGl0Jykge1xyXG4gICAgICAgIGNvbnN0IGxldmVsID0gcmVxdWVzdGVkTGV2ZWwgYXMgbGV2ZWxUeXBlO1xyXG4gICAgICAgIGxldCB3b3JsZCA9IG5ldyBsZXZlbHNbbGV2ZWxdKGJveDJEKTtcclxuXHJcbiAgICAgICAgYXdhaXQgd29ybGQucnVuKCk7XHJcblxyXG4gICAgICAgIHJlcXVlc3RlZExldmVsID0gcHJvbXB0KCdXaGF0IGxldmVsIHdvdWxkIHlvdSBsaWtlIHRvIGNoZWNrIG5leHQ/XFxuJyArXHJcbiAgICAgICAgICAgIG9wdGlvbnMuam9pbignXFxuJylcclxuICAgICAgICApIHx8ICdleGl0JztcclxuICAgIH1cclxufSkoKS5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuIiwiaW1wb3J0IHsgRUNTLCBJV29ybGQgfSBmcm9tIFwic2ltLWVjc1wiO1xyXG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jaGFyYWN0ZXJcIjtcclxuaW1wb3J0IHsgVUlJdGVtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdWktaXRlbVwiO1xyXG5pbXBvcnQgeyBDb2xsaXNpb24gfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvY29sbGlzaW9uXCI7XHJcbmltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL21hdGVyaWFsXCI7XHJcbmltcG9ydCB7IE1lc2ggfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvbWVzaFwiO1xyXG5pbXBvcnQgeyBQaHlzaWNzQnJpZGdlIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3BoeXNpY3MtYnJpZGdlXCI7XHJcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3Bvc2l0aW9uXCI7XHJcbmltcG9ydCB7IFJvdGF0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3JvdGF0aW9uXCI7XHJcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3NoYXBlXCI7XHJcbmltcG9ydCB7IFZlbG9jaXR5IH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3ZlbG9jaXR5XCI7XHJcbmltcG9ydCB7IExldmVsIH0gZnJvbSBcIi4uL2VuZ2luZS9sZXZlbC5oXCI7XHJcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL2NhbWVyYVwiO1xyXG5pbXBvcnQgeyBDb21tb25TdG9yZSB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL2NvbW1vbi1zdG9yZVwiO1xyXG5pbXBvcnQgeyBfQm94MkQgfSBmcm9tIFwiLi4vZW5naW5lL3NlcnZlclwiO1xyXG5pbXBvcnQgeyBDYW1lcmFTeXN0ZW0gfSBmcm9tIFwiLi4vZW5naW5lL3N5c3RlbXMvY2FtZXJhXCI7XHJcbmltcG9ydCB7IENvbGxpc2lvblN5c3RlbSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9jb2xsaXNpb25cIjtcclxuaW1wb3J0IHsgR2NTeXN0ZW0gfSBmcm9tIFwiLi4vZW5naW5lL3N5c3RlbXMvZ2NcIjtcclxuaW1wb3J0IHsgSW5wdXRTeXN0ZW0gfSBmcm9tIFwiLi4vZW5naW5lL3N5c3RlbXMvaW5wdXRcIjtcclxuaW1wb3J0IHsgUGh5c2ljc1N5c3RlbSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9waHlzaWNzXCI7XHJcbmltcG9ydCB7IEdhbWVTdG9yZSB9IGZyb20gXCIuLi9tb2RlbHMvZ2FtZS1zdG9yZVwiO1xyXG5pbXBvcnQgeyBNZW51U3RhdGUgfSBmcm9tIFwiLi4vc3RhdGVzL21lbnVcIjtcclxuaW1wb3J0IHsgQWN0aW9uc1N5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL2FjdGlvbnNcIjtcclxuaW1wb3J0IHsgQ2hhcmFjdGVyU3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbXMvY2hhcmFjdGVyXCI7XHJcbmltcG9ydCB7IE1lbnVTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9tZW51XCI7XHJcbmltcG9ydCB7IFBhdXNlU3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbXMvcGF1c2VcIjtcclxuaW1wb3J0IHsgUmVuZGVyR2FtZVN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL3JlbmRlci1nYW1lXCI7XHJcbmltcG9ydCB7IFJlbmRlclVJU3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbXMvcmVuZGVyLXVpXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVG9wZG93biBleHRlbmRzIExldmVsIHtcclxuICAgIHJlYWRvbmx5IGluaXRpYWxTdGF0ZSA9IE1lbnVTdGF0ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwaHlzaWNzOiBfQm94MkQpIHtcclxuICAgICAgICBzdXBlcihwaHlzaWNzLCAndG9wZG93bicpO1xyXG5cclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGIyVmVjMixcclxuICAgICAgICAgICAgYjJXb3JsZFxyXG4gICAgICAgIH0gPSBwaHlzaWNzO1xyXG5cclxuICAgICAgICBjb25zdCBncmF2aXR5ID0gbmV3IGIyVmVjMigwLCA5LjgxKTtcclxuICAgICAgICBjb25zdCBwaHlzV29ybGQgPSBuZXcgYjJXb3JsZChncmF2aXR5KTtcclxuICAgICAgICB0aGlzLndvcmxkLmFkZFJlc291cmNlKHBoeXNXb3JsZCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHplcm8gPSBuZXcgYjJWZWMyKDAsIDApO1xyXG5cclxuICAgICAgICBjb25zdCBnYW1lU3RvcmUgPSBuZXcgR2FtZVN0b3JlKCk7XHJcbiAgICAgICAgY29uc3QgY2FtZXJhID0gbmV3IENhbWVyYSgpO1xyXG5cclxuICAgICAgICBjb25zdCBjb21tb25TdG9yZSA9IG5ldyBDb21tb25TdG9yZSgpO1xyXG4gICAgICAgIGNvbW1vblN0b3JlLnBoeXNpY3NOYW1lc3BhY2UgPSBwaHlzaWNzO1xyXG4gICAgICAgIGNvbW1vblN0b3JlLnBoeXNpY3NaZXJvID0gemVybztcclxuXHJcbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShjb21tb25TdG9yZSk7XHJcbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShnYW1lU3RvcmUpO1xyXG4gICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2UoY2FtZXJhKTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBwaHlzaWNzTmFtZXNwYWNlLFxyXG4gICAgICAgICAgICBwaHlzaWNzWmVyb1xyXG4gICAgICAgIH0gPSB0aGlzLndvcmxkLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcclxuICAgICAgICBjb25zdCBwaHlzaWNzV29ybGQgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKHBoeXNpY3NOYW1lc3BhY2UuYjJXb3JsZCk7XHJcblxyXG4gICAgICAgIHBoeXNpY3NOYW1lc3BhY2UuZGVzdHJveShwaHlzaWNzV29ybGQpO1xyXG4gICAgICAgIHBoeXNpY3NOYW1lc3BhY2UuZGVzdHJveShwaHlzaWNzWmVybyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNlY2VjZWMnO1xyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY3R4LmNhbnZhcy53aWR0aCwgY3R4LmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVdvcmxkKCk6IElXb3JsZCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFQ1MoKVxyXG4gICAgICAgICAgICAuYnVpbGRXb3JsZCgpXHJcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKENhbWVyYVN5c3RlbSwgW1xyXG4gICAgICAgICAgICAgICAgQ2hhcmFjdGVyU3lzdGVtXHJcbiAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKFBoeXNpY3NTeXN0ZW0sIFtcclxuICAgICAgICAgICAgICAgIENoYXJhY3RlclN5c3RlbVxyXG4gICAgICAgICAgICAgICAgLy8gTmV0d29ya1N5c3RlbVxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAud2l0aFN5c3RlbShDaGFyYWN0ZXJTeXN0ZW0sIFtcclxuICAgICAgICAgICAgICAgIENvbGxpc2lvblN5c3RlbVxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAud2l0aFN5c3RlbShDb2xsaXNpb25TeXN0ZW0sIFtcclxuICAgICAgICAgICAgICAgIC8vIE5ldHdvcmtTeXN0ZW1cclxuICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgLndpdGhTeXN0ZW0oQWN0aW9uc1N5c3RlbSwgW1xyXG4gICAgICAgICAgICAgICAgUGF1c2VTeXN0ZW1cclxuICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgLndpdGhTeXN0ZW0oSW5wdXRTeXN0ZW0pXHJcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKE1lbnVTeXN0ZW0sIFtcclxuICAgICAgICAgICAgICAgIElucHV0U3lzdGVtLFxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAud2l0aFN5c3RlbShQYXVzZVN5c3RlbSwgW1xyXG4gICAgICAgICAgICAgICAgSW5wdXRTeXN0ZW1cclxuICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgLndpdGhTeXN0ZW0oUmVuZGVyR2FtZVN5c3RlbSwgW1xyXG4gICAgICAgICAgICAgICAgUGh5c2ljc1N5c3RlbSxcclxuICAgICAgICAgICAgICAgIENoYXJhY3RlclN5c3RlbSxcclxuICAgICAgICAgICAgICAgIC8vIE5ldHdvcmtTeXN0ZW0sXHJcbiAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKEdjU3lzdGVtLCBbXHJcbiAgICAgICAgICAgICAgICBSZW5kZXJHYW1lU3lzdGVtLFxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAud2l0aFN5c3RlbShSZW5kZXJVSVN5c3RlbSwgW1xyXG4gICAgICAgICAgICAgICAgUGh5c2ljc1N5c3RlbSxcclxuICAgICAgICAgICAgICAgIE1lbnVTeXN0ZW0sXHJcbiAgICAgICAgICAgICAgICBQYXVzZVN5c3RlbVxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAud2l0aENvbXBvbmVudHMoXHJcbiAgICAgICAgICAgICAgICBDb2xsaXNpb24sXHJcbiAgICAgICAgICAgICAgICBNYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgIE1lc2gsXHJcbiAgICAgICAgICAgICAgICBQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgIFJvdGF0aW9uLFxyXG4gICAgICAgICAgICAgICAgU2hhcGUsXHJcbiAgICAgICAgICAgICAgICBVSUl0ZW0sXHJcbiAgICAgICAgICAgICAgICBWZWxvY2l0eSxcclxuICAgICAgICAgICAgICAgIENoYXJhY3RlcixcclxuICAgICAgICAgICAgICAgIFBoeXNpY3NCcmlkZ2UsXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge0lTdGF0ZX0gZnJvbSBcInNpbS1lY3NcIjtcclxuaW1wb3J0IHsgRU1vdmVtZW50IH0gZnJvbSBcIi4uL2VuZ2luZS9tb2RlbHMvbW92ZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU3RvcmUge1xyXG4gICAgY29udGludWUgPSBmYWxzZVxyXG4gICAgY3VycmVudFN0YXRlPzogSVN0YXRlXHJcbiAgICBhY3Rpb25zOiB7XHJcbiAgICAgICAgY2hhcmFjdGVyTW92ZW1lbnQ6IEVNb3ZlbWVudFxyXG4gICAgICAgIG1lbnVDb25maXJtOiBib29sZWFuXHJcbiAgICAgICAgdG9nZ2xlUGF1c2U6IGJvb2xlYW5cclxuICAgICAgICBtZW51TW92ZW1lbnQ6IEVNb3ZlbWVudFxyXG4gICAgfSA9IHtcclxuICAgICAgICBjaGFyYWN0ZXJNb3ZlbWVudDogRU1vdmVtZW50LmlkbGUsXHJcbiAgICAgICAgbWVudUNvbmZpcm06IGZhbHNlLFxyXG4gICAgICAgIG1lbnVNb3ZlbWVudDogRU1vdmVtZW50LmlkbGUsXHJcbiAgICAgICAgdG9nZ2xlUGF1c2U6IGZhbHNlLFxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEVDb21tb25UYWdzIH0gZnJvbSAnLi4vZW5naW5lL21vZGVscy9jb21tb24tdGFncyc7XHJcblxyXG5leHBvcnQgZW51bSBNeVRhZ3Mge1xyXG4gICAgc2F2ZSA9IEVDb21tb25UYWdzLl9fTEFURVNULFxyXG4gICAgY2hhcmFjdGVyLFxyXG4gICAgbmV0d29ya09iamVjdCxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEVUYWdzID0ge1xyXG4gICAgLi4uRUNvbW1vblRhZ3MsXHJcbiAgICAuLi5NeVRhZ3MsXHJcbn0iLCJpbXBvcnQgeyBDVGFnTWFya2VyIH0gZnJvbSBcInNpbS1lY3NcIjtcclxuaW1wb3J0IHsgQ29sbGlzaW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL2NvbGxpc2lvblwiO1xyXG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9tYXRlcmlhbFwiO1xyXG5pbXBvcnQgeyBQaHlzaWNzQnJpZGdlIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3BoeXNpY3MtYnJpZGdlXCI7XHJcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3Bvc2l0aW9uXCI7XHJcbmltcG9ydCB7IFJvdGF0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3JvdGF0aW9uXCI7XHJcbmltcG9ydCB7IFNoYXBlLCBTaGFwZVBpdm90LCBTaGFwZVByaW1pdGl2ZSB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9zaGFwZVwiO1xyXG5pbXBvcnQgeyBWZWxvY2l0eSB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy92ZWxvY2l0eVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyRCB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL3ZlY3RvcjJkXCI7XHJcbmltcG9ydCB7IEVUYWdzIH0gZnJvbSBcIi4uL21vZGVscy90YWdzXCI7XHJcblxyXG4vLyBUaGlzIGNvdWxkIGFsc28gYmUgcHVyZSBKU09OLCBidXQgaW4gb3JkZXIgdG8gdXNlIFRTIHR5cGVzIGFuZCBoYXZlIHN0YXRpYyBjaGVja3MgaXQgaXMgcmVjb21tZW5kZWQgdG8gd3JpdGUgaXQgYXMgVFMgYXJyYXkuXHJcbmV4cG9ydCBjb25zdCBnYW1lUHJlZmFiID0gW1xyXG4gICAge1xyXG4gICAgICAgIFBoeXNpY3NCcmlkZ2U6IDxQaHlzaWNzQnJpZGdlPnt9LFxyXG4gICAgICAgIENvbGxpc2lvbjogPENvbGxpc2lvbj57fSxcclxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFJvdGF0aW9uOiA8Um90YXRpb24+e1xyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgVmVsb2NpdHk6IDxWZWxvY2l0eT57XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDAsIFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTWF0ZXJpYWw6IDxNYXRlcmlhbD57XHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZkZmYwMydcclxuICAgICAgICB9LFxyXG4gICAgICAgIFNoYXBlOiA8U2hhcGU+e1xyXG4gICAgICAgICAgICBkaW1lbnNpb25zOiA8VmVjdG9yMkQ+e1xyXG4gICAgICAgICAgICAgICAgeDogMixcclxuICAgICAgICAgICAgICAgIHk6IDAuNyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGl2b3Q6IFNoYXBlUGl2b3QuVG9wTGVmdCxcclxuICAgICAgICAgICAgcHJpbWl0aXZlOiBTaGFwZVByaW1pdGl2ZS5SZWN0LFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIENvbGxpc2lvbjogPENvbGxpc2lvbj57fSxcclxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcclxuICAgICAgICAgICAgeDogMSxcclxuICAgICAgICAgICAgeTogMyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFJvdGF0aW9uOiA8Um90YXRpb24+e1xyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgVmVsb2NpdHk6IDxWZWxvY2l0eT57XHJcbiAgICAgICAgICAgIHg6IDIsXHJcbiAgICAgICAgICAgIHk6IDAsIFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTWF0ZXJpYWw6IDxNYXRlcmlhbD57XHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZkZmYwMydcclxuICAgICAgICB9LFxyXG4gICAgICAgIFNoYXBlOiA8U2hhcGU+e1xyXG4gICAgICAgICAgICB6SW5kZXg6IDEwLFxyXG4gICAgICAgICAgICBwaXZvdDogU2hhcGVQaXZvdC5Ub3BMZWZ0LFxyXG4gICAgICAgICAgICBkaW1lbnNpb25zOiA8VmVjdG9yMkQ+e1xyXG4gICAgICAgICAgICAgICAgeDogMC43LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcmltaXRpdmU6IFNoYXBlUHJpbWl0aXZlLkNpcmNsZSxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBDb2xsaXNpb246IDxDb2xsaXNpb24+e30sXHJcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XHJcbiAgICAgICAgICAgIHg6IDE4LFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgUm90YXRpb246IDxSb3RhdGlvbj57XHJcbiAgICAgICAgICAgIHZhbHVlOiA3ICogTWF0aC5QSSAvIDRcclxuICAgICAgICB9LFxyXG4gICAgICAgIFZlbG9jaXR5OiA8VmVsb2NpdHk+e1xyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwLCBcclxuICAgICAgICB9LFxyXG4gICAgICAgIE1hdGVyaWFsOiA8TWF0ZXJpYWw+e1xyXG4gICAgICAgICAgICBjb2xvcjogJyMwYmInXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbl07XHJcbiIsImltcG9ydCB7IENUYWdNYXJrZXIgfSBmcm9tIFwic2ltLWVjc1wiO1xyXG5pbXBvcnQge0VBY3Rpb25zfSBmcm9tIFwiLi4vYXBwL2FjdGlvbnNcIjtcclxuaW1wb3J0IHtVSUl0ZW19IGZyb20gXCIuLi9jb21wb25lbnRzL3VpLWl0ZW1cIjtcclxuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcG9zaXRpb25cIjtcclxuaW1wb3J0IHsgRVRhZ3MgfSBmcm9tIFwiLi4vbW9kZWxzL3RhZ3NcIjtcclxuXHJcbi8vIFRoaXMgY291bGQgYWxzbyBiZSBwdXJlIEpTT04sIGJ1dCBpbiBvcmRlciB0byB1c2UgVFMgdHlwZXMgYW5kIGhhdmUgc3RhdGljIGNoZWNrcyBpdCBpcyByZWNvbW1lbmRlZCB0byB3cml0ZSBpdCBhcyBUUyBhcnJheS5cclxuZXhwb3J0IGNvbnN0IG1lbnVQcmVmYWIgPSBbXHJcbiAgICB7IC8vIFRpdGxlXHJcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXHJcbiAgICAgICAgICAgIEVUYWdzLnVpXHJcbiAgICAgICAgXSxcclxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcclxuICAgICAgICAgICAgeDogMC4wNSoxMDI0LFxyXG4gICAgICAgICAgICB5OiAwLjA1KjEwMjQsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBVSUl0ZW06IDxVSUl0ZW0+e1xyXG4gICAgICAgICAgICBjYXB0aW9uOiAnU0hQRUsnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNkZGQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogNjQsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHsgLy8gU3ViIHRpdGxlXHJcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXHJcbiAgICAgICAgICAgIEVUYWdzLnVpXHJcbiAgICAgICAgXSxcclxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcclxuICAgICAgICAgICAgeDogMC4wNSoxMDI0LFxyXG4gICAgICAgICAgICB5OiAwLjEyKjEwMjQsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBVSUl0ZW06IHtcclxuICAgICAgICAgICAgY2FwdGlvbjogJ1BlbiBpcyBnYW1lJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZGRkJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDI0LFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXHJcbiAgICAgICAgICAgIEVUYWdzLnVpXHJcbiAgICAgICAgXSxcclxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcclxuICAgICAgICAgICAgeDogMC4wNSoxMDI0LFxyXG4gICAgICAgICAgICB5OiAwLjIqMTAyNCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFVJSXRlbTogPFVJSXRlbT57XHJcbiAgICAgICAgICAgIGNhcHRpb246ICdIb3cgdG8gcGxheTogTW92ZTogV0FTRCwgUm90YXRlIFEvRSwgUGF1c2U6IEVzY2FwZScsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2RkZCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAyNCxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFtDVGFnTWFya2VyXTogW1xyXG4gICAgICAgICAgICBFVGFncy51aVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XHJcbiAgICAgICAgICAgIHg6IDAuMDUqMTAyNCxcclxuICAgICAgICAgICAgeTogMC4yNCoxMDI0LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgVUlJdGVtOiA8VUlJdGVtPntcclxuICAgICAgICAgICAgY2FwdGlvbjogJ1RoZSBnYW1lIHdpbGwgYmUgc2F2ZWQgdXBvbiBwYXVzaW5nIChub3QgeWV0IGxtYW8pJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZGRkJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDI0LFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXHJcbiAgICAgICAgICAgIEVUYWdzLnVpXHJcbiAgICAgICAgXSxcclxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcclxuICAgICAgICAgICAgeDogMC4xNSoxMDI0LFxyXG4gICAgICAgICAgICB5OiAwLjM1KjEwMjQsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBVSUl0ZW06IDxVSUl0ZW0+e1xyXG4gICAgICAgICAgICBhY3Rpb246IEVBY3Rpb25zLlBsYXksXHJcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29sb3I6ICcjZGRkJyxcclxuICAgICAgICAgICAgY2FwdGlvbjogJ1BsYXknLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXHJcbiAgICAgICAgICAgIEVUYWdzLnVpXHJcbiAgICAgICAgXSxcclxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcclxuICAgICAgICAgICAgeDogMC4xNSoxMDI0LFxyXG4gICAgICAgICAgICB5OiAwLjQqMTAyNCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFVJSXRlbTogPFVJSXRlbT57XHJcbiAgICAgICAgICAgIGFjdGlvbjogRUFjdGlvbnMuQ29udGludWUsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2RkZCcsXHJcbiAgICAgICAgICAgIGNhcHRpb246ICdDb250aW51ZScsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBbQ1RhZ01hcmtlcl06IFtcclxuICAgICAgICAgICAgRVRhZ3MudWlcclxuICAgICAgICBdLFxyXG4gICAgICAgIFBvc2l0aW9uOiA8UG9zaXRpb24+e1xyXG4gICAgICAgICAgICB4OiAwLjE1KjEwMjQsXHJcbiAgICAgICAgICAgIHk6IDAuNDUqMTAyNCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFVJSXRlbTogPFVJSXRlbT57XHJcbiAgICAgICAgICAgIGFjdGlvbjogRUFjdGlvbnMuRXhpdCxcclxuICAgICAgICAgICAgY29sb3I6ICcjZGRkJyxcclxuICAgICAgICAgICAgY2FwdGlvbjogJ0V4aXQgKHJlYWxseT8pJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG5dO1xyXG4iLCJpbXBvcnQgeyBDVGFnTWFya2VyIH0gZnJvbSBcInNpbS1lY3NcIjtcclxuaW1wb3J0IHtVSUl0ZW19IGZyb20gXCIuLi9jb21wb25lbnRzL3VpLWl0ZW1cIjtcclxuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcG9zaXRpb25cIjtcclxuaW1wb3J0IHsgRVRhZ3MgfSBmcm9tIFwiLi4vbW9kZWxzL3RhZ3NcIjtcclxuXHJcbi8vIFRoaXMgY291bGQgYWxzbyBiZSBwdXJlIEpTT04sIGJ1dCBpbiBvcmRlciB0byB1c2UgVFMgdHlwZXMgYW5kIGhhdmUgc3RhdGljIGNoZWNrcyBpdCBpcyByZWNvbW1lbmRlZCB0byB3cml0ZSBpdCBhcyBUUyBhcnJheS5cclxuZXhwb3J0IGNvbnN0IHBhdXNlUHJlZmFiID0gW1xyXG4gICAge1xyXG4gICAgICAgIFtDVGFnTWFya2VyXTogW1xyXG4gICAgICAgICAgICBFVGFncy51aVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XHJcbiAgICAgICAgICAgIHg6IDUwLFxyXG4gICAgICAgICAgICB5OiAzMCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFVJSXRlbTogPFVJSXRlbT57XHJcbiAgICAgICAgICAgIGNhcHRpb246ICfinZrinZogUEFVU0UnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNkZGQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogNjQsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXTtcclxuIiwiaW1wb3J0IHtFVGFnc30gZnJvbSBcIi4uL21vZGVscy90YWdzXCI7XHJcbmltcG9ydCB7Q1RhZ01hcmtlcn0gZnJvbSAnc2ltLWVjcyc7XHJcbmltcG9ydCB7IHZlcnRpY2llcyB9IGZyb20gXCIuLi8uLi9yZXMvbWVzaGVzLzFcIjtcclxuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY2hhcmFjdGVyXCI7XHJcbmltcG9ydCB7IENvbGxpc2lvbiB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9jb2xsaXNpb25cIjtcclxuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvbWF0ZXJpYWxcIjtcclxuaW1wb3J0IHsgTWVzaCB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9tZXNoXCI7XHJcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3Bvc2l0aW9uXCI7XHJcbmltcG9ydCB7IFJvdGF0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3JvdGF0aW9uXCI7XHJcbmltcG9ydCB7IFNoYXBlLCBTaGFwZVByaW1pdGl2ZSwgU2hhcGVQaXZvdCB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9zaGFwZVwiO1xyXG5pbXBvcnQgeyBWZWxvY2l0eSB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy92ZWxvY2l0eVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNhdmFibGVQcmVmYWIgPSBbXHJcbiAgICB7IC8vIENoYXJhY3RlclxyXG4gICAgICAgIFtDVGFnTWFya2VyXTogW1xyXG4gICAgICAgICAgICBFVGFncy5jaGFyYWN0ZXIsXHJcbiAgICAgICAgICAgIC8vIEVUYWdzLnNhdmVcclxuICAgICAgICBdLFxyXG4gICAgICAgIC8vIFBoeXNpY3NCcmlkZ2U6IDxQaHlzaWNzQnJpZGdlPnt9LFxyXG4gICAgICAgIENoYXJhY3RlcjogPENoYXJhY3Rlcj57XHJcbiAgICAgICAgICAgIG5hbWU6ICdYdVBvSCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIFZlbG9jaXR5OiA8VmVsb2NpdHk+e1xyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICBhbmd1bGFyOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQ29sbGlzaW9uOiA8Q29sbGlzaW9uPnt9LFxyXG4gICAgICAgIFJvdGF0aW9uOiA8Um90YXRpb24+e1xyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBTaGFwZTogPFNoYXBlPntcclxuICAgICAgICAgICAgekluZGV4OiAxMSxcclxuICAgICAgICAgICAgZGltZW5zaW9uczoge1xyXG4gICAgICAgICAgICAgICAgeDogMSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWVzaDogPE1lc2g+e1xyXG4gICAgICAgICAgICAgICAgdmVydGljaWVzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByaW1pdGl2ZTogU2hhcGVQcmltaXRpdmUuTWVzaCxcclxuICAgICAgICAgICAgcGl2b3Q6IFNoYXBlUGl2b3QuTWlkZGxlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTWF0ZXJpYWw6IDxNYXRlcmlhbD57XHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2NjYScsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbl07IiwiaW1wb3J0IHtJVHJhbnNpdGlvbkFjdGlvbnMsIFF1ZXJ5LCBTZXJpYWxGb3JtYXQsIFN0YXRlLCBUR3JvdXBIYW5kbGUsIFdpdGgsIFdpdGhUYWd9IGZyb20gXCJzaW0tZWNzXCI7XHJcbmltcG9ydCB7IGxvYWQgfSBmcm9tIFwiLi4vYXBwL3BlcnNpc3RlbmNlXCI7XHJcbmltcG9ydCB7IFBoeXNpY3NCcmlkZ2UgfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcGh5c2ljcy1icmlkZ2VcIjtcclxuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcG9zaXRpb25cIjtcclxuaW1wb3J0IHsgU2hhcGUsIFNoYXBlUHJpbWl0aXZlIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3NoYXBlXCI7XHJcbmltcG9ydCB7IENvbW1vblN0b3JlIH0gZnJvbSBcIi4uL2VuZ2luZS9tb2RlbHMvY29tbW9uLXN0b3JlXCI7XHJcbmltcG9ydCB7IENhbWVyYVN5c3RlbSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9jYW1lcmFcIjtcclxuaW1wb3J0IHsgQ29sbGlzaW9uU3lzdGVtIH0gZnJvbSBcIi4uL2VuZ2luZS9zeXN0ZW1zL2NvbGxpc2lvblwiO1xyXG5pbXBvcnQgeyBHY1N5c3RlbSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9nY1wiO1xyXG5pbXBvcnQgeyBJbnB1dFN5c3RlbSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9pbnB1dFwiO1xyXG5pbXBvcnQgeyBQaHlzaWNzU3lzdGVtIH0gZnJvbSBcIi4uL2VuZ2luZS9zeXN0ZW1zL3BoeXNpY3NcIjtcclxuaW1wb3J0IHsgR2FtZVN0b3JlIH0gZnJvbSBcIi4uL21vZGVscy9nYW1lLXN0b3JlXCI7XHJcbmltcG9ydCB7IGdhbWVQcmVmYWIgfSBmcm9tIFwiLi4vcHJlZmFicy9nYW1lXCI7XHJcbmltcG9ydCB7IHNhdmFibGVQcmVmYWIgfSBmcm9tIFwiLi4vcHJlZmFicy9zYXZhYmxlXCI7XHJcbmltcG9ydCB7IEFjdGlvbnNTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9hY3Rpb25zXCI7XHJcbmltcG9ydCB7IENoYXJhY3RlclN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL2NoYXJhY3RlclwiO1xyXG5pbXBvcnQgeyBQYXVzZVN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL3BhdXNlXCI7XHJcbmltcG9ydCB7IFJlbmRlckdhbWVTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9yZW5kZXItZ2FtZVwiO1xyXG5pbXBvcnQgeyBSZW5kZXJVSVN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL3JlbmRlci11aVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZSBleHRlbmRzIFN0YXRlIHtcclxuICAgIF9zeXN0ZW1zID0gW1xyXG4gICAgICAgIFBoeXNpY3NTeXN0ZW0sXHJcbiAgICAgICAgQ2hhcmFjdGVyU3lzdGVtLFxyXG4gICAgICAgIENvbGxpc2lvblN5c3RlbSxcclxuICAgICAgICBJbnB1dFN5c3RlbSxcclxuICAgICAgICBDYW1lcmFTeXN0ZW0sXHJcbiAgICAgICAgUGF1c2VTeXN0ZW0sXHJcbiAgICAgICAgUmVuZGVyR2FtZVN5c3RlbSxcclxuICAgICAgICBSZW5kZXJVSVN5c3RlbSxcclxuICAgICAgICBHY1N5c3RlbSxcclxuICAgICAgICBBY3Rpb25zU3lzdGVtLFxyXG4gICAgXTtcclxuICAgIHNhdmVEYXRhUHJlZmFiSGFuZGxlPzogVEdyb3VwSGFuZGxlO1xyXG4gICAgc3RhdGljRGF0YVByZWZhYkhhbmRsZT86IFRHcm91cEhhbmRsZTtcclxuXHJcbiAgICBnYW1lU3RvcmUhOiBHYW1lU3RvcmU7XHJcbiAgICBjb21tb25TdG9yZSE6IENvbW1vblN0b3JlO1xyXG5cclxuICAgIGFjdGl2YXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xyXG4gICAgICAgIGFjdGlvbnMuZ2V0UmVzb3VyY2UoR2FtZVN0b3JlKS5jdXJyZW50U3RhdGUgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNyZWF0ZShhY3Rpb25zOiBJVHJhbnNpdGlvbkFjdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmNvbW1vblN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSlcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhUHJlZmFiSGFuZGxlID0gY3JlYXRlTmV3R2FtZShhY3Rpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0b3JlLmNvbnRpbnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZURhdGFQcmVmYWJIYW5kbGUgPSBsb2FkKGFjdGlvbnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZURhdGFQcmVmYWJIYW5kbGUgPSBjcmVhdGVHYW1lRnJvbVNhdmVEYXRhKGFjdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgYWN0aW9ucy5mbHVzaENvbW1hbmRzKCk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGFjdGlvbnMuZ2V0RW50aXRpZXMobmV3IFF1ZXJ5KFtcclxuICAgICAgICAgICAgV2l0aChTaGFwZSlcclxuICAgICAgICBdKSkpIHtcclxuICAgICAgICAgICAgZW50aXR5LmdldENvbXBvbmVudChTaGFwZSk/LmJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpbml0IFBoeXNpY3NCcmlkZ2UgdG8gcmVhbCBwaHlzaWNzXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBiMldvcmxkLFxyXG4gICAgICAgICAgICBiMkNpcmNsZVNoYXBlLFxyXG4gICAgICAgICAgICBiMlNoYXBlLFxyXG4gICAgICAgICAgICBiMlBvbHlnb25TaGFwZSxcclxuICAgICAgICAgICAgYjJCb2R5RGVmLFxyXG4gICAgICAgICAgICBiMl9keW5hbWljQm9keSxcclxuICAgICAgICAgICAgYjJWZWMyLFxyXG4gICAgICAgICAgICBkZXN0cm95LFxyXG4gICAgICAgIH0gPSB0aGlzLmNvbW1vblN0b3JlLnBoeXNpY3NOYW1lc3BhY2U7XHJcblxyXG4gICAgICAgIGNvbnN0IHBoeXNXb3JsZCA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoYjJXb3JsZCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHplcm8gPSB0aGlzLmNvbW1vblN0b3JlLnBoeXNpY3NaZXJvO1xyXG5cclxuICAgICAgICBsZXQgcGh5c1NoYXBlOiBCb3gyRC5iMlNoYXBlIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGFjdGlvbnMuZ2V0RW50aXRpZXMobmV3IFF1ZXJ5KFtcclxuICAgICAgICAgICAgV2l0aChTaGFwZSksXHJcbiAgICAgICAgICAgIFdpdGgoUG9zaXRpb24pLFxyXG4gICAgICAgICAgICBXaXRoKFBoeXNpY3NCcmlkZ2UpXHJcbiAgICAgICAgXSkpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IGVudGl0eS5nZXRDb21wb25lbnQoUG9zaXRpb24pITtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFNoYXBlKSE7XHJcbiAgICAgICAgICAgIGNvbnN0IHBoeXNpY3NCcmlkZ2UgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFBoeXNpY3NCcmlkZ2UpITtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgdG8gcGh5c2ljcyB3b3JsZDonLCBwb3MsIHNoYXBlKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHZlYyA9IG5ldyBiMlZlYzIocG9zLngsIHBvcy55KTtcclxuICAgICAgICAgICAgY29uc3QgYmQgPSBuZXcgYjJCb2R5RGVmKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB7dywgaH0gPSBzaGFwZS5nZXRCQm94KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2hhcGUucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5SZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfc2hhcGUgPSBuZXcgYjJQb2x5Z29uU2hhcGUoKTtcclxuICAgICAgICAgICAgICAgIF9zaGFwZS5TZXRBc0JveCh3LCBoKTtcclxuICAgICAgICAgICAgICAgIHBoeXNTaGFwZSA9IF9zaGFwZTtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGUucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5DaXJjbGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IF9zaGFwZSA9IG5ldyBiMkNpcmNsZVNoYXBlKCk7XHJcbiAgICAgICAgICAgICAgICBfc2hhcGUuc2V0X21fcmFkaXVzKHNoYXBlLmRpbWVuc2lvbnMueCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgcGh5c1NoYXBlID0gX3NoYXBlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihzaGFwZS5wcmltaXRpdmUsICdpcyBub3Qgc3VwcG9ydGVkIGJ5IHBoeXNpY3Mgbm93Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwaHlzU2hhcGUpIHtcclxuICAgICAgICAgICAgICAgIGJkLnNldF90eXBlKGIyX2R5bmFtaWNCb2R5KTtcclxuICAgICAgICAgICAgICAgIGJkLnNldF9wb3NpdGlvbih2ZWMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBwaHlzV29ybGQuQ3JlYXRlQm9keShiZCk7XHJcbiAgICAgICAgICAgICAgICB2ZWMuU2V0KDAsIDApO1xyXG4gICAgICAgICAgICAgICAgYm9keS5TZXRUcmFuc2Zvcm0odmVjLCAwKTtcclxuICAgICAgICAgICAgICAgIGJvZHkuQ3JlYXRlRml4dHVyZShwaHlzU2hhcGUsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlc3Ryb3kodmVjKTtcclxuICAgICAgICAgICAgICAgIGRlc3Ryb3kocGh5c1NoYXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBib2R5LlNldExpbmVhclZlbG9jaXR5KHplcm8pO1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogY29udHJvbCB2aWEgcGh5c2ljcyBzeXN0ZW0/XHJcbiAgICAgICAgICAgICAgICBib2R5LlNldEF3YWtlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYm9keS5TZXRFbmFibGVkKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHBoeXNpY3NCcmlkZ2UuYm9keVB0ciA9IGJvZHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGFjdGlvbnMuY29tbWFuZHMucXVldWVDb21tYW5kKCgpID0+IHNldFNjb3JlQ2FwdGlvbk1vZChhY3Rpb25zKSk7XHJcbiAgICAgICAgYWN0aW9ucy5jb21tYW5kcy5tYWludGFpbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGljRGF0YVByZWZhYkhhbmRsZSkge1xyXG4gICAgICAgICAgICBhY3Rpb25zLmNvbW1hbmRzLnVubG9hZFByZWZhYih0aGlzLnN0YXRpY0RhdGFQcmVmYWJIYW5kbGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2F2ZURhdGFQcmVmYWJIYW5kbGUpIHtcclxuICAgICAgICAgICAgYWN0aW9ucy5jb21tYW5kcy51bmxvYWRQcmVmYWIodGhpcy5zYXZlRGF0YVByZWZhYkhhbmRsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIHBoeXNpY3NOYW1lc3BhY2U6IHtcclxuICAgICAgICAgICAgICAgIGIyV29ybGQsXHJcbiAgICAgICAgICAgICAgICBkZXN0cm95XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ID0gdGhpcy5jb21tb25TdG9yZTtcclxuXHJcbiAgICAgICAgZGVzdHJveShhY3Rpb25zLmdldFJlc291cmNlKGIyV29ybGQpKTtcclxuXHJcbiAgICAgICAgYWN0aW9ucy5jb21tYW5kcy5tYWludGFpbigpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBjcmVhdGVOZXdHYW1lID0gZnVuY3Rpb24gKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xyXG4gICAgcmV0dXJuIGFjdGlvbnMuY29tbWFuZHMubG9hZChcclxuICAgICAgICBTZXJpYWxGb3JtYXQuZnJvbUFycmF5KGdhbWVQcmVmYWIpKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUdhbWVGcm9tU2F2ZURhdGEgPSBmdW5jdGlvbiAoYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKSB7XHJcbiAgICByZXR1cm4gYWN0aW9ucy5jb21tYW5kcy5sb2FkKFxyXG4gICAgICAgIFNlcmlhbEZvcm1hdC5mcm9tQXJyYXkoc2F2YWJsZVByZWZhYikpO1xyXG59OyIsImltcG9ydCB7SVRyYW5zaXRpb25BY3Rpb25zLCBTZXJpYWxGb3JtYXQsIFN0YXRlLCBUR3JvdXBIYW5kbGV9IGZyb20gXCJzaW0tZWNzXCI7XHJcbmltcG9ydCB7bWVudVByZWZhYn0gZnJvbSBcIi4uL3ByZWZhYnMvbWVudVwiO1xyXG5pbXBvcnQge01lbnVTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL21lbnVcIjtcclxuaW1wb3J0IHtSZW5kZXJVSVN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvcmVuZGVyLXVpXCI7XHJcbmltcG9ydCB7R2FtZVN0b3JlfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcclxuaW1wb3J0IHsgSW5wdXRTeXN0ZW0gfSBmcm9tIFwiLi4vZW5naW5lL3N5c3RlbXMvaW5wdXRcIjtcclxuaW1wb3J0IHsgQWN0aW9uc1N5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL2FjdGlvbnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51U3RhdGUgZXh0ZW5kcyBTdGF0ZSB7XHJcbiAgICBfc3lzdGVtcyA9IFtJbnB1dFN5c3RlbSwgQWN0aW9uc1N5c3RlbSwgTWVudVN5c3RlbSwgUmVuZGVyVUlTeXN0ZW1dO1xyXG4gICAgcHJlZmFiSGFuZGxlITogVEdyb3VwSGFuZGxlO1xyXG5cclxuICAgIGFjdGl2YXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xyXG4gICAgICAgIGFjdGlvbnMuZ2V0UmVzb3VyY2UoR2FtZVN0b3JlKS5jdXJyZW50U3RhdGUgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucHJlZmFiSGFuZGxlID0gYWN0aW9ucy5jb21tYW5kcy5sb2FkKFNlcmlhbEZvcm1hdC5mcm9tQXJyYXkobWVudVByZWZhYikpO1xyXG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWFjdGl2YXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xyXG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMudW5sb2FkUHJlZmFiKHRoaXMucHJlZmFiSGFuZGxlKTtcclxuICAgICAgICBhY3Rpb25zLmNvbW1hbmRzLm1haW50YWluKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtJVHJhbnNpdGlvbkFjdGlvbnMsIFNlcmlhbEZvcm1hdCwgU3RhdGUsIFRHcm91cEhhbmRsZX0gZnJvbSBcInNpbS1lY3NcIjtcclxuaW1wb3J0IHtQYXVzZVN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvcGF1c2VcIjtcclxuaW1wb3J0IHtwYXVzZVByZWZhYn0gZnJvbSBcIi4uL3ByZWZhYnMvcGF1c2VcIjtcclxuaW1wb3J0IHtHYW1lU3RvcmV9IGZyb20gXCIuLi9tb2RlbHMvZ2FtZS1zdG9yZVwiO1xyXG5pbXBvcnQge3NhdmV9IGZyb20gXCIuLi9hcHAvcGVyc2lzdGVuY2VcIjtcclxuaW1wb3J0IHtSZW5kZXJVSVN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvcmVuZGVyLXVpXCI7XHJcbmltcG9ydCB7UmVuZGVyR2FtZVN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvcmVuZGVyLWdhbWVcIjtcclxuaW1wb3J0IHsgSW5wdXRTeXN0ZW0gfSBmcm9tIFwiLi4vZW5naW5lL3N5c3RlbXMvaW5wdXRcIjtcclxuaW1wb3J0IHsgQWN0aW9uc1N5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL2FjdGlvbnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVN0YXRlIGV4dGVuZHMgU3RhdGUge1xyXG4gICAgX3N5c3RlbXMgPSBbSW5wdXRTeXN0ZW0sIEFjdGlvbnNTeXN0ZW0sIFBhdXNlU3lzdGVtLCBSZW5kZXJHYW1lU3lzdGVtLCBSZW5kZXJVSVN5c3RlbV07XHJcbiAgICBwcmVmYWJIYW5kbGUhOiBUR3JvdXBIYW5kbGU7XHJcblxyXG5cclxuICAgIGFjdGl2YXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IGdhbWVTdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoR2FtZVN0b3JlKTtcclxuICAgICAgICBzYXZlKGFjdGlvbnMpO1xyXG5cclxuICAgICAgICBnYW1lU3RvcmUuY3VycmVudFN0YXRlID0gdGhpcztcclxuICAgICAgICB0aGlzLnByZWZhYkhhbmRsZSA9IGFjdGlvbnMuY29tbWFuZHMubG9hZChTZXJpYWxGb3JtYXQuZnJvbUFycmF5KHBhdXNlUHJlZmFiKSk7XHJcbiAgICAgICAgYWN0aW9ucy5jb21tYW5kcy5tYWludGFpbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlYWN0aXZhdGUoYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKSB7XHJcbiAgICAgICAgYWN0aW9ucy5jb21tYW5kcy51bmxvYWRQcmVmYWIodGhpcy5wcmVmYWJIYW5kbGUpO1xyXG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJU3lzdGVtQWN0aW9ucywgU3lzdGVtIH0gZnJvbSBcInNpbS1lY3NcIjtcclxuaW1wb3J0ICogYXMgS2V5Q29kZSBmcm9tICdrZXljb2RlLWpzJztcclxuXHJcbmltcG9ydCB7IEVNb3ZlbWVudCB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL21vdmVtZW50XCI7XHJcbmltcG9ydCB7IEVLZXlTdGF0ZSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9pbnB1dFwiO1xyXG5pbXBvcnQgeyBHYW1lU3RvcmUgfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcclxuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9jb21tb24tc3RvcmVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3Rpb25zU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcclxuICAgIGdhbWVTdG9yZSE6IEdhbWVTdG9yZTtcclxuICAgIGNvbW1vblN0b3JlITogQ29tbW9uU3RvcmU7XHJcblxyXG4gICAgcmVhZG9ubHkgbGlzdGVuZXJzID0ge1xyXG4gICAgICAgIGJsdXI6ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5jaGFyYWN0ZXJNb3ZlbWVudCA9IEVNb3ZlbWVudC5pZGxlO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLm1lbnVNb3ZlbWVudCA9IEVNb3ZlbWVudC5pZGxlO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLnRvZ2dsZVBhdXNlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmtleVN0YXRlcy5jbGVhcigpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9jdXM6ICgpID0+IHRoaXMubGlzdGVuZXJzLmJsdXIoKSxcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xyXG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcclxuICAgICAgICB0aGlzLmdhbWVTdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoR2FtZVN0b3JlKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBbZXZlbnQsIGhhbmRsZXJdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMubGlzdGVuZXJzKSkge1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgIGV2ZW50LFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUFjdGlvbihcclxuICAgICAgICB0cmlnZ2Vyczogc3RyaW5nW10sXHJcbiAgICAgICAgcG9zOiBFTW92ZW1lbnQsXHJcbiAgICAgICAgbmVnOiBFTW92ZW1lbnQsXHJcbiAgICAgICAgbWVudT86IEVNb3ZlbWVudFxyXG4gICAgKSB7XHJcbiAgICAgICAgaWYgKG1lbnUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29tbW9uU3RvcmUuaW5wdXQuaXNBbnlLZXlEaWZmZXJlbnQodHJpZ2dlcnMsIEVLZXlTdGF0ZS5Eb3duKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5tZW51TW92ZW1lbnQgPSBtZW51O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jb21tb25TdG9yZS5pbnB1dC5pc0FueUtleSh0cmlnZ2VycywgRUtleVN0YXRlLkRvd24pKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMuY2hhcmFjdGVyTW92ZW1lbnQgfD0gcG9zO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLmNoYXJhY3Rlck1vdmVtZW50ICY9IH5uZWc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbW1vblN0b3JlLmlucHV0LmlzQW55S2V5RGlmZmVyZW50KFxyXG4gICAgICAgICAgICB0cmlnZ2VycywgRUtleVN0YXRlLlVwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLmNoYXJhY3Rlck1vdmVtZW50ICY9IH5wb3M7ICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcnVuKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XHJcbiAgICAgICAgeyAvLyBSZXNldCBpbnB1dCBhY3Rpb25zXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMubWVudUNvbmZpcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5tZW51TW92ZW1lbnQgPSBFTW92ZW1lbnQuaWRsZTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy50b2dnbGVQYXVzZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBpbnB1dFxyXG4gICAgICAgIH0gPSB0aGlzLmNvbW1vblN0b3JlO1xyXG5cclxuICAgICAgICBpZiAoaW5wdXQud2FzS2V5UHJlc3NlZChLZXlDb2RlLkNPREVfRU5URVIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMubWVudUNvbmZpcm0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlucHV0Lndhc0tleVByZXNzZWQoS2V5Q29kZS5DT0RFX0VTQ0FQRSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coaW5wdXQpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLnRvZ2dsZVBhdXNlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlQWN0aW9uKFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICBLZXlDb2RlLkNPREVfVyxcclxuICAgICAgICAgICAgICAgIEtleUNvZGUuQ09ERV9VUFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBFTW92ZW1lbnQudXAsXHJcbiAgICAgICAgICAgIEVNb3ZlbWVudC5kb3duLFxyXG4gICAgICAgICAgICBFTW92ZW1lbnQudXBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUFjdGlvbihcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgS2V5Q29kZS5DT0RFX0EsXHJcbiAgICAgICAgICAgICAgICBLZXlDb2RlLkNPREVfTEVGVFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBFTW92ZW1lbnQubGVmdCxcclxuICAgICAgICAgICAgRU1vdmVtZW50LnJpZ2h0XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVBY3Rpb24oXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIEtleUNvZGUuQ09ERV9TLFxyXG4gICAgICAgICAgICAgICAgS2V5Q29kZS5DT0RFX0RPV05cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgRU1vdmVtZW50LmRvd24sXHJcbiAgICAgICAgICAgIEVNb3ZlbWVudC51cCxcclxuICAgICAgICAgICAgRU1vdmVtZW50LmRvd25cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUFjdGlvbihcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgS2V5Q29kZS5DT0RFX0QsXHJcbiAgICAgICAgICAgICAgICBLZXlDb2RlLkNPREVfUklHSFRcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgRU1vdmVtZW50LnJpZ2h0LFxyXG4gICAgICAgICAgICBFTW92ZW1lbnQubGVmdFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDT0RFX0UsIENPREVfUSB9IGZyb20gXCJrZXljb2RlLWpzXCI7XHJcbmltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFF1ZXJ5LCBSZWFkLCBSZWFkRW50aXR5LCBTeXN0ZW0sIFdpdGhUYWcsIFdyaXRlfSBmcm9tIFwic2ltLWVjc1wiO1xyXG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9wb3NpdGlvblwiO1xyXG5pbXBvcnQgeyBSb3RhdGlvbiB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9yb3RhdGlvblwiO1xyXG5pbXBvcnQgeyBWZWxvY2l0eSB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy92ZWxvY2l0eVwiO1xyXG5pbXBvcnQgeyBDYW1lcmEsIENhbWVyYUZvbGxvd01ldGhvZCB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL2NhbWVyYVwiO1xyXG5pbXBvcnQgeyBDb21tb25TdG9yZSB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL2NvbW1vbi1zdG9yZVwiO1xyXG5pbXBvcnQgeyBFTW92ZW1lbnQgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9tb3ZlbWVudFwiO1xyXG5pbXBvcnQgeyBFS2V5U3RhdGUgfSBmcm9tIFwiLi4vZW5naW5lL3N5c3RlbXMvaW5wdXRcIjtcclxuaW1wb3J0IHsgR2FtZVN0b3JlIH0gZnJvbSBcIi4uL21vZGVscy9nYW1lLXN0b3JlXCI7XHJcbmltcG9ydCB7IEVUYWdzIH0gZnJvbSBcIi4uL21vZGVscy90YWdzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcclxuICAgIHJlYWRvbmx5IHF1ZXJ5ID0gbmV3IFF1ZXJ5KHtcclxuICAgICAgICBfY2hhcmFjdGVyOiBXaXRoVGFnKEVUYWdzLmNoYXJhY3RlciksXHJcbiAgICAgICAgZW50aXR5OiBSZWFkRW50aXR5KCksXHJcbiAgICAgICAgcG9zOiBSZWFkKFBvc2l0aW9uKSxcclxuICAgICAgICByb3RhdGlvbjogV3JpdGUoUm90YXRpb24pLFxyXG4gICAgICAgIHZlbG9jaXR5OiBXcml0ZShWZWxvY2l0eSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBnYW1lU3RvcmUhOiBHYW1lU3RvcmU7XHJcbiAgICBjb21tb25TdG9yZSE6IENvbW1vblN0b3JlO1xyXG4gICAgY2FtZXJhITogQ2FtZXJhO1xyXG4gICAgY3R4ITogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICAgIHNldHVwKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XHJcbiAgICAgICAgdGhpcy5jdHggPSBhY3Rpb25zLmdldFJlc291cmNlKENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk7XHJcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDYW1lcmEpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS5lbGFzdGljaXR5ID0gMC4wMDg7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhLmZvbGxvdyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiBDYW1lcmFGb2xsb3dNZXRob2QuRWxhc3RpYyxcclxuICAgICAgICAgICAgdGFyZ2V0OiB7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmNhbWVyYS54LFxyXG4gICAgICAgICAgICAgICAgeTogdGhpcy5jYW1lcmEueSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJldlg6IHRoaXMuY2FtZXJhLngsXHJcbiAgICAgICAgICAgIHByZXZZOiB0aGlzLmNhbWVyYS55LFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBydW5zID0gMFxyXG5cclxuICAgIHJ1bihhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnpvb20gKz0gdGhpcy5jb21tb25TdG9yZS5pbnB1dC53aGVlbCAvIDEwO1xyXG5cclxuICAgICAgICB0aGlzLnF1ZXJ5LmV4ZWN1dGUoKHtyb3RhdGlvbiwgcG9zLCB2ZWxvY2l0eX0pID0+IHtcclxuICAgICAgICAgICAgLy8gZGVsZXRlIHRlc3QgcGFzc2VkLlxyXG4gICAgICAgICAgICAvLyBpZiAodGhpcy5jYW1lcmEuem9vbSA8IDAuOCkge1xyXG4gICAgICAgICAgICAvLyAgICAgZW50aXR5LmFkZFRhZyhFVGFncy5kZXN0cm95RW50aXR5KTtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29tbW9uU3RvcmUuaW5wdXQuaXNLZXlEb3duKENPREVfRSkpIHtcclxuICAgICAgICAgICAgICAgIHJvdGF0aW9uLnZhbHVlICs9IDAuMDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbW1vblN0b3JlLmlucHV0LmlzS2V5RG93bihDT0RFX1EpKSB7XHJcbiAgICAgICAgICAgICAgICByb3RhdGlvbi52YWx1ZSAtPSAwLjAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5mb2xsb3chLnRhcmdldCA9IHBvcztcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEuZm9sbG93IS50YXJnZXRBbmdsZSA9IHJvdGF0aW9uLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZHQgPSB0aGlzLmNvbW1vblN0b3JlLmxhc3RGcmFtZURlbHRhVGltZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICAgIGNoYXJhY3Rlck1vdmVtZW50OiBtb3ZlXHJcbiAgICAgICAgICAgIH0gPSB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaXNMZWZ0ID0gKG1vdmUgJiBFTW92ZW1lbnQubGVmdCkgPT09IEVNb3ZlbWVudC5sZWZ0O1xyXG4gICAgICAgICAgICBjb25zdCBpc1JpZ2h0ID0gKG1vdmUgJiBFTW92ZW1lbnQucmlnaHQpID09PSBFTW92ZW1lbnQucmlnaHQ7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2ZWxvY2l0eS54ID0gMDtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc0xlZnQgJiYgIWlzUmlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5LnggPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNSaWdodCAmJiAhaXNMZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS54ID0gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKChtb3ZlICYgRU1vdmVtZW50LnVwKSA9PT0gRU1vdmVtZW50LnVwKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS55ID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKG1vdmUgJiBFTW92ZW1lbnQuZG93bikgPT09IEVNb3ZlbWVudC5kb3duKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS55ID0gMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5LnkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgICAgICB4OiB2eCwgXHJcbiAgICAgICAgICAgICAgICB5OiB2eVxyXG4gICAgICAgICAgICB9ID0gdmVsb2NpdHk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBbc2luLCBjb3NdID0gcm90YXRpb24uc2luX2NvcztcclxuXHJcbiAgICAgICAgICAgIHZlbG9jaXR5LnggPSB2eCAqIGNvcyAtIHZ5ICogc2luO1xyXG4gICAgICAgICAgICB2ZWxvY2l0eS55ID0gdnggKiBzaW4gKyB2eSAqIGNvcztcclxuXHJcbiAgICAgICAgICAgIHZlbG9jaXR5Lm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICB2ZWxvY2l0eS5zY2FsZShkdCAqIDYwICogMik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtJU3lzdGVtQWN0aW9ucywgUXVlcnksIFN5c3RlbSwgV3JpdGV9IGZyb20gXCJzaW0tZWNzXCI7XHJcbmltcG9ydCB7VUlJdGVtfSBmcm9tIFwiLi4vY29tcG9uZW50cy91aS1pdGVtXCI7XHJcbmltcG9ydCB7R2FtZVN0b3JlfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcclxuaW1wb3J0IHtFQWN0aW9uc30gZnJvbSBcIi4uL2FwcC9hY3Rpb25zXCI7XHJcbmltcG9ydCB7R2FtZVN0YXRlfSBmcm9tIFwiLi4vc3RhdGVzL2dhbWVcIjtcclxuaW1wb3J0IHsgTWVudVN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlcy9tZW51XCI7XHJcbmltcG9ydCB7IEVNb3ZlbWVudCB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL21vdmVtZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICByZWFkb25seSBfc3RhdGVzID0gW1xyXG4gICAgICAgIEdhbWVTdGF0ZSxcclxuICAgICAgICBNZW51U3RhdGVcclxuICAgIF1cclxuXHJcbiAgICByZWFkb25seSBxdWVyeSA9IG5ldyBRdWVyeSh7XHJcbiAgICAgICAgdWlJdGVtOiBXcml0ZShVSUl0ZW0pXHJcbiAgICB9KTtcclxuXHJcbiAgICBhY3Rpb25zITogSVN5c3RlbUFjdGlvbnNcclxuICAgIGdhbWVTdG9yZSE6IEdhbWVTdG9yZTtcclxuICAgIG1lbnVBY3Rpb24gPSBFQWN0aW9ucy5QbGF5O1xyXG5cclxuICAgIHNldHVwKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XHJcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9ucztcclxuICAgICAgICB0aGlzLmdhbWVTdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoR2FtZVN0b3JlKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnc2V0dXAgTWVudScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJ1bihhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xyXG4gICAgICAgIC8vIHRvZG86IHVzZSBpbmRleFxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLm1lbnVNb3ZlbWVudCA9PSBFTW92ZW1lbnQuZG93bikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMubWVudUFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBFQWN0aW9ucy5QbGF5OiB0aGlzLm1lbnVBY3Rpb24gPSBFQWN0aW9ucy5Db250aW51ZTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEVBY3Rpb25zLkNvbnRpbnVlOiB0aGlzLm1lbnVBY3Rpb24gPSBFQWN0aW9ucy5FeGl0OyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRUFjdGlvbnMuRXhpdDogdGhpcy5tZW51QWN0aW9uID0gRUFjdGlvbnMuUGxheTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gJHt0aGlzLm1lbnVBY3Rpb259IG5vdCBpbXBsZW1lbnRlZCFgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLm1lbnVNb3ZlbWVudCA9PSBFTW92ZW1lbnQudXApIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm1lbnVBY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgRUFjdGlvbnMuUGxheTogdGhpcy5tZW51QWN0aW9uID0gRUFjdGlvbnMuRXhpdDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEVBY3Rpb25zLkNvbnRpbnVlOiB0aGlzLm1lbnVBY3Rpb24gPSBFQWN0aW9ucy5QbGF5OyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRUFjdGlvbnMuRXhpdDogdGhpcy5tZW51QWN0aW9uID0gRUFjdGlvbnMuQ29udGludWU7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uICR7dGhpcy5tZW51QWN0aW9ufSBub3QgaW1wbGVtZW50ZWQhYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLm1lbnVDb25maXJtKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1lbnVBY3Rpb24gPT0gRUFjdGlvbnMuUGxheSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmNvbW1hbmRzLnB1c2hTdGF0ZShHYW1lU3RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubWVudUFjdGlvbiA9PSBFQWN0aW9ucy5Db250aW51ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzYXZlJykgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdTb3JyeSB5b3Ugd2VyZW50IHNhdmVkIGxvbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5jb250aW51ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMuY29tbWFuZHMucHVzaFN0YXRlKEdhbWVTdGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMuY29tbWFuZHMuc3RvcFJ1bigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHt1aUl0ZW19IG9mIHRoaXMucXVlcnkuaXRlcigpKSB7XHJcbiAgICAgICAgICAgIHVpSXRlbS5hY3RpdmUgPSB1aUl0ZW0uYWN0aW9uID09IHRoaXMubWVudUFjdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtJU3lzdGVtQWN0aW9ucywgUXVlcnksIFJlYWQsIFN5c3RlbX0gZnJvbSBcInNpbS1lY3NcIjtcclxuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9jb21tb24tc3RvcmVcIjtcclxuaW1wb3J0IHtHYW1lU3RvcmV9IGZyb20gXCIuLi9tb2RlbHMvZ2FtZS1zdG9yZVwiO1xyXG5pbXBvcnQge0dhbWVTdGF0ZX0gZnJvbSBcIi4uL3N0YXRlcy9nYW1lXCI7XHJcbmltcG9ydCB7UGF1c2VTdGF0ZX0gZnJvbSBcIi4uL3N0YXRlcy9wYXVzZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICBhY3Rpb25zITogSVN5c3RlbUFjdGlvbnNcclxuICAgIGdhbWVTdG9yZSE6IEdhbWVTdG9yZTtcclxuICAgIGNvbW1vblN0b3JlITogQ29tbW9uU3RvcmU7XHJcblxyXG4gICAgc2V0dXAoYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpO1xyXG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcclxuXHJcbiAgICAgICAgLy8gaWYgb25seSB3ZSBjb3VsZCBjcmVhdGUgYW4gaW5saW5lIGZ1bmN0aW9uLi4uXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzR2FtZVN0YXRlID0gdGhpcy5nYW1lU3RvcmUuY3VycmVudFN0YXRlPy5jb25zdHJ1Y3RvciA9PSBHYW1lU3RhdGU7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzUGF1c2VTdGF0ZSA9IHRoaXMuZ2FtZVN0b3JlLmN1cnJlbnRTdGF0ZT8uY29uc3RydWN0b3IgPT0gUGF1c2VTdGF0ZTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCFpc0dhbWVTdGF0ZSAmJiAhaXNQYXVzZVN0YXRlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFpc1BhdXNlU3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5jb21tYW5kcy5wdXNoU3RhdGUoUGF1c2VTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLndhc0JsdXJyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS53YXNCbHVycmVkICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5jb21tb25TdG9yZS53YXNJbnRlbnRpb25hbGx5UGF1c2VkXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmNvbW1hbmRzLnBvcFN0YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBpc0dhbWVTdGF0ZSA9IHRoaXMuZ2FtZVN0b3JlLmN1cnJlbnRTdGF0ZT8uY29uc3RydWN0b3IgPT0gR2FtZVN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGlzUGF1c2VTdGF0ZSA9IHRoaXMuZ2FtZVN0b3JlLmN1cnJlbnRTdGF0ZT8uY29uc3RydWN0b3IgPT0gUGF1c2VTdGF0ZTtcclxuXHJcbiAgICAgICAgaWYgKCFpc0dhbWVTdGF0ZSAmJiAhaXNQYXVzZVN0YXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLnRvZ2dsZVBhdXNlKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0dhbWVTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS53YXNJbnRlbnRpb25hbGx5UGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5jb21tYW5kcy5wdXNoU3RhdGUoUGF1c2VTdGF0ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLndhc0ludGVudGlvbmFsbHlQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5jb21tYW5kcy5wb3BTdGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFF1ZXJ5LCBSZWFkLCBTeXN0ZW0sIFdyaXRlfSBmcm9tIFwic2ltLWVjc1wiO1xyXG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9tYXRlcmlhbFwiO1xyXG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9wb3NpdGlvblwiO1xyXG5pbXBvcnQgeyBSb3RhdGlvbiB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9yb3RhdGlvblwiO1xyXG5pbXBvcnQgeyBTaGFwZSwgU2hhcGVQcmltaXRpdmUsIFNoYXBlUGl2b3ROYW1lcyB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9zaGFwZVwiO1xyXG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9jYW1lcmFcIjtcclxuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9jb21tb24tc3RvcmVcIjtcclxuaW1wb3J0IHsgSVJlY3QsIFJlY3QgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9yZWN0XCI7XHJcbmltcG9ydCB7IFBJWEVMU19QRVJfTUVURVIsIFRXT1BJLCBkcmF3UG9pbnQgfSBmcm9tIFwiLi4vZW5naW5lL3V0aWxcIjtcclxuaW1wb3J0IHsgR2FtZVN0b3JlIH0gZnJvbSBcIi4uL21vZGVscy9nYW1lLXN0b3JlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVuZGVyR2FtZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICByZWFkb25seSBxdWVyeSA9IG5ldyBRdWVyeSh7XHJcbiAgICAgICAgcG9zOiBSZWFkKFBvc2l0aW9uKSxcclxuICAgICAgICByb3Q6IFdyaXRlKFJvdGF0aW9uKSxcclxuICAgICAgICBzaGFwZTogUmVhZChTaGFwZSksXHJcbiAgICAgICAgbWF0ZXJpYWw6IFJlYWQoTWF0ZXJpYWwpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY3R4ITogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgZ2FtZVN0b3JlITogR2FtZVN0b3JlO1xyXG4gICAgY29tbW9uU3RvcmUhOiBDb21tb25TdG9yZTtcclxuICAgIGNhbWVyYSE6IENhbWVyYTtcclxuXHJcbiAgICAvLyBUT0RPOiByZW1vdmVcclxuICAgIGNvbnRyb2xzITogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgc2V0dXAoYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5jdHggPSBhY3Rpb25zLmdldFJlc291cmNlKENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSk7XHJcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDYW1lcmEpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRyb2xzJykhO1xyXG4gICAgfVxyXG5cclxuICAgIHJ1bnMgPSAwO1xyXG5cclxuICAgIHJ1bihhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0OiBJUmVjdCA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy5jYW1lcmEueCArIHRoaXMuY2FtZXJhLm9mZnNldC54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLmNhbWVyYS55ICsgdGhpcy5jYW1lcmEub2Zmc2V0LnksXHJcbiAgICAgICAgICAgIHc6IHRoaXMuY3R4LmNhbnZhcy53aWR0aCAvICh0aGlzLmNhbWVyYS56b29tKlBJWEVMU19QRVJfTUVURVIpLFxyXG4gICAgICAgICAgICBoOiB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0IC8gKHRoaXMuY2FtZXJhLnpvb20qUElYRUxTX1BFUl9NRVRFUiksXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmEudmlld3BvcnQgPSB2aWV3cG9ydDtcclxuXHJcbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMuY3R4LnNjYWxlKFxyXG4gICAgICAgICAgICBQSVhFTFNfUEVSX01FVEVSKnRoaXMuY2FtZXJhLnpvb20sXHJcbiAgICAgICAgICAgIFBJWEVMU19QRVJfTUVURVIqdGhpcy5jYW1lcmEuem9vbVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShcclxuICAgICAgICAgICAgLXZpZXdwb3J0LngsXHJcbiAgICAgICAgICAgIC12aWV3cG9ydC55XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKFxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS54LFxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS55XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmN0eC5yb3RhdGUodGhpcy5jYW1lcmEucm90YXRpb24pO1xyXG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShcclxuICAgICAgICAgICAgLXRoaXMuY2FtZXJhLngsXHJcbiAgICAgICAgICAgIC10aGlzLmNhbWVyYS55XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZS53b3JsZFRvU2NyZWVuID0gdGhpcy5jdHguZ2V0VHJhbnNmb3JtKCk7XHJcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZS5zY3JlZW5Ub1dvcmxkID0gdGhpcy5jdHguZ2V0VHJhbnNmb3JtKCkuaW52ZXJzZSgpO1xyXG5cclxuICAgICAgICAvL214LG15IC0gY3Vyc29yIGNvb3JkcyBpbiBTY3JlZW4gc3BhY2VcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIHg6bXgsIHk6bXlcclxuICAgICAgICB9ID0gdGhpcy5jb21tb25TdG9yZS5pbnB1dC5jdXJzb3JQb3M7XHJcblxyXG4gICAgICAgIC8vIHRyYW5zZm9ybSBtYXRyaXggc2lnbmlmaWNhdCB2YWx1ZXNcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gY3Vyc29yIGNvb3JkcyBpbiB3b3JsZCBzcGFjZVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBjb25zdCByb3dzID0gMTA7XHJcbiAgICAgICAgY29uc3QgY29scyA9IDE4O1xyXG5cclxuICAgICAgICBjb25zdCBwZXJDb2wgPSB0aGlzLmN0eC5jYW52YXMud2lkdGgvKGNvbHMqUElYRUxTX1BFUl9NRVRFUik7XHJcbiAgICAgICAgY29uc3QgcGVyUm93ID0gdGhpcy5jdHguY2FudmFzLmhlaWdodC8ocm93cypQSVhFTFNfUEVSX01FVEVSKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBqICogcGVyQ29sO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGkgKiBwZXJSb3c7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAyLzMyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAnI2RhZGFkYSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5zdHJva2VSZWN0KFxyXG4gICAgICAgICAgICAgICAgICAgIHgseSwgcGVyQ29sLCBwZXJSb3dcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGl0ZXIgPSBBcnJheS5mcm9tKHRoaXMucXVlcnkuaXRlcigpKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZS5kcmF3YWJsZXMgPSBpdGVyLmxlbmd0aDtcclxuXHJcbiAgICAgICAgY29uc3QgZHJhd2FibGVzID0gaXRlci5maWx0ZXIoXHJcbiAgICAgICAgICAgICh7cG9zLCBzaGFwZX0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYmJveCA9IHNoYXBlLmdldEJCb3goKTtcclxuICAgICAgICAgICAgY29uc3QgcjogSVJlY3QgPSB7XHJcbiAgICAgICAgICAgICAgICB4OiBwb3MueCArIGJib3gueCxcclxuICAgICAgICAgICAgICAgIHk6IHBvcy55ICsgYmJveC55LFxyXG4gICAgICAgICAgICAgICAgdzogYmJveC53LFxyXG4gICAgICAgICAgICAgICAgaDogYmJveC5oLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaW5WaWV3ID0gUmVjdC5jaGVja0ludGVyc2VjdHMociwgdmlld3BvcnQpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGluVmlldztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zb3J0KCh7c2hhcGU6IGF9LCB7c2hhcGU6IGJ9KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLnpJbmRleCAtIGIuekluZGV4O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbW1vblN0b3JlLnJlbmRlcmVkID0gZHJhd2FibGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcmF3YWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qge3Bvcywgc2hhcGUsIHJvdCwgbWF0ZXJpYWx9ID0gZHJhd2FibGVzW2ldO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUocG9zLCBzaGFwZSwgbWF0ZXJpYWwsIHJvdCBhcyBSb3RhdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd1NoYXBlKHBvczogUG9zaXRpb24sIHNoYXBlOiBTaGFwZSwgbWF0ZXJpYWw6IE1hdGVyaWFsLCByb3Q6IFJvdGF0aW9uKSB7XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICB4OiB3LCB5OiBoXHJcbiAgICAgICAgfSA9IHNoYXBlLmRpbWVuc2lvbnM7XHJcblxyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgeDogYngsIHk6IGJ5LFxyXG4gICAgICAgICAgICB3OiBidywgaDogYmgsXHJcbiAgICAgICAgfSA9IHNoYXBlLmdldEJCb3goKTtcclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICB4LCB5XHJcbiAgICAgICAgfSA9IHBvcztcclxuXHJcbiAgICAgICAgLy8gVE9ETzogb25lIHN5c3RlbSB0aGF0IGNoZWNrcyBhbGwgcmF5Y2FzdHNcclxuICAgICAgICAvLyBSZWN0LmNoZWNrUG9pbnRJbnNpZGUociwgbW91c2UpO1xyXG5cclxuICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuY3R4LnJvdGF0ZShyb3QudmFsdWUpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBtYXRlcmlhbCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gbWF0ZXJpYWwuY29sb3I7XHJcblxyXG4gICAgICAgIGlmIChzaGFwZS5wcmltaXRpdmUgPT09IFNoYXBlUHJpbWl0aXZlLlJlY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoYngsIGJ5LCB3LCBoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuQ2lyY2xlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5hcmMoYngrdy8yLCBieCt3LzIsIHcvMiwgMCwgVFdPUEkpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZS5wcmltaXRpdmUgPT09IFNoYXBlUHJpbWl0aXZlLk1lc2hcclxuICAgICAgICAgICAgJiYgc2hhcGUubWVzaCkge1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHtvZmZzZXRYLCBvZmZzZXRZfSA9IHNoYXBlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yIChcclxuICAgICAgICAgICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICAgICAgICAgIGkgPCBzaGFwZS5tZXNoLnZlcnRpY2llcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICArK2lcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7eDpkeCwgeTpkeX0gPSBzaGFwZS5tZXNoLnZlcnRpY2llc1tpXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyhkeCtvZmZzZXRYLCBkeStvZmZzZXRZKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbW1vblN0b3JlLmRlYnVnU2hhcGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJyNmZmYnO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5mb250ID0gJzAuMXJlbSBBcmlhbCc7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KGBaPSR7XHJcbiAgICAgICAgICAgICAgICBzaGFwZS56SW5kZXhcclxuICAgICAgICAgICAgfSx4PSR7TWF0aC5mbG9vcih4KX0seT0ke01hdGguZmxvb3IoeSl9YCwgMCwgLWJ5LTIpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChgUGl2b3Q9JHtTaGFwZVBpdm90TmFtZXNbc2hhcGUucGl2b3RdfWAsIDAsIC1ieS0zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJyNmMGYnO1xyXG4gICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gMDtcclxuICAgICAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gMC4xO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2VSZWN0KFxyXG4gICAgICAgICAgICAgICAgYnggLSBwYWRkaW5nLFxyXG4gICAgICAgICAgICAgICAgYnkgLSBwYWRkaW5nLFxyXG4gICAgICAgICAgICAgICAgYncgKyBwYWRkaW5nKjIsXHJcbiAgICAgICAgICAgICAgICBiaCArIHBhZGRpbmcqMlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICBkcmF3UG9pbnQodGhpcy5jdHgsIDAsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiXHJcbmltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFF1ZXJ5LCBSZWFkLCBTeXN0ZW0sIFdpdGgsIFdpdGhUYWd9IGZyb20gXCJzaW0tZWNzXCI7XHJcbmltcG9ydCB7VUlJdGVtfSBmcm9tIFwiLi4vY29tcG9uZW50cy91aS1pdGVtXCI7XHJcbmltcG9ydCB7IEdhbWVTdG9yZSB9IGZyb20gXCIuLi9tb2RlbHMvZ2FtZS1zdG9yZVwiO1xyXG5pbXBvcnQgeyBFVGFncyB9IGZyb20gXCIuLi9tb2RlbHMvdGFnc1wiO1xyXG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9wb3NpdGlvblwiO1xyXG5pbXBvcnQgeyBDb21tb25TdG9yZSB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL2NvbW1vbi1zdG9yZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlbmRlclVJU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcclxuICAgIHJlYWRvbmx5IHF1ZXJ5ID0gbmV3IFF1ZXJ5KHtcclxuICAgICAgICBfdGFnOiBXaXRoVGFnKEVUYWdzLnVpKSxcclxuICAgICAgICBwb3M6IFJlYWQoUG9zaXRpb24pLFxyXG4gICAgICAgIHVpOiBSZWFkKFVJSXRlbSlcclxuICAgIH0pO1xyXG5cclxuICAgIGN0eCE6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIGdhbWVTdG9yZSE6IEdhbWVTdG9yZTtcclxuICAgIGNvbW1vblN0b3JlITogQ29tbW9uU3RvcmU7XHJcbiAgICB0b1NjcmVlbkNvb3JkcyE6ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4gW251bWJlciwgbnVtYmVyXTtcclxuXHJcbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucyk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0aGlzLmN0eCA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTtcclxuICAgICAgICB0aGlzLmdhbWVTdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoR2FtZVN0b3JlKTtcclxuICAgICAgICB0aGlzLmNvbW1vblN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcnVucyA9IDA7XHJcblxyXG4gICAgcnVuKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XHJcbiAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7XHJcblxyXG4gICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5xdWVyeS5leGVjdXRlKCh7cG9zLCB1aX0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdWkuYWN0aXZlXHJcbiAgICAgICAgICAgICAgICA/IHVpLmFjdGl2ZUNvbG9yID8/ICdyZWQnXHJcbiAgICAgICAgICAgICAgICA6IHVpLmNvbG9yO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5mb250ID0gdWkuYWN0aXZlXHJcbiAgICAgICAgICAgICAgICA/IGAke3VpLmZvbnRTaXplICogMS4yfXB4IHNlcmlmYFxyXG4gICAgICAgICAgICAgICAgOiBgJHt1aS5mb250U2l6ZX1weCBzZXJpZmA7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KHVpLmZpbmFsQ2FwdGlvbiwgcG9zLngsIHBvcy55KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmN0eC5mb250ID0gJzMycHggc2VyaWYnO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjZmZmJztcclxuXHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFRleHQoXHJcbiAgICAgICAgICAgIGAke1xyXG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vcigxMCp0aGlzLmNvbW1vblN0b3JlLnRpbWVTaW5jZUxldmVsTG9hZGVkKS8xMC4wXHJcbiAgICAgICAgICAgIH0gcy5gLFxyXG4gICAgICAgICAgICB0aGlzLmN0eC5jYW52YXMud2lkdGggLSAyMDAsIDIwXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFRleHQoXHJcbiAgICAgICAgICAgIGAke1xyXG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vcih0aGlzLmNvbW1vblN0b3JlLm1lZGlhbkZwcyswLjUpXHJcbiAgICAgICAgICAgIH0gRlBTYCxcclxuICAgICAgICAgICAgdGhpcy5jdHguY2FudmFzLndpZHRoIC0gMjAwLCA2MFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxyXG4gICAgICAgICAgICBgJHt0aGlzLmNvbW1vblN0b3JlLnJlbmRlcmVkfSAvICR7dGhpcy5jb21tb25TdG9yZS5kcmF3YWJsZXN9YCxcclxuICAgICAgICAgICAgdGhpcy5jdHguY2FudmFzLndpZHRoIC0gMjAwLCAxMDBcclxuICAgICAgICApO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHN0ciA9dGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5jaGFyYWN0ZXJNb3ZlbWVudC50b1N0cmluZygyKTtcclxuICAgICAgICAgICAgc3RyID0gJzAnLnJlcGVhdCg0IC0gc3RyLmxlbmd0aCkgKyBzdHI7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxyXG4gICAgICAgICAgICAgICAgYCR7c3RyfWAsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5jYW52YXMud2lkdGggLSAyMDAsIDE0MFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHN0ciA9dGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5tZW51TW92ZW1lbnQudG9TdHJpbmcoMik7XHJcbiAgICAgICAgICAgIHN0ciA9ICcwJy5yZXBlYXQoNCAtIHN0ci5sZW5ndGgpICsgc3RyO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChcclxuICAgICAgICAgICAgICAgIGBNRU5VOiAke3N0cn1gLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguY2FudmFzLndpZHRoIC0gMjAwLCAxODBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gKHJlc3VsdCwgY2h1bmtJZHMsIGZuLCBwcmlvcml0eSkgPT4ge1xuXHRpZihjaHVua0lkcykge1xuXHRcdHByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcblx0XHRmb3IodmFyIGkgPSBkZWZlcnJlZC5sZW5ndGg7IGkgPiAwICYmIGRlZmVycmVkW2kgLSAxXVsyXSA+IHByaW9yaXR5OyBpLS0pIGRlZmVycmVkW2ldID0gZGVmZXJyZWRbaSAtIDFdO1xuXHRcdGRlZmVycmVkW2ldID0gW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldO1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgbm90RnVsZmlsbGVkID0gSW5maW5pdHk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWQubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldID0gZGVmZXJyZWRbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaHVua0lkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0aWYgKChwcmlvcml0eSAmIDEgPT09IDAgfHwgbm90RnVsZmlsbGVkID49IHByaW9yaXR5KSAmJiBPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLk8pLmV2ZXJ5KChrZXkpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fLk9ba2V5XShjaHVua0lkc1tqXSkpKSkge1xuXHRcdFx0XHRjaHVua0lkcy5zcGxpY2Uoai0tLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZihwcmlvcml0eSA8IG5vdEZ1bGZpbGxlZCkgbm90RnVsZmlsbGVkID0gcHJpb3JpdHk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWQuc3BsaWNlKGktLSwgMSlcblx0XHRcdHZhciByID0gZm4oKTtcblx0XHRcdGlmIChyICE9PSB1bmRlZmluZWQpIHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZiA9IHt9O1xuLy8gVGhpcyBmaWxlIGNvbnRhaW5zIG9ubHkgdGhlIGVudHJ5IGNodW5rLlxuLy8gVGhlIGNodW5rIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGFkZGl0aW9uYWwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmUgPSAoY2h1bmtJZCkgPT4ge1xuXHRyZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5mKS5yZWR1Y2UoKHByb21pc2VzLCBrZXkpID0+IHtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZba2V5XShjaHVua0lkLCBwcm9taXNlcyk7XG5cdFx0cmV0dXJuIHByb21pc2VzO1xuXHR9LCBbXSkpO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhc3luYyBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18udSA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJcIiArIGNodW5rSWQgKyBcIi5qc1wiO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhbGwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm1pbmlDc3NGID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiB1bmRlZmluZWQ7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBpblByb2dyZXNzID0ge307XG52YXIgZGF0YVdlYnBhY2tQcmVmaXggPSBcImNpdHlsaWdodHM6XCI7XG4vLyBsb2FkU2NyaXB0IGZ1bmN0aW9uIHRvIGxvYWQgYSBzY3JpcHQgdmlhIHNjcmlwdCB0YWdcbl9fd2VicGFja19yZXF1aXJlX18ubCA9ICh1cmwsIGRvbmUsIGtleSwgY2h1bmtJZCkgPT4ge1xuXHRpZihpblByb2dyZXNzW3VybF0pIHsgaW5Qcm9ncmVzc1t1cmxdLnB1c2goZG9uZSk7IHJldHVybjsgfVxuXHR2YXIgc2NyaXB0LCBuZWVkQXR0YWNoO1xuXHRpZihrZXkgIT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBzID0gc2NyaXB0c1tpXTtcblx0XHRcdGlmKHMuZ2V0QXR0cmlidXRlKFwic3JjXCIpID09IHVybCB8fCBzLmdldEF0dHJpYnV0ZShcImRhdGEtd2VicGFja1wiKSA9PSBkYXRhV2VicGFja1ByZWZpeCArIGtleSkgeyBzY3JpcHQgPSBzOyBicmVhazsgfVxuXHRcdH1cblx0fVxuXHRpZighc2NyaXB0KSB7XG5cdFx0bmVlZEF0dGFjaCA9IHRydWU7XG5cdFx0c2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cblx0XHRzY3JpcHQuY2hhcnNldCA9ICd1dGYtOCc7XG5cdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjA7XG5cdFx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubmMpIHtcblx0XHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKTtcblx0XHR9XG5cdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcImRhdGEtd2VicGFja1wiLCBkYXRhV2VicGFja1ByZWZpeCArIGtleSk7XG5cdFx0c2NyaXB0LnNyYyA9IHVybDtcblx0fVxuXHRpblByb2dyZXNzW3VybF0gPSBbZG9uZV07XG5cdHZhciBvblNjcmlwdENvbXBsZXRlID0gKHByZXYsIGV2ZW50KSA9PiB7XG5cdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuXHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG5cdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdHZhciBkb25lRm5zID0gaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdGRlbGV0ZSBpblByb2dyZXNzW3VybF07XG5cdFx0c2NyaXB0LnBhcmVudE5vZGUgJiYgc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcblx0XHRkb25lRm5zICYmIGRvbmVGbnMuZm9yRWFjaCgoZm4pID0+IChmbihldmVudCkpKTtcblx0XHRpZihwcmV2KSByZXR1cm4gcHJldihldmVudCk7XG5cdH1cblx0O1xuXHR2YXIgdGltZW91dCA9IHNldFRpbWVvdXQob25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHVuZGVmaW5lZCwgeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pLCAxMjAwMDApO1xuXHRzY3JpcHQub25lcnJvciA9IG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCBzY3JpcHQub25lcnJvcik7XG5cdHNjcmlwdC5vbmxvYWQgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9ubG9hZCk7XG5cdG5lZWRBdHRhY2ggJiYgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xufTsiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdFwibWFpblwiOiAwXG59O1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmYuaiA9IChjaHVua0lkLCBwcm9taXNlcykgPT4ge1xuXHRcdC8vIEpTT05QIGNodW5rIGxvYWRpbmcgZm9yIGphdmFzY3JpcHRcblx0XHR2YXIgaW5zdGFsbGVkQ2h1bmtEYXRhID0gX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgPyBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gOiB1bmRlZmluZWQ7XG5cdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSB7IC8vIDAgbWVhbnMgXCJhbHJlYWR5IGluc3RhbGxlZFwiLlxuXG5cdFx0XHQvLyBhIFByb21pc2UgbWVhbnMgXCJjdXJyZW50bHkgbG9hZGluZ1wiLlxuXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG5cdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzJdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmKHRydWUpIHsgLy8gYWxsIGNodW5rcyBoYXZlIEpTXG5cdFx0XHRcdFx0Ly8gc2V0dXAgUHJvbWlzZSBpbiBjaHVuayBjYWNoZVxuXHRcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gKGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtyZXNvbHZlLCByZWplY3RdKSk7XG5cdFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlKTtcblxuXHRcdFx0XHRcdC8vIHN0YXJ0IGNodW5rIGxvYWRpbmdcblx0XHRcdFx0XHR2YXIgdXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgX193ZWJwYWNrX3JlcXVpcmVfXy51KGNodW5rSWQpO1xuXHRcdFx0XHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcblx0XHRcdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcblx0XHRcdFx0XHR2YXIgbG9hZGluZ0VuZGVkID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSkge1xuXHRcdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IubWVzc2FnZSA9ICdMb2FkaW5nIGNodW5rICcgKyBjaHVua0lkICsgJyBmYWlsZWQuXFxuKCcgKyBlcnJvclR5cGUgKyAnOiAnICsgcmVhbFNyYyArICcpJztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5uYW1lID0gJ0NodW5rTG9hZEVycm9yJztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci50eXBlID0gZXJyb3JUeXBlO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnJlcXVlc3QgPSByZWFsU3JjO1xuXHRcdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YVsxXShlcnJvcik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubCh1cmwsIGxvYWRpbmdFbmRlZCwgXCJjaHVuay1cIiArIGNodW5rSWQsIGNodW5rSWQpO1xuXHRcdFx0XHR9IGVsc2UgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0XHRcdH1cblx0XHR9XG59O1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHR9XG5cdH1cblx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzW2ldXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua2NpdHlsaWdodHNcIl0gPSBzZWxmW1wid2VicGFja0NodW5rY2l0eWxpZ2h0c1wiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgW1widmVuZG9ycy1ub2RlX21vZHVsZXNfc2ltLWVjc19kaXN0X2luZGV4X2pzLW5vZGVfbW9kdWxlc19ib3gyZC13YXNtX2Rpc3RfZXNfZW50cnlfanMtbm9kZV9tb2R1LTBkOTQ1N1wiXSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9pbmRleC50c1wiKSkpXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIiwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9