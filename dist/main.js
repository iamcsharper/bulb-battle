/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/scss/app.scss":
/*!***************************!*\
  !*** ./src/scss/app.scss ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./res/meshes/1.ts":
/*!*************************!*\
  !*** ./res/meshes/1.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.verticies = void 0;
exports.verticies = [
    { x: -0.358251, y: -4.302196 },
    { x: -0.19581, y: -4.342153 },
    { x: -0.109997, y: -4.35505 },
    { x: 0.058886, y: -4.364037 },
    { x: 0.137183, y: -4.359068 },
    { x: 0.269559, y: -4.327562 },
    { x: 0.318867, y: -4.299967 },
    { x: 0.377784, y: -4.18074 },
    { x: 0.398368, y: -4.02064 },
    { x: 0.434304, y: -3.526998 },
    { x: 0.452233, y: -3.222337 },
    { x: 0.49445, y: -2.569536 },
    { x: 0.521315, y: -2.250278 },
    { x: 0.592999, y: -1.69825 },
    { x: 0.640393, y: -1.494361 },
    { x: 0.753266, y: -1.263757 },
    { x: 0.799154, y: -1.177335 },
    { x: 0.87012, y: -1.02497 },
    { x: 0.900048, y: -0.957821 },
    { x: 0.96092, y: -0.838578 },
    { x: 0.996714, y: -0.785278 },
    { x: 1.091145, y: -0.688305 },
    { x: 1.154632, y: -0.643427 },
    { x: 1.316479, y: -0.558592 },
    { x: 1.397872, y: -0.517463 },
    { x: 1.548353, y: -0.425622 },
    { x: 1.615615, y: -0.369478 },
    { x: 1.729616, y: -0.223163 },
    { x: 1.774529, y: -0.127559 },
    { x: 1.835619, y: 0.122122 },
    { x: 1.849969, y: 0.281632 },
    { x: 1.843292, y: 0.662242 },
    { x: 1.824571, y: 0.843738 },
    { x: 1.760238, y: 1.164726 },
    { x: 1.71574, y: 1.30252 },
    { x: 1.604872, y: 1.528463 },
    { x: 1.539616, y: 1.614915 },
    { x: 1.392247, y: 1.730534 },
    { x: 1.31125, y: 1.758003 },
    { x: 1.142765, y: 1.759883 },
    { x: 1.066142, y: 1.756323 },
    { x: 0.929642, y: 1.747777 },
    { x: 0.868038, y: 1.741074 },
    { x: 0.753802, y: 1.718515 },
    { x: 0.699444, y: 1.700942 },
    { x: 0.591929, y: 1.648915 },
    { x: 0.537046, y: 1.612743 },
    { x: 0.420683, y: 1.524279 },
    { x: 0.358345, y: 1.487761 },
    { x: 0.227429, y: 1.437976 },
    { x: 0.159877, y: 1.424548 },
    { x: 0.023142, y: 1.420211 },
    { x: -0.045015, y: 1.429141 },
    { x: -0.178351, y: 1.468793 },
    { x: -0.242506, y: 1.499353 },
    { x: -0.364149, y: 1.577342 },
    { x: -0.42301, y: 1.615606 },
    { x: -0.539011, y: 1.681719 },
    { x: -0.59677, y: 1.707538 },
    { x: -0.713358, y: 1.739628 },
    { x: -0.772807, y: 1.743868 },
    { x: -0.895564, y: 1.723668 },
    { x: -0.959492, y: 1.697198 },
    { x: -1.092316, y: 1.60973 },
    { x: -1.157688, y: 1.554206 },
    { x: -1.280792, y: 1.424273 },
    { x: -1.336818, y: 1.350611 },
    { x: -1.433553, y: 1.187768 },
    { x: -1.472556, y: 1.099335 },
    { x: -1.527566, y: 0.910315 },
    { x: -1.541867, y: 0.810476 },
    { x: -1.545358, y: 0.607388 },
    { x: -1.543899, y: 0.514505 },
    { x: -1.535444, y: 0.345315 },
    { x: -1.52656, y: 0.266333 },
    { x: -1.494764, y: 0.112901 },
    { x: -1.469964, y: 0.035775 },
    { x: -1.397842, y: -0.125987 },
    { x: -1.348633, y: -0.213301 },
    { x: -1.224696, y: -0.396925 },
    { x: -1.159711, y: -0.475497 },
    { x: -1.028962, y: -0.607226 },
    { x: -0.963228, y: -0.665174 },
    { x: -0.831118, y: -0.777217 },
    { x: -0.764772, y: -0.836102 },
    { x: -0.631574, y: -0.971577 },
    { x: -0.564752, y: -1.052958 },
    { x: -0.445742, y: -1.289822 },
    { x: -0.420157, y: -1.507468 },
    { x: -0.42791, y: -2.1019 },
    { x: -0.450993, y: -2.446579 },
    { x: -0.509934, y: -3.150588 },
    { x: -0.535538, y: -3.47781 },
    { x: -0.553376, y: -4.002419 },
    { x: -0.535355, y: -4.167696 },
    { x: -0.449055, y: -4.270403 },
    { x: -0.42929, y: -4.281094 },
    { x: -0.44194, y: -4.274252 },
    { x: -0.464867, y: -4.26185 },
    { x: -0.52021, y: -4.231915 },
    { x: -0.543137, y: -4.219514 },
    { x: -0.555787, y: -4.212672 },
    { x: -0.536022, y: -4.223363 },
    { x: -0.449055, y: -4.270403 },
    { x: -0.42929, y: -4.281094 },
    { x: -0.441939, y: -4.274252 },
    { x: -0.464867, y: -4.26185 },
    { x: -0.52021, y: -4.231915 },
    { x: -0.543137, y: -4.219514 },
    { x: -0.555787, y: -4.212672 },
    { x: -0.536022, y: -4.223363 }
];


/***/ }),

/***/ "./src/app/actions.ts":
/*!****************************!*\
  !*** ./src/app/actions.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EActions = void 0;
var EActions;
(function (EActions) {
    EActions[EActions["Continue"] = 0] = "Continue";
    EActions[EActions["Exit"] = 1] = "Exit";
    EActions[EActions["Play"] = 2] = "Play";
})(EActions = exports.EActions || (exports.EActions = {}));


/***/ }),

/***/ "./src/app/frame-transition-handlers.ts":
/*!**********************************************!*\
  !*** ./src/app/frame-transition-handlers.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.beforeFrameHandler = void 0;
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const pause_1 = __webpack_require__(/*! ../states/pause */ "./src/states/pause.ts");
const engine_1 = __webpack_require__(/*! ../engine */ "./src/engine/index.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const hrtimeToSeconds = (s_ns) => (s_ns[0] + s_ns[1] * 1e-9);
let lastTransition = engine_1.hrtime();
let deltaSum = 0;
async function beforeFrameHandler(actions) {
    var _a;
    const gameStore = actions.getResource(game_store_1.GameStore);
    const commonStore = actions.getResource(common_store_1.CommonStore);
    const isPauseState = ((_a = gameStore.currentState) === null || _a === void 0 ? void 0 : _a.constructor) == pause_1.PauseState;
    if (!isPauseState) {
        commonStore.lastFrameDeltaTime = hrtimeToSeconds(engine_1.hrtime(lastTransition));
        if (commonStore.lastFrameDeltaTime > 0.1) {
            commonStore.lastFrameDeltaTime = 0.1;
        }
        commonStore.timeSinceLevelLoaded +=
            commonStore.lastFrameDeltaTime;
        deltaSum += commonStore.lastFrameDeltaTime;
        commonStore.medianFps = ++commonStore.ticks / deltaSum;
        lastTransition = engine_1.hrtime();
    }
    const ctx = actions.getResource(CanvasRenderingContext2D);
    ctx.beginPath();
    ctx.fillStyle = '#000';
    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
}
exports.beforeFrameHandler = beforeFrameHandler;


/***/ }),

/***/ "./src/app/persistence.ts":
/*!********************************!*\
  !*** ./src/app/persistence.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.save = exports.load = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
const saveKey = 'save';
function load(actions) {
    const save = localStorage.getItem(saveKey);
    if (!save) {
        throw new Error('No save available. Cannot load!');
    }
    const handle = actions.commands.load(sim_ecs_1.SerialFormat.fromJSON(save));
    return handle;
}
exports.load = load;
function save(actions) {
    localStorage.setItem(saveKey, actions.save(new sim_ecs_1.Query([sim_ecs_1.WithTag(tags_1.ETags.save)])).toJSON());
}
exports.save = save;


/***/ }),

/***/ "./src/components/character.ts":
/*!*************************************!*\
  !*** ./src/components/character.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Character = void 0;
class Character {
    constructor(name = '') {
        this.name = name;
    }
}
exports.Character = Character;


/***/ }),

/***/ "./src/components/ui-item.ts":
/*!***********************************!*\
  !*** ./src/components/ui-item.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIItem = void 0;
class UIItem {
    constructor(caption, color, fontSize, action, active, activeColor) {
        this.caption = caption;
        this.color = color;
        this.fontSize = fontSize;
        this.action = action;
        this.active = active;
        this.activeColor = activeColor;
        this.captionMod = (strIn) => strIn;
    }
    get finalCaption() {
        return this.captionMod(this.caption);
    }
}
exports.UIItem = UIItem;


/***/ }),

/***/ "./src/engine/components/collision.ts":
/*!********************************************!*\
  !*** ./src/engine/components/collision.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Collision = void 0;
class Collision {
    constructor(shapeFromVisuals = true, shape = null) {
        this.shapeFromVisuals = shapeFromVisuals;
        this.shape = shape;
        this.collisionObjects = new Set();
        this.occurred = false;
        if (!shapeFromVisuals && !shape) {
            throw new Error('Either copy the collision shape\
                from visuals or provide a new one');
        }
    }
}
exports.Collision = Collision;


/***/ }),

/***/ "./src/engine/components/material.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/material.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Material = void 0;
class Material {
    constructor(color) {
        this.color = color;
    }
}
exports.Material = Material;


/***/ }),

/***/ "./src/engine/components/mesh.ts":
/*!***************************************!*\
  !*** ./src/engine/components/mesh.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Mesh = void 0;
class Mesh {
    constructor(verticies) {
        this.verticies = verticies;
        this.isConvex = true;
    }
}
exports.Mesh = Mesh;


/***/ }),

/***/ "./src/engine/components/physics-bridge.ts":
/*!*************************************************!*\
  !*** ./src/engine/components/physics-bridge.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PhysicsBridge = void 0;
class PhysicsBridge {
    constructor(bodyPtr = null) {
        this.bodyPtr = bodyPtr;
    }
}
exports.PhysicsBridge = PhysicsBridge;


/***/ }),

/***/ "./src/engine/components/position.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/position.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Position = void 0;
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
class Position extends vector2d_1.Vector2D {
}
exports.Position = Position;


/***/ }),

/***/ "./src/engine/components/rotation.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/rotation.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Rotation = void 0;
class Rotation {
    constructor(value) {
        this._val = 0;
        this._sin = 0;
        this._cos = 0;
        this.value = value;
    }
    get sin_cos() {
        return [this._sin, this._cos];
    }
    get value() {
        return this._val;
    }
    set value(newval) {
        this._sin = Math.sin(newval);
        this._cos = Math.cos(newval);
        this._val = newval;
    }
}
exports.Rotation = Rotation;


/***/ }),

/***/ "./src/engine/components/shape.ts":
/*!****************************************!*\
  !*** ./src/engine/components/shape.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Shape = exports.ShapePivotNames = exports.ShapePivot = exports.ShapePrimitive = void 0;
const rect_1 = __webpack_require__(/*! ../models/rect */ "./src/engine/models/rect.ts");
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
var ShapePrimitive;
(function (ShapePrimitive) {
    ShapePrimitive["Circle"] = "circle";
    ShapePrimitive["Rect"] = "rect";
    ShapePrimitive["Mesh"] = "mesh";
})(ShapePrimitive = exports.ShapePrimitive || (exports.ShapePrimitive = {}));
var ShapePivot;
(function (ShapePivot) {
    ShapePivot[ShapePivot["TopLeft"] = 0] = "TopLeft";
    ShapePivot[ShapePivot["TopMiddle"] = 1] = "TopMiddle";
    ShapePivot[ShapePivot["TopRight"] = 2] = "TopRight";
    ShapePivot[ShapePivot["Left"] = 3] = "Left";
    ShapePivot[ShapePivot["Middle"] = 4] = "Middle";
    ShapePivot[ShapePivot["Right"] = 5] = "Right";
    ShapePivot[ShapePivot["BottomLeft"] = 6] = "BottomLeft";
    ShapePivot[ShapePivot["BottomMiddle"] = 7] = "BottomMiddle";
    ShapePivot[ShapePivot["BottomRight"] = 8] = "BottomRight";
})(ShapePivot = exports.ShapePivot || (exports.ShapePivot = {}));
exports.ShapePivotNames = {
    [ShapePivot.TopLeft]: 'TopLeft',
    [ShapePivot.TopMiddle]: 'TopMiddle',
    [ShapePivot.TopRight]: 'TopRight',
    [ShapePivot.Left]: 'Left',
    [ShapePivot.Middle]: 'Middle',
    [ShapePivot.Right]: 'Right',
    [ShapePivot.BottomLeft]: 'BottomLeft',
    [ShapePivot.BottomMiddle]: 'BottomMiddle',
    [ShapePivot.BottomRight]: 'BottomRight',
};
class Shape {
    constructor(zIndex = 0, pivot = ShapePivot.Middle, offsetX = 0, offsetY = 0, dimensions = vector2d_1.vecZero, primitive = ShapePrimitive.Rect, mesh = null) {
        this.zIndex = zIndex;
        this.pivot = pivot;
        this.offsetX = offsetX;
        this.offsetY = offsetY;
        this.dimensions = dimensions;
        this.primitive = primitive;
        this.mesh = mesh;
        this.bBox = new rect_1.Rect(0, 0, 0, 0);
        this.isBuilt = false;
    }
    build() {
        if (this.isBuilt)
            return;
        if (this.primitive === ShapePrimitive.Mesh) {
            if (!this.mesh || !this.mesh.verticies.length)
                throw new Error('Shapes with mesh primitive\
                must provide a non-empty mesh data');
        }
        if (this.primitive !== ShapePrimitive.Mesh && !this.dimensions) {
            console.error('dimensions:', this.dimensions, 'primitive:', this.primitive, 'mesh:', this.mesh);
            throw new Error('Shapes with non-mesh primitive\
                must provide dimensions');
        }
        let minX = 0, minY = 0, maxX = 0, maxY = 0;
        if (this.primitive === ShapePrimitive.Circle) {
            const d = this.dimensions.x;
            const rad = d / 2;
            this.bBox.x = -rad;
            this.bBox.y = -rad;
            this.bBox.w = d;
            this.bBox.h = d;
        }
        else if (this.primitive === ShapePrimitive.Rect) {
            this.bBox.x = -this.dimensions.x / 2;
            this.bBox.y = -this.dimensions.y / 2;
            this.bBox.w = this.dimensions.x;
            this.bBox.h = this.dimensions.y;
        }
        else if (this.primitive === ShapePrimitive.Mesh && this.mesh) {
            minX = this.mesh.verticies[0].x;
            minY = this.mesh.verticies[0].y;
            maxX = this.mesh.verticies[0].x;
            maxY = this.mesh.verticies[0].y;
            for (let i = 1; i < this.mesh.verticies.length; ++i) {
                const { x, y } = this.mesh.verticies[i];
                if (x < minX)
                    minX = x;
                if (x > maxX)
                    maxX = x;
                if (y < minY)
                    minY = y;
                if (y > maxY)
                    maxY = y;
            }
            this.bBox.w = maxX - minX;
            this.bBox.h = maxY - minY;
            this.bBox.x = -this.bBox.w / 2;
            this.bBox.y = -this.bBox.h / 2;
        }
        if (this.pivot === ShapePivot.TopLeft) {
            this.bBox.x += this.bBox.w / 2;
            this.bBox.y += this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.TopMiddle) {
            this.bBox.y += this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.TopRight) {
            this.bBox.x -= this.bBox.w / 2;
            this.bBox.y += this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.Left) {
            this.bBox.x += this.bBox.w / 2;
        }
        else if (this.pivot === ShapePivot.Right) {
            this.bBox.x -= this.bBox.w / 2;
        }
        else if (this.pivot === ShapePivot.BottomLeft) {
            this.bBox.x += this.bBox.w / 2;
            this.bBox.y -= this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.BottomMiddle) {
            this.bBox.y -= this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.BottomRight) {
            this.bBox.x -= this.bBox.w / 2;
            this.bBox.y -= this.bBox.h / 2;
        }
        if (this.primitive === ShapePrimitive.Mesh && this.mesh) {
            for (let i = 0; i < this.mesh.verticies.length; ++i) {
                this.mesh.verticies[i].x += (this.bBox.x - minX);
                this.mesh.verticies[i].y += (this.bBox.y - minY);
            }
        }
        this.isBuilt = true;
    }
    getBBox() {
        return this.bBox;
    }
}
exports.Shape = Shape;


/***/ }),

/***/ "./src/engine/components/velocity.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/velocity.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Velocity = void 0;
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
class Velocity extends vector2d_1.Vector2D {
    constructor(x, y, angular) {
        super(x, y);
        this.angular = angular;
    }
}
exports.Velocity = Velocity;


/***/ }),

/***/ "./src/engine/index.ts":
/*!*****************************!*\
  !*** ./src/engine/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.hrtime = exports.updateRenderContext = void 0;
const updateRenderContext = () => {
    const canvasEle = document.querySelector('canvas');
    if (!canvasEle)
        throw new Error('Could not find canvas element!');
    const renderContext = canvasEle.getContext('2d');
    if (!renderContext)
        throw new Error('Could not initialize 2D context');
    const canvasBoundingRect = canvasEle.getBoundingClientRect();
    canvasEle.width = canvasBoundingRect.width;
    canvasEle.height = canvasBoundingRect.height;
    renderContext.imageSmoothingEnabled = false;
    return renderContext;
};
exports.updateRenderContext = updateRenderContext;
const hrtime = (previousTimestamp) => {
    const clocktime = performance.now() * 1e-3;
    let seconds = Math.floor(clocktime);
    let nanoseconds = Math.floor((clocktime % 1) * 1e9);
    if (previousTimestamp) {
        seconds = seconds - previousTimestamp[0];
        nanoseconds = nanoseconds - previousTimestamp[1];
        if (nanoseconds < 0) {
            seconds--;
            nanoseconds += 1e9;
        }
    }
    return [seconds, nanoseconds];
};
exports.hrtime = hrtime;


/***/ }),

/***/ "./src/engine/level.h.ts":
/*!*******************************!*\
  !*** ./src/engine/level.h.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Level = void 0;
const _1 = __webpack_require__(/*! ./ */ "./src/engine/index.ts");
const frame_transition_handlers_1 = __webpack_require__(/*! ../app/frame-transition-handlers */ "./src/app/frame-transition-handlers.ts");
class Level {
    constructor(physics, name) {
        this.physics = physics;
        this.name = name;
        const world = this.createWorld();
        if (!world) {
            throw new Error(`The level ${name} must have a non-null \
            resulting createWorld function`);
        }
        this.world = world;
        const renderContext = _1.updateRenderContext();
        this.world.addResource(renderContext);
    }
    destroy() {
        this.world.commands.stopRun();
    }
    async run() {
        return this.world.run({
            beforeStepHandler: frame_transition_handlers_1.beforeFrameHandler,
            initialState: this.initialState,
        }).then(() => this.destroy());
    }
}
exports.Level = Level;


/***/ }),

/***/ "./src/engine/models/camera.ts":
/*!*************************************!*\
  !*** ./src/engine/models/camera.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Camera = exports.CameraFollowMethod = void 0;
var CameraFollowMethod;
(function (CameraFollowMethod) {
    CameraFollowMethod[CameraFollowMethod["Immediate"] = 0] = "Immediate";
    CameraFollowMethod[CameraFollowMethod["Smooth"] = 1] = "Smooth";
    CameraFollowMethod[CameraFollowMethod["Elastic"] = 2] = "Elastic";
})(CameraFollowMethod = exports.CameraFollowMethod || (exports.CameraFollowMethod = {}));
class Camera {
    constructor(x = 0, y = 0, offset = {
        x: 0,
        y: 0,
    }, vel = {
        x: 0,
        y: 0
    }, zoom = 1, rotation = 0, follow, elasticity = 0.01, friction = 0.15) {
        this.x = x;
        this.y = y;
        this.offset = offset;
        this.vel = vel;
        this.zoom = zoom;
        this.rotation = rotation;
        this.follow = follow;
        this.elasticity = elasticity;
        this.friction = friction;
    }
}
exports.Camera = Camera;


/***/ }),

/***/ "./src/engine/models/common-store.ts":
/*!*******************************************!*\
  !*** ./src/engine/models/common-store.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CommonStore = void 0;
const input_1 = __webpack_require__(/*! ../systems/input */ "./src/engine/systems/input.ts");
class CommonStore {
    constructor() {
        this.drawables = 0;
        this.rendered = 0;
        this.lastFrameDeltaTime = 0;
        this.ticks = 0;
        this.medianFps = 30;
        this.timeSinceLevelLoaded = 0;
        this.input = {
            wheel: 0,
            cursorPos: { x: -1, y: -1 },
            keyStates: new Map(),
            prevKeyStates: new Map(),
            mouseStates: new Map(),
            resetPrevKey(key) {
                this.prevKeyStates.set(key, this.keyStates.get(key));
            },
            isAnyKey(key, state) {
                return key.some(e => (this.keyStates.get(e) === state));
            },
            isAnyKeyDifferent(key, state) {
                return key.some(e => (this.keyStates.get(e) === state &&
                    this.prevKeyStates.get(e) !== state));
            },
            isKeyDown(key) {
                return this.keyStates.get(key) === input_1.EKeyState.Down;
            },
            isKeyUp(key) {
                return this.keyStates.get(key) === input_1.EKeyState.Up;
            },
            wasKeyPressed(key) {
                if (this.keyStates.get(key) === input_1.EKeyState.Down &&
                    this.prevKeyStates.get(key) !== input_1.EKeyState.Down) {
                    this.resetPrevKey(key);
                    return true;
                }
                return false;
            },
            wasKeyReleased(key) {
                if (this.keyStates.get(key) === input_1.EKeyState.Up &&
                    this.prevKeyStates.get(key) !== input_1.EKeyState.Up) {
                    this.resetPrevKey(key);
                    return true;
                }
                return false;
            },
        };
        this.debugShapes = false;
        this.wasBlurred = false;
        this.wasIntentionallyPaused = false;
    }
    toWorldSpace({ x, y }) {
        const { a, b, c, d, e, f } = this.screenToWorld;
        return {
            x: a * x + c * y + e,
            y: b * x + d * y + f,
        };
    }
    toScreenSpace({ x, y }) {
        const { a, b, c, d, e, f } = this.worldToScreen;
        return {
            x: a * x + c * y + e,
            y: b * x + d * y + f,
        };
    }
}
exports.CommonStore = CommonStore;


/***/ }),

/***/ "./src/engine/models/common-tags.ts":
/*!******************************************!*\
  !*** ./src/engine/models/common-tags.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ECommonTags = void 0;
var ECommonTags;
(function (ECommonTags) {
    ECommonTags[ECommonTags["ui"] = 0] = "ui";
    ECommonTags[ECommonTags["terrain"] = 1] = "terrain";
    ECommonTags[ECommonTags["destroyEntity"] = 2] = "destroyEntity";
    ECommonTags[ECommonTags["__LATEST"] = 3] = "__LATEST";
})(ECommonTags = exports.ECommonTags || (exports.ECommonTags = {}));


/***/ }),

/***/ "./src/engine/models/rect.ts":
/*!***********************************!*\
  !*** ./src/engine/models/rect.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Rect = void 0;
class Rect {
    constructor(x, y, w, h) {
        this.x = x;
        this.y = y;
        this.w = w;
        this.h = h;
    }
    static checkPointInside(r, { x, y }) {
        return !(x < r.x ||
            x > r.x + r.w ||
            y < r.y ||
            y > r.y + r.h);
    }
    static checkIntersects(r1, r2) {
        return !(r2.x > r1.x + r1.w ||
            r2.x + r2.w < r1.x ||
            r2.y > r1.y + r1.h ||
            r2.y + r2.h < r1.y);
    }
}
exports.Rect = Rect;


/***/ }),

/***/ "./src/engine/models/vector2d.ts":
/*!***************************************!*\
  !*** ./src/engine/models/vector2d.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.vecRight = exports.vecLeft = exports.vecDown = exports.vecUp = exports.vecOne = exports.vecZero = exports.Vector2D = void 0;
class Vector2D {
    constructor(x = 0, y = 0) {
        this.x = x;
        this.y = y;
        this.buf = new ArrayBuffer(4);
        this.f32 = new Float32Array(this.buf);
        this.u32 = new Uint32Array(this.buf);
    }
    addSelf(vec) {
        this.x += vec.x;
        this.y += vec.y;
    }
    subSelf(vec) {
        this.x -= vec.x;
        this.y -= vec.y;
    }
    scale(factor) {
        this.x *= factor;
        this.y *= factor;
    }
    normalize() {
        const inv = this.invSqrt();
        this.x *= inv;
        this.y *= inv;
    }
    invSqrt() {
        const x = this.x * this.x + this.y * this.y;
        const x2 = 0.5 * (this.f32[0] = x);
        this.u32[0] = (0x5f3759df - (this.u32[0] >> 1));
        let y = this.f32[0];
        y = y * (1.5 - (x2 * y * y));
        return y;
    }
    distance(to) {
        const dx = to.x - this.x;
        const dy = to.y - this.y;
        return Math.sqrt(dx * dx + dy * dy);
    }
    sqrDistance(to) {
        const dx = to.x - this.x;
        const dy = to.y - this.y;
        return dx * dx + dy * dy;
    }
    sqrLength() {
        return this.x * this.x + this.y * this.y;
    }
    length() {
        return Math.sqrt(this.x * this.x + this.y * this.y);
    }
}
exports.Vector2D = Vector2D;
exports.vecZero = new Vector2D(0, 0);
exports.vecOne = new Vector2D(1, 1);
exports.vecUp = new Vector2D(0, 1);
exports.vecDown = new Vector2D(0, -1);
exports.vecLeft = new Vector2D(-1, 0);
exports.vecRight = new Vector2D(1, 0);


/***/ }),

/***/ "./src/engine/server.ts":
/*!******************************!*\
  !*** ./src/engine/server.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadPhysics = void 0;
const tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
const box2d_wasm_1 = tslib_1.__importDefault(__webpack_require__(/*! box2d-wasm */ "./node_modules/box2d-wasm/dist/es/entry.js"));
const loadPhysics = async () => {
    return box2d_wasm_1.default().then((box2D) => {
        return box2D;
    });
};
exports.loadPhysics = loadPhysics;


/***/ }),

/***/ "./src/engine/systems/camera.ts":
/*!**************************************!*\
  !*** ./src/engine/systems/camera.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CameraSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const camera_1 = __webpack_require__(/*! ../models/camera */ "./src/engine/models/camera.ts");
const util_1 = __webpack_require__(/*! ../util */ "./src/engine/util.ts");
class CameraSystem extends sim_ecs_1.System {
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.camera = actions.getResource(camera_1.Camera);
    }
    run(_) {
        if (this.camera.rotation > 2 * Math.PI) {
            this.camera.rotation -= 2 * Math.PI;
        }
        if (this.camera.rotation < -2 * Math.PI) {
            this.camera.rotation += 2 * Math.PI;
        }
        if (this.camera.zoom < 0.1) {
            this.camera.zoom = 0.1;
        }
        if (this.camera.zoom > 1.5) {
            this.camera.zoom = 1.5;
        }
        const { follow, offset, } = this.camera;
        if (!follow)
            return;
        const { targetAngle, target, method, } = follow;
        let tx = target.x;
        let ty = target.y;
        offset.x = -this.ctx.canvas.width / (2 * util_1.PIXELS_PER_METER * this.camera.zoom);
        offset.y = -this.ctx.canvas.height / (2 * util_1.PIXELS_PER_METER * this.camera.zoom);
        if (targetAngle !== undefined) {
            this.camera.rotation = util_1.angleLerp(this.camera.rotation, -targetAngle, 0.01);
        }
        if (method === camera_1.CameraFollowMethod.Immediate) {
            this.camera.x = tx;
            this.camera.y = ty;
        }
        else if (method === camera_1.CameraFollowMethod.Smooth) {
            this.camera.x = util_1.lerp(this.camera.x, tx, 0.01);
            this.camera.y = util_1.lerp(this.camera.y, ty, 0.01);
        }
        else if (method === camera_1.CameraFollowMethod.Elastic) {
            const dx = (tx - this.camera.x) * this.camera.elasticity;
            const dy = (ty - this.camera.y) * this.camera.elasticity;
            this.camera.vel.x += dx;
            this.camera.vel.y += dy;
            const fx = -this.camera.friction * this.camera.vel.x;
            const fy = -this.camera.friction * this.camera.vel.y;
            this.camera.vel.x += fx;
            this.camera.vel.y += fy;
            this.camera.x += this.camera.vel.x / this.camera.zoom;
            this.camera.y += this.camera.vel.y / this.camera.zoom;
        }
    }
}
exports.CameraSystem = CameraSystem;


/***/ }),

/***/ "./src/engine/systems/collision.ts":
/*!*****************************************!*\
  !*** ./src/engine/systems/collision.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CollisionSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const shape_1 = __webpack_require__(/*! ../components/shape */ "./src/engine/components/shape.ts");
const collision_1 = __webpack_require__(/*! ../components/collision */ "./src/engine/components/collision.ts");
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
class CollisionSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            collision: sim_ecs_1.Write(collision_1.Collision),
            entity: sim_ecs_1.ReadEntity(),
            position: sim_ecs_1.Read(vector2d_1.Vector2D),
            shape: sim_ecs_1.Read(shape_1.Shape)
        });
    }
    run(actions) {
        const rects = Array.from(this.query.iter())
            .map(({ collision, entity, position, shape }) => {
            collision.collisionObjects.clear();
            collision.occurred = false;
            const { x, y, w, h } = shape.getBBox();
            return {
                collisionData: collision,
                entity,
                width: w,
                height: h,
                x: position.x + x,
                y: position.y + y,
            };
        });
        for (let i = 0; i < rects.length; i++) {
            for (let j = 0; j < rects.length; j++) {
                if (i == j) {
                    continue;
                }
                const rect1 = rects[i];
                const rect2 = rects[j];
                if (rect1.x < rect2.x + rect2.width &&
                    rect1.x + rect1.width > rect2.x &&
                    rect1.y < rect2.y + rect2.height &&
                    rect1.y + rect1.height > rect2.y) {
                    if (!rect1.collisionData.occurred) {
                        rect1.collisionData.occurred = true;
                        rect1.collisionData.collisionObjects.add(rect2.entity);
                    }
                    if (!rect2.collisionData.occurred) {
                        rect2.collisionData.occurred = true;
                        rect2.collisionData.collisionObjects.add(rect1.entity);
                    }
                }
            }
        }
    }
}
exports.CollisionSystem = CollisionSystem;


/***/ }),

/***/ "./src/engine/systems/gc.ts":
/*!**********************************!*\
  !*** ./src/engine/systems/gc.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GcSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const physics_bridge_1 = __webpack_require__(/*! ../components/physics-bridge */ "./src/engine/components/physics-bridge.ts");
const common_tags_1 = __webpack_require__(/*! ../models/common-tags */ "./src/engine/models/common-tags.ts");
const common_store_1 = __webpack_require__(/*! ../models/common-store */ "./src/engine/models/common-store.ts");
class GcSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            entity: sim_ecs_1.ReadEntity(),
            _del: sim_ecs_1.WithTag(common_tags_1.ECommonTags.destroyEntity),
        });
    }
    setup(actions) {
        const { physicsNamespace: { b2World } } = actions.getResource(common_store_1.CommonStore);
        this.physWorld = actions.getResource(b2World);
    }
    run(actions) {
        this.query.execute(({ entity }) => {
            const phys = entity.getComponent(physics_bridge_1.PhysicsBridge);
            if (phys && phys.bodyPtr) {
                this.physWorld.DestroyBody(phys.bodyPtr);
            }
            actions.commands.removeEntity(entity);
        });
        actions.commands.maintain();
    }
}
exports.GcSystem = GcSystem;


/***/ }),

/***/ "./src/engine/systems/input.ts":
/*!*************************************!*\
  !*** ./src/engine/systems/input.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InputSystem = exports.EMouseState = exports.EKeyState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const common_store_1 = __webpack_require__(/*! ../models/common-store */ "./src/engine/models/common-store.ts");
var EKeyState;
(function (EKeyState) {
    EKeyState[EKeyState["Up"] = 0] = "Up";
    EKeyState[EKeyState["Down"] = 1] = "Down";
})(EKeyState = exports.EKeyState || (exports.EKeyState = {}));
var EMouseState;
(function (EMouseState) {
    EMouseState[EMouseState["Down"] = 0] = "Down";
    EMouseState[EMouseState["Up"] = 1] = "Up";
    EMouseState[EMouseState["Move"] = 2] = "Move";
})(EMouseState = exports.EMouseState || (exports.EMouseState = {}));
class InputSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.mouseEvents = [];
        this.wheelEvents = [];
        this.listeners = {
            wheel: (e) => (this.wheelEvents.push(-e.deltaY / 125)),
            keydown: (e) => {
                this.resetPrevState(e.code);
                this.commonStore.input.keyStates.set(e.code, EKeyState.Down);
            },
            keyup: (e) => {
                this.resetPrevState(e.code);
                this.commonStore.input.keyStates.set(e.code, EKeyState.Up);
            },
            mousedown: (e) => this.mouseEvents.push({
                button: e.button,
                type: EMouseState.Down,
                x: e.clientX,
                y: e.clientY,
            }),
            mouseup: (e) => this.mouseEvents.push({
                button: e.button,
                type: EMouseState.Up,
                x: e.clientX,
                y: e.clientY,
            }),
            mousemove: (e) => this.mouseEvents.push({
                button: e.button,
                type: EMouseState.Move,
                x: e.clientX,
                y: e.clientY,
            }),
            contextmenu: (e) => e.preventDefault(),
        };
    }
    resetPrevState(code) {
        const prevState = this.commonStore.input.keyStates.get(code);
        this.commonStore.input.prevKeyStates.set(code, prevState);
    }
    setup(actions) {
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        for (const [event, handler] of Object.entries(this.listeners)) {
            window.addEventListener(event, handler);
        }
    }
    destroy(_) {
        super.destroy(_);
        for (const [event, handler] of Object.entries(this.listeners)) {
            window.removeEventListener(event, handler);
        }
    }
    run(actions) {
        let mouseEvent;
        this.commonStore.input.mouseStates.clear();
        while ((mouseEvent = this.mouseEvents.pop())) {
            const { type, x, y, button } = mouseEvent;
            this.commonStore.input.mouseStates.set(button, type);
            this.commonStore.input.cursorPos.x = x;
            this.commonStore.input.cursorPos.y = y;
        }
        let wheelDelta;
        this.commonStore.input.wheel = 0;
        while ((wheelDelta = this.wheelEvents.pop())) {
            this.commonStore.input.wheel = wheelDelta;
        }
    }
}
exports.InputSystem = InputSystem;


/***/ }),

/***/ "./src/engine/systems/physics.ts":
/*!***************************************!*\
  !*** ./src/engine/systems/physics.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PhysicsSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const position_1 = __webpack_require__(/*! ../components/position */ "./src/engine/components/position.ts");
const rotation_1 = __webpack_require__(/*! ../components/rotation */ "./src/engine/components/rotation.ts");
const velocity_1 = __webpack_require__(/*! ../components/velocity */ "./src/engine/components/velocity.ts");
const common_store_1 = __webpack_require__(/*! ../models/common-store */ "./src/engine/models/common-store.ts");
const physics_bridge_1 = __webpack_require__(/*! ../components/physics-bridge */ "./src/engine/components/physics-bridge.ts");
class PhysicsSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            entity: sim_ecs_1.ReadEntity(),
            pos: sim_ecs_1.Write(position_1.Position),
            rot: sim_ecs_1.Write(rotation_1.Rotation),
            vel: sim_ecs_1.Read(velocity_1.Velocity),
        });
    }
    setup(actions) {
        const { physicsNamespace: { b2World } } = actions.getResource(common_store_1.CommonStore);
        this.physWorld = actions.getResource(b2World);
    }
    run(actions) {
        const dt = 0.016;
        const { physicsNamespace: { getPointer, NULL } } = actions.getResource(common_store_1.CommonStore);
        this.query.execute(({ entity, pos, rot, vel }) => {
            const phys = entity.getComponent(physics_bridge_1.PhysicsBridge);
            if (phys) {
                const body = phys.bodyPtr;
                if (!body)
                    return;
                const { x, y } = body.GetPosition();
                const angle = body.GetAngle();
                pos.x = x;
                pos.y = y;
                rot.value = angle;
            }
            else {
                pos.x += vel.x * dt;
                pos.y += vel.y * dt;
                rot.value += vel.angular * dt;
            }
        });
        this.physWorld.Step(dt, 1, 1);
    }
}
exports.PhysicsSystem = PhysicsSystem;


/***/ }),

/***/ "./src/engine/util.ts":
/*!****************************!*\
  !*** ./src/engine/util.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.angleLerp = exports.shortAngleDist = exports.lerp = exports.PIXELS_PER_METER = exports.drawPoint = exports.TWOPI = void 0;
exports.TWOPI = Math.PI * 2;
const drawPoint = (ctx, x, y, size = 0.1) => {
    ctx.beginPath();
    ctx.fillStyle = 'rgba(255,255,255,0.7)';
    ctx.arc(x, y, size, 0, exports.TWOPI);
    ctx.fill();
};
exports.drawPoint = drawPoint;
exports.PIXELS_PER_METER = 32;
const lerp = (value1, value2, factor) => {
    factor = factor < 0 ? 0 : factor;
    factor = factor > 1 ? 1 : factor;
    return value1 + (value2 - value1) * factor;
};
exports.lerp = lerp;
function shortAngleDist(a0, a1) {
    const max = Math.PI * 2;
    const da = (a1 - a0) % max;
    return 2 * da % max - da;
}
exports.shortAngleDist = shortAngleDist;
function angleLerp(a0, a1, t) {
    return a0 + shortAngleDist(a0, a1) * t;
}
exports.angleLerp = angleLerp;


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const topdown_1 = __webpack_require__(/*! ./levels/topdown */ "./src/levels/topdown.ts");
__webpack_require__(/*! ./scss/app.scss */ "./src/scss/app.scss");
const engine_1 = __webpack_require__(/*! ./engine */ "./src/engine/index.ts");
const server_1 = __webpack_require__(/*! ./engine/server */ "./src/engine/server.ts");
window.addEventListener('resize', engine_1.updateRenderContext);
const _fetch = window.fetch;
window.fetch = (input, init) => {
    if ((init === null || init === void 0 ? void 0 : init.credentials) === 'same-origin') {
        delete init.credentials;
    }
    return _fetch(input, init);
};
const levels = {
    'topdown': topdown_1.Topdown,
};
(async () => {
    const box2D = await server_1.loadPhysics();
    const options = Object.keys(levels)
        .map((e, i) => (`${i + 1}) ${e}`));
    options.push('exit (or empty)');
    let requestedLevel = 'topdown';
    while (requestedLevel !== 'exit') {
        const level = requestedLevel;
        let world = new levels[level](box2D);
        await world.run();
        requestedLevel = prompt('What level would you like to check next?\n' +
            options.join('\n')) || 'exit';
    }
})().catch(console.error);


/***/ }),

/***/ "./src/levels/topdown.ts":
/*!*******************************!*\
  !*** ./src/levels/topdown.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Topdown = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const character_1 = __webpack_require__(/*! ../components/character */ "./src/components/character.ts");
const ui_item_1 = __webpack_require__(/*! ../components/ui-item */ "./src/components/ui-item.ts");
const collision_1 = __webpack_require__(/*! ../engine/components/collision */ "./src/engine/components/collision.ts");
const material_1 = __webpack_require__(/*! ../engine/components/material */ "./src/engine/components/material.ts");
const mesh_1 = __webpack_require__(/*! ../engine/components/mesh */ "./src/engine/components/mesh.ts");
const physics_bridge_1 = __webpack_require__(/*! ../engine/components/physics-bridge */ "./src/engine/components/physics-bridge.ts");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const rotation_1 = __webpack_require__(/*! ../engine/components/rotation */ "./src/engine/components/rotation.ts");
const shape_1 = __webpack_require__(/*! ../engine/components/shape */ "./src/engine/components/shape.ts");
const velocity_1 = __webpack_require__(/*! ../engine/components/velocity */ "./src/engine/components/velocity.ts");
const level_h_1 = __webpack_require__(/*! ../engine/level.h */ "./src/engine/level.h.ts");
const camera_1 = __webpack_require__(/*! ../engine/models/camera */ "./src/engine/models/camera.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const camera_2 = __webpack_require__(/*! ../engine/systems/camera */ "./src/engine/systems/camera.ts");
const collision_2 = __webpack_require__(/*! ../engine/systems/collision */ "./src/engine/systems/collision.ts");
const gc_1 = __webpack_require__(/*! ../engine/systems/gc */ "./src/engine/systems/gc.ts");
const input_1 = __webpack_require__(/*! ../engine/systems/input */ "./src/engine/systems/input.ts");
const physics_1 = __webpack_require__(/*! ../engine/systems/physics */ "./src/engine/systems/physics.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const menu_1 = __webpack_require__(/*! ../states/menu */ "./src/states/menu.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
const character_2 = __webpack_require__(/*! ../systems/character */ "./src/systems/character.ts");
const menu_2 = __webpack_require__(/*! ../systems/menu */ "./src/systems/menu.ts");
const pause_1 = __webpack_require__(/*! ../systems/pause */ "./src/systems/pause.ts");
const render_game_1 = __webpack_require__(/*! ../systems/render-game */ "./src/systems/render-game.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
class Topdown extends level_h_1.Level {
    constructor(physics) {
        super(physics, 'topdown');
        this.initialState = menu_1.MenuState;
        const { b2Vec2, b2World } = physics;
        const gravity = new b2Vec2(0, 9.81);
        const physWorld = new b2World(gravity);
        this.world.addResource(physWorld);
        const zero = new b2Vec2(0, 0);
        const gameStore = new game_store_1.GameStore();
        const camera = new camera_1.Camera();
        const commonStore = new common_store_1.CommonStore();
        commonStore.physicsNamespace = physics;
        commonStore.physicsZero = zero;
        this.world.addResource(commonStore);
        this.world.addResource(gameStore);
        this.world.addResource(camera);
    }
    destroy() {
        super.destroy();
        const { physicsNamespace, physicsZero } = this.world.getResource(common_store_1.CommonStore);
        const physicsWorld = this.world.getResource(physicsNamespace.b2World);
        physicsNamespace.destroy(physicsWorld);
        physicsNamespace.destroy(physicsZero);
        const ctx = this.world.getResource(CanvasRenderingContext2D);
        ctx.fillStyle = '#ececec';
        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
    }
    createWorld() {
        return new sim_ecs_1.ECS()
            .buildWorld()
            .withSystem(camera_2.CameraSystem, [
            character_2.CharacterSystem
        ])
            .withSystem(physics_1.PhysicsSystem, [
            character_2.CharacterSystem
        ])
            .withSystem(character_2.CharacterSystem, [
            collision_2.CollisionSystem
        ])
            .withSystem(collision_2.CollisionSystem, [])
            .withSystem(actions_1.ActionsSystem, [
            pause_1.PauseSystem
        ])
            .withSystem(input_1.InputSystem)
            .withSystem(menu_2.MenuSystem, [
            input_1.InputSystem,
        ])
            .withSystem(pause_1.PauseSystem, [
            input_1.InputSystem
        ])
            .withSystem(render_game_1.RenderGameSystem, [
            physics_1.PhysicsSystem,
            character_2.CharacterSystem,
        ])
            .withSystem(gc_1.GcSystem, [
            render_game_1.RenderGameSystem,
        ])
            .withSystem(render_ui_1.RenderUISystem, [
            physics_1.PhysicsSystem,
            menu_2.MenuSystem,
            pause_1.PauseSystem
        ])
            .withComponents(collision_1.Collision, material_1.Material, mesh_1.Mesh, position_1.Position, rotation_1.Rotation, shape_1.Shape, ui_item_1.UIItem, velocity_1.Velocity, character_1.Character, physics_bridge_1.PhysicsBridge)
            .build();
    }
}
exports.Topdown = Topdown;


/***/ }),

/***/ "./src/models/game-store.ts":
/*!**********************************!*\
  !*** ./src/models/game-store.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameStore = void 0;
class GameStore {
    constructor() {
        this.continue = false;
        this.actions = {
            characterMovement: 0,
            menuConfirm: false,
            menuMovement: 0,
            togglePause: false,
        };
    }
}
exports.GameStore = GameStore;


/***/ }),

/***/ "./src/models/tags.ts":
/*!****************************!*\
  !*** ./src/models/tags.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ETags = exports.MyTags = void 0;
const common_tags_1 = __webpack_require__(/*! ../engine/models/common-tags */ "./src/engine/models/common-tags.ts");
var MyTags;
(function (MyTags) {
    MyTags[MyTags["save"] = 3] = "save";
    MyTags[MyTags["character"] = 4] = "character";
    MyTags[MyTags["networkObject"] = 5] = "networkObject";
})(MyTags = exports.MyTags || (exports.MyTags = {}));
exports.ETags = Object.assign(Object.assign({}, common_tags_1.ECommonTags), MyTags);


/***/ }),

/***/ "./src/prefabs/game.ts":
/*!*****************************!*\
  !*** ./src/prefabs/game.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.gamePrefab = void 0;
const shape_1 = __webpack_require__(/*! ../engine/components/shape */ "./src/engine/components/shape.ts");
exports.gamePrefab = [
    {
        PhysicsBridge: {},
        Collision: {},
        Position: {
            x: 0,
            y: 0,
        },
        Rotation: {
            value: 0
        },
        Velocity: {
            x: 0,
            y: 0,
        },
        Material: {
            color: '#fdff03'
        },
        Shape: {
            dimensions: {
                x: 2,
                y: 0.7,
            },
            pivot: shape_1.ShapePivot.TopLeft,
            primitive: shape_1.ShapePrimitive.Rect,
        },
    },
    {
        Collision: {},
        Position: {
            x: 1,
            y: 3,
        },
        Rotation: {
            value: 0
        },
        Velocity: {
            x: 2,
            y: 0,
        },
        Material: {
            color: '#fdff03'
        },
        Shape: {
            zIndex: 10,
            pivot: shape_1.ShapePivot.TopLeft,
            dimensions: {
                x: 0.7,
            },
            primitive: shape_1.ShapePrimitive.Circle,
        },
    },
    {
        Collision: {},
        Position: {
            x: 18,
            y: 0,
        },
        Rotation: {
            value: 7 * Math.PI / 4
        },
        Velocity: {
            x: 0,
            y: 0,
        },
        Material: {
            color: '#0bb'
        },
    },
];


/***/ }),

/***/ "./src/prefabs/menu.ts":
/*!*****************************!*\
  !*** ./src/prefabs/menu.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.menuPrefab = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const actions_1 = __webpack_require__(/*! ../app/actions */ "./src/app/actions.ts");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
exports.menuPrefab = [
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.05 * 1024,
        },
        UIItem: {
            caption: 'SHPEK',
            color: '#ddd',
            fontSize: 64,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.12 * 1024,
        },
        UIItem: {
            caption: 'Pen is game',
            color: '#ddd',
            fontSize: 24,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.2 * 1024,
        },
        UIItem: {
            caption: 'How to play: Move: WASD, Rotate Q/E, Pause: Escape',
            color: '#ddd',
            fontSize: 24,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.24 * 1024,
        },
        UIItem: {
            caption: 'The game will be saved upon pausing (not yet lmao)',
            color: '#ddd',
            fontSize: 24,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.15 * 1024,
            y: 0.35 * 1024,
        },
        UIItem: {
            action: actions_1.EActions.Play,
            active: true,
            color: '#ddd',
            caption: 'Play',
            fontSize: 32,
        },
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.15 * 1024,
            y: 0.4 * 1024,
        },
        UIItem: {
            action: actions_1.EActions.Continue,
            color: '#ddd',
            caption: 'Continue',
            fontSize: 32,
        },
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.15 * 1024,
            y: 0.45 * 1024,
        },
        UIItem: {
            action: actions_1.EActions.Exit,
            color: '#ddd',
            caption: 'Exit (really?)',
            fontSize: 32,
        },
    },
];


/***/ }),

/***/ "./src/prefabs/pause.ts":
/*!******************************!*\
  !*** ./src/prefabs/pause.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.pausePrefab = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
exports.pausePrefab = [
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 50,
            y: 30,
        },
        UIItem: {
            caption: '❚❚ PAUSE',
            color: '#ddd',
            fontSize: 64,
        }
    },
];


/***/ }),

/***/ "./src/prefabs/savable.ts":
/*!********************************!*\
  !*** ./src/prefabs/savable.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.savablePrefab = void 0;
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const _1_1 = __webpack_require__(/*! ../../res/meshes/1 */ "./res/meshes/1.ts");
const shape_1 = __webpack_require__(/*! ../engine/components/shape */ "./src/engine/components/shape.ts");
exports.savablePrefab = [
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.character,
        ],
        Character: {
            name: 'XuPoH'
        },
        Velocity: {
            x: 0,
            y: 0,
            angular: 0,
        },
        Collision: {},
        Rotation: {
            value: 0
        },
        Position: {
            x: 0,
            y: 0,
        },
        Shape: {
            zIndex: 11,
            dimensions: {
                x: 1,
            },
            mesh: {
                verticies: _1_1.verticies
            },
            primitive: shape_1.ShapePrimitive.Mesh,
            pivot: shape_1.ShapePivot.Middle,
        },
        Material: {
            color: '#cca',
        },
    },
];


/***/ }),

/***/ "./src/states/game.ts":
/*!****************************!*\
  !*** ./src/states/game.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const persistence_1 = __webpack_require__(/*! ../app/persistence */ "./src/app/persistence.ts");
const physics_bridge_1 = __webpack_require__(/*! ../engine/components/physics-bridge */ "./src/engine/components/physics-bridge.ts");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const shape_1 = __webpack_require__(/*! ../engine/components/shape */ "./src/engine/components/shape.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const camera_1 = __webpack_require__(/*! ../engine/systems/camera */ "./src/engine/systems/camera.ts");
const collision_1 = __webpack_require__(/*! ../engine/systems/collision */ "./src/engine/systems/collision.ts");
const gc_1 = __webpack_require__(/*! ../engine/systems/gc */ "./src/engine/systems/gc.ts");
const input_1 = __webpack_require__(/*! ../engine/systems/input */ "./src/engine/systems/input.ts");
const physics_1 = __webpack_require__(/*! ../engine/systems/physics */ "./src/engine/systems/physics.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const game_1 = __webpack_require__(/*! ../prefabs/game */ "./src/prefabs/game.ts");
const savable_1 = __webpack_require__(/*! ../prefabs/savable */ "./src/prefabs/savable.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
const character_1 = __webpack_require__(/*! ../systems/character */ "./src/systems/character.ts");
const pause_1 = __webpack_require__(/*! ../systems/pause */ "./src/systems/pause.ts");
const render_game_1 = __webpack_require__(/*! ../systems/render-game */ "./src/systems/render-game.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
class GameState extends sim_ecs_1.State {
    constructor() {
        super(...arguments);
        this._systems = [
            physics_1.PhysicsSystem,
            character_1.CharacterSystem,
            collision_1.CollisionSystem,
            input_1.InputSystem,
            camera_1.CameraSystem,
            pause_1.PauseSystem,
            render_game_1.RenderGameSystem,
            render_ui_1.RenderUISystem,
            gc_1.GcSystem,
            actions_1.ActionsSystem,
        ];
    }
    activate(actions) {
        actions.getResource(game_store_1.GameStore).currentState = this;
    }
    async create(actions) {
        var _a;
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.staticDataPrefabHandle = createNewGame(actions);
        if (this.gameStore.continue) {
            this.saveDataPrefabHandle = persistence_1.load(actions);
        }
        else {
            this.saveDataPrefabHandle = createGameFromSaveData(actions);
        }
        await actions.flushCommands();
        for (const entity of actions.getEntities(new sim_ecs_1.Query([
            sim_ecs_1.With(shape_1.Shape)
        ]))) {
            (_a = entity.getComponent(shape_1.Shape)) === null || _a === void 0 ? void 0 : _a.build();
        }
        const { b2World, b2CircleShape, b2Shape, b2PolygonShape, b2BodyDef, b2_dynamicBody, b2Vec2, destroy, } = this.commonStore.physicsNamespace;
        const physWorld = actions.getResource(b2World);
        const zero = this.commonStore.physicsZero;
        let physShape = null;
        for (const entity of actions.getEntities(new sim_ecs_1.Query([
            sim_ecs_1.With(shape_1.Shape),
            sim_ecs_1.With(position_1.Position),
            sim_ecs_1.With(physics_bridge_1.PhysicsBridge)
        ]))) {
            const pos = entity.getComponent(position_1.Position);
            const shape = entity.getComponent(shape_1.Shape);
            const physicsBridge = entity.getComponent(physics_bridge_1.PhysicsBridge);
            console.log('Adding to physics world:', pos, shape);
            const vec = new b2Vec2(pos.x, pos.y);
            const bd = new b2BodyDef();
            const { w, h } = shape.getBBox();
            if (shape.primitive === shape_1.ShapePrimitive.Rect) {
                const _shape = new b2PolygonShape();
                _shape.SetAsBox(w, h);
                physShape = _shape;
            }
            else if (shape.primitive === shape_1.ShapePrimitive.Circle) {
                const _shape = new b2CircleShape();
                _shape.set_m_radius(shape.dimensions.x / 2);
                physShape = _shape;
            }
            else {
                console.error(shape.primitive, 'is not supported by physics now');
            }
            if (physShape) {
                bd.set_type(b2_dynamicBody);
                bd.set_position(vec);
                const body = physWorld.CreateBody(bd);
                vec.Set(0, 0);
                body.SetTransform(vec, 0);
                body.CreateFixture(physShape, 1);
                destroy(vec);
                destroy(physShape);
                body.SetLinearVelocity(zero);
                body.SetAwake(true);
                body.SetEnabled(true);
                physicsBridge.bodyPtr = body;
            }
        }
        actions.commands.maintain();
    }
    destroy(actions) {
        if (this.staticDataPrefabHandle) {
            actions.commands.unloadPrefab(this.staticDataPrefabHandle);
        }
        if (this.saveDataPrefabHandle) {
            actions.commands.unloadPrefab(this.saveDataPrefabHandle);
        }
        const { physicsNamespace: { b2World, destroy } } = this.commonStore;
        destroy(actions.getResource(b2World));
        actions.commands.maintain();
    }
}
exports.GameState = GameState;
const createNewGame = function (actions) {
    return actions.commands.load(sim_ecs_1.SerialFormat.fromArray(game_1.gamePrefab));
};
const createGameFromSaveData = function (actions) {
    return actions.commands.load(sim_ecs_1.SerialFormat.fromArray(savable_1.savablePrefab));
};


/***/ }),

/***/ "./src/states/menu.ts":
/*!****************************!*\
  !*** ./src/states/menu.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MenuState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const menu_1 = __webpack_require__(/*! ../prefabs/menu */ "./src/prefabs/menu.ts");
const menu_2 = __webpack_require__(/*! ../systems/menu */ "./src/systems/menu.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const input_1 = __webpack_require__(/*! ../engine/systems/input */ "./src/engine/systems/input.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
class MenuState extends sim_ecs_1.State {
    constructor() {
        super(...arguments);
        this._systems = [input_1.InputSystem, actions_1.ActionsSystem, menu_2.MenuSystem, render_ui_1.RenderUISystem];
    }
    activate(actions) {
        actions.getResource(game_store_1.GameStore).currentState = this;
        this.prefabHandle = actions.commands.load(sim_ecs_1.SerialFormat.fromArray(menu_1.menuPrefab));
        actions.commands.maintain();
    }
    deactivate(actions) {
        actions.commands.unloadPrefab(this.prefabHandle);
        actions.commands.maintain();
    }
}
exports.MenuState = MenuState;


/***/ }),

/***/ "./src/states/pause.ts":
/*!*****************************!*\
  !*** ./src/states/pause.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PauseState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const pause_1 = __webpack_require__(/*! ../systems/pause */ "./src/systems/pause.ts");
const pause_2 = __webpack_require__(/*! ../prefabs/pause */ "./src/prefabs/pause.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const persistence_1 = __webpack_require__(/*! ../app/persistence */ "./src/app/persistence.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
const render_game_1 = __webpack_require__(/*! ../systems/render-game */ "./src/systems/render-game.ts");
const input_1 = __webpack_require__(/*! ../engine/systems/input */ "./src/engine/systems/input.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
class PauseState extends sim_ecs_1.State {
    constructor() {
        super(...arguments);
        this._systems = [input_1.InputSystem, actions_1.ActionsSystem, pause_1.PauseSystem, render_game_1.RenderGameSystem, render_ui_1.RenderUISystem];
    }
    activate(actions) {
        const gameStore = actions.getResource(game_store_1.GameStore);
        persistence_1.save(actions);
        gameStore.currentState = this;
        this.prefabHandle = actions.commands.load(sim_ecs_1.SerialFormat.fromArray(pause_2.pausePrefab));
        actions.commands.maintain();
    }
    deactivate(actions) {
        actions.commands.unloadPrefab(this.prefabHandle);
        actions.commands.maintain();
    }
}
exports.PauseState = PauseState;


/***/ }),

/***/ "./src/systems/actions.ts":
/*!********************************!*\
  !*** ./src/systems/actions.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ActionsSystem = void 0;
const tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const KeyCode = tslib_1.__importStar(__webpack_require__(/*! keycode-js */ "./node_modules/keycode-js/dist/keycode.esm.js"));
const input_1 = __webpack_require__(/*! ../engine/systems/input */ "./src/engine/systems/input.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
class ActionsSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.listeners = {
            blur: () => {
                this.gameStore.actions.characterMovement = 0;
                this.gameStore.actions.menuMovement = 0;
                this.gameStore.actions.togglePause = false;
                this.commonStore.input.keyStates.clear();
            },
            focus: () => this.listeners.blur(),
        };
    }
    setup(actions) {
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        for (const [event, handler] of Object.entries(this.listeners)) {
            window.addEventListener(event, handler);
        }
    }
    updateAction(triggers, pos, neg, menu) {
        if (this.commonStore.input.isAnyKey(triggers, input_1.EKeyState.Down)) {
            this.gameStore.actions.characterMovement |= pos;
            this.gameStore.actions.characterMovement &= ~neg;
            if (menu)
                this.gameStore.actions.menuMovement = menu;
        }
        else if (this.commonStore.input.isAnyKeyDifferent(triggers, input_1.EKeyState.Up)) {
            ;
            this.gameStore.actions.characterMovement &= ~pos;
            if (menu)
                this.gameStore.actions.menuMovement = 0;
        }
    }
    run(actions) {
        {
            this.gameStore.actions.menuConfirm = false;
            this.gameStore.actions.menuMovement = 0;
            this.gameStore.actions.togglePause = false;
        }
        const { input } = this.commonStore;
        if (input.wasKeyPressed(KeyCode.CODE_ENTER)) {
            this.gameStore.actions.menuConfirm = true;
        }
        if (input.wasKeyPressed(KeyCode.CODE_ESCAPE)) {
            console.log(input);
            this.gameStore.actions.togglePause = true;
        }
        this.updateAction([
            KeyCode.CODE_W,
            KeyCode.CODE_UP
        ], 1, 2, 1);
        this.updateAction([
            KeyCode.CODE_A,
            KeyCode.CODE_LEFT
        ], 4, 8);
        this.updateAction([
            KeyCode.CODE_S,
            KeyCode.CODE_DOWN
        ], 2, 1, 2);
        this.updateAction([
            KeyCode.CODE_D,
            KeyCode.CODE_RIGHT
        ], 8, 4);
    }
}
exports.ActionsSystem = ActionsSystem;


/***/ }),

/***/ "./src/systems/character.ts":
/*!**********************************!*\
  !*** ./src/systems/character.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CharacterSystem = void 0;
const keycode_js_1 = __webpack_require__(/*! keycode-js */ "./node_modules/keycode-js/dist/keycode.esm.js");
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const rotation_1 = __webpack_require__(/*! ../engine/components/rotation */ "./src/engine/components/rotation.ts");
const velocity_1 = __webpack_require__(/*! ../engine/components/velocity */ "./src/engine/components/velocity.ts");
const camera_1 = __webpack_require__(/*! ../engine/models/camera */ "./src/engine/models/camera.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
class CharacterSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            _character: sim_ecs_1.WithTag(tags_1.ETags.character),
            entity: sim_ecs_1.ReadEntity(),
            pos: sim_ecs_1.Read(position_1.Position),
            rotation: sim_ecs_1.Write(rotation_1.Rotation),
            velocity: sim_ecs_1.Write(velocity_1.Velocity),
        });
        this.runs = 0;
    }
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.camera = actions.getResource(camera_1.Camera);
        this.camera.elasticity = 0.008;
        this.camera.follow = {
            method: camera_1.CameraFollowMethod.Elastic,
            target: {
                x: this.camera.x,
                y: this.camera.y,
            },
            prevX: this.camera.x,
            prevY: this.camera.y,
        };
    }
    run(actions) {
        this.camera.zoom += this.commonStore.input.wheel / 10;
        this.query.execute(({ rotation, pos, velocity }) => {
            if (this.commonStore.input.isKeyDown(keycode_js_1.CODE_E)) {
                rotation.value += 0.01;
            }
            if (this.commonStore.input.isKeyDown(keycode_js_1.CODE_Q)) {
                rotation.value -= 0.01;
            }
            this.camera.follow.target = pos;
            this.camera.follow.targetAngle = rotation.value;
            const dt = this.commonStore.lastFrameDeltaTime;
            const { characterMovement: move } = this.gameStore.actions;
            const isLeft = (move & 4) === 4;
            const isRight = (move & 8) === 8;
            velocity.x = 0;
            if (isLeft && !isRight) {
                velocity.x = -1;
            }
            if (isRight && !isLeft) {
                velocity.x = 1;
            }
            if ((move & 1) === 1) {
                velocity.y = -1;
            }
            else if ((move & 2) === 2) {
                velocity.y = 1;
            }
            else {
                velocity.y = 0;
            }
            const { x: vx, y: vy } = velocity;
            const [sin, cos] = rotation.sin_cos;
            velocity.x = vx * cos - vy * sin;
            velocity.y = vx * sin + vy * cos;
            velocity.normalize();
            velocity.scale(dt * 60 * 2);
        });
    }
}
exports.CharacterSystem = CharacterSystem;


/***/ }),

/***/ "./src/systems/menu.ts":
/*!*****************************!*\
  !*** ./src/systems/menu.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MenuSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const ui_item_1 = __webpack_require__(/*! ../components/ui-item */ "./src/components/ui-item.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const actions_1 = __webpack_require__(/*! ../app/actions */ "./src/app/actions.ts");
const game_1 = __webpack_require__(/*! ../states/game */ "./src/states/game.ts");
const menu_1 = __webpack_require__(/*! ../states/menu */ "./src/states/menu.ts");
class MenuSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this._states = [
            game_1.GameState,
            menu_1.MenuState
        ];
        this.query = new sim_ecs_1.Query({
            uiItem: sim_ecs_1.Write(ui_item_1.UIItem)
        });
        this.menuAction = actions_1.EActions.Play;
    }
    setup(actions) {
        this.actions = actions;
        this.gameStore = actions.getResource(game_store_1.GameStore);
        console.log('setup Menu');
    }
    run(actions) {
        if (this.gameStore.actions.menuMovement == 2) {
            switch (this.menuAction) {
                case actions_1.EActions.Play:
                    this.menuAction = actions_1.EActions.Continue;
                    break;
                case actions_1.EActions.Continue:
                    this.menuAction = actions_1.EActions.Exit;
                    break;
                case actions_1.EActions.Exit:
                    this.menuAction = actions_1.EActions.Play;
                    break;
                default: {
                    throw new Error(`Action ${this.menuAction} not implemented!`);
                }
            }
        }
        else if (this.gameStore.actions.menuMovement == 1) {
            switch (this.menuAction) {
                case actions_1.EActions.Play:
                    this.menuAction = actions_1.EActions.Exit;
                    break;
                case actions_1.EActions.Continue:
                    this.menuAction = actions_1.EActions.Play;
                    break;
                case actions_1.EActions.Exit:
                    this.menuAction = actions_1.EActions.Continue;
                    break;
                default: {
                    throw new Error(`Action ${this.menuAction} not implemented!`);
                }
            }
        }
        if (this.gameStore.actions.menuConfirm) {
            if (this.menuAction == actions_1.EActions.Play) {
                this.actions.commands.pushState(game_1.GameState);
            }
            else if (this.menuAction == actions_1.EActions.Continue) {
                if (localStorage.getItem('save') == null) {
                    alert('Sorry you werent saved lol');
                    return;
                }
                this.gameStore.continue = true;
                this.actions.commands.pushState(game_1.GameState);
            }
            else {
                this.actions.commands.stopRun();
            }
            return;
        }
        for (const { uiItem } of this.query.iter()) {
            uiItem.active = uiItem.action == this.menuAction;
        }
    }
}
exports.MenuSystem = MenuSystem;


/***/ }),

/***/ "./src/systems/pause.ts":
/*!******************************!*\
  !*** ./src/systems/pause.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PauseSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const game_1 = __webpack_require__(/*! ../states/game */ "./src/states/game.ts");
const pause_1 = __webpack_require__(/*! ../states/pause */ "./src/states/pause.ts");
class PauseSystem extends sim_ecs_1.System {
    setup(actions) {
        this.actions = actions;
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        window.addEventListener('blur', () => {
            var _a, _b;
            const isGameState = ((_a = this.gameStore.currentState) === null || _a === void 0 ? void 0 : _a.constructor) == game_1.GameState;
            const isPauseState = ((_b = this.gameStore.currentState) === null || _b === void 0 ? void 0 : _b.constructor) == pause_1.PauseState;
            if (!isGameState && !isPauseState)
                return;
            if (!isPauseState) {
                this.actions.commands.pushState(pause_1.PauseState);
                this.commonStore.wasBlurred = true;
            }
        });
        window.addEventListener('focus', () => {
            if (this.commonStore.wasBlurred &&
                !this.commonStore.wasIntentionallyPaused) {
                this.actions.commands.popState();
            }
        });
    }
    run(actions) {
        var _a, _b;
        const isGameState = ((_a = this.gameStore.currentState) === null || _a === void 0 ? void 0 : _a.constructor) == game_1.GameState;
        const isPauseState = ((_b = this.gameStore.currentState) === null || _b === void 0 ? void 0 : _b.constructor) == pause_1.PauseState;
        if (!isGameState && !isPauseState) {
            return;
        }
        if (this.gameStore.actions.togglePause) {
            if (isGameState) {
                this.commonStore.wasIntentionallyPaused = true;
                this.actions.commands.pushState(pause_1.PauseState);
            }
            else {
                this.commonStore.wasIntentionallyPaused = false;
                this.actions.commands.popState();
            }
        }
    }
}
exports.PauseSystem = PauseSystem;


/***/ }),

/***/ "./src/systems/render-game.ts":
/*!************************************!*\
  !*** ./src/systems/render-game.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RenderGameSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const material_1 = __webpack_require__(/*! ../engine/components/material */ "./src/engine/components/material.ts");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const rotation_1 = __webpack_require__(/*! ../engine/components/rotation */ "./src/engine/components/rotation.ts");
const shape_1 = __webpack_require__(/*! ../engine/components/shape */ "./src/engine/components/shape.ts");
const camera_1 = __webpack_require__(/*! ../engine/models/camera */ "./src/engine/models/camera.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
const rect_1 = __webpack_require__(/*! ../engine/models/rect */ "./src/engine/models/rect.ts");
const util_1 = __webpack_require__(/*! ../engine/util */ "./src/engine/util.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
class RenderGameSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            pos: sim_ecs_1.Read(position_1.Position),
            rot: sim_ecs_1.Write(rotation_1.Rotation),
            shape: sim_ecs_1.Read(shape_1.Shape),
            material: sim_ecs_1.Read(material_1.Material),
        });
        this.runs = 0;
    }
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        this.camera = actions.getResource(camera_1.Camera);
        this.controls = document.querySelector('#controls');
    }
    run(actions) {
        const viewport = {
            x: this.camera.x + this.camera.offset.x,
            y: this.camera.y + this.camera.offset.y,
            w: this.ctx.canvas.width / (this.camera.zoom * util_1.PIXELS_PER_METER),
            h: this.ctx.canvas.height / (this.camera.zoom * util_1.PIXELS_PER_METER),
        };
        this.camera.viewport = viewport;
        this.ctx.save();
        this.ctx.scale(util_1.PIXELS_PER_METER * this.camera.zoom, util_1.PIXELS_PER_METER * this.camera.zoom);
        this.ctx.translate(-viewport.x, -viewport.y);
        this.ctx.translate(this.camera.x, this.camera.y);
        this.ctx.rotate(this.camera.rotation);
        this.ctx.translate(-this.camera.x, -this.camera.y);
        this.commonStore.worldToScreen = this.ctx.getTransform();
        this.commonStore.screenToWorld = this.ctx.getTransform().inverse();
        const { x: mx, y: my } = this.commonStore.input.cursorPos;
        const rows = 10;
        const cols = 18;
        const perCol = this.ctx.canvas.width / (cols * util_1.PIXELS_PER_METER);
        const perRow = this.ctx.canvas.height / (rows * util_1.PIXELS_PER_METER);
        for (let i = 0; i < rows; i++) {
            for (let j = 0; j < cols; j++) {
                const x = j * perCol;
                const y = i * perRow;
                this.ctx.lineWidth = 2 / 32;
                this.ctx.strokeStyle = '#dadada';
                this.ctx.strokeRect(x, y, perCol, perRow);
            }
        }
        const iter = Array.from(this.query.iter());
        this.commonStore.drawables = iter.length;
        const drawables = iter.filter(({ pos, shape }) => {
            const bbox = shape.getBBox();
            const r = {
                x: pos.x + bbox.x,
                y: pos.y + bbox.y,
                w: bbox.w,
                h: bbox.h,
            };
            const inView = rect_1.Rect.checkIntersects(r, viewport);
            return inView;
        })
            .sort(({ shape: a }, { shape: b }) => {
            return a.zIndex - b.zIndex;
        });
        this.commonStore.rendered = drawables.length;
        for (let i = 0; i < drawables.length; i++) {
            const { pos, shape, rot, material } = drawables[i];
            this.drawShape(pos, shape, material, rot);
        }
        this.ctx.restore();
    }
    drawShape(pos, shape, material, rot) {
        const { x: w, y: h } = shape.dimensions;
        const { x: bx, y: by, w: bw, h: bh, } = shape.getBBox();
        const { x, y } = pos;
        this.ctx.save();
        this.ctx.translate(x, y);
        this.ctx.rotate(rot.value);
        this.ctx.fillStyle = material.color;
        if (shape.primitive === shape_1.ShapePrimitive.Rect) {
            this.ctx.fillRect(bx, by, w, h);
        }
        else if (shape.primitive === shape_1.ShapePrimitive.Circle) {
            this.ctx.beginPath();
            this.ctx.arc(bx + w / 2, bx + w / 2, w / 2, 0, util_1.TWOPI);
            this.ctx.fill();
        }
        else if (shape.primitive === shape_1.ShapePrimitive.Mesh
            && shape.mesh) {
            this.ctx.beginPath();
            const { offsetX, offsetY } = shape;
            for (let i = 0; i < shape.mesh.verticies.length; ++i) {
                const { x: dx, y: dy } = shape.mesh.verticies[i];
                this.ctx.lineTo(dx + offsetX, dy + offsetY);
            }
            this.ctx.closePath();
            this.ctx.fill();
        }
        if (this.commonStore.debugShapes) {
            this.ctx.save();
            this.ctx.fillStyle = '#fff';
            this.ctx.font = '0.1rem Arial';
            this.ctx.fillText(`Z=${shape.zIndex},x=${Math.floor(x)},y=${Math.floor(y)}`, 0, -by - 2);
            this.ctx.fillText(`Pivot=${shape_1.ShapePivotNames[shape.pivot]}`, 0, -by - 3);
            this.ctx.strokeStyle = '#f0f';
            const padding = 0;
            this.ctx.lineWidth = 0.1;
            this.ctx.strokeRect(bx - padding, by - padding, bw + padding * 2, bh + padding * 2);
            this.ctx.restore();
            util_1.drawPoint(this.ctx, 0, 0);
        }
        this.ctx.restore();
    }
}
exports.RenderGameSystem = RenderGameSystem;


/***/ }),

/***/ "./src/systems/render-ui.ts":
/*!**********************************!*\
  !*** ./src/systems/render-ui.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RenderUISystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const ui_item_1 = __webpack_require__(/*! ../components/ui-item */ "./src/components/ui-item.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
class RenderUISystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            _tag: sim_ecs_1.WithTag(tags_1.ETags.ui),
            pos: sim_ecs_1.Read(position_1.Position),
            ui: sim_ecs_1.Read(ui_item_1.UIItem)
        });
        this.runs = 0;
    }
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.commonStore = actions.getResource(common_store_1.CommonStore);
    }
    run(actions) {
        this.ctx.textBaseline = 'top';
        this.ctx.save();
        this.query.execute(({ pos, ui }) => {
            var _a;
            this.ctx.fillStyle = ui.active
                ? (_a = ui.activeColor) !== null && _a !== void 0 ? _a : 'red'
                : ui.color;
            this.ctx.font = ui.active
                ? `${ui.fontSize * 1.2}px serif`
                : `${ui.fontSize}px serif`;
            this.ctx.fillText(ui.finalCaption, pos.x, pos.y);
        });
        this.ctx.restore();
        this.ctx.font = '32px serif';
        this.ctx.fillStyle = '#fff';
        this.ctx.fillText(`${Math.floor(10 * this.commonStore.timeSinceLevelLoaded) / 10.0} s.`, this.ctx.canvas.width - 200, 20);
        this.ctx.fillText(`${Math.floor(this.commonStore.medianFps + 0.5)} FPS`, this.ctx.canvas.width - 200, 60);
        this.ctx.fillText(`${this.commonStore.rendered} / ${this.commonStore.drawables}`, this.ctx.canvas.width - 200, 100);
        {
            let str = this.gameStore.actions.characterMovement.toString(2);
            str = '0'.repeat(4 - str.length) + str;
            this.ctx.fillText(`${str}`, this.ctx.canvas.width - 200, 140);
        }
    }
}
exports.RenderUISystem = RenderUISystem;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference all chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return undefined;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "citylights:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) var result = runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkIds[i]] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkcitylights"] = self["webpackChunkcitylights"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors-node_modules_sim-ecs_dist_index_js-node_modules_box2d-wasm_dist_es_entry_js-node_modu-0d9457"], () => (__webpack_require__("./src/index.ts")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7OztBQ0VhLGlCQUFTLEdBQWdCO0lBQ2xDLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3hCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3hCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3ZCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLE9BQU8sRUFBQztJQUN0QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN2QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDeEIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3hCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLE9BQU8sRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDeEIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLE1BQU0sRUFBQztJQUN2QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENB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SUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1NBQ2hDO2FBQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFVBQVUsQ0FBQyxTQUFTLEVBQUU7WUFDNUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1NBQ2hDO2FBQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFVBQVUsQ0FBQyxRQUFRLEVBQUU7WUFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1lBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztTQUNoQzthQUFNLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsSUFBSSxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztTQUNoQzthQUFNLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsS0FBSyxFQUFFO1lBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztTQUNoQzthQUFNLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsVUFBVSxFQUFFO1lBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztZQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7U0FDaEM7YUFBTSxJQUFJLElB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QUNBO1dBQ0E7V0FDQTtXQUNBOztXQUVBO1dBQ0E7V0FDQSw0Rzs7Ozs7VUVuRkE7VUFDQTtVQUNBO1VBQ0E7VUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc2Nzcy9hcHAuc2NzcyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vcmVzL21lc2hlcy8xLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvYXBwL2FjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9hcHAvZnJhbWUtdHJhbnNpdGlvbi1oYW5kbGVycy50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2FwcC9wZXJzaXN0ZW5jZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2NvbXBvbmVudHMvY2hhcmFjdGVyLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvY29tcG9uZW50cy91aS1pdGVtLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvY29sbGlzaW9uLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvbWF0ZXJpYWwudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvY29tcG9uZW50cy9tZXNoLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvcGh5c2ljcy1icmlkZ2UudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvY29tcG9uZW50cy9wb3NpdGlvbi50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9jb21wb25lbnRzL3JvdGF0aW9uLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvc2hhcGUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvY29tcG9uZW50cy92ZWxvY2l0eS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9pbmRleC50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9sZXZlbC5oLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL21vZGVscy9jYW1lcmEudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvbW9kZWxzL2NvbW1vbi1zdG9yZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9tb2RlbHMvY29tbW9uLXRhZ3MudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvbW9kZWxzL3JlY3QudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvbW9kZWxzL3ZlY3RvcjJkLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL3NlcnZlci50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9zeXN0ZW1zL2NhbWVyYS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9zeXN0ZW1zL2NvbGxpc2lvbi50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9zeXN0ZW1zL2djLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL3N5c3RlbXMvaW5wdXQudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvc3lzdGVtcy9waHlzaWNzLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL3V0aWwudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2xldmVscy90b3Bkb3duLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvbW9kZWxzL2dhbWUtc3RvcmUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9tb2RlbHMvdGFncy50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3ByZWZhYnMvZ2FtZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3ByZWZhYnMvbWVudS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3ByZWZhYnMvcGF1c2UudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9wcmVmYWJzL3NhdmFibGUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9zdGF0ZXMvZ2FtZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3N0YXRlcy9tZW51LnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3RhdGVzL3BhdXNlLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3lzdGVtcy9hY3Rpb25zLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3lzdGVtcy9jaGFyYWN0ZXIudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9zeXN0ZW1zL21lbnUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9zeXN0ZW1zL3BhdXNlLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3lzdGVtcy9yZW5kZXItZ2FtZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3N5c3RlbXMvcmVuZGVyLXVpLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ydW50aW1lL2Vuc3VyZSBjaHVuayIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9nZXQgbWluaS1jc3MgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9sb2FkIHNjcmlwdCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9iZWZvcmUtc3RhcnR1cCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svYWZ0ZXItc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCJpbXBvcnQgeyBJVmVjdG9yMkQgfSBmcm9tIFwiLi4vLi4vc3JjL2VuZ2luZS9tb2RlbHMvdmVjdG9yMmRcIjtcblxuZXhwb3J0IGNvbnN0IHZlcnRpY2llczogSVZlY3RvcjJEW10gPSBbXG4gICAge3g6LTAuMzU4MjUxLCB5Oi00LjMwMjE5Nn0sXG4gICAge3g6LTAuMTk1ODEsIHk6LTQuMzQyMTUzfSxcbiAgICB7eDotMC4xMDk5OTcsIHk6LTQuMzU1MDV9LFxuICAgIHt4OjAuMDU4ODg2LCB5Oi00LjM2NDAzN30sXG4gICAge3g6MC4xMzcxODMsIHk6LTQuMzU5MDY4fSxcbiAgICB7eDowLjI2OTU1OSwgeTotNC4zMjc1NjJ9LFxuICAgIHt4OjAuMzE4ODY3LCB5Oi00LjI5OTk2N30sXG4gICAge3g6MC4zNzc3ODQsIHk6LTQuMTgwNzR9LFxuICAgIHt4OjAuMzk4MzY4LCB5Oi00LjAyMDY0fSxcbiAgICB7eDowLjQzNDMwNCwgeTotMy41MjY5OTh9LFxuICAgIHt4OjAuNDUyMjMzLCB5Oi0zLjIyMjMzN30sXG4gICAge3g6MC40OTQ0NSwgeTotMi41Njk1MzZ9LFxuICAgIHt4OjAuNTIxMzE1LCB5Oi0yLjI1MDI3OH0sXG4gICAge3g6MC41OTI5OTksIHk6LTEuNjk4MjV9LFxuICAgIHt4OjAuNjQwMzkzLCB5Oi0xLjQ5NDM2MX0sXG4gICAge3g6MC43NTMyNjYsIHk6LTEuMjYzNzU3fSxcbiAgICB7eDowLjc5OTE1NCwgeTotMS4xNzczMzV9LFxuICAgIHt4OjAuODcwMTIsIHk6LTEuMDI0OTd9LFxuICAgIHt4OjAuOTAwMDQ4LCB5Oi0wLjk1NzgyMX0sXG4gICAge3g6MC45NjA5MiwgeTotMC44Mzg1Nzh9LFxuICAgIHt4OjAuOTk2NzE0LCB5Oi0wLjc4NTI3OH0sXG4gICAge3g6MS4wOTExNDUsIHk6LTAuNjg4MzA1fSxcbiAgICB7eDoxLjE1NDYzMiwgeTotMC42NDM0Mjd9LFxuICAgIHt4OjEuMzE2NDc5LCB5Oi0wLjU1ODU5Mn0sXG4gICAge3g6MS4zOTc4NzIsIHk6LTAuNTE3NDYzfSxcbiAgICB7eDoxLjU0ODM1MywgeTotMC40MjU2MjJ9LFxuICAgIHt4OjEuNjE1NjE1LCB5Oi0wLjM2OTQ3OH0sXG4gICAge3g6MS43Mjk2MTYsIHk6LTAuMjIzMTYzfSxcbiAgICB7eDoxLjc3NDUyOSwgeTotMC4xMjc1NTl9LFxuICAgIHt4OjEuODM1NjE5LCB5OjAuMTIyMTIyfSxcbiAgICB7eDoxLjg0OTk2OSwgeTowLjI4MTYzMn0sXG4gICAge3g6MS44NDMyOTIsIHk6MC42NjIyNDJ9LFxuICAgIHt4OjEuODI0NTcxLCB5OjAuODQzNzM4fSxcbiAgICB7eDoxLjc2MDIzOCwgeToxLjE2NDcyNn0sXG4gICAge3g6MS43MTU3NCwgeToxLjMwMjUyfSxcbiAgICB7eDoxLjYwNDg3MiwgeToxLjUyODQ2M30sXG4gICAge3g6MS41Mzk2MTYsIHk6MS42MTQ5MTV9LFxuICAgIHt4OjEuMzkyMjQ3LCB5OjEuNzMwNTM0fSxcbiAgICB7eDoxLjMxMTI1LCB5OjEuNzU4MDAzfSxcbiAgICB7eDoxLjE0Mjc2NSwgeToxLjc1OTg4M30sXG4gICAge3g6MS4wNjYxNDIsIHk6MS43NTYzMjN9LFxuICAgIHt4OjAuOTI5NjQyLCB5OjEuNzQ3Nzc3fSxcbiAgICB7eDowLjg2ODAzOCwgeToxLjc0MTA3NH0sXG4gICAge3g6MC43NTM4MDIsIHk6MS43MTg1MTV9LFxuICAgIHt4OjAuNjk5NDQ0LCB5OjEuNzAwOTQyfSxcbiAgICB7eDowLjU5MTkyOSwgeToxLjY0ODkxNX0sXG4gICAge3g6MC41MzcwNDYsIHk6MS42MTI3NDN9LFxuICAgIHt4OjAuNDIwNjgzLCB5OjEuNTI0Mjc5fSxcbiAgICB7eDowLjM1ODM0NSwgeToxLjQ4Nzc2MX0sXG4gICAge3g6MC4yMjc0MjksIHk6MS40Mzc5NzZ9LFxuICAgIHt4OjAuMTU5ODc3LCB5OjEuNDI0NTQ4fSxcbiAgICB7eDowLjAyMzE0MiwgeToxLjQyMDIxMX0sXG4gICAge3g6LTAuMDQ1MDE1LCB5OjEuNDI5MTQxfSxcbiAgICB7eDotMC4xNzgzNTEsIHk6MS40Njg3OTN9LFxuICAgIHt4Oi0wLjI0MjUwNiwgeToxLjQ5OTM1M30sXG4gICAge3g6LTAuMzY0MTQ5LCB5OjEuNTc3MzQyfSxcbiAgICB7eDotMC40MjMwMSwgeToxLjYxNTYwNn0sXG4gICAge3g6LTAuNTM5MDExLCB5OjEuNjgxNzE5fSxcbiAgICB7eDotMC41OTY3NywgeToxLjcwNzUzOH0sXG4gICAge3g6LTAuNzEzMzU4LCB5OjEuNzM5NjI4fSxcbiAgICB7eDotMC43NzI4MDcsIHk6MS43NDM4Njh9LFxuICAgIHt4Oi0wLjg5NTU2NCwgeToxLjcyMzY2OH0sXG4gICAge3g6LTAuOTU5NDkyLCB5OjEuNjk3MTk4fSxcbiAgICB7eDotMS4wOTIzMTYsIHk6MS42MDk3M30sXG4gICAge3g6LTEuMTU3Njg4LCB5OjEuNTU0MjA2fSxcbiAgICB7eDotMS4yODA3OTIsIHk6MS40MjQyNzN9LFxuICAgIHt4Oi0xLjMzNjgxOCwgeToxLjM1MDYxMX0sXG4gICAge3g6LTEuNDMzNTUzLCB5OjEuMTg3NzY4fSxcbiAgICB7eDotMS40NzI1NTYsIHk6MS4wOTkzMzV9LFxuICAgIHt4Oi0xLjUyNzU2NiwgeTowLjkxMDMxNX0sXG4gICAge3g6LTEuNTQxODY3LCB5OjAuODEwNDc2fSxcbiAgICB7eDotMS41NDUzNTgsIHk6MC42MDczODh9LFxuICAgIHt4Oi0xLjU0Mzg5OSwgeTowLjUxNDUwNX0sXG4gICAge3g6LTEuNTM1NDQ0LCB5OjAuMzQ1MzE1fSxcbiAgICB7eDotMS41MjY1NiwgeTowLjI2NjMzM30sXG4gICAge3g6LTEuNDk0NzY0LCB5OjAuMTEyOTAxfSxcbiAgICB7eDotMS40Njk5NjQsIHk6MC4wMzU3NzV9LFxuICAgIHt4Oi0xLjM5Nzg0MiwgeTotMC4xMjU5ODd9LFxuICAgIHt4Oi0xLjM0ODYzMywgeTotMC4yMTMzMDF9LFxuICAgIHt4Oi0xLjIyNDY5NiwgeTotMC4zOTY5MjV9LFxuICAgIHt4Oi0xLjE1OTcxMSwgeTotMC40NzU0OTd9LFxuICAgIHt4Oi0xLjAyODk2MiwgeTotMC42MDcyMjZ9LFxuICAgIHt4Oi0wLjk2MzIyOCwgeTotMC42NjUxNzR9LFxuICAgIHt4Oi0wLjgzMTExOCwgeTotMC43NzcyMTd9LFxuICAgIHt4Oi0wLjc2NDc3MiwgeTotMC44MzYxMDJ9LFxuICAgIHt4Oi0wLjYzMTU3NCwgeTotMC45NzE1Nzd9LFxuICAgIHt4Oi0wLjU2NDc1MiwgeTotMS4wNTI5NTh9LFxuICAgIHt4Oi0wLjQ0NTc0MiwgeTotMS4yODk4MjJ9LFxuICAgIHt4Oi0wLjQyMDE1NywgeTotMS41MDc0Njh9LFxuICAgIHt4Oi0wLjQyNzkxLCB5Oi0yLjEwMTl9LFxuICAgIHt4Oi0wLjQ1MDk5MywgeTotMi40NDY1Nzl9LFxuICAgIHt4Oi0wLjUwOTkzNCwgeTotMy4xNTA1ODh9LFxuICAgIHt4Oi0wLjUzNTUzOCwgeTotMy40Nzc4MX0sXG4gICAge3g6LTAuNTUzMzc2LCB5Oi00LjAwMjQxOX0sXG4gICAge3g6LTAuNTM1MzU1LCB5Oi00LjE2NzY5Nn0sXG4gICAge3g6LTAuNDQ5MDU1LCB5Oi00LjI3MDQwM30sXG4gICAge3g6LTAuNDI5MjksIHk6LTQuMjgxMDk0fSxcbiAgICB7eDotMC40NDE5NCwgeTotNC4yNzQyNTJ9LFxuICAgIHt4Oi0wLjQ2NDg2NywgeTotNC4yNjE4NX0sXG4gICAge3g6LTAuNTIwMjEsIHk6LTQuMjMxOTE1fSxcbiAgICB7eDotMC41NDMxMzcsIHk6LTQuMjE5NTE0fSxcbiAgICB7eDotMC41NTU3ODcsIHk6LTQuMjEyNjcyfSxcbiAgICB7eDotMC41MzYwMjIsIHk6LTQuMjIzMzYzfSxcbiAgICB7eDotMC40NDkwNTUsIHk6LTQuMjcwNDAzfSxcbiAgICB7eDotMC40MjkyOSwgeTotNC4yODEwOTR9LFxuICAgIHt4Oi0wLjQ0MTkzOSwgeTotNC4yNzQyNTJ9LFxuICAgIHt4Oi0wLjQ2NDg2NywgeTotNC4yNjE4NX0sXG4gICAge3g6LTAuNTIwMjEsIHk6LTQuMjMxOTE1fSxcbiAgICB7eDotMC41NDMxMzcsIHk6LTQuMjE5NTE0fSxcbiAgICB7eDotMC41NTU3ODcsIHk6LTQuMjEyNjcyfSxcbiAgICB7eDotMC41MzYwMjIsIHk6LTQuMjIzMzYzfVxuXTsiLCJleHBvcnQgZW51bSBFQWN0aW9ucyB7XG4gICAgQ29udGludWUsXG4gICAgRXhpdCxcbiAgICBQbGF5LFxufVxuIiwiaW1wb3J0IHtHYW1lU3RvcmV9IGZyb20gXCIuLi9tb2RlbHMvZ2FtZS1zdG9yZVwiO1xuaW1wb3J0IHtJVHJhbnNpdGlvbkFjdGlvbnN9IGZyb20gXCJzaW0tZWNzXCI7XG5pbXBvcnQgeyBQYXVzZVN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlcy9wYXVzZVwiO1xuaW1wb3J0IHsgaHJ0aW1lIH0gZnJvbSBcIi4uL2VuZ2luZVwiO1xuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9jb21tb24tc3RvcmVcIjtcblxuY29uc3QgaHJ0aW1lVG9TZWNvbmRzID0gKHNfbnM6IG51bWJlcltdKSA9PiAoXG4gIHNfbnNbMF0gKyBzX25zWzFdICogMWUtOVxuKTtcblxubGV0IGxhc3RUcmFuc2l0aW9uID0gaHJ0aW1lKCk7XG5cbmxldCBkZWx0YVN1bSA9IDA7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBiZWZvcmVGcmFtZUhhbmRsZXIoYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKSB7XG4gICAgY29uc3QgZ2FtZVN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpO1xuICAgIGNvbnN0IGNvbW1vblN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XG5cbiAgICBjb25zdCBpc1BhdXNlU3RhdGUgPSBnYW1lU3RvcmUuY3VycmVudFN0YXRlPy5jb25zdHJ1Y3RvciA9PSBQYXVzZVN0YXRlO1xuXG4gICAgaWYgKCFpc1BhdXNlU3RhdGUpIHtcbiAgICAgIGNvbW1vblN0b3JlLmxhc3RGcmFtZURlbHRhVGltZSA9IGhydGltZVRvU2Vjb25kcyhcbiAgICAgICAgaHJ0aW1lKGxhc3RUcmFuc2l0aW9uKVxuICAgICAgKTtcbiAgXG4gICAgICBpZiAoY29tbW9uU3RvcmUubGFzdEZyYW1lRGVsdGFUaW1lID4gMC4xKSB7XG4gICAgICAgIGNvbW1vblN0b3JlLmxhc3RGcmFtZURlbHRhVGltZSA9IDAuMTtcbiAgICAgIH1cbiAgXG4gICAgICBjb21tb25TdG9yZS50aW1lU2luY2VMZXZlbExvYWRlZCArPSBcbiAgICAgICAgY29tbW9uU3RvcmUubGFzdEZyYW1lRGVsdGFUaW1lOyBcbiAgXG4gICAgICBkZWx0YVN1bSArPSBjb21tb25TdG9yZS5sYXN0RnJhbWVEZWx0YVRpbWU7XG4gICAgICBjb21tb25TdG9yZS5tZWRpYW5GcHMgPSArK2NvbW1vblN0b3JlLnRpY2tzIC8gZGVsdGFTdW07XG4gIFxuICAgICAgbGFzdFRyYW5zaXRpb24gPSBocnRpbWUoKTsgIFxuICAgIH1cblxuICAgIC8vIENsZWFyIGNhbnZhc1xuICAgIGNvbnN0IGN0eCA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjMDAwJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY3R4LmNhbnZhcy53aWR0aCwgY3R4LmNhbnZhcy5oZWlnaHQpO1xufVxuIiwiaW1wb3J0IHtJVHJhbnNpdGlvbkFjdGlvbnMsIFF1ZXJ5LCBTZXJpYWxGb3JtYXQsIFRHcm91cEhhbmRsZSwgV2l0aFRhZ30gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7RVRhZ3N9IGZyb20gXCIuLi9tb2RlbHMvdGFnc1wiO1xuXG5cbmNvbnN0IHNhdmVLZXkgPSAnc2F2ZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucyk6IFRHcm91cEhhbmRsZSB7XG4gICAgY29uc3Qgc2F2ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNhdmVLZXkpO1xuXG4gICAgaWYgKCFzYXZlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2F2ZSBhdmFpbGFibGUuIENhbm5vdCBsb2FkIScpO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZSA9IGFjdGlvbnMuY29tbWFuZHMubG9hZChTZXJpYWxGb3JtYXQuZnJvbUpTT04oc2F2ZSkpO1xuXG4gICAgcmV0dXJuIGhhbmRsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmUoYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc2F2ZUtleSwgYWN0aW9ucy5zYXZlKG5ldyBRdWVyeShbV2l0aFRhZyhFVGFncy5zYXZlKV0pKS50b0pTT04oKSk7XG59XG4iLCJleHBvcnQgY2xhc3MgQ2hhcmFjdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIG5hbWU6IHN0cmluZyA9ICcnLFxuICAgICkge31cbn0iLCJpbXBvcnQge0VBY3Rpb25zfSBmcm9tIFwiLi4vYXBwL2FjdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIFVJSXRlbSB7XG4gICAgcHVibGljIGNhcHRpb25Nb2QgPSAoc3RySW46IHN0cmluZykgPT4gc3RySW47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGNhcHRpb246IHN0cmluZyxcbiAgICAgICAgcHVibGljIGNvbG9yOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBmb250U2l6ZTogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgYWN0aW9uPzogRUFjdGlvbnMsXG4gICAgICAgIHB1YmxpYyBhY3RpdmU/OiBib29sZWFuLFxuICAgICAgICBwdWJsaWMgYWN0aXZlQ29sb3I/OiBzdHJpbmcsXG4gICAgKSB7fVxuXG4gICAgZ2V0IGZpbmFsQ2FwdGlvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXB0aW9uTW9kKHRoaXMuY2FwdGlvbik7XG4gICAgfVxufSIsImltcG9ydCB7IElFbnRpdHkgfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgU2hhcGUgfSBmcm9tIFwiLi9zaGFwZVwiO1xuXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHNoYXBlRnJvbVZpc3VhbHM6IGJvb2xlYW4gPSB0cnVlLFxuICAgICAgICBwdWJsaWMgc2hhcGU6IFNoYXBlIHwgbnVsbCA9IG51bGxcbiAgICApIHtcbiAgICAgICAgaWYgKCFzaGFwZUZyb21WaXN1YWxzICYmICFzaGFwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFaXRoZXIgY29weSB0aGUgY29sbGlzaW9uIHNoYXBlXFxcbiAgICAgICAgICAgICAgICBmcm9tIHZpc3VhbHMgb3IgcHJvdmlkZSBhIG5ldyBvbmUnKVxuICAgICAgICB9IFxuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgY29sbGlzaW9uT2JqZWN0czogU2V0PElFbnRpdHk+ID0gbmV3IFNldDxJRW50aXR5PigpO1xuICAgIHB1YmxpYyBvY2N1cnJlZCA9IGZhbHNlO1xufVxuIiwiZXhwb3J0IGNsYXNzIE1hdGVyaWFsIHtcbiAgICBjb25zdHJ1Y3RvciAoXG4gICAgICAgIHB1YmxpYyBjb2xvcjogc3RyaW5nXG4gICAgKSB7fVxufSIsImltcG9ydCB7IElWZWN0b3IyRCB9IGZyb20gXCIuLi9tb2RlbHMvdmVjdG9yMmRcIjtcblxuZXhwb3J0IGNsYXNzIE1lc2gge1xuICAgIHB1YmxpYyBpc0NvbnZleDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yIChwdWJsaWMgdmVydGljaWVzOiBJVmVjdG9yMkRbXSkge1xuICAgICAgICAvLyBUT0RPOiB0ZXN0IGZvciBjb252ZXhuZXNzXG4gICAgICAgIHRoaXMuaXNDb252ZXggPSB0cnVlO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgUGh5c2ljc0JyaWRnZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBib2R5UHRyOiBCb3gyRC5iMkJvZHkgfCBudWxsID0gbnVsbCxcbiAgICApIHtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBWZWN0b3IyRCB9IGZyb20gXCIuLi9tb2RlbHMvdmVjdG9yMmRcIjtcblxuZXhwb3J0IGNsYXNzIFBvc2l0aW9uIGV4dGVuZHMgVmVjdG9yMkQge31cbiIsImV4cG9ydCBjbGFzcyBSb3RhdGlvbiB7XG4gICAgcHJpdmF0ZSBfdmFsOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3NpbjogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9jb3M6IG51bWJlciA9IDA7XG5cbiAgICBwdWJsaWMgZ2V0IHNpbl9jb3MoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5fc2luLCB0aGlzLl9jb3NdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWw7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCB2YWx1ZShuZXd2YWw6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9zaW4gPSBNYXRoLnNpbihuZXd2YWwpO1xuICAgICAgICB0aGlzLl9jb3MgPSBNYXRoLmNvcyhuZXd2YWwpO1xuXG4gICAgICAgIHRoaXMuX3ZhbCA9IG5ld3ZhbDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVjdCB9IGZyb20gXCIuLi9tb2RlbHMvcmVjdFwiO1xuaW1wb3J0IHsgVmVjdG9yMkQsIHZlY1plcm8gfSBmcm9tIFwiLi4vbW9kZWxzL3ZlY3RvcjJkXCI7XG5pbXBvcnQgeyBNZXNoIH0gZnJvbSBcIi4vbWVzaFwiO1xuXG5leHBvcnQgZW51bSBTaGFwZVByaW1pdGl2ZSB7XG4gICAgQ2lyY2xlID0gJ2NpcmNsZScsXG4gICAgUmVjdCA9ICdyZWN0JyxcbiAgICBNZXNoID0gJ21lc2gnLFxufVxuXG5leHBvcnQgZW51bSBTaGFwZVBpdm90IHtcbiAgICBUb3BMZWZ0ID0gMCxcbiAgICBUb3BNaWRkbGUgPSAxLFxuICAgIFRvcFJpZ2h0ID0gMixcbiAgICBMZWZ0ID0gMyxcbiAgICBNaWRkbGUgPSA0LFxuICAgIFJpZ2h0ID0gNSxcbiAgICBCb3R0b21MZWZ0ID0gNixcbiAgICBCb3R0b21NaWRkbGUgPSA3LFxuICAgIEJvdHRvbVJpZ2h0ID0gOFxufVxuXG5leHBvcnQgY29uc3QgU2hhcGVQaXZvdE5hbWVzOntcbiAgICBba2V5IGluIFNoYXBlUGl2b3RdOiBzdHJpbmc7XG59ID0ge1xuICAgIFtTaGFwZVBpdm90LlRvcExlZnRdOiAnVG9wTGVmdCcsXG4gICAgW1NoYXBlUGl2b3QuVG9wTWlkZGxlXTogJ1RvcE1pZGRsZScsXG4gICAgW1NoYXBlUGl2b3QuVG9wUmlnaHRdOiAnVG9wUmlnaHQnLFxuICAgIFtTaGFwZVBpdm90LkxlZnRdOiAnTGVmdCcsXG4gICAgW1NoYXBlUGl2b3QuTWlkZGxlXTogJ01pZGRsZScsXG4gICAgW1NoYXBlUGl2b3QuUmlnaHRdOiAnUmlnaHQnLFxuICAgIFtTaGFwZVBpdm90LkJvdHRvbUxlZnRdOiAnQm90dG9tTGVmdCcsXG4gICAgW1NoYXBlUGl2b3QuQm90dG9tTWlkZGxlXTogJ0JvdHRvbU1pZGRsZScsXG4gICAgW1NoYXBlUGl2b3QuQm90dG9tUmlnaHRdOiAnQm90dG9tUmlnaHQnLFxufVxuXG4vLyB0b2RvIHRyaWFuZ2xlLCBjYXBzdWxlXG5cbmV4cG9ydCBjbGFzcyBTaGFwZSB7XG4gICAgcHVibGljIGJCb3g6IFJlY3QgPSBuZXcgUmVjdCgwLCAwLCAwLCAwKTtcblxuICAgIHB1YmxpYyBpc0J1aWx0ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZGltZW5zaW9ucyAod2lkdGgsaGVpZ2h0KSBpZiByZWN0LCAoZGlhbWV0ZXIsYW55KSBpZiBjaXJjbGVcbiAgICAgKiBAcGFyYW0gcHJpbWl0aXZlIEVudW0gb3Igc3RyaW5nIHZhbHVlXG4gICAgICogQHBhcmFtIG1lc2ggdmVydGljaWVzIGRhdGFcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHpJbmRleCA9IDAsXG4gICAgICAgIC8vIFRPRE86IG1ha2UgaXQgcmVhbFxuICAgICAgICBwdWJsaWMgcGl2b3QgPSBTaGFwZVBpdm90Lk1pZGRsZSxcbiAgICAgICAgcHVibGljIG9mZnNldFggPSAwLFxuICAgICAgICBwdWJsaWMgb2Zmc2V0WSA9IDAsXG4gICAgICAgIHB1YmxpYyBkaW1lbnNpb25zOiBWZWN0b3IyRCA9IHZlY1plcm8sXG4gICAgICAgIHB1YmxpYyBwcmltaXRpdmU6IFNoYXBlUHJpbWl0aXZlID0gU2hhcGVQcmltaXRpdmUuUmVjdCxcbiAgICAgICAgcHVibGljIG1lc2g6IE1lc2ggfCBudWxsID0gbnVsbCxcbiAgICApIHtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgYnVpbGQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQnVpbHQpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5wcmltaXRpdmUgPT09IFNoYXBlUHJpbWl0aXZlLk1lc2gpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5tZXNoIHx8ICF0aGlzLm1lc2gudmVydGljaWVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYXBlcyB3aXRoIG1lc2ggcHJpbWl0aXZlXFxcbiAgICAgICAgICAgICAgICBtdXN0IHByb3ZpZGUgYSBub24tZW1wdHkgbWVzaCBkYXRhJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJpbWl0aXZlICE9PSBTaGFwZVByaW1pdGl2ZS5NZXNoICYmICF0aGlzLmRpbWVuc2lvbnMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2RpbWVuc2lvbnM6JywgdGhpcy5kaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgICdwcmltaXRpdmU6JywgdGhpcy5wcmltaXRpdmUsXG4gICAgICAgICAgICAgICAgJ21lc2g6JywgdGhpcy5tZXNoKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2hhcGVzIHdpdGggbm9uLW1lc2ggcHJpbWl0aXZlXFxcbiAgICAgICAgICAgICAgICBtdXN0IHByb3ZpZGUgZGltZW5zaW9ucycpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbGwgdGhlIHNoYXBlcyBhcmUgY2VuZXRlcmVkIGJ5IGRlZmF1bHRcblxuICAgICAgICBsZXQgbWluWCA9IDAsIG1pblkgPSAwLCBtYXhYID0gMCwgbWF4WSA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5DaXJjbGUpIHtcbiAgICAgICAgICAgIC8vIEEgY2VudGVyLXBvc2l0aW9uZWQgY2lyY2xlXG4gICAgICAgICAgICAvLyB3aWxsIGZpdCBpbnRvIGEgbWlkLXNoaWZ0ZWRcbiAgICAgICAgICAgIC8vIHNxdWFyZSB3aXRoIHNpZGUgPSBkaWFtZXRlclxuICAgICAgICAgICAgY29uc3QgZCA9IHRoaXMuZGltZW5zaW9ucy54XG4gICAgICAgICAgICBjb25zdCByYWQgPSBkLzI7XG4gICAgICAgICAgICB0aGlzLmJCb3gueCA9IC1yYWQ7XG4gICAgICAgICAgICB0aGlzLmJCb3gueSA9IC1yYWQ7XG4gICAgICAgICAgICB0aGlzLmJCb3gudyA9IGQ7XG4gICAgICAgICAgICB0aGlzLmJCb3guaCA9IGQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmltaXRpdmUgPT09IFNoYXBlUHJpbWl0aXZlLlJlY3QpIHtcbiAgICAgICAgICAgIC8vIGEgdG9wLWxlZnQgcG9zaXRpb25lZCByZWN0YW5nbGVcbiAgICAgICAgICAgIC8vIGlzIHRoZSBib3VuZGluZyBib3ggaXRzZWxmXG4gICAgICAgICAgICB0aGlzLmJCb3gueCA9IC10aGlzLmRpbWVuc2lvbnMueC8yO1xuICAgICAgICAgICAgdGhpcy5iQm94LnkgPSAtdGhpcy5kaW1lbnNpb25zLnkvMjtcbiAgICAgICAgICAgIHRoaXMuYkJveC53ID0gdGhpcy5kaW1lbnNpb25zLng7XG4gICAgICAgICAgICB0aGlzLmJCb3guaCA9IHRoaXMuZGltZW5zaW9ucy55O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5NZXNoICYmIHRoaXMubWVzaCkge1xuICAgICAgICAgICAgbWluWCA9IHRoaXMubWVzaC52ZXJ0aWNpZXNbMF0ueDtcbiAgICAgICAgICAgIG1pblkgPSB0aGlzLm1lc2gudmVydGljaWVzWzBdLnk7XG5cbiAgICAgICAgICAgIG1heFggPSB0aGlzLm1lc2gudmVydGljaWVzWzBdLng7XG4gICAgICAgICAgICBtYXhZID0gdGhpcy5tZXNoLnZlcnRpY2llc1swXS55O1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpPTE7aTx0aGlzLm1lc2gudmVydGljaWVzLmxlbmd0aDsrK2kpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHt4LCB5fSA9IHRoaXMubWVzaC52ZXJ0aWNpZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDtcbiAgICAgICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xuICAgICAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7XG4gICAgICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5iQm94LncgPSBtYXhYIC0gbWluWDtcbiAgICAgICAgICAgIHRoaXMuYkJveC5oID0gbWF4WSAtIG1pblk7XG4gICAgICAgICAgICB0aGlzLmJCb3gueCA9IC10aGlzLmJCb3gudy8yO1xuICAgICAgICAgICAgdGhpcy5iQm94LnkgPSAtdGhpcy5iQm94LmgvMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBpdm90ID09PSBTaGFwZVBpdm90LlRvcExlZnQpIHtcbiAgICAgICAgICAgIHRoaXMuYkJveC54ICs9IHRoaXMuYkJveC53LzI7XG4gICAgICAgICAgICB0aGlzLmJCb3gueSArPSB0aGlzLmJCb3guaC8yO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGl2b3QgPT09IFNoYXBlUGl2b3QuVG9wTWlkZGxlKSB7XG4gICAgICAgICAgICB0aGlzLmJCb3gueSArPSB0aGlzLmJCb3guaC8yO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGl2b3QgPT09IFNoYXBlUGl2b3QuVG9wUmlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuYkJveC54IC09IHRoaXMuYkJveC53LzI7XG4gICAgICAgICAgICB0aGlzLmJCb3gueSArPSB0aGlzLmJCb3guaC8yO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGl2b3QgPT09IFNoYXBlUGl2b3QuTGVmdCkge1xuICAgICAgICAgICAgdGhpcy5iQm94LnggKz0gdGhpcy5iQm94LncvMjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdm90ID09PSBTaGFwZVBpdm90LlJpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmJCb3gueCAtPSB0aGlzLmJCb3gudy8yO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGl2b3QgPT09IFNoYXBlUGl2b3QuQm90dG9tTGVmdCkge1xuICAgICAgICAgICAgdGhpcy5iQm94LnggKz0gdGhpcy5iQm94LncvMjtcbiAgICAgICAgICAgIHRoaXMuYkJveC55IC09IHRoaXMuYkJveC5oLzI7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5waXZvdCA9PT0gU2hhcGVQaXZvdC5Cb3R0b21NaWRkbGUpIHtcbiAgICAgICAgICAgIHRoaXMuYkJveC55IC09IHRoaXMuYkJveC5oLzI7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5waXZvdCA9PT0gU2hhcGVQaXZvdC5Cb3R0b21SaWdodCkge1xuICAgICAgICAgICAgdGhpcy5iQm94LnggLT0gdGhpcy5iQm94LncvMjtcbiAgICAgICAgICAgIHRoaXMuYkJveC55IC09IHRoaXMuYkJveC5oLzI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcmltaXRpdmUgPT09IFNoYXBlUHJpbWl0aXZlLk1lc2ggJiYgdGhpcy5tZXNoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLm1lc2gudmVydGljaWVzLmxlbmd0aDsrK2kpe1xuICAgICAgICAgICAgICAgIHRoaXMubWVzaC52ZXJ0aWNpZXNbaV0ueCArPSAodGhpcy5iQm94LnggLSBtaW5YKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc2gudmVydGljaWVzW2ldLnkgKz0gKHRoaXMuYkJveC55IC0gbWluWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzQnVpbHQgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldEJCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJCb3g7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yMkQgfSBmcm9tIFwiLi4vbW9kZWxzL3ZlY3RvcjJkXCI7XG5cbmV4cG9ydCBjbGFzcyBWZWxvY2l0eSBleHRlbmRzIFZlY3RvcjJEIHtcbiAgICBjb25zdHJ1Y3Rvcih4Om51bWJlciwgeTogbnVtYmVyLCBwdWJsaWMgYW5ndWxhcjogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKHgsIHkpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCB1cGRhdGVSZW5kZXJDb250ZXh0ID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhc0VsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xuICAgIGlmICghY2FudmFzRWxlKSB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGNhbnZhcyBlbGVtZW50IScpO1xuXG4gICAgY29uc3QgcmVuZGVyQ29udGV4dCA9IGNhbnZhc0VsZS5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghcmVuZGVyQ29udGV4dCkgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgaW5pdGlhbGl6ZSAyRCBjb250ZXh0Jyk7XG5cbiAgICBjb25zdCBjYW52YXNCb3VuZGluZ1JlY3QgPSBjYW52YXNFbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBjYW52YXNFbGUud2lkdGggPSBjYW52YXNCb3VuZGluZ1JlY3Qud2lkdGg7XG4gICAgY2FudmFzRWxlLmhlaWdodCA9IGNhbnZhc0JvdW5kaW5nUmVjdC5oZWlnaHQ7XG5cbiAgICByZW5kZXJDb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgcmV0dXJuIHJlbmRlckNvbnRleHQ7XG59XG5cbi8vIGdlbmVyYXRlIHRpbWVzdGFtcCBvciBkZWx0YVxuLy8gc2VlIGh0dHA6Ly9ub2RlanMub3JnL2FwaS9wcm9jZXNzLmh0bWwjcHJvY2Vzc19wcm9jZXNzX2hydGltZVxuZXhwb3J0IGNvbnN0IGhydGltZSA9IChwcmV2aW91c1RpbWVzdGFtcD86IG51bWJlcltdKSA9PiB7XG4gICAgY29uc3QgY2xvY2t0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgKiAxZS0zXG4gICAgbGV0IHNlY29uZHMgPSBNYXRoLmZsb29yKGNsb2NrdGltZSlcbiAgICBsZXQgbmFub3NlY29uZHMgPSBNYXRoLmZsb29yKChjbG9ja3RpbWUlMSkqMWU5KVxuICAgIGlmIChwcmV2aW91c1RpbWVzdGFtcCkge1xuICAgICAgc2Vjb25kcyA9IHNlY29uZHMgLSBwcmV2aW91c1RpbWVzdGFtcFswXVxuICAgICAgbmFub3NlY29uZHMgPSBuYW5vc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzFdXG4gICAgICBpZiAobmFub3NlY29uZHM8MCkge1xuICAgICAgICBzZWNvbmRzLS1cbiAgICAgICAgbmFub3NlY29uZHMgKz0gMWU5XG4gICAgICB9XG4gICAgfVxuICBcbiAgICByZXR1cm4gW3NlY29uZHMsIG5hbm9zZWNvbmRzXTtcbn0iLCJpbXBvcnQgeyBJV29ybGQsIFRTdGF0ZVByb3RvIH0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7IHVwZGF0ZVJlbmRlckNvbnRleHQgfSBmcm9tIFwiLi9cIjtcbmltcG9ydCB7IGJlZm9yZUZyYW1lSGFuZGxlciB9IGZyb20gXCIuLi9hcHAvZnJhbWUtdHJhbnNpdGlvbi1oYW5kbGVyc1wiO1xuaW1wb3J0IHsgX0JveDJEIH0gZnJvbSBcIi4vc2VydmVyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxldmVsIHtcbiAgICBuYW1lOiBzdHJpbmc7XG5cbiAgICAvLyBUT0RPOiBsb2FkIGZyb20gZmlsZXN5c3RlbSwgZnJvbSBVUkxcbiAgICAvLyBwYXRoOiBzdHJpbmc7IFxuXG4gICAgd29ybGQ6IElXb3JsZDtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCByaWdodCBhZnRlciB0aGUgaW5pdGlhbGl6YXRpb24sIG1haW4gbG9vcCBnb2VzIGhlcmVcbiAgICAgKi9cbiAgICBydW4oKTogUHJvbWlzZTxhbnk+O1xuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZSB0aGUgcmVzb3VyY2VzIHRvIHJ1biBhbm90aGVyIGxldmVsXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGV2ZWwgaW1wbGVtZW50cyBJTGV2ZWwge1xuXG4gICAgcHVibGljIHdvcmxkOiBJV29ybGQ7XG5cbiAgICByZWFkb25seSBpbml0aWFsU3RhdGU/OiBUU3RhdGVQcm90bztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgcGh5c2ljczogX0JveDJELFxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxuICAgICkge1xuICAgICAgICBjb25zdCB3b3JsZCA9IHRoaXMuY3JlYXRlV29ybGQoKTtcblxuICAgICAgICBpZiAoIXdvcmxkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBsZXZlbCAke25hbWV9IG11c3QgaGF2ZSBhIG5vbi1udWxsIFxcXG4gICAgICAgICAgICByZXN1bHRpbmcgY3JlYXRlV29ybGQgZnVuY3Rpb25gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcblxuICAgICAgICBjb25zdCByZW5kZXJDb250ZXh0ID0gdXBkYXRlUmVuZGVyQ29udGV4dCgpO1xuXG4gICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2UocmVuZGVyQ29udGV4dCk7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgY3JlYXRlV29ybGQoKTogSVdvcmxkO1xuICAgIFxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIGlmIHlvdSBoYXZlIHRvIHJlbGVhc2UgbW9yZSByZXNvdXJjZXNcbiAgICAgKiAoYXVkaW8sIHZpZGVvLCBXZWJSVEMsIHRleHR1cmVzLCBmaWxlcywgZXRjLilcbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLndvcmxkLmNvbW1hbmRzLnN0b3BSdW4oKTtcbiAgICB9XG5cbiAgICBhc3luYyBydW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkLnJ1bih7XG4gICAgICAgICAgICBiZWZvcmVTdGVwSGFuZGxlcjogYmVmb3JlRnJhbWVIYW5kbGVyLFxuICAgICAgICAgICAgaW5pdGlhbFN0YXRlOiB0aGlzLmluaXRpYWxTdGF0ZSxcbiAgICAgICAgfSkudGhlbigoKT0+dGhpcy5kZXN0cm95KCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBWZWxvY2l0eSB9IGZyb20gXCIuLi9jb21wb25lbnRzL3ZlbG9jaXR5XCI7XG5pbXBvcnQgeyBJUmVjdCB9IGZyb20gXCIuL3JlY3RcIjtcbmltcG9ydCB7IElWZWN0b3IyRCB9IGZyb20gXCIuL3ZlY3RvcjJkXCI7XG5cbmV4cG9ydCBlbnVtIENhbWVyYUZvbGxvd01ldGhvZCB7XG4gICAgSW1tZWRpYXRlLFxuICAgIFNtb290aCxcbiAgICBFbGFzdGljXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FtZXJhRm9sbG93IHtcbiAgICB0YXJnZXQ6IElWZWN0b3IyRFxuICAgIHRhcmdldEFuZ2xlPzogbnVtYmVyXG4gICAgbWV0aG9kOiBDYW1lcmFGb2xsb3dNZXRob2RcbiAgICBwcmV2WDogbnVtYmVyXG4gICAgcHJldlk6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgQ2FtZXJhIHtcbiAgICBwdWJsaWMgdmlld3BvcnQhOiBJUmVjdDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgeDogbnVtYmVyID0gMCxcbiAgICAgICAgcHVibGljIHk6IG51bWJlciA9IDAsXG4gICAgICAgIHB1YmxpYyBvZmZzZXQ6IElWZWN0b3IyRCA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICB9LFxuICAgICAgICBwdWJsaWMgdmVsOiBWZWxvY2l0eSA9IDxWZWxvY2l0eT57XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMFxuICAgICAgICB9LFxuICAgICAgICBwdWJsaWMgem9vbTogbnVtYmVyID0gMSxcbiAgICAgICAgcHVibGljIHJvdGF0aW9uOiBudW1iZXIgPSAwLFxuICAgICAgICBwdWJsaWMgZm9sbG93PzogQ2FtZXJhRm9sbG93LFxuICAgICAgICBwdWJsaWMgZWxhc3RpY2l0eTogbnVtYmVyID0gMC4wMSxcbiAgICAgICAgcHVibGljIGZyaWN0aW9uOiBudW1iZXIgPSAwLjE1LFxuICAgICkge31cbn0iLCJpbXBvcnQgeyBFS2V5U3RhdGUsIEVNb3VzZVN0YXRlIH0gZnJvbSBcIi4uL3N5c3RlbXMvaW5wdXRcIlxuaW1wb3J0IHsgSVZlY3RvcjJEIH0gZnJvbSBcIi4vdmVjdG9yMmRcIlxuXG5leHBvcnQgY2xhc3MgQ29tbW9uU3RvcmUge1xuICAgIGRyYXdhYmxlcyA9IDBcbiAgICByZW5kZXJlZCA9IDBcbiAgICBcbiAgICBsYXN0RnJhbWVEZWx0YVRpbWUgPSAwXG4gICAgdGlja3MgPSAwXG4gICAgbWVkaWFuRnBzID0gMzBcbiAgICB0aW1lU2luY2VMZXZlbExvYWRlZCA9IDBcblxuICAgIHBoeXNpY3NOYW1lc3BhY2UhOiB0eXBlb2YgQm94MkQ7XG4gICAgcGh5c2ljc1plcm8hOiBCb3gyRC5iMlZlYzI7XG5cbiAgICBzY3JlZW5Ub1dvcmxkITogRE9NTWF0cml4O1xuICAgIHdvcmxkVG9TY3JlZW4hOiBET01NYXRyaXg7XG5cbiAgICB0b1dvcmxkU3BhY2Uoe1xuICAgICAgICB4LCB5XG4gICAgfTogSVZlY3RvcjJEKTogSVZlY3RvcjJEIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgYSxiLGMsZCxlLGZcbiAgICAgICAgfSA9IHRoaXMuc2NyZWVuVG9Xb3JsZDtcblxuICAgICAgICAvLyBhIGMgZSAgeCAgYSp4ICsgYyp5ICsgZSp6XG4gICAgICAgIC8vIGIgZCBmICB5ICBiKnggKyBkKnkgKyBmKnpcbiAgICAgICAgLy8gMCAwIDEgIHogID9cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogYSp4ICsgYyp5ICsgZSxcbiAgICAgICAgICAgIHk6IGIqeCArIGQqeSArIGYsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdG9TY3JlZW5TcGFjZSh7XG4gICAgICAgIHgsIHlcbiAgICB9OiBJVmVjdG9yMkQpOiBJVmVjdG9yMkQge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBhLGIsYyxkLGUsZlxuICAgICAgICB9ID0gdGhpcy53b3JsZFRvU2NyZWVuO1xuXG4gICAgICAgIC8vIGEgYyBlICB4ICBhKnggKyBjKnkgKyBlKnpcbiAgICAgICAgLy8gYiBkIGYgIHkgIGIqeCArIGQqeSArIGYqelxuICAgICAgICAvLyAwIDAgMSAgeiAgP1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBhKnggKyBjKnkgKyBlLFxuICAgICAgICAgICAgeTogYip4ICsgZCp5ICsgZixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbnB1dDoge1xuICAgICAgICB3aGVlbDogbnVtYmVyXG4gICAgICAgIGN1cnNvclBvczogSVZlY3RvcjJEXG4gICAgICAgIGtleVN0YXRlczogTWFwPHN0cmluZywgRUtleVN0YXRlPlxuICAgICAgICBwcmV2S2V5U3RhdGVzOiBNYXA8c3RyaW5nLCBFS2V5U3RhdGUgfCB1bmRlZmluZWQ+XG4gICAgICAgIG1vdXNlU3RhdGVzOiBNYXA8bnVtYmVyLCBFTW91c2VTdGF0ZT5cblxuICAgICAgICByZXNldFByZXZLZXkoa2V5OiBzdHJpbmcpOiB2b2lkLFxuXG4gICAgICAgIGlzS2V5RG93bihrZXk6IHN0cmluZyk6IGJvb2xlYW4sXG4gICAgICAgIGlzS2V5VXAoa2V5OiBzdHJpbmcpOiBib29sZWFuLFxuXG4gICAgICAgIGlzQW55S2V5KGtleXM6IHN0cmluZ1tdLCBzdGF0ZTogRUtleVN0YXRlKTogYm9vbGVhbixcbiAgICAgICAgaXNBbnlLZXlEaWZmZXJlbnQoa2V5OiBzdHJpbmdbXSwgc3RhdGU6IEVLZXlTdGF0ZSk6IGJvb2xlYW5cblxuICAgICAgICB3YXNLZXlQcmVzc2VkKGtleTogc3RyaW5nKTogYm9vbGVhbixcbiAgICAgICAgd2FzS2V5UmVsZWFzZWQoa2V5OiBzdHJpbmcpOiBib29sZWFuLFxuICAgIH0gPSB7XG4gICAgICAgIHdoZWVsOiAwLFxuICAgICAgICBjdXJzb3JQb3M6IHt4Oi0xLCB5Oi0xfSxcbiAgICAgICAga2V5U3RhdGVzOiBuZXcgTWFwPHN0cmluZywgRUtleVN0YXRlPigpLFxuICAgICAgICBwcmV2S2V5U3RhdGVzOiBuZXcgTWFwPHN0cmluZywgRUtleVN0YXRlIHwgdW5kZWZpbmVkPigpLFxuICAgICAgICBtb3VzZVN0YXRlczogbmV3IE1hcDxudW1iZXIsIEVNb3VzZVN0YXRlPigpLFxuXG4gICAgICAgIHJlc2V0UHJldktleShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5wcmV2S2V5U3RhdGVzLnNldChrZXksIHRoaXMua2V5U3RhdGVzLmdldChrZXkpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpc0FueUtleShrZXk6IHN0cmluZ1tdLCBzdGF0ZTogRUtleVN0YXRlKTogYm9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4ga2V5LnNvbWUoZSA9PiAoXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlTdGF0ZXMuZ2V0KGUpID09PSBzdGF0ZVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNBbnlLZXlEaWZmZXJlbnQoa2V5OiBzdHJpbmdbXSwgc3RhdGU6IEVLZXlTdGF0ZSk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgcmV0dXJuIGtleS5zb21lKGUgPT4gKFxuICAgICAgICAgICAgICAgIHRoaXMua2V5U3RhdGVzLmdldChlKSA9PT0gc3RhdGUgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZLZXlTdGF0ZXMuZ2V0KGUpICE9PSBzdGF0ZVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNLZXlEb3duKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlTdGF0ZXMuZ2V0KGtleSkgPT09IEVLZXlTdGF0ZS5Eb3duO1xuICAgICAgICB9LFxuXG4gICAgICAgIGlzS2V5VXAoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmtleVN0YXRlcy5nZXQoa2V5KSA9PT0gRUtleVN0YXRlLlVwO1xuICAgICAgICB9LFxuXG4gICAgICAgIHdhc0tleVByZXNzZWQoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmtleVN0YXRlcy5nZXQoa2V5KSA9PT0gRUtleVN0YXRlLkRvd24gJiZcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZLZXlTdGF0ZXMuZ2V0KGtleSkgIT09IEVLZXlTdGF0ZS5Eb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFByZXZLZXkoa2V5KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgd2FzS2V5UmVsZWFzZWQoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmtleVN0YXRlcy5nZXQoa2V5KSA9PT0gRUtleVN0YXRlLlVwICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2S2V5U3RhdGVzLmdldChrZXkpICE9PSBFS2V5U3RhdGUuVXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UHJldktleShrZXkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICB9XG5cbiAgICAvLyBlbmFibGVkIGVhc2lseVxuICAgIGRlYnVnU2hhcGVzID0gZmFsc2VcbiAgICB3YXNCbHVycmVkID0gZmFsc2VcbiAgICB3YXNJbnRlbnRpb25hbGx5UGF1c2VkID0gZmFsc2Vcbn0iLCJleHBvcnQgZW51bSBFQ29tbW9uVGFncyB7XG4gICAgdWksXG4gICAgdGVycmFpbixcbiAgICBkZXN0cm95RW50aXR5LFxuXG5cbiAgICBfX0xBVEVTVFxufSIsImltcG9ydCB7IElWZWN0b3IyRCB9IGZyb20gXCIuL3ZlY3RvcjJkXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJlY3Qge1xuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgdzogbnVtYmVyLFxuICAgIGg6IG51bWJlcixcbn1cblxuZXhwb3J0IGNsYXNzIFJlY3QgaW1wbGVtZW50cyBJUmVjdCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB4OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyB5OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyB3OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBoOiBudW1iZXIsXG4gICAgKSB7fVxuXG4gICAgc3RhdGljIGNoZWNrUG9pbnRJbnNpZGUocjogSVJlY3QsIHt4LCB5fTogSVZlY3RvcjJEKSB7XG4gICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgeCA8IHIueCB8fCBcbiAgICAgICAgICAgIHggPiByLnggKyByLncgfHxcbiAgICAgICAgICAgIHkgPCByLnkgfHxcbiAgICAgICAgICAgIHkgPiByLnkgKyByLmhcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY2hlY2tJbnRlcnNlY3RzKHIxOiBJUmVjdCwgcjI6IElSZWN0KSB7XG4gICAgICAgIHJldHVybiAhKHIyLnggPiByMS54K3IxLncgfHwgXG4gICAgICAgICAgICByMi54K3IyLncgPCByMS54IHx8IFxuICAgICAgICAgICAgcjIueSA+IHIxLnkrcjEuaCB8fFxuICAgICAgICAgICAgcjIueStyMi5oIDwgcjEueSk7XG4gICAgfVxufSIsImV4cG9ydCBpbnRlcmZhY2UgSVZlY3RvcjJEIHtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgVmVjdG9yMkQgaW1wbGVtZW50cyBJVmVjdG9yMkQge1xuICAgIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcig0KTtcbiAgICBmMzIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuYnVmKTtcbiAgICB1MzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5idWYpO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB4ID0gMCxcbiAgICAgICAgcHVibGljIHkgPSAwLFxuICAgICkge31cblxuICAgIHB1YmxpYyBhZGRTZWxmKHZlYzogVmVjdG9yMkQpIHtcbiAgICAgICAgdGhpcy54ICs9IHZlYy54O1xuICAgICAgICB0aGlzLnkgKz0gdmVjLnk7XG4gICAgfVxuXG4gICAgcHVibGljIHN1YlNlbGYodmVjOiBWZWN0b3IyRCkge1xuICAgICAgICB0aGlzLnggLT0gdmVjLng7XG4gICAgICAgIHRoaXMueSAtPSB2ZWMueTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2NhbGUoZmFjdG9yOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy54ICo9IGZhY3RvcjtcbiAgICAgICAgdGhpcy55ICo9IGZhY3RvcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgbm9ybWFsaXplKCkge1xuICAgICAgICBjb25zdCBpbnYgPSB0aGlzLmludlNxcnQoKTtcblxuICAgICAgICB0aGlzLnggKj0gaW52O1xuICAgICAgICB0aGlzLnkgKj0gaW52O1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnZTcXJ0KCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnk7XG4gICAgICAgIGNvbnN0IHgyID0gMC41ICogKHRoaXMuZjMyWzBdID0geCk7XG4gICAgICAgIHRoaXMudTMyWzBdID0gKDB4NWYzNzU5ZGYgLSAodGhpcy51MzJbMF0gPj4gMSkpO1xuICAgICAgICBsZXQgeSA9IHRoaXMuZjMyWzBdO1xuICAgICAgICB5ICA9IHkgKiAoIDEuNSAtICggeDIgKiB5ICogeSApICk7ICAgLy8gMXN0IGl0ZXJhdGlvblxuXG4gICAgICAgIHJldHVybiB5O1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXN0YW5jZSh0bzogVmVjdG9yMkQpIHtcbiAgICAgICAgY29uc3QgZHggPSB0by54IC0gdGhpcy54O1xuICAgICAgICBjb25zdCBkeSA9IHRvLnkgLSB0aGlzLnk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHgqZHggKyBkeSpkeSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNxckRpc3RhbmNlKHRvOiBWZWN0b3IyRCkge1xuICAgICAgICBjb25zdCBkeCA9IHRvLnggLSB0aGlzLng7XG4gICAgICAgIGNvbnN0IGR5ID0gdG8ueSAtIHRoaXMueTtcbiAgICAgICAgcmV0dXJuIGR4KmR4ICsgZHkqZHk7XG4gICAgfVxuXG4gICAgcHVibGljIHNxckxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdmVjWmVybyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbmV4cG9ydCBjb25zdCB2ZWNPbmUgPSBuZXcgVmVjdG9yMkQoMSwgMSk7XG5leHBvcnQgY29uc3QgdmVjVXAgPSBuZXcgVmVjdG9yMkQoMCwgMSk7XG5leHBvcnQgY29uc3QgdmVjRG93biA9IG5ldyBWZWN0b3IyRCgwLCAtMSk7XG5leHBvcnQgY29uc3QgdmVjTGVmdCA9IG5ldyBWZWN0b3IyRCgtMSwgMCk7XG5leHBvcnQgY29uc3QgdmVjUmlnaHQgPSBuZXcgVmVjdG9yMkQoMSwgMCk7IiwiaW1wb3J0IEJveDJERmFjdG9yeSBmcm9tICdib3gyZC13YXNtJztcblxuZXhwb3J0IHR5cGUgX0JveDJEID0gdHlwZW9mIEJveDJEICYgRW1zY3JpcHRlbk1vZHVsZTtcblxuZXhwb3J0IGNvbnN0IGxvYWRQaHlzaWNzID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiBCb3gyREZhY3RvcnkoKS50aGVuKChib3gyRDogX0JveDJEKSA9PiB7XG4gICAgICAgIHJldHVybiBib3gyRDtcbiAgICB9KTtcbn0iLCJpbXBvcnQgeyBfQm94MkQgfSBmcm9tIFwiLi4vc2VydmVyXCI7XG5pbXBvcnQge0lTeXN0ZW1BY3Rpb25zLCBTeXN0ZW19IGZyb20gXCJzaW0tZWNzXCI7XG5pbXBvcnQgeyBDYW1lcmEsIENhbWVyYUZvbGxvd01ldGhvZCB9IGZyb20gXCIuLi9tb2RlbHMvY2FtZXJhXCI7XG5pbXBvcnQgeyBhbmdsZUxlcnAsIGxlcnAsIFBJWEVMU19QRVJfTUVURVIgfSBmcm9tIFwiLi4vdXRpbFwiO1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBjYW1lcmEhOiBDYW1lcmE7XG4gICAgY3R4ITogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gICAgc2V0dXAoYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jdHggPSBhY3Rpb25zLmdldFJlc291cmNlKENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDYW1lcmEpO1xuICAgIH1cblxuICAgIHJ1bihfOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5jYW1lcmEucm90YXRpb24gPiAyKk1hdGguUEkpIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnJvdGF0aW9uIC09IDIqTWF0aC5QSTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYW1lcmEucm90YXRpb24gPCAtMipNYXRoLlBJKSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5yb3RhdGlvbiArPSAyKk1hdGguUEk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jYW1lcmEuem9vbSA8IDAuMSkge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEuem9vbSA9IDAuMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNhbWVyYS56b29tID4gMS41KSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS56b29tID0gMS41O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgZm9sbG93LFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICB9ID0gdGhpcy5jYW1lcmE7XG5cbiAgICAgICAgaWYgKCFmb2xsb3cpIHJldHVybjtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB0YXJnZXRBbmdsZSxcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgfSA9IGZvbGxvdztcblxuICAgICAgICBsZXQgdHggPSB0YXJnZXQueDtcbiAgICAgICAgbGV0IHR5ID0gdGFyZ2V0Lnk7XG5cbiAgICAgICAgb2Zmc2V0LnggPSAtdGhpcy5jdHguY2FudmFzLndpZHRoIC8gKDIqUElYRUxTX1BFUl9NRVRFUiAqIHRoaXMuY2FtZXJhLnpvb20pO1xuICAgICAgICBvZmZzZXQueSA9IC10aGlzLmN0eC5jYW52YXMuaGVpZ2h0IC8gKDIqUElYRUxTX1BFUl9NRVRFUiAqIHRoaXMuY2FtZXJhLnpvb20pO1xuXG4gICAgICAgIGlmICh0YXJnZXRBbmdsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5yb3RhdGlvbiA9IGFuZ2xlTGVycCh0aGlzLmNhbWVyYS5yb3RhdGlvbiwgLXRhcmdldEFuZ2xlLCAwLjAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZXRob2QgPT09IENhbWVyYUZvbGxvd01ldGhvZC5JbW1lZGlhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnggPSB0eDtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnkgPSB0eTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IENhbWVyYUZvbGxvd01ldGhvZC5TbW9vdGgpIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnggPSBsZXJwKHRoaXMuY2FtZXJhLngsIHR4LCAwLjAxKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnkgPSBsZXJwKHRoaXMuY2FtZXJhLnksIHR5LCAwLjAxKTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IENhbWVyYUZvbGxvd01ldGhvZC5FbGFzdGljKSB7XG4gICAgICAgICAgICBjb25zdCBkeCA9ICh0eCAtIHRoaXMuY2FtZXJhLngpICogdGhpcy5jYW1lcmEuZWxhc3RpY2l0eTtcbiAgICAgICAgICAgIGNvbnN0IGR5ID0gKHR5IC0gdGhpcy5jYW1lcmEueSkgKiB0aGlzLmNhbWVyYS5lbGFzdGljaXR5O1xuXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS52ZWwueCArPSBkeDtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnZlbC55ICs9IGR5O1xuXG4gICAgICAgICAgICBjb25zdCBmeCA9IC10aGlzLmNhbWVyYS5mcmljdGlvbiAqIHRoaXMuY2FtZXJhLnZlbC54O1xuICAgICAgICAgICAgY29uc3QgZnkgPSAtdGhpcy5jYW1lcmEuZnJpY3Rpb24gKiB0aGlzLmNhbWVyYS52ZWwueTtcblxuICAgICAgICAgICAgdGhpcy5jYW1lcmEudmVsLnggKz0gZng7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS52ZWwueSArPSBmeTtcblxuICAgICAgICAgICAgdGhpcy5jYW1lcmEueCArPSB0aGlzLmNhbWVyYS52ZWwueCAvIHRoaXMuY2FtZXJhLnpvb207XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS55ICs9IHRoaXMuY2FtZXJhLnZlbC55IC8gdGhpcy5jYW1lcmEuem9vbTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFF1ZXJ5LCBSZWFkLCBSZWFkRW50aXR5LCBTeXN0ZW0sIFdyaXRlfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHtTaGFwZX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvc2hhcGVcIjtcbmltcG9ydCB7Q29sbGlzaW9ufSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb2xsaXNpb25cIjtcbmltcG9ydCB7IFZlY3RvcjJEIH0gZnJvbSBcIi4uL21vZGVscy92ZWN0b3IyZFwiO1xuXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBxdWVyeSA9IG5ldyBRdWVyeSh7XG4gICAgICAgIGNvbGxpc2lvbjogV3JpdGUoQ29sbGlzaW9uKSxcbiAgICAgICAgZW50aXR5OiBSZWFkRW50aXR5KCksXG4gICAgICAgIHBvc2l0aW9uOiBSZWFkKFZlY3RvcjJEKSxcbiAgICAgICAgc2hhcGU6IFJlYWQoU2hhcGUpXG4gICAgfSk7XG5cbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVjdHMgPSBBcnJheS5mcm9tKHRoaXMucXVlcnkuaXRlcigpKVxuICAgICAgICAubWFwKCh7Y29sbGlzaW9uLCBlbnRpdHksIHBvc2l0aW9uLCBzaGFwZX0pID0+IHtcbiAgICAgICAgICAgIC8vIGlkZWFsbHksIHRoaXMgc2hvdWxkIGJlIHR3byBzZXBhcmF0ZSBzdGVwcyxcbiAgICAgICAgICAgIC8vIGJ1dCBKUyB3b3VsZCBsb29wIHR3aWNlLlxuICAgICAgICAgICAgLy8gQXMgYW4gb3B0aW1pemF0aW9uLCBJIHdpbGwgaW5jbHVkZVxuICAgICAgICAgICAgLy8gdGhpcyBkYXRhIGNoYW5nZSBpbnRvIHRoZSBtYXAoKSBmdW5jdGlvblxuICAgICAgICAgICAgY29sbGlzaW9uLmNvbGxpc2lvbk9iamVjdHMuY2xlYXIoKTtcbiAgICAgICAgICAgIGNvbGxpc2lvbi5vY2N1cnJlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgeCx5LHcsaFxuICAgICAgICAgICAgfSA9IHNoYXBlLmdldEJCb3goKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25EYXRhOiBjb2xsaXNpb24sXG4gICAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgICAgICAgICB4OiBwb3NpdGlvbi54ICsgeCxcbiAgICAgICAgICAgICAgICB5OiBwb3NpdGlvbi55ICsgeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNoZWNrIGZvciBjb2xsaXNpb24gYmV0d2VlbiBhbGwgY29sbGlzaW9uLWVuYWJsZWQgc2hhcGVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVjdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QxID0gcmVjdHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdDIgPSByZWN0c1tqXTtcblxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvR2FtZXMvVGVjaG5pcXVlcy8yRF9jb2xsaXNpb25fZGV0ZWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICByZWN0MS54IDwgcmVjdDIueCArIHJlY3QyLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgIHJlY3QxLnggKyByZWN0MS53aWR0aCA+IHJlY3QyLnggJiZcbiAgICAgICAgICAgICAgICAgICAgcmVjdDEueSA8IHJlY3QyLnkgKyByZWN0Mi5oZWlnaHQgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVjdDEueSArIHJlY3QxLmhlaWdodCA+IHJlY3QyLnlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWN0MS5jb2xsaXNpb25EYXRhLm9jY3VycmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0MS5jb2xsaXNpb25EYXRhLm9jY3VycmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QxLmNvbGxpc2lvbkRhdGEuY29sbGlzaW9uT2JqZWN0cy5hZGQocmVjdDIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVjdDIuY29sbGlzaW9uRGF0YS5vY2N1cnJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdDIuY29sbGlzaW9uRGF0YS5vY2N1cnJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0Mi5jb2xsaXNpb25EYXRhLmNvbGxpc2lvbk9iamVjdHMuYWRkKHJlY3QxLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBfQm94MkQgfSBmcm9tIFwiLi4vc2VydmVyXCI7XG5pbXBvcnQge0lTeXN0ZW1BY3Rpb25zLCBSZWFkRW50aXR5LCBRdWVyeSwgU3lzdGVtLCBXaXRoVGFnfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgUGh5c2ljc0JyaWRnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL3BoeXNpY3MtYnJpZGdlXCI7XG5pbXBvcnQgeyBFQ29tbW9uVGFncyB9IGZyb20gXCIuLi9tb2RlbHMvY29tbW9uLXRhZ3NcIjtcbmltcG9ydCB7IENvbW1vblN0b3JlIH0gZnJvbSBcIi4uL21vZGVscy9jb21tb24tc3RvcmVcIjtcblxuZXhwb3J0IGNsYXNzIEdjU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBxdWVyeSA9IG5ldyBRdWVyeSh7XG4gICAgICAgIGVudGl0eTogUmVhZEVudGl0eSgpLFxuICAgICAgICBfZGVsOiBXaXRoVGFnKEVDb21tb25UYWdzLmRlc3Ryb3lFbnRpdHkpLFxuICAgIH0pO1xuXG4gICAgcGh5c1dvcmxkITogQm94MkQuYjJXb3JsZDtcblxuICAgIHNldHVwKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHBoeXNpY3NOYW1lc3BhY2U6IHtcbiAgICAgICAgICAgICAgICBiMldvcmxkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gPSBhY3Rpb25zLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcbiAgICAgICAgdGhpcy5waHlzV29ybGQgPSBhY3Rpb25zLmdldFJlc291cmNlKGIyV29ybGQpO1xuICAgIH1cblxuICAgIHJ1bihhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICB0aGlzLnF1ZXJ5LmV4ZWN1dGUoKHtlbnRpdHl9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwaHlzID0gZW50aXR5LmdldENvbXBvbmVudChQaHlzaWNzQnJpZGdlKTtcblxuICAgICAgICAgICAgaWYgKHBoeXMgJiYgcGh5cy5ib2R5UHRyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waHlzV29ybGQuRGVzdHJveUJvZHkocGh5cy5ib2R5UHRyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWN0aW9ucy5jb21tYW5kcy5yZW1vdmVFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aW9ucy5jb21tYW5kcy5tYWludGFpbigpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFN5c3RlbX0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7IENvbW1vblN0b3JlIH0gZnJvbSAnLi4vbW9kZWxzL2NvbW1vbi1zdG9yZSc7XG5cbmV4cG9ydCBlbnVtIEVLZXlTdGF0ZSB7XG4gICAgVXAsXG4gICAgRG93bixcbn1cblxuZXhwb3J0IGVudW0gRU1vdXNlU3RhdGUge1xuICAgIERvd24sXG4gICAgVXAsXG4gICAgTW92ZVxufVxuXG5pbnRlcmZhY2UgSU1vdXNlRXZlbnQge1xuICAgIHR5cGU6IEVNb3VzZVN0YXRlXG4gICAgYnV0dG9uOiBudW1iZXJcbiAgICB4OiBudW1iZXJcbiAgICB5OiBudW1iZXJcbn1cblxuZXhwb3J0IGNsYXNzIElucHV0U3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBjb21tb25TdG9yZSE6IENvbW1vblN0b3JlO1xuICAgIG1vdXNlRXZlbnRzOiBJTW91c2VFdmVudFtdID0gW107XG4gICAgd2hlZWxFdmVudHM6IG51bWJlcltdID0gW107XG5cbiAgICByZXNldFByZXZTdGF0ZShjb2RlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcHJldlN0YXRlID0gdGhpcy5jb21tb25TdG9yZS5pbnB1dC5rZXlTdGF0ZXMuZ2V0KGNvZGUpO1xuXG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUuaW5wdXQucHJldktleVN0YXRlcy5zZXQoXG4gICAgICAgICAgICBjb2RlLCBwcmV2U3RhdGVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZWFkb25seSBsaXN0ZW5lcnMgPSB7XG4gICAgICAgIHdoZWVsOiAoZTogV2hlZWxFdmVudCkgPT4gKFxuICAgICAgICAgICAgdGhpcy53aGVlbEV2ZW50cy5wdXNoKC1lLmRlbHRhWSAvIDEyNVxuICAgICAgICApKSxcbiAgICAgICAga2V5ZG93bjogKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRQcmV2U3RhdGUoZS5jb2RlKTtcbiAgICAgICAgICAgIHRoaXMuY29tbW9uU3RvcmUuaW5wdXQua2V5U3RhdGVzLnNldChlLmNvZGUsIEVLZXlTdGF0ZS5Eb3duKTtcbiAgICAgICAgfSxcbiAgICAgICAga2V5dXA6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0UHJldlN0YXRlKGUuY29kZSk7XG4gICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmtleVN0YXRlcy5zZXQoZS5jb2RlLCBFS2V5U3RhdGUuVXApO1xuICAgICAgICB9LFxuICAgICAgICBtb3VzZWRvd246IChlOiBNb3VzZUV2ZW50KSA9PiB0aGlzLm1vdXNlRXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgYnV0dG9uOiBlLmJ1dHRvbixcbiAgICAgICAgICAgIHR5cGU6IEVNb3VzZVN0YXRlLkRvd24sXG4gICAgICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgICAgICB5OiBlLmNsaWVudFksXG4gICAgICAgIH0pLFxuICAgICAgICBtb3VzZXVwOiAoZTpNb3VzZUV2ZW50KSA9PiB0aGlzLm1vdXNlRXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgYnV0dG9uOiBlLmJ1dHRvbixcbiAgICAgICAgICAgIHR5cGU6IEVNb3VzZVN0YXRlLlVwLFxuICAgICAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICAgICAgeTogZS5jbGllbnRZLFxuICAgICAgICB9KSxcbiAgICAgICAgbW91c2Vtb3ZlOiAoZTogTW91c2VFdmVudCkgPT4gdGhpcy5tb3VzZUV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIGJ1dHRvbjogZS5idXR0b24sXG4gICAgICAgICAgICB0eXBlOiBFTW91c2VTdGF0ZS5Nb3ZlLFxuICAgICAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICAgICAgeTogZS5jbGllbnRZLFxuICAgICAgICB9KSxcbiAgICAgICAgY29udGV4dG1lbnU6IChlOiBNb3VzZUV2ZW50KSA9PiBlLnByZXZlbnREZWZhdWx0KCksXG4gICAgfVxuXG4gICAgc2V0dXAoYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xuXG4gICAgICAgIGZvciAoY29uc3QgW2V2ZW50LCBoYW5kbGVyXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmxpc3RlbmVycykpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIGhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koXzogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveShfKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFtldmVudCwgaGFuZGxlcl0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyIGFzIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3RcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgbGV0IG1vdXNlRXZlbnQ6IElNb3VzZUV2ZW50IHwgdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0Lm1vdXNlU3RhdGVzLmNsZWFyKCk7XG5cbiAgICAgICAgd2hpbGUgKChtb3VzZUV2ZW50ID0gdGhpcy5tb3VzZUV2ZW50cy5wb3AoKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgIHgsIHksXG4gICAgICAgICAgICAgICAgYnV0dG9uXG4gICAgICAgICAgICB9ID0gbW91c2VFdmVudDtcblxuICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS5pbnB1dC5tb3VzZVN0YXRlcy5zZXQoYnV0dG9uLCB0eXBlKTtcblxuICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS5pbnB1dC5jdXJzb3JQb3MueCA9IHg7XG4gICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmN1cnNvclBvcy55ID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB3aGVlbERlbHRhOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgdGhpcy5jb21tb25TdG9yZS5pbnB1dC53aGVlbCA9IDA7XG5cbiAgICAgICAgd2hpbGUgKCh3aGVlbERlbHRhID0gdGhpcy53aGVlbEV2ZW50cy5wb3AoKSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29tbW9uU3RvcmUuaW5wdXQud2hlZWwgPSB3aGVlbERlbHRhO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJU3lzdGVtQWN0aW9ucywgUmVhZEVudGl0eSwgUXVlcnksIFJlYWQsIFN5c3RlbSwgV3JpdGV9IGZyb20gXCJzaW0tZWNzXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL3Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBSb3RhdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL3JvdGF0aW9uXCI7XG5pbXBvcnQge1ZlbG9jaXR5fSBmcm9tIFwiLi4vY29tcG9uZW50cy92ZWxvY2l0eVwiO1xuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbW1vbi1zdG9yZVwiO1xuaW1wb3J0IHsgUGh5c2ljc0JyaWRnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL3BoeXNpY3MtYnJpZGdlXCI7XG5cbmV4cG9ydCBjbGFzcyBQaHlzaWNzU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBxdWVyeSA9IG5ldyBRdWVyeSh7XG4gICAgICAgIGVudGl0eTogUmVhZEVudGl0eSgpLFxuICAgICAgICBwb3M6IFdyaXRlKFBvc2l0aW9uKSxcbiAgICAgICAgcm90OiBXcml0ZShSb3RhdGlvbiksXG4gICAgICAgIHZlbDogUmVhZChWZWxvY2l0eSksXG4gICAgfSk7XG5cbiAgICBwaHlzV29ybGQhOiBCb3gyRC5iMldvcmxkO1xuXG4gICAgc2V0dXAoYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcGh5c2ljc05hbWVzcGFjZToge1xuICAgICAgICAgICAgICAgIGIyV29ybGRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xuICAgICAgICB0aGlzLnBoeXNXb3JsZCA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoYjJXb3JsZCk7XG4gICAgfVxuXG4gICAgcnVuKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IGR0ID0gMC4wMTY7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcGh5c2ljc05hbWVzcGFjZToge1xuICAgICAgICAgICAgICAgIGdldFBvaW50ZXIsXG4gICAgICAgICAgICAgICAgTlVMTFxuICAgICAgICAgICAgfVxuICAgICAgICB9ID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XG5cbiAgICAgICAgLy8gY29uc3QgaGFzaEJvZGllczpSZWNvcmQ8bnVtYmVyLCBCb3gyRC5iMkJvZHk+ID0ge307XG4gICAgICAgIC8vIGxldCBwdHI6IG51bWJlcjtcblxuICAgICAgICAvLyBmb3IgKFxuICAgICAgICAvLyAgICAgbGV0IGJvZHkgPSB0aGlzLnBoeXNXb3JsZC5HZXRCb2R5TGlzdCgpO1xuICAgICAgICAvLyAgICAgKHB0ciA9IGdldFBvaW50ZXIoYm9keSkpICE9PSBnZXRQb2ludGVyKE5VTEwpO1xuICAgICAgICAvLyAgICAgYm9keSA9IGJvZHkuR2V0TmV4dCgpXG4gICAgICAgIC8vICkge1xuICAgICAgICAvLyAgICAgaGFzaEJvZGllc1twdHJdID0gYm9keTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHRoaXMucXVlcnkuZXhlY3V0ZSgoe2VudGl0eSwgcG9zLCByb3QsIHZlbH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBoeXMgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFBoeXNpY3NCcmlkZ2UpO1xuICAgICAgICAgICAgaWYgKHBoeXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0gcGh5cy5ib2R5UHRyO1xuICAgICAgICAgICAgICAgIGlmICghYm9keSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHt4LCB5fSA9IGJvZHkuR2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IGJvZHkuR2V0QW5nbGUoKTtcblxuICAgICAgICAgICAgICAgIHBvcy54ID0geDtcbiAgICAgICAgICAgICAgICBwb3MueSA9IHk7XG4gICAgICAgICAgICAgICAgcm90LnZhbHVlID0gYW5nbGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvcy54ICs9IHZlbC54ICogZHQ7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gdmVsLnkgKiBkdDtcbiAgICAgICAgICAgICAgICByb3QudmFsdWUgKz0gdmVsLmFuZ3VsYXIgKiBkdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5waHlzV29ybGQuU3RlcChkdCwgMSwgMSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFRXT1BJID0gTWF0aC5QSSAqIDI7XG5leHBvcnQgY29uc3QgZHJhd1BvaW50ID0gKFxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIHg6bnVtYmVyLFxuICAgIHk6bnVtYmVyLFxuICAgIHNpemU6bnVtYmVyID0gMC4xXG4pID0+IHtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNyknO1xuICAgIGN0eC5hcmMoeCwgeSwgc2l6ZSwgMCwgVFdPUEkpO1xuICAgIGN0eC5maWxsKCk7XG59XG5cbmV4cG9ydCBjb25zdCBQSVhFTFNfUEVSX01FVEVSID0gMzI7XG5cbmV4cG9ydCBjb25zdCBsZXJwID0gKHZhbHVlMTogbnVtYmVyLCB2YWx1ZTI6IG51bWJlciwgZmFjdG9yOiBudW1iZXIpID0+IHtcbiAgICBmYWN0b3IgPSBmYWN0b3IgPCAwID8gMCA6IGZhY3RvcjtcbiAgICBmYWN0b3IgPSBmYWN0b3IgPiAxID8gMSA6IGZhY3RvcjtcbiAgICByZXR1cm4gdmFsdWUxICsgKHZhbHVlMiAtIHZhbHVlMSkgKiBmYWN0b3I7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG9ydEFuZ2xlRGlzdChhMDogbnVtYmVyLCBhMTogbnVtYmVyKSB7XG4gICAgY29uc3QgbWF4ID0gTWF0aC5QSSAqIDI7XG4gICAgY29uc3QgZGEgPSAoYTEgLSBhMCkgJSBtYXg7XG4gICAgcmV0dXJuIDIgKiBkYSAlIG1heCAtIGRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYW5nbGVMZXJwKGEwOiBudW1iZXIsIGExOiBudW1iZXIsIHQ6IG51bWJlcikge1xuICAgIHJldHVybiBhMCArIHNob3J0QW5nbGVEaXN0KGEwLCBhMSkgKiB0O1xufSIsImltcG9ydCB7IFRvcGRvd24gfSBmcm9tICcuL2xldmVscy90b3Bkb3duJztcbmltcG9ydCAnLi9zY3NzL2FwcC5zY3NzJztcbmltcG9ydCB7IExldmVsIH0gZnJvbSAnLi9lbmdpbmUvbGV2ZWwuaCc7XG5pbXBvcnQgeyB1cGRhdGVSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi9lbmdpbmUnO1xuaW1wb3J0IHsgX0JveDJELCBsb2FkUGh5c2ljcyB9IGZyb20gJy4vZW5naW5lL3NlcnZlcic7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVSZW5kZXJDb250ZXh0KTtcblxuY29uc3QgX2ZldGNoID0gd2luZG93LmZldGNoO1xud2luZG93LmZldGNoID0gKFxuICAgIGlucHV0OiBSZXF1ZXN0SW5mbyxcbiAgICBpbml0PzogUmVxdWVzdEluaXQgfCB1bmRlZmluZWQpOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gICAgaWYgKGluaXQ/LmNyZWRlbnRpYWxzID09PSAnc2FtZS1vcmlnaW4nKSB7XG4gICAgICAgIGRlbGV0ZSBpbml0LmNyZWRlbnRpYWxzO1xuICAgIH1cbiAgICByZXR1cm4gX2ZldGNoKGlucHV0LCBpbml0KTtcbn1cblxuY29uc3QgbGV2ZWxzOntcbiAgICBbbmFtZTogc3RyaW5nXTogbmV3ICguLi5hcmdzOltfQm94MkRdKSA9PiBMZXZlbCxcbn0gPSB7XG4gICAgJ3RvcGRvd24nOiBUb3Bkb3duLFxufTtcblxudHlwZSBsZXZlbFR5cGUgPSBrZXlvZiB0eXBlb2YgbGV2ZWxzO1xuXG4vLyBtYWluIGZ1bmN0aW9uXG4oYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGJveDJEID0gYXdhaXQgbG9hZFBoeXNpY3MoKTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3Qua2V5cyhsZXZlbHMpXG4gICAgICAgIC5tYXAoKGUsaSkgPT4gKGAke2krMX0pICR7ZX1gKSk7XG4gICAgb3B0aW9ucy5wdXNoKCdleGl0IChvciBlbXB0eSknKTtcblxuICAgIGxldCByZXF1ZXN0ZWRMZXZlbCA9ICd0b3Bkb3duJztcblxuICAgIHdoaWxlIChyZXF1ZXN0ZWRMZXZlbCAhPT0gJ2V4aXQnKSB7XG4gICAgICAgIGNvbnN0IGxldmVsID0gcmVxdWVzdGVkTGV2ZWwgYXMgbGV2ZWxUeXBlO1xuICAgICAgICBsZXQgd29ybGQgPSBuZXcgbGV2ZWxzW2xldmVsXShib3gyRCk7XG5cbiAgICAgICAgYXdhaXQgd29ybGQucnVuKCk7XG5cbiAgICAgICAgcmVxdWVzdGVkTGV2ZWwgPSBwcm9tcHQoJ1doYXQgbGV2ZWwgd291bGQgeW91IGxpa2UgdG8gY2hlY2sgbmV4dD9cXG4nICtcbiAgICAgICAgICAgIG9wdGlvbnMuam9pbignXFxuJylcbiAgICAgICAgKSB8fCAnZXhpdCc7XG4gICAgfVxufSkoKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiIsImltcG9ydCB7IEVDUywgSVdvcmxkIH0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NoYXJhY3RlclwiO1xuaW1wb3J0IHsgVUlJdGVtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdWktaXRlbVwiO1xuaW1wb3J0IHsgQ29sbGlzaW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL2NvbGxpc2lvblwiO1xuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvbWF0ZXJpYWxcIjtcbmltcG9ydCB7IE1lc2ggfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvbWVzaFwiO1xuaW1wb3J0IHsgUGh5c2ljc0JyaWRnZSB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9waHlzaWNzLWJyaWRnZVwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcG9zaXRpb25cIjtcbmltcG9ydCB7IFJvdGF0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3JvdGF0aW9uXCI7XG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9zaGFwZVwiO1xuaW1wb3J0IHsgVmVsb2NpdHkgfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvdmVsb2NpdHlcIjtcbmltcG9ydCB7IExldmVsIH0gZnJvbSBcIi4uL2VuZ2luZS9sZXZlbC5oXCI7XG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9jYW1lcmFcIjtcbmltcG9ydCB7IENvbW1vblN0b3JlIH0gZnJvbSBcIi4uL2VuZ2luZS9tb2RlbHMvY29tbW9uLXN0b3JlXCI7XG5pbXBvcnQgeyBfQm94MkQgfSBmcm9tIFwiLi4vZW5naW5lL3NlcnZlclwiO1xuaW1wb3J0IHsgQ2FtZXJhU3lzdGVtIH0gZnJvbSBcIi4uL2VuZ2luZS9zeXN0ZW1zL2NhbWVyYVwiO1xuaW1wb3J0IHsgQ29sbGlzaW9uU3lzdGVtIH0gZnJvbSBcIi4uL2VuZ2luZS9zeXN0ZW1zL2NvbGxpc2lvblwiO1xuaW1wb3J0IHsgR2NTeXN0ZW0gfSBmcm9tIFwiLi4vZW5naW5lL3N5c3RlbXMvZ2NcIjtcbmltcG9ydCB7IElucHV0U3lzdGVtIH0gZnJvbSBcIi4uL2VuZ2luZS9zeXN0ZW1zL2lucHV0XCI7XG5pbXBvcnQgeyBQaHlzaWNzU3lzdGVtIH0gZnJvbSBcIi4uL2VuZ2luZS9zeXN0ZW1zL3BoeXNpY3NcIjtcbmltcG9ydCB7IEdhbWVTdG9yZSB9IGZyb20gXCIuLi9tb2RlbHMvZ2FtZS1zdG9yZVwiO1xuaW1wb3J0IHsgTWVudVN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlcy9tZW51XCI7XG5pbXBvcnQgeyBBY3Rpb25zU3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbXMvYWN0aW9uc1wiO1xuaW1wb3J0IHsgQ2hhcmFjdGVyU3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbXMvY2hhcmFjdGVyXCI7XG5pbXBvcnQgeyBNZW51U3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbXMvbWVudVwiO1xuaW1wb3J0IHsgUGF1c2VTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9wYXVzZVwiO1xuaW1wb3J0IHsgUmVuZGVyR2FtZVN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL3JlbmRlci1nYW1lXCI7XG5pbXBvcnQgeyBSZW5kZXJVSVN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL3JlbmRlci11aVwiO1xuXG5leHBvcnQgY2xhc3MgVG9wZG93biBleHRlbmRzIExldmVsIHtcbiAgICByZWFkb25seSBpbml0aWFsU3RhdGUgPSBNZW51U3RhdGU7XG5cbiAgICBjb25zdHJ1Y3RvcihwaHlzaWNzOiBfQm94MkQpIHtcbiAgICAgICAgc3VwZXIocGh5c2ljcywgJ3RvcGRvd24nKTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBiMlZlYzIsXG4gICAgICAgICAgICBiMldvcmxkXG4gICAgICAgIH0gPSBwaHlzaWNzO1xuXG4gICAgICAgIGNvbnN0IGdyYXZpdHkgPSBuZXcgYjJWZWMyKDAsIDkuODEpO1xuICAgICAgICBjb25zdCBwaHlzV29ybGQgPSBuZXcgYjJXb3JsZChncmF2aXR5KTtcbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShwaHlzV29ybGQpO1xuXG4gICAgICAgIGNvbnN0IHplcm8gPSBuZXcgYjJWZWMyKDAsIDApO1xuXG4gICAgICAgIGNvbnN0IGdhbWVTdG9yZSA9IG5ldyBHYW1lU3RvcmUoKTtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gbmV3IENhbWVyYSgpO1xuXG4gICAgICAgIGNvbnN0IGNvbW1vblN0b3JlID0gbmV3IENvbW1vblN0b3JlKCk7XG4gICAgICAgIGNvbW1vblN0b3JlLnBoeXNpY3NOYW1lc3BhY2UgPSBwaHlzaWNzO1xuICAgICAgICBjb21tb25TdG9yZS5waHlzaWNzWmVybyA9IHplcm87XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShjb21tb25TdG9yZSk7XG4gICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2UoZ2FtZVN0b3JlKTtcbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShjYW1lcmEpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBwaHlzaWNzTmFtZXNwYWNlLFxuICAgICAgICAgICAgcGh5c2ljc1plcm9cbiAgICAgICAgfSA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xuICAgICAgICBjb25zdCBwaHlzaWNzV29ybGQgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKHBoeXNpY3NOYW1lc3BhY2UuYjJXb3JsZCk7XG5cbiAgICAgICAgcGh5c2ljc05hbWVzcGFjZS5kZXN0cm95KHBoeXNpY3NXb3JsZCk7XG4gICAgICAgIHBoeXNpY3NOYW1lc3BhY2UuZGVzdHJveShwaHlzaWNzWmVybyk7XG5cbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNlY2VjZWMnO1xuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBjcmVhdGVXb3JsZCgpOiBJV29ybGQge1xuICAgICAgICByZXR1cm4gbmV3IEVDUygpXG4gICAgICAgICAgICAuYnVpbGRXb3JsZCgpXG4gICAgICAgICAgICAud2l0aFN5c3RlbShDYW1lcmFTeXN0ZW0sIFtcbiAgICAgICAgICAgICAgICBDaGFyYWN0ZXJTeXN0ZW1cbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAud2l0aFN5c3RlbShQaHlzaWNzU3lzdGVtLCBbXG4gICAgICAgICAgICAgICAgQ2hhcmFjdGVyU3lzdGVtXG4gICAgICAgICAgICAgICAgLy8gTmV0d29ya1N5c3RlbVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKENoYXJhY3RlclN5c3RlbSwgW1xuICAgICAgICAgICAgICAgIENvbGxpc2lvblN5c3RlbVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKENvbGxpc2lvblN5c3RlbSwgW1xuICAgICAgICAgICAgICAgIC8vIE5ldHdvcmtTeXN0ZW1cbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAud2l0aFN5c3RlbShBY3Rpb25zU3lzdGVtLCBbXG4gICAgICAgICAgICAgICAgUGF1c2VTeXN0ZW1cbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAud2l0aFN5c3RlbShJbnB1dFN5c3RlbSlcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKE1lbnVTeXN0ZW0sIFtcbiAgICAgICAgICAgICAgICBJbnB1dFN5c3RlbSxcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAud2l0aFN5c3RlbShQYXVzZVN5c3RlbSwgW1xuICAgICAgICAgICAgICAgIElucHV0U3lzdGVtXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgLndpdGhTeXN0ZW0oUmVuZGVyR2FtZVN5c3RlbSwgW1xuICAgICAgICAgICAgICAgIFBoeXNpY3NTeXN0ZW0sXG4gICAgICAgICAgICAgICAgQ2hhcmFjdGVyU3lzdGVtLFxuICAgICAgICAgICAgICAgIC8vIE5ldHdvcmtTeXN0ZW0sXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgLndpdGhTeXN0ZW0oR2NTeXN0ZW0sIFtcbiAgICAgICAgICAgICAgICBSZW5kZXJHYW1lU3lzdGVtLFxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKFJlbmRlclVJU3lzdGVtLCBbXG4gICAgICAgICAgICAgICAgUGh5c2ljc1N5c3RlbSxcbiAgICAgICAgICAgICAgICBNZW51U3lzdGVtLFxuICAgICAgICAgICAgICAgIFBhdXNlU3lzdGVtXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgLndpdGhDb21wb25lbnRzKFxuICAgICAgICAgICAgICAgIENvbGxpc2lvbixcbiAgICAgICAgICAgICAgICBNYXRlcmlhbCxcbiAgICAgICAgICAgICAgICBNZXNoLFxuICAgICAgICAgICAgICAgIFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIFJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIFNoYXBlLFxuICAgICAgICAgICAgICAgIFVJSXRlbSxcbiAgICAgICAgICAgICAgICBWZWxvY2l0eSxcbiAgICAgICAgICAgICAgICBDaGFyYWN0ZXIsXG4gICAgICAgICAgICAgICAgUGh5c2ljc0JyaWRnZSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5idWlsZCgpO1xuICAgIH1cbn0iLCJpbXBvcnQge0lTdGF0ZX0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7IEVNb3ZlbWVudCB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL21vdmVtZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RvcmUge1xuICAgIGNvbnRpbnVlID0gZmFsc2VcbiAgICBjdXJyZW50U3RhdGU/OiBJU3RhdGVcbiAgICBhY3Rpb25zOiB7XG4gICAgICAgIGNoYXJhY3Rlck1vdmVtZW50OiBFTW92ZW1lbnRcbiAgICAgICAgbWVudUNvbmZpcm06IGJvb2xlYW5cbiAgICAgICAgdG9nZ2xlUGF1c2U6IGJvb2xlYW5cbiAgICAgICAgbWVudU1vdmVtZW50OiBFTW92ZW1lbnRcbiAgICB9ID0ge1xuICAgICAgICBjaGFyYWN0ZXJNb3ZlbWVudDogRU1vdmVtZW50LmlkbGUsXG4gICAgICAgIG1lbnVDb25maXJtOiBmYWxzZSxcbiAgICAgICAgbWVudU1vdmVtZW50OiBFTW92ZW1lbnQuaWRsZSxcbiAgICAgICAgdG9nZ2xlUGF1c2U6IGZhbHNlLFxuICAgIH1cbn1cbiIsImltcG9ydCB7IEVDb21tb25UYWdzIH0gZnJvbSAnLi4vZW5naW5lL21vZGVscy9jb21tb24tdGFncyc7XG5cbmV4cG9ydCBlbnVtIE15VGFncyB7XG4gICAgc2F2ZSA9IEVDb21tb25UYWdzLl9fTEFURVNULFxuICAgIGNoYXJhY3RlcixcbiAgICBuZXR3b3JrT2JqZWN0LFxufVxuXG5leHBvcnQgY29uc3QgRVRhZ3MgPSB7XG4gICAgLi4uRUNvbW1vblRhZ3MsXG4gICAgLi4uTXlUYWdzLFxufSIsImltcG9ydCB7IENUYWdNYXJrZXIgfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgQ29sbGlzaW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL2NvbGxpc2lvblwiO1xuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvbWF0ZXJpYWxcIjtcbmltcG9ydCB7IFBoeXNpY3NCcmlkZ2UgfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcGh5c2ljcy1icmlkZ2VcIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBSb3RhdGlvbiB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9yb3RhdGlvblwiO1xuaW1wb3J0IHsgU2hhcGUsIFNoYXBlUGl2b3QsIFNoYXBlUHJpbWl0aXZlIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3NoYXBlXCI7XG5pbXBvcnQgeyBWZWxvY2l0eSB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy92ZWxvY2l0eVwiO1xuaW1wb3J0IHsgVmVjdG9yMkQgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy92ZWN0b3IyZFwiO1xuaW1wb3J0IHsgRVRhZ3MgfSBmcm9tIFwiLi4vbW9kZWxzL3RhZ3NcIjtcblxuLy8gVGhpcyBjb3VsZCBhbHNvIGJlIHB1cmUgSlNPTiwgYnV0IGluIG9yZGVyIHRvIHVzZSBUUyB0eXBlcyBhbmQgaGF2ZSBzdGF0aWMgY2hlY2tzIGl0IGlzIHJlY29tbWVuZGVkIHRvIHdyaXRlIGl0IGFzIFRTIGFycmF5LlxuZXhwb3J0IGNvbnN0IGdhbWVQcmVmYWIgPSBbXG4gICAge1xuICAgICAgICBQaHlzaWNzQnJpZGdlOiA8UGh5c2ljc0JyaWRnZT57fSxcbiAgICAgICAgQ29sbGlzaW9uOiA8Q29sbGlzaW9uPnt9LFxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICB9LFxuICAgICAgICBSb3RhdGlvbjogPFJvdGF0aW9uPntcbiAgICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFZlbG9jaXR5OiA8VmVsb2NpdHk+e1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsIFxuICAgICAgICB9LFxuICAgICAgICBNYXRlcmlhbDogPE1hdGVyaWFsPntcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZkZmYwMydcbiAgICAgICAgfSxcbiAgICAgICAgU2hhcGU6IDxTaGFwZT57XG4gICAgICAgICAgICBkaW1lbnNpb25zOiA8VmVjdG9yMkQ+e1xuICAgICAgICAgICAgICAgIHg6IDIsXG4gICAgICAgICAgICAgICAgeTogMC43LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBpdm90OiBTaGFwZVBpdm90LlRvcExlZnQsXG4gICAgICAgICAgICBwcmltaXRpdmU6IFNoYXBlUHJpbWl0aXZlLlJlY3QsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIENvbGxpc2lvbjogPENvbGxpc2lvbj57fSxcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XG4gICAgICAgICAgICB4OiAxLFxuICAgICAgICAgICAgeTogMyxcbiAgICAgICAgfSxcbiAgICAgICAgUm90YXRpb246IDxSb3RhdGlvbj57XG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9LFxuICAgICAgICBWZWxvY2l0eTogPFZlbG9jaXR5PntcbiAgICAgICAgICAgIHg6IDIsXG4gICAgICAgICAgICB5OiAwLCBcbiAgICAgICAgfSxcbiAgICAgICAgTWF0ZXJpYWw6IDxNYXRlcmlhbD57XG4gICAgICAgICAgICBjb2xvcjogJyNmZGZmMDMnXG4gICAgICAgIH0sXG4gICAgICAgIFNoYXBlOiA8U2hhcGU+e1xuICAgICAgICAgICAgekluZGV4OiAxMCxcbiAgICAgICAgICAgIHBpdm90OiBTaGFwZVBpdm90LlRvcExlZnQsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiA8VmVjdG9yMkQ+e1xuICAgICAgICAgICAgICAgIHg6IDAuNyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmltaXRpdmU6IFNoYXBlUHJpbWl0aXZlLkNpcmNsZSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgQ29sbGlzaW9uOiA8Q29sbGlzaW9uPnt9LFxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcbiAgICAgICAgICAgIHg6IDE4LFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgUm90YXRpb246IDxSb3RhdGlvbj57XG4gICAgICAgICAgICB2YWx1ZTogNyAqIE1hdGguUEkgLyA0XG4gICAgICAgIH0sXG4gICAgICAgIFZlbG9jaXR5OiA8VmVsb2NpdHk+e1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsIFxuICAgICAgICB9LFxuICAgICAgICBNYXRlcmlhbDogPE1hdGVyaWFsPntcbiAgICAgICAgICAgIGNvbG9yOiAnIzBiYidcbiAgICAgICAgfSxcbiAgICB9LFxuXTtcbiIsImltcG9ydCB7IENUYWdNYXJrZXIgfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHtFQWN0aW9uc30gZnJvbSBcIi4uL2FwcC9hY3Rpb25zXCI7XG5pbXBvcnQge1VJSXRlbX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdWktaXRlbVwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcG9zaXRpb25cIjtcbmltcG9ydCB7IEVUYWdzIH0gZnJvbSBcIi4uL21vZGVscy90YWdzXCI7XG5cbi8vIFRoaXMgY291bGQgYWxzbyBiZSBwdXJlIEpTT04sIGJ1dCBpbiBvcmRlciB0byB1c2UgVFMgdHlwZXMgYW5kIGhhdmUgc3RhdGljIGNoZWNrcyBpdCBpcyByZWNvbW1lbmRlZCB0byB3cml0ZSBpdCBhcyBUUyBhcnJheS5cbmV4cG9ydCBjb25zdCBtZW51UHJlZmFiID0gW1xuICAgIHsgLy8gVGl0bGVcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXG4gICAgICAgICAgICBFVGFncy51aVxuICAgICAgICBdLFxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcbiAgICAgICAgICAgIHg6IDAuMDUqMTAyNCxcbiAgICAgICAgICAgIHk6IDAuMDUqMTAyNCxcbiAgICAgICAgfSxcbiAgICAgICAgVUlJdGVtOiA8VUlJdGVtPntcbiAgICAgICAgICAgIGNhcHRpb246ICdTSFBFSycsXG4gICAgICAgICAgICBjb2xvcjogJyNkZGQnLFxuICAgICAgICAgICAgZm9udFNpemU6IDY0LFxuICAgICAgICB9XG4gICAgfSxcbiAgICB7IC8vIFN1YiB0aXRsZVxuICAgICAgICBbQ1RhZ01hcmtlcl06IFtcbiAgICAgICAgICAgIEVUYWdzLnVpXG4gICAgICAgIF0sXG4gICAgICAgIFBvc2l0aW9uOiA8UG9zaXRpb24+e1xuICAgICAgICAgICAgeDogMC4wNSoxMDI0LFxuICAgICAgICAgICAgeTogMC4xMioxMDI0LFxuICAgICAgICB9LFxuICAgICAgICBVSUl0ZW06IHtcbiAgICAgICAgICAgIGNhcHRpb246ICdQZW4gaXMgZ2FtZScsXG4gICAgICAgICAgICBjb2xvcjogJyNkZGQnLFxuICAgICAgICAgICAgZm9udFNpemU6IDI0LFxuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIFtDVGFnTWFya2VyXTogW1xuICAgICAgICAgICAgRVRhZ3MudWlcbiAgICAgICAgXSxcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XG4gICAgICAgICAgICB4OiAwLjA1KjEwMjQsXG4gICAgICAgICAgICB5OiAwLjIqMTAyNCxcbiAgICAgICAgfSxcbiAgICAgICAgVUlJdGVtOiA8VUlJdGVtPntcbiAgICAgICAgICAgIGNhcHRpb246ICdIb3cgdG8gcGxheTogTW92ZTogV0FTRCwgUm90YXRlIFEvRSwgUGF1c2U6IEVzY2FwZScsXG4gICAgICAgICAgICBjb2xvcjogJyNkZGQnLFxuICAgICAgICAgICAgZm9udFNpemU6IDI0LFxuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIFtDVGFnTWFya2VyXTogW1xuICAgICAgICAgICAgRVRhZ3MudWlcbiAgICAgICAgXSxcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XG4gICAgICAgICAgICB4OiAwLjA1KjEwMjQsXG4gICAgICAgICAgICB5OiAwLjI0KjEwMjQsXG4gICAgICAgIH0sXG4gICAgICAgIFVJSXRlbTogPFVJSXRlbT57XG4gICAgICAgICAgICBjYXB0aW9uOiAnVGhlIGdhbWUgd2lsbCBiZSBzYXZlZCB1cG9uIHBhdXNpbmcgKG5vdCB5ZXQgbG1hbyknLFxuICAgICAgICAgICAgY29sb3I6ICcjZGRkJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAyNCxcbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBbQ1RhZ01hcmtlcl06IFtcbiAgICAgICAgICAgIEVUYWdzLnVpXG4gICAgICAgIF0sXG4gICAgICAgIFBvc2l0aW9uOiA8UG9zaXRpb24+e1xuICAgICAgICAgICAgeDogMC4xNSoxMDI0LFxuICAgICAgICAgICAgeTogMC4zNSoxMDI0LFxuICAgICAgICB9LFxuICAgICAgICBVSUl0ZW06IDxVSUl0ZW0+e1xuICAgICAgICAgICAgYWN0aW9uOiBFQWN0aW9ucy5QbGF5LFxuICAgICAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgY29sb3I6ICcjZGRkJyxcbiAgICAgICAgICAgIGNhcHRpb246ICdQbGF5JyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXG4gICAgICAgICAgICBFVGFncy51aVxuICAgICAgICBdLFxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcbiAgICAgICAgICAgIHg6IDAuMTUqMTAyNCxcbiAgICAgICAgICAgIHk6IDAuNCoxMDI0LFxuICAgICAgICB9LFxuICAgICAgICBVSUl0ZW06IDxVSUl0ZW0+e1xuICAgICAgICAgICAgYWN0aW9uOiBFQWN0aW9ucy5Db250aW51ZSxcbiAgICAgICAgICAgIGNvbG9yOiAnI2RkZCcsXG4gICAgICAgICAgICBjYXB0aW9uOiAnQ29udGludWUnLFxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBbQ1RhZ01hcmtlcl06IFtcbiAgICAgICAgICAgIEVUYWdzLnVpXG4gICAgICAgIF0sXG4gICAgICAgIFBvc2l0aW9uOiA8UG9zaXRpb24+e1xuICAgICAgICAgICAgeDogMC4xNSoxMDI0LFxuICAgICAgICAgICAgeTogMC40NSoxMDI0LFxuICAgICAgICB9LFxuICAgICAgICBVSUl0ZW06IDxVSUl0ZW0+e1xuICAgICAgICAgICAgYWN0aW9uOiBFQWN0aW9ucy5FeGl0LFxuICAgICAgICAgICAgY29sb3I6ICcjZGRkJyxcbiAgICAgICAgICAgIGNhcHRpb246ICdFeGl0IChyZWFsbHk/KScsXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXG4gICAgICAgIH0sXG4gICAgfSxcbl07XG4iLCJpbXBvcnQgeyBDVGFnTWFya2VyIH0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7VUlJdGVtfSBmcm9tIFwiLi4vY29tcG9uZW50cy91aS1pdGVtXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9wb3NpdGlvblwiO1xuaW1wb3J0IHsgRVRhZ3MgfSBmcm9tIFwiLi4vbW9kZWxzL3RhZ3NcIjtcblxuLy8gVGhpcyBjb3VsZCBhbHNvIGJlIHB1cmUgSlNPTiwgYnV0IGluIG9yZGVyIHRvIHVzZSBUUyB0eXBlcyBhbmQgaGF2ZSBzdGF0aWMgY2hlY2tzIGl0IGlzIHJlY29tbWVuZGVkIHRvIHdyaXRlIGl0IGFzIFRTIGFycmF5LlxuZXhwb3J0IGNvbnN0IHBhdXNlUHJlZmFiID0gW1xuICAgIHtcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXG4gICAgICAgICAgICBFVGFncy51aVxuICAgICAgICBdLFxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcbiAgICAgICAgICAgIHg6IDUwLFxuICAgICAgICAgICAgeTogMzAsXG4gICAgICAgIH0sXG4gICAgICAgIFVJSXRlbTogPFVJSXRlbT57XG4gICAgICAgICAgICBjYXB0aW9uOiAn4p2a4p2aIFBBVVNFJyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2RkZCcsXG4gICAgICAgICAgICBmb250U2l6ZTogNjQsXG4gICAgICAgIH1cbiAgICB9LFxuXTtcbiIsImltcG9ydCB7RVRhZ3N9IGZyb20gXCIuLi9tb2RlbHMvdGFnc1wiO1xuaW1wb3J0IHtDVGFnTWFya2VyfSBmcm9tICdzaW0tZWNzJztcbmltcG9ydCB7IHZlcnRpY2llcyB9IGZyb20gXCIuLi8uLi9yZXMvbWVzaGVzLzFcIjtcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NoYXJhY3RlclwiO1xuaW1wb3J0IHsgQ29sbGlzaW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL2NvbGxpc2lvblwiO1xuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvbWF0ZXJpYWxcIjtcbmltcG9ydCB7IE1lc2ggfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvbWVzaFwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcG9zaXRpb25cIjtcbmltcG9ydCB7IFJvdGF0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3JvdGF0aW9uXCI7XG5pbXBvcnQgeyBTaGFwZSwgU2hhcGVQcmltaXRpdmUsIFNoYXBlUGl2b3QgfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvc2hhcGVcIjtcbmltcG9ydCB7IFZlbG9jaXR5IH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3ZlbG9jaXR5XCI7XG5cbmV4cG9ydCBjb25zdCBzYXZhYmxlUHJlZmFiID0gW1xuICAgIHsgLy8gQ2hhcmFjdGVyXG4gICAgICAgIFtDVGFnTWFya2VyXTogW1xuICAgICAgICAgICAgRVRhZ3MuY2hhcmFjdGVyLFxuICAgICAgICAgICAgLy8gRVRhZ3Muc2F2ZVxuICAgICAgICBdLFxuICAgICAgICAvLyBQaHlzaWNzQnJpZGdlOiA8UGh5c2ljc0JyaWRnZT57fSxcbiAgICAgICAgQ2hhcmFjdGVyOiA8Q2hhcmFjdGVyPntcbiAgICAgICAgICAgIG5hbWU6ICdYdVBvSCdcbiAgICAgICAgfSxcbiAgICAgICAgVmVsb2NpdHk6IDxWZWxvY2l0eT57XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIGFuZ3VsYXI6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIENvbGxpc2lvbjogPENvbGxpc2lvbj57fSxcbiAgICAgICAgUm90YXRpb246IDxSb3RhdGlvbj57XG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9LFxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICB9LFxuICAgICAgICBTaGFwZTogPFNoYXBlPntcbiAgICAgICAgICAgIHpJbmRleDogMTEsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICAgICAgeDogMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXNoOiA8TWVzaD57XG4gICAgICAgICAgICAgICAgdmVydGljaWVzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJpbWl0aXZlOiBTaGFwZVByaW1pdGl2ZS5NZXNoLFxuICAgICAgICAgICAgcGl2b3Q6IFNoYXBlUGl2b3QuTWlkZGxlLFxuICAgICAgICB9LFxuICAgICAgICBNYXRlcmlhbDogPE1hdGVyaWFsPntcbiAgICAgICAgICAgIGNvbG9yOiAnI2NjYScsXG4gICAgICAgIH0sXG4gICAgfSxcbl07IiwiaW1wb3J0IHtJVHJhbnNpdGlvbkFjdGlvbnMsIFF1ZXJ5LCBTZXJpYWxGb3JtYXQsIFN0YXRlLCBUR3JvdXBIYW5kbGUsIFdpdGgsIFdpdGhUYWd9IGZyb20gXCJzaW0tZWNzXCI7XG5pbXBvcnQgeyBsb2FkIH0gZnJvbSBcIi4uL2FwcC9wZXJzaXN0ZW5jZVwiO1xuaW1wb3J0IHsgUGh5c2ljc0JyaWRnZSB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9waHlzaWNzLWJyaWRnZVwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcG9zaXRpb25cIjtcbmltcG9ydCB7IFNoYXBlLCBTaGFwZVByaW1pdGl2ZSB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9zaGFwZVwiO1xuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9jb21tb24tc3RvcmVcIjtcbmltcG9ydCB7IENhbWVyYVN5c3RlbSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9jYW1lcmFcIjtcbmltcG9ydCB7IENvbGxpc2lvblN5c3RlbSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9jb2xsaXNpb25cIjtcbmltcG9ydCB7IEdjU3lzdGVtIH0gZnJvbSBcIi4uL2VuZ2luZS9zeXN0ZW1zL2djXCI7XG5pbXBvcnQgeyBJbnB1dFN5c3RlbSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9pbnB1dFwiO1xuaW1wb3J0IHsgUGh5c2ljc1N5c3RlbSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9waHlzaWNzXCI7XG5pbXBvcnQgeyBHYW1lU3RvcmUgfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcbmltcG9ydCB7IGdhbWVQcmVmYWIgfSBmcm9tIFwiLi4vcHJlZmFicy9nYW1lXCI7XG5pbXBvcnQgeyBzYXZhYmxlUHJlZmFiIH0gZnJvbSBcIi4uL3ByZWZhYnMvc2F2YWJsZVwiO1xuaW1wb3J0IHsgQWN0aW9uc1N5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL2FjdGlvbnNcIjtcbmltcG9ydCB7IENoYXJhY3RlclN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL2NoYXJhY3RlclwiO1xuaW1wb3J0IHsgUGF1c2VTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9wYXVzZVwiO1xuaW1wb3J0IHsgUmVuZGVyR2FtZVN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL3JlbmRlci1nYW1lXCI7XG5pbXBvcnQgeyBSZW5kZXJVSVN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL3JlbmRlci11aVwiO1xuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIGV4dGVuZHMgU3RhdGUge1xuICAgIF9zeXN0ZW1zID0gW1xuICAgICAgICBQaHlzaWNzU3lzdGVtLFxuICAgICAgICBDaGFyYWN0ZXJTeXN0ZW0sXG4gICAgICAgIENvbGxpc2lvblN5c3RlbSxcbiAgICAgICAgSW5wdXRTeXN0ZW0sXG4gICAgICAgIENhbWVyYVN5c3RlbSxcbiAgICAgICAgUGF1c2VTeXN0ZW0sXG4gICAgICAgIFJlbmRlckdhbWVTeXN0ZW0sXG4gICAgICAgIFJlbmRlclVJU3lzdGVtLFxuICAgICAgICBHY1N5c3RlbSxcbiAgICAgICAgQWN0aW9uc1N5c3RlbSxcbiAgICBdO1xuICAgIHNhdmVEYXRhUHJlZmFiSGFuZGxlPzogVEdyb3VwSGFuZGxlO1xuICAgIHN0YXRpY0RhdGFQcmVmYWJIYW5kbGU/OiBUR3JvdXBIYW5kbGU7XG5cbiAgICBnYW1lU3RvcmUhOiBHYW1lU3RvcmU7XG4gICAgY29tbW9uU3RvcmUhOiBDb21tb25TdG9yZTtcblxuICAgIGFjdGl2YXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xuICAgICAgICBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSkuY3VycmVudFN0YXRlID0gdGhpcztcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGUoYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcbiAgICAgICAgdGhpcy5nYW1lU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSlcblxuICAgICAgICB0aGlzLnN0YXRpY0RhdGFQcmVmYWJIYW5kbGUgPSBjcmVhdGVOZXdHYW1lKGFjdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdG9yZS5jb250aW51ZSkge1xuICAgICAgICAgICAgdGhpcy5zYXZlRGF0YVByZWZhYkhhbmRsZSA9IGxvYWQoYWN0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNhdmVEYXRhUHJlZmFiSGFuZGxlID0gY3JlYXRlR2FtZUZyb21TYXZlRGF0YShhY3Rpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGFjdGlvbnMuZmx1c2hDb21tYW5kcygpO1xuXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGFjdGlvbnMuZ2V0RW50aXRpZXMobmV3IFF1ZXJ5KFtcbiAgICAgICAgICAgIFdpdGgoU2hhcGUpXG4gICAgICAgIF0pKSkge1xuICAgICAgICAgICAgZW50aXR5LmdldENvbXBvbmVudChTaGFwZSk/LmJ1aWxkKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbml0IFBoeXNpY3NCcmlkZ2UgdG8gcmVhbCBwaHlzaWNzXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGIyV29ybGQsXG4gICAgICAgICAgICBiMkNpcmNsZVNoYXBlLFxuICAgICAgICAgICAgYjJTaGFwZSxcbiAgICAgICAgICAgIGIyUG9seWdvblNoYXBlLFxuICAgICAgICAgICAgYjJCb2R5RGVmLFxuICAgICAgICAgICAgYjJfZHluYW1pY0JvZHksXG4gICAgICAgICAgICBiMlZlYzIsXG4gICAgICAgICAgICBkZXN0cm95LFxuICAgICAgICB9ID0gdGhpcy5jb21tb25TdG9yZS5waHlzaWNzTmFtZXNwYWNlO1xuXG4gICAgICAgIGNvbnN0IHBoeXNXb3JsZCA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoYjJXb3JsZCk7XG5cbiAgICAgICAgY29uc3QgemVybyA9IHRoaXMuY29tbW9uU3RvcmUucGh5c2ljc1plcm87XG5cbiAgICAgICAgbGV0IHBoeXNTaGFwZTogQm94MkQuYjJTaGFwZSB8IG51bGwgPSBudWxsO1xuXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGFjdGlvbnMuZ2V0RW50aXRpZXMobmV3IFF1ZXJ5KFtcbiAgICAgICAgICAgIFdpdGgoU2hhcGUpLFxuICAgICAgICAgICAgV2l0aChQb3NpdGlvbiksXG4gICAgICAgICAgICBXaXRoKFBoeXNpY3NCcmlkZ2UpXG4gICAgICAgIF0pKSkge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gZW50aXR5LmdldENvbXBvbmVudChQb3NpdGlvbikhO1xuICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFNoYXBlKSE7XG4gICAgICAgICAgICBjb25zdCBwaHlzaWNzQnJpZGdlID0gZW50aXR5LmdldENvbXBvbmVudChQaHlzaWNzQnJpZGdlKSE7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgdG8gcGh5c2ljcyB3b3JsZDonLCBwb3MsIHNoYXBlKTtcblxuICAgICAgICAgICAgY29uc3QgdmVjID0gbmV3IGIyVmVjMihwb3MueCwgcG9zLnkpO1xuICAgICAgICAgICAgY29uc3QgYmQgPSBuZXcgYjJCb2R5RGVmKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHt3LCBofSA9IHNoYXBlLmdldEJCb3goKTtcblxuICAgICAgICAgICAgaWYgKHNoYXBlLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuUmVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9zaGFwZSA9IG5ldyBiMlBvbHlnb25TaGFwZSgpO1xuICAgICAgICAgICAgICAgIF9zaGFwZS5TZXRBc0JveCh3LCBoKTtcbiAgICAgICAgICAgICAgICBwaHlzU2hhcGUgPSBfc2hhcGU7XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGUucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5DaXJjbGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfc2hhcGUgPSBuZXcgYjJDaXJjbGVTaGFwZSgpO1xuICAgICAgICAgICAgICAgIF9zaGFwZS5zZXRfbV9yYWRpdXMoc2hhcGUuZGltZW5zaW9ucy54IC8gMik7XG4gICAgICAgICAgICAgICAgcGh5c1NoYXBlID0gX3NoYXBlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHNoYXBlLnByaW1pdGl2ZSwgJ2lzIG5vdCBzdXBwb3J0ZWQgYnkgcGh5c2ljcyBub3cnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBoeXNTaGFwZSkge1xuICAgICAgICAgICAgICAgIGJkLnNldF90eXBlKGIyX2R5bmFtaWNCb2R5KTtcbiAgICAgICAgICAgICAgICBiZC5zZXRfcG9zaXRpb24odmVjKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBwaHlzV29ybGQuQ3JlYXRlQm9keShiZCk7XG4gICAgICAgICAgICAgICAgdmVjLlNldCgwLCAwKTtcbiAgICAgICAgICAgICAgICBib2R5LlNldFRyYW5zZm9ybSh2ZWMsIDApO1xuICAgICAgICAgICAgICAgIGJvZHkuQ3JlYXRlRml4dHVyZShwaHlzU2hhcGUsIDEpO1xuXG4gICAgICAgICAgICAgICAgZGVzdHJveSh2ZWMpO1xuICAgICAgICAgICAgICAgIGRlc3Ryb3kocGh5c1NoYXBlKTtcblxuICAgICAgICAgICAgICAgIGJvZHkuU2V0TGluZWFyVmVsb2NpdHkoemVybyk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogY29udHJvbCB2aWEgcGh5c2ljcyBzeXN0ZW0/XG4gICAgICAgICAgICAgICAgYm9keS5TZXRBd2FrZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBib2R5LlNldEVuYWJsZWQodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICBwaHlzaWNzQnJpZGdlLmJvZHlQdHIgPSBib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWN0aW9ucy5jb21tYW5kcy5xdWV1ZUNvbW1hbmQoKCkgPT4gc2V0U2NvcmVDYXB0aW9uTW9kKGFjdGlvbnMpKTtcbiAgICAgICAgYWN0aW9ucy5jb21tYW5kcy5tYWludGFpbigpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRpY0RhdGFQcmVmYWJIYW5kbGUpIHtcbiAgICAgICAgICAgIGFjdGlvbnMuY29tbWFuZHMudW5sb2FkUHJlZmFiKHRoaXMuc3RhdGljRGF0YVByZWZhYkhhbmRsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zYXZlRGF0YVByZWZhYkhhbmRsZSkge1xuICAgICAgICAgICAgYWN0aW9ucy5jb21tYW5kcy51bmxvYWRQcmVmYWIodGhpcy5zYXZlRGF0YVByZWZhYkhhbmRsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBwaHlzaWNzTmFtZXNwYWNlOiB7XG4gICAgICAgICAgICAgICAgYjJXb3JsZCxcbiAgICAgICAgICAgICAgICBkZXN0cm95XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gPSB0aGlzLmNvbW1vblN0b3JlO1xuXG4gICAgICAgIGRlc3Ryb3koYWN0aW9ucy5nZXRSZXNvdXJjZShiMldvcmxkKSk7XG5cbiAgICAgICAgYWN0aW9ucy5jb21tYW5kcy5tYWludGFpbigpO1xuICAgIH1cbn1cblxuY29uc3QgY3JlYXRlTmV3R2FtZSA9IGZ1bmN0aW9uIChhY3Rpb25zOiBJVHJhbnNpdGlvbkFjdGlvbnMpIHtcbiAgICByZXR1cm4gYWN0aW9ucy5jb21tYW5kcy5sb2FkKFxuICAgICAgICBTZXJpYWxGb3JtYXQuZnJvbUFycmF5KGdhbWVQcmVmYWIpKTtcbn07XG5cbmNvbnN0IGNyZWF0ZUdhbWVGcm9tU2F2ZURhdGEgPSBmdW5jdGlvbiAoYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKSB7XG4gICAgcmV0dXJuIGFjdGlvbnMuY29tbWFuZHMubG9hZChcbiAgICAgICAgU2VyaWFsRm9ybWF0LmZyb21BcnJheShzYXZhYmxlUHJlZmFiKSk7XG59OyIsImltcG9ydCB7SVRyYW5zaXRpb25BY3Rpb25zLCBTZXJpYWxGb3JtYXQsIFN0YXRlLCBUR3JvdXBIYW5kbGV9IGZyb20gXCJzaW0tZWNzXCI7XG5pbXBvcnQge21lbnVQcmVmYWJ9IGZyb20gXCIuLi9wcmVmYWJzL21lbnVcIjtcbmltcG9ydCB7TWVudVN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvbWVudVwiO1xuaW1wb3J0IHtSZW5kZXJVSVN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvcmVuZGVyLXVpXCI7XG5pbXBvcnQge0dhbWVTdG9yZX0gZnJvbSBcIi4uL21vZGVscy9nYW1lLXN0b3JlXCI7XG5pbXBvcnQgeyBJbnB1dFN5c3RlbSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9pbnB1dFwiO1xuaW1wb3J0IHsgQWN0aW9uc1N5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL2FjdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIE1lbnVTdGF0ZSBleHRlbmRzIFN0YXRlIHtcbiAgICBfc3lzdGVtcyA9IFtJbnB1dFN5c3RlbSwgQWN0aW9uc1N5c3RlbSwgTWVudVN5c3RlbSwgUmVuZGVyVUlTeXN0ZW1dO1xuICAgIHByZWZhYkhhbmRsZSE6IFRHcm91cEhhbmRsZTtcblxuICAgIGFjdGl2YXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xuICAgICAgICBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSkuY3VycmVudFN0YXRlID0gdGhpcztcbiAgICAgICAgdGhpcy5wcmVmYWJIYW5kbGUgPSBhY3Rpb25zLmNvbW1hbmRzLmxvYWQoU2VyaWFsRm9ybWF0LmZyb21BcnJheShtZW51UHJlZmFiKSk7XG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcbiAgICB9XG5cbiAgICBkZWFjdGl2YXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xuICAgICAgICBhY3Rpb25zLmNvbW1hbmRzLnVubG9hZFByZWZhYih0aGlzLnByZWZhYkhhbmRsZSk7XG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0lUcmFuc2l0aW9uQWN0aW9ucywgU2VyaWFsRm9ybWF0LCBTdGF0ZSwgVEdyb3VwSGFuZGxlfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHtQYXVzZVN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvcGF1c2VcIjtcbmltcG9ydCB7cGF1c2VQcmVmYWJ9IGZyb20gXCIuLi9wcmVmYWJzL3BhdXNlXCI7XG5pbXBvcnQge0dhbWVTdG9yZX0gZnJvbSBcIi4uL21vZGVscy9nYW1lLXN0b3JlXCI7XG5pbXBvcnQge3NhdmV9IGZyb20gXCIuLi9hcHAvcGVyc2lzdGVuY2VcIjtcbmltcG9ydCB7UmVuZGVyVUlTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL3JlbmRlci11aVwiO1xuaW1wb3J0IHtSZW5kZXJHYW1lU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy9yZW5kZXItZ2FtZVwiO1xuaW1wb3J0IHsgSW5wdXRTeXN0ZW0gfSBmcm9tIFwiLi4vZW5naW5lL3N5c3RlbXMvaW5wdXRcIjtcbmltcG9ydCB7IEFjdGlvbnNTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9hY3Rpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBQYXVzZVN0YXRlIGV4dGVuZHMgU3RhdGUge1xuICAgIF9zeXN0ZW1zID0gW0lucHV0U3lzdGVtLCBBY3Rpb25zU3lzdGVtLCBQYXVzZVN5c3RlbSwgUmVuZGVyR2FtZVN5c3RlbSwgUmVuZGVyVUlTeXN0ZW1dO1xuICAgIHByZWZhYkhhbmRsZSE6IFRHcm91cEhhbmRsZTtcblxuXG4gICAgYWN0aXZhdGUoYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IGdhbWVTdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoR2FtZVN0b3JlKTtcbiAgICAgICAgc2F2ZShhY3Rpb25zKTtcblxuICAgICAgICBnYW1lU3RvcmUuY3VycmVudFN0YXRlID0gdGhpcztcbiAgICAgICAgdGhpcy5wcmVmYWJIYW5kbGUgPSBhY3Rpb25zLmNvbW1hbmRzLmxvYWQoU2VyaWFsRm9ybWF0LmZyb21BcnJheShwYXVzZVByZWZhYikpO1xuICAgICAgICBhY3Rpb25zLmNvbW1hbmRzLm1haW50YWluKCk7XG4gICAgfVxuXG4gICAgZGVhY3RpdmF0ZShhY3Rpb25zOiBJVHJhbnNpdGlvbkFjdGlvbnMpIHtcbiAgICAgICAgYWN0aW9ucy5jb21tYW5kcy51bmxvYWRQcmVmYWIodGhpcy5wcmVmYWJIYW5kbGUpO1xuICAgICAgICBhY3Rpb25zLmNvbW1hbmRzLm1haW50YWluKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSVN5c3RlbUFjdGlvbnMsIFN5c3RlbSB9IGZyb20gXCJzaW0tZWNzXCI7XG5pbXBvcnQgKiBhcyBLZXlDb2RlIGZyb20gJ2tleWNvZGUtanMnO1xuXG5pbXBvcnQgeyBFTW92ZW1lbnQgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9tb3ZlbWVudFwiO1xuaW1wb3J0IHsgRUtleVN0YXRlIH0gZnJvbSBcIi4uL2VuZ2luZS9zeXN0ZW1zL2lucHV0XCI7XG5pbXBvcnQgeyBHYW1lU3RvcmUgfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcbmltcG9ydCB7IENvbW1vblN0b3JlIH0gZnJvbSBcIi4uL2VuZ2luZS9tb2RlbHMvY29tbW9uLXN0b3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25zU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBnYW1lU3RvcmUhOiBHYW1lU3RvcmU7XG4gICAgY29tbW9uU3RvcmUhOiBDb21tb25TdG9yZTtcblxuICAgIHJlYWRvbmx5IGxpc3RlbmVycyA9IHtcbiAgICAgICAgYmx1cjogKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5jaGFyYWN0ZXJNb3ZlbWVudCA9IEVNb3ZlbWVudC5pZGxlO1xuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5tZW51TW92ZW1lbnQgPSBFTW92ZW1lbnQuaWRsZTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMudG9nZ2xlUGF1c2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS5pbnB1dC5rZXlTdGF0ZXMuY2xlYXIoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXM6ICgpID0+IHRoaXMubGlzdGVuZXJzLmJsdXIoKSxcbiAgICB9XG5cbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICB0aGlzLmNvbW1vblN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XG4gICAgICAgIHRoaXMuZ2FtZVN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpO1xuXG4gICAgICAgIGZvciAoY29uc3QgW2V2ZW50LCBoYW5kbGVyXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmxpc3RlbmVycykpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIGhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUFjdGlvbihcbiAgICAgICAgdHJpZ2dlcnM6IHN0cmluZ1tdLFxuICAgICAgICBwb3M6IEVNb3ZlbWVudCxcbiAgICAgICAgbmVnOiBFTW92ZW1lbnQsXG4gICAgICAgIG1lbnU/OiBFTW92ZW1lbnRcbiAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuY29tbW9uU3RvcmUuaW5wdXQuaXNBbnlLZXkodHJpZ2dlcnMsIEVLZXlTdGF0ZS5Eb3duKSkge1xuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5jaGFyYWN0ZXJNb3ZlbWVudCB8PSBwb3M7XG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLmNoYXJhY3Rlck1vdmVtZW50ICY9IH5uZWc7XG4gICAgICAgICAgICBpZiAobWVudSlcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLm1lbnVNb3ZlbWVudCA9IG1lbnU7IFxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29tbW9uU3RvcmUuaW5wdXQuaXNBbnlLZXlEaWZmZXJlbnQoXG4gICAgICAgICAgICB0cmlnZ2VycywgRUtleVN0YXRlLlVwKSkgeztcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMuY2hhcmFjdGVyTW92ZW1lbnQgJj0gfnBvcztcblxuICAgICAgICAgICAgaWYgKG1lbnUpXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5tZW51TW92ZW1lbnQgPSBFTW92ZW1lbnQuaWRsZTsgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgeyAvLyBSZXNldCBpbnB1dCBhY3Rpb25zXG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLm1lbnVDb25maXJtID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLm1lbnVNb3ZlbWVudCA9IEVNb3ZlbWVudC5pZGxlO1xuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy50b2dnbGVQYXVzZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgfSA9IHRoaXMuY29tbW9uU3RvcmU7XG5cbiAgICAgICAgaWYgKGlucHV0Lndhc0tleVByZXNzZWQoS2V5Q29kZS5DT0RFX0VOVEVSKSkge1xuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5tZW51Q29uZmlybSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQud2FzS2V5UHJlc3NlZChLZXlDb2RlLkNPREVfRVNDQVBFKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coaW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy50b2dnbGVQYXVzZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZUFjdGlvbihcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBLZXlDb2RlLkNPREVfVyxcbiAgICAgICAgICAgICAgICBLZXlDb2RlLkNPREVfVVBcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBFTW92ZW1lbnQudXAsXG4gICAgICAgICAgICBFTW92ZW1lbnQuZG93bixcbiAgICAgICAgICAgIEVNb3ZlbWVudC51cFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMudXBkYXRlQWN0aW9uKFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIEtleUNvZGUuQ09ERV9BLFxuICAgICAgICAgICAgICAgIEtleUNvZGUuQ09ERV9MRUZUXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgRU1vdmVtZW50LmxlZnQsXG4gICAgICAgICAgICBFTW92ZW1lbnQucmlnaHRcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUFjdGlvbihcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBLZXlDb2RlLkNPREVfUyxcbiAgICAgICAgICAgICAgICBLZXlDb2RlLkNPREVfRE9XTlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIEVNb3ZlbWVudC5kb3duLFxuICAgICAgICAgICAgRU1vdmVtZW50LnVwLFxuICAgICAgICAgICAgRU1vdmVtZW50LmRvd25cbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUFjdGlvbihcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBLZXlDb2RlLkNPREVfRCxcbiAgICAgICAgICAgICAgICBLZXlDb2RlLkNPREVfUklHSFRcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBFTW92ZW1lbnQucmlnaHQsXG4gICAgICAgICAgICBFTW92ZW1lbnQubGVmdFxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBDT0RFX0UsIENPREVfUSB9IGZyb20gXCJrZXljb2RlLWpzXCI7XG5pbXBvcnQge0lTeXN0ZW1BY3Rpb25zLCBRdWVyeSwgUmVhZCwgUmVhZEVudGl0eSwgU3lzdGVtLCBXaXRoVGFnLCBXcml0ZX0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBSb3RhdGlvbiB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9yb3RhdGlvblwiO1xuaW1wb3J0IHsgVmVsb2NpdHkgfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvdmVsb2NpdHlcIjtcbmltcG9ydCB7IENhbWVyYSwgQ2FtZXJhRm9sbG93TWV0aG9kIH0gZnJvbSBcIi4uL2VuZ2luZS9tb2RlbHMvY2FtZXJhXCI7XG5pbXBvcnQgeyBDb21tb25TdG9yZSB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL2NvbW1vbi1zdG9yZVwiO1xuaW1wb3J0IHsgRU1vdmVtZW50IH0gZnJvbSBcIi4uL2VuZ2luZS9tb2RlbHMvbW92ZW1lbnRcIjtcbmltcG9ydCB7IEVLZXlTdGF0ZSB9IGZyb20gXCIuLi9lbmdpbmUvc3lzdGVtcy9pbnB1dFwiO1xuaW1wb3J0IHsgR2FtZVN0b3JlIH0gZnJvbSBcIi4uL21vZGVscy9nYW1lLXN0b3JlXCI7XG5pbXBvcnQgeyBFVGFncyB9IGZyb20gXCIuLi9tb2RlbHMvdGFnc1wiO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBxdWVyeSA9IG5ldyBRdWVyeSh7XG4gICAgICAgIF9jaGFyYWN0ZXI6IFdpdGhUYWcoRVRhZ3MuY2hhcmFjdGVyKSxcbiAgICAgICAgZW50aXR5OiBSZWFkRW50aXR5KCksXG4gICAgICAgIHBvczogUmVhZChQb3NpdGlvbiksXG4gICAgICAgIHJvdGF0aW9uOiBXcml0ZShSb3RhdGlvbiksXG4gICAgICAgIHZlbG9jaXR5OiBXcml0ZShWZWxvY2l0eSksXG4gICAgfSk7XG5cbiAgICBnYW1lU3RvcmUhOiBHYW1lU3RvcmU7XG4gICAgY29tbW9uU3RvcmUhOiBDb21tb25TdG9yZTtcbiAgICBjYW1lcmEhOiBDYW1lcmE7XG4gICAgY3R4ITogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gICAgc2V0dXAoYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jdHggPSBhY3Rpb25zLmdldFJlc291cmNlKENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk7XG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcbiAgICAgICAgdGhpcy5nYW1lU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSk7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDYW1lcmEpO1xuXG4gICAgICAgIHRoaXMuY2FtZXJhLmVsYXN0aWNpdHkgPSAwLjAwODtcblxuICAgICAgICB0aGlzLmNhbWVyYS5mb2xsb3cgPSB7XG4gICAgICAgICAgICBtZXRob2Q6IENhbWVyYUZvbGxvd01ldGhvZC5FbGFzdGljLFxuICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5jYW1lcmEueCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNhbWVyYS55LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZXZYOiB0aGlzLmNhbWVyYS54LFxuICAgICAgICAgICAgcHJldlk6IHRoaXMuY2FtZXJhLnksXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBydW5zID0gMFxuXG4gICAgcnVuKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY2FtZXJhLnpvb20gKz0gdGhpcy5jb21tb25TdG9yZS5pbnB1dC53aGVlbCAvIDEwO1xuXG4gICAgICAgIHRoaXMucXVlcnkuZXhlY3V0ZSgoe3JvdGF0aW9uLCBwb3MsIHZlbG9jaXR5fSkgPT4ge1xuICAgICAgICAgICAgLy8gZGVsZXRlIHRlc3QgcGFzc2VkLlxuICAgICAgICAgICAgLy8gaWYgKHRoaXMuY2FtZXJhLnpvb20gPCAwLjgpIHtcbiAgICAgICAgICAgIC8vICAgICBlbnRpdHkuYWRkVGFnKEVUYWdzLmRlc3Ryb3lFbnRpdHkpO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5jb21tb25TdG9yZS5pbnB1dC5pc0tleURvd24oQ09ERV9FKSkge1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uLnZhbHVlICs9IDAuMDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbW1vblN0b3JlLmlucHV0LmlzS2V5RG93bihDT0RFX1EpKSB7XG4gICAgICAgICAgICAgICAgcm90YXRpb24udmFsdWUgLT0gMC4wMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jYW1lcmEuZm9sbG93IS50YXJnZXQgPSBwb3M7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5mb2xsb3chLnRhcmdldEFuZ2xlID0gcm90YXRpb24udmFsdWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGR0ID0gdGhpcy5jb21tb25TdG9yZS5sYXN0RnJhbWVEZWx0YVRpbWU7XG5cbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJNb3ZlbWVudDogbW92ZVxuICAgICAgICAgICAgfSA9IHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnM7XG5cbiAgICAgICAgICAgIGNvbnN0IGlzTGVmdCA9IChtb3ZlICYgRU1vdmVtZW50LmxlZnQpID09PSBFTW92ZW1lbnQubGVmdDtcbiAgICAgICAgICAgIGNvbnN0IGlzUmlnaHQgPSAobW92ZSAmIEVNb3ZlbWVudC5yaWdodCkgPT09IEVNb3ZlbWVudC5yaWdodDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmVsb2NpdHkueCA9IDA7XG5cbiAgICAgICAgICAgIGlmIChpc0xlZnQgJiYgIWlzUmlnaHQpIHtcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS54ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNSaWdodCAmJiAhaXNMZWZ0KSB7XG4gICAgICAgICAgICAgICAgdmVsb2NpdHkueCA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgobW92ZSAmIEVNb3ZlbWVudC51cCkgPT09IEVNb3ZlbWVudC51cCkge1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5LnkgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChtb3ZlICYgRU1vdmVtZW50LmRvd24pID09PSBFTW92ZW1lbnQuZG93bikge1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5LnkgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS55ID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIHg6IHZ4LCBcbiAgICAgICAgICAgICAgICB5OiB2eVxuICAgICAgICAgICAgfSA9IHZlbG9jaXR5O1xuXG4gICAgICAgICAgICBjb25zdCBbc2luLCBjb3NdID0gcm90YXRpb24uc2luX2NvcztcblxuICAgICAgICAgICAgdmVsb2NpdHkueCA9IHZ4ICogY29zIC0gdnkgKiBzaW47XG4gICAgICAgICAgICB2ZWxvY2l0eS55ID0gdnggKiBzaW4gKyB2eSAqIGNvcztcblxuICAgICAgICAgICAgdmVsb2NpdHkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB2ZWxvY2l0eS5zY2FsZShkdCAqIDYwICogMik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFF1ZXJ5LCBTeXN0ZW0sIFdyaXRlfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHtVSUl0ZW19IGZyb20gXCIuLi9jb21wb25lbnRzL3VpLWl0ZW1cIjtcbmltcG9ydCB7R2FtZVN0b3JlfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcbmltcG9ydCB7RUFjdGlvbnN9IGZyb20gXCIuLi9hcHAvYWN0aW9uc1wiO1xuaW1wb3J0IHtHYW1lU3RhdGV9IGZyb20gXCIuLi9zdGF0ZXMvZ2FtZVwiO1xuaW1wb3J0IHsgTWVudVN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlcy9tZW51XCI7XG5pbXBvcnQgeyBFTW92ZW1lbnQgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9tb3ZlbWVudFwiO1xuXG5leHBvcnQgY2xhc3MgTWVudVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgX3N0YXRlcyA9IFtcbiAgICAgICAgR2FtZVN0YXRlLFxuICAgICAgICBNZW51U3RhdGVcbiAgICBdXG5cbiAgICByZWFkb25seSBxdWVyeSA9IG5ldyBRdWVyeSh7XG4gICAgICAgIHVpSXRlbTogV3JpdGUoVUlJdGVtKVxuICAgIH0pO1xuXG4gICAgYWN0aW9ucyE6IElTeXN0ZW1BY3Rpb25zXG4gICAgZ2FtZVN0b3JlITogR2FtZVN0b3JlO1xuICAgIG1lbnVBY3Rpb24gPSBFQWN0aW9ucy5QbGF5O1xuXG4gICAgc2V0dXAoYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9ucztcbiAgICAgICAgdGhpcy5nYW1lU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZXR1cCBNZW51Jyk7XG4gICAgfVxuXG4gICAgcnVuKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIC8vIHRvZG86IHVzZSBpbmRleFxuICAgICAgICBpZiAodGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5tZW51TW92ZW1lbnQgPT0gRU1vdmVtZW50LmRvd24pIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5tZW51QWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBFQWN0aW9ucy5QbGF5OiB0aGlzLm1lbnVBY3Rpb24gPSBFQWN0aW9ucy5Db250aW51ZTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQWN0aW9ucy5Db250aW51ZTogdGhpcy5tZW51QWN0aW9uID0gRUFjdGlvbnMuRXhpdDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQWN0aW9ucy5FeGl0OiB0aGlzLm1lbnVBY3Rpb24gPSBFQWN0aW9ucy5QbGF5OyBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uICR7dGhpcy5tZW51QWN0aW9ufSBub3QgaW1wbGVtZW50ZWQhYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMubWVudU1vdmVtZW50ID09IEVNb3ZlbWVudC51cCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm1lbnVBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIEVBY3Rpb25zLlBsYXk6IHRoaXMubWVudUFjdGlvbiA9IEVBY3Rpb25zLkV4aXQ7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUFjdGlvbnMuQ29udGludWU6IHRoaXMubWVudUFjdGlvbiA9IEVBY3Rpb25zLlBsYXk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUFjdGlvbnMuRXhpdDogdGhpcy5tZW51QWN0aW9uID0gRUFjdGlvbnMuQ29udGludWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gJHt0aGlzLm1lbnVBY3Rpb259IG5vdCBpbXBsZW1lbnRlZCFgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5tZW51Q29uZmlybSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWVudUFjdGlvbiA9PSBFQWN0aW9ucy5QbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmNvbW1hbmRzLnB1c2hTdGF0ZShHYW1lU3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5tZW51QWN0aW9uID09IEVBY3Rpb25zLkNvbnRpbnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzYXZlJykgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgnU29ycnkgeW91IHdlcmVudCBzYXZlZCBsb2wnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmNvbnRpbnVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMuY29tbWFuZHMucHVzaFN0YXRlKEdhbWVTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMuY29tbWFuZHMuc3RvcFJ1bigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHt1aUl0ZW19IG9mIHRoaXMucXVlcnkuaXRlcigpKSB7XG4gICAgICAgICAgICB1aUl0ZW0uYWN0aXZlID0gdWlJdGVtLmFjdGlvbiA9PSB0aGlzLm1lbnVBY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0lTeXN0ZW1BY3Rpb25zLCBRdWVyeSwgUmVhZCwgU3lzdGVtfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9jb21tb24tc3RvcmVcIjtcbmltcG9ydCB7R2FtZVN0b3JlfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcbmltcG9ydCB7R2FtZVN0YXRlfSBmcm9tIFwiLi4vc3RhdGVzL2dhbWVcIjtcbmltcG9ydCB7UGF1c2VTdGF0ZX0gZnJvbSBcIi4uL3N0YXRlcy9wYXVzZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBQYXVzZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgYWN0aW9ucyE6IElTeXN0ZW1BY3Rpb25zXG4gICAgZ2FtZVN0b3JlITogR2FtZVN0b3JlO1xuICAgIGNvbW1vblN0b3JlITogQ29tbW9uU3RvcmU7XG5cbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zO1xuICAgICAgICB0aGlzLmdhbWVTdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoR2FtZVN0b3JlKTtcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xuXG4gICAgICAgIC8vIGlmIG9ubHkgd2UgY291bGQgY3JlYXRlIGFuIGlubGluZSBmdW5jdGlvbi4uLlxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzR2FtZVN0YXRlID0gdGhpcy5nYW1lU3RvcmUuY3VycmVudFN0YXRlPy5jb25zdHJ1Y3RvciA9PSBHYW1lU3RhdGU7XG4gICAgICAgICAgICBjb25zdCBpc1BhdXNlU3RhdGUgPSB0aGlzLmdhbWVTdG9yZS5jdXJyZW50U3RhdGU/LmNvbnN0cnVjdG9yID09IFBhdXNlU3RhdGU7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKCFpc0dhbWVTdGF0ZSAmJiAhaXNQYXVzZVN0YXRlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKCFpc1BhdXNlU3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMuY29tbWFuZHMucHVzaFN0YXRlKFBhdXNlU3RhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uU3RvcmUud2FzQmx1cnJlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLndhc0JsdXJyZWQgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5jb21tb25TdG9yZS53YXNJbnRlbnRpb25hbGx5UGF1c2VkXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMuY29tbWFuZHMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcnVuKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IGlzR2FtZVN0YXRlID0gdGhpcy5nYW1lU3RvcmUuY3VycmVudFN0YXRlPy5jb25zdHJ1Y3RvciA9PSBHYW1lU3RhdGU7XG4gICAgICAgIGNvbnN0IGlzUGF1c2VTdGF0ZSA9IHRoaXMuZ2FtZVN0b3JlLmN1cnJlbnRTdGF0ZT8uY29uc3RydWN0b3IgPT0gUGF1c2VTdGF0ZTtcblxuICAgICAgICBpZiAoIWlzR2FtZVN0YXRlICYmICFpc1BhdXNlU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLnRvZ2dsZVBhdXNlKSB7XG4gICAgICAgICAgICBpZiAoaXNHYW1lU3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLndhc0ludGVudGlvbmFsbHlQYXVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5jb21tYW5kcy5wdXNoU3RhdGUoUGF1c2VTdGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uU3RvcmUud2FzSW50ZW50aW9uYWxseVBhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5jb21tYW5kcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJU3lzdGVtQWN0aW9ucywgUXVlcnksIFJlYWQsIFN5c3RlbSwgV3JpdGV9IGZyb20gXCJzaW0tZWNzXCI7XG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9tYXRlcmlhbFwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcG9zaXRpb25cIjtcbmltcG9ydCB7IFJvdGF0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZS9jb21wb25lbnRzL3JvdGF0aW9uXCI7XG5pbXBvcnQgeyBTaGFwZSwgU2hhcGVQcmltaXRpdmUsIFNoYXBlUGl2b3ROYW1lcyB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9zaGFwZVwiO1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uL2VuZ2luZS9tb2RlbHMvY2FtZXJhXCI7XG5pbXBvcnQgeyBDb21tb25TdG9yZSB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL2NvbW1vbi1zdG9yZVwiO1xuaW1wb3J0IHsgSVJlY3QsIFJlY3QgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9yZWN0XCI7XG5pbXBvcnQgeyBQSVhFTFNfUEVSX01FVEVSLCBUV09QSSwgZHJhd1BvaW50IH0gZnJvbSBcIi4uL2VuZ2luZS91dGlsXCI7XG5pbXBvcnQgeyBHYW1lU3RvcmUgfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcblxuZXhwb3J0IGNsYXNzIFJlbmRlckdhbWVTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IHF1ZXJ5ID0gbmV3IFF1ZXJ5KHtcbiAgICAgICAgcG9zOiBSZWFkKFBvc2l0aW9uKSxcbiAgICAgICAgcm90OiBXcml0ZShSb3RhdGlvbiksXG4gICAgICAgIHNoYXBlOiBSZWFkKFNoYXBlKSxcbiAgICAgICAgbWF0ZXJpYWw6IFJlYWQoTWF0ZXJpYWwpLFxuICAgIH0pO1xuXG4gICAgY3R4ITogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIGdhbWVTdG9yZSE6IEdhbWVTdG9yZTtcbiAgICBjb21tb25TdG9yZSE6IENvbW1vblN0b3JlO1xuICAgIGNhbWVyYSE6IENhbWVyYTtcblxuICAgIC8vIFRPRE86IHJlbW92ZVxuICAgIGNvbnRyb2xzITogSFRNTEVsZW1lbnQ7XG5cbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucyk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5jdHggPSBhY3Rpb25zLmdldFJlc291cmNlKENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk7XG4gICAgICAgIHRoaXMuZ2FtZVN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpO1xuICAgICAgICB0aGlzLmNvbW1vblN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDYW1lcmEpO1xuXG4gICAgICAgIHRoaXMuY29udHJvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udHJvbHMnKSE7XG4gICAgfVxuXG4gICAgcnVucyA9IDA7XG5cbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgdmlld3BvcnQ6IElSZWN0ID0ge1xuICAgICAgICAgICAgeDogdGhpcy5jYW1lcmEueCArIHRoaXMuY2FtZXJhLm9mZnNldC54LFxuICAgICAgICAgICAgeTogdGhpcy5jYW1lcmEueSArIHRoaXMuY2FtZXJhLm9mZnNldC55LFxuICAgICAgICAgICAgdzogdGhpcy5jdHguY2FudmFzLndpZHRoIC8gKHRoaXMuY2FtZXJhLnpvb20qUElYRUxTX1BFUl9NRVRFUiksXG4gICAgICAgICAgICBoOiB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0IC8gKHRoaXMuY2FtZXJhLnpvb20qUElYRUxTX1BFUl9NRVRFUiksXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jYW1lcmEudmlld3BvcnQgPSB2aWV3cG9ydDtcblxuICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgICAgIHRoaXMuY3R4LnNjYWxlKFxuICAgICAgICAgICAgUElYRUxTX1BFUl9NRVRFUip0aGlzLmNhbWVyYS56b29tLFxuICAgICAgICAgICAgUElYRUxTX1BFUl9NRVRFUip0aGlzLmNhbWVyYS56b29tXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKFxuICAgICAgICAgICAgLXZpZXdwb3J0LngsXG4gICAgICAgICAgICAtdmlld3BvcnQueVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLngsXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS55XG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY3R4LnJvdGF0ZSh0aGlzLmNhbWVyYS5yb3RhdGlvbik7XG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShcbiAgICAgICAgICAgIC10aGlzLmNhbWVyYS54LFxuICAgICAgICAgICAgLXRoaXMuY2FtZXJhLnlcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNvbW1vblN0b3JlLndvcmxkVG9TY3JlZW4gPSB0aGlzLmN0eC5nZXRUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZS5zY3JlZW5Ub1dvcmxkID0gdGhpcy5jdHguZ2V0VHJhbnNmb3JtKCkuaW52ZXJzZSgpO1xuXG4gICAgICAgIC8vbXgsbXkgLSBjdXJzb3IgY29vcmRzIGluIFNjcmVlbiBzcGFjZVxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB4Om14LCB5Om15XG4gICAgICAgIH0gPSB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmN1cnNvclBvcztcblxuICAgICAgICAvLyB0cmFuc2Zvcm0gbWF0cml4IHNpZ25pZmljYXQgdmFsdWVzXG4gICAgICAgIFxuXG4gICAgICAgIC8vIGN1cnNvciBjb29yZHMgaW4gd29ybGQgc3BhY2VcbiAgICAgICAgXG5cbiAgICAgICAgY29uc3Qgcm93cyA9IDEwO1xuICAgICAgICBjb25zdCBjb2xzID0gMTg7XG5cbiAgICAgICAgY29uc3QgcGVyQ29sID0gdGhpcy5jdHguY2FudmFzLndpZHRoLyhjb2xzKlBJWEVMU19QRVJfTUVURVIpO1xuICAgICAgICBjb25zdCBwZXJSb3cgPSB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0Lyhyb3dzKlBJWEVMU19QRVJfTUVURVIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbHM7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBqICogcGVyQ29sO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBpICogcGVyUm93O1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDIvMzI7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAnI2RhZGFkYSc7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdChcbiAgICAgICAgICAgICAgICAgICAgeCx5LCBwZXJDb2wsIHBlclJvd1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpdGVyID0gQXJyYXkuZnJvbSh0aGlzLnF1ZXJ5Lml0ZXIoKSk7XG5cbiAgICAgICAgdGhpcy5jb21tb25TdG9yZS5kcmF3YWJsZXMgPSBpdGVyLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBkcmF3YWJsZXMgPSBpdGVyLmZpbHRlcihcbiAgICAgICAgICAgICh7cG9zLCBzaGFwZX0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJib3ggPSBzaGFwZS5nZXRCQm94KCk7XG4gICAgICAgICAgICBjb25zdCByOiBJUmVjdCA9IHtcbiAgICAgICAgICAgICAgICB4OiBwb3MueCArIGJib3gueCxcbiAgICAgICAgICAgICAgICB5OiBwb3MueSArIGJib3gueSxcbiAgICAgICAgICAgICAgICB3OiBiYm94LncsXG4gICAgICAgICAgICAgICAgaDogYmJveC5oLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaW5WaWV3ID0gUmVjdC5jaGVja0ludGVyc2VjdHMociwgdmlld3BvcnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gaW5WaWV3O1xuICAgICAgICB9KVxuICAgICAgICAuc29ydCgoe3NoYXBlOiBhfSwge3NoYXBlOiBifSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUucmVuZGVyZWQgPSBkcmF3YWJsZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHJhd2FibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB7cG9zLCBzaGFwZSwgcm90LCBtYXRlcmlhbH0gPSBkcmF3YWJsZXNbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHBvcywgc2hhcGUsIG1hdGVyaWFsLCByb3QgYXMgUm90YXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIGRyYXdTaGFwZShwb3M6IFBvc2l0aW9uLCBzaGFwZTogU2hhcGUsIG1hdGVyaWFsOiBNYXRlcmlhbCwgcm90OiBSb3RhdGlvbikge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB4OiB3LCB5OiBoXG4gICAgICAgIH0gPSBzaGFwZS5kaW1lbnNpb25zO1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHg6IGJ4LCB5OiBieSxcbiAgICAgICAgICAgIHc6IGJ3LCBoOiBiaCxcbiAgICAgICAgfSA9IHNoYXBlLmdldEJCb3goKTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB4LCB5XG4gICAgICAgIH0gPSBwb3M7XG5cbiAgICAgICAgLy8gVE9ETzogb25lIHN5c3RlbSB0aGF0IGNoZWNrcyBhbGwgcmF5Y2FzdHNcbiAgICAgICAgLy8gUmVjdC5jaGVja1BvaW50SW5zaWRlKHIsIG1vdXNlKTtcblxuICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICAgICAgdGhpcy5jdHgucm90YXRlKHJvdC52YWx1ZSk7XG5cbiAgICAgICAgLy8gVE9ETzogbWF0ZXJpYWwgb3B0aW9uc1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBtYXRlcmlhbC5jb2xvcjtcblxuICAgICAgICBpZiAoc2hhcGUucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5SZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsUmVjdChieCwgYnksIHcsIGgpO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuQ2lyY2xlKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmFyYyhieCt3LzIsIGJ4K3cvMiwgdy8yLCAwLCBUV09QSSk7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGUucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5NZXNoXG4gICAgICAgICAgICAmJiBzaGFwZS5tZXNoKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgY29uc3Qge29mZnNldFgsIG9mZnNldFl9ID0gc2hhcGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgIGkgPCBzaGFwZS5tZXNoLnZlcnRpY2llcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgKytpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7eDpkeCwgeTpkeX0gPSBzaGFwZS5tZXNoLnZlcnRpY2llc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8oZHgrb2Zmc2V0WCwgZHkrb2Zmc2V0WSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY29tbW9uU3RvcmUuZGVidWdTaGFwZXMpIHtcbiAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjZmZmJztcbiAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSAnMC4xcmVtIEFyaWFsJztcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KGBaPSR7XG4gICAgICAgICAgICAgICAgc2hhcGUuekluZGV4XG4gICAgICAgICAgICB9LHg9JHtNYXRoLmZsb29yKHgpfSx5PSR7TWF0aC5mbG9vcih5KX1gLCAwLCAtYnktMik7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChgUGl2b3Q9JHtTaGFwZVBpdm90TmFtZXNbc2hhcGUucGl2b3RdfWAsIDAsIC1ieS0zKTtcblxuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAnI2YwZic7XG4gICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gMDtcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDAuMTtcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QoXG4gICAgICAgICAgICAgICAgYnggLSBwYWRkaW5nLFxuICAgICAgICAgICAgICAgIGJ5IC0gcGFkZGluZyxcbiAgICAgICAgICAgICAgICBidyArIHBhZGRpbmcqMixcbiAgICAgICAgICAgICAgICBiaCArIHBhZGRpbmcqMlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcblxuICAgICAgICAgICAgZHJhd1BvaW50KHRoaXMuY3R4LCAwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHtJU3lzdGVtQWN0aW9ucywgUXVlcnksIFJlYWQsIFN5c3RlbSwgV2l0aCwgV2l0aFRhZ30gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7VUlJdGVtfSBmcm9tIFwiLi4vY29tcG9uZW50cy91aS1pdGVtXCI7XG5pbXBvcnQgeyBHYW1lU3RvcmUgfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcbmltcG9ydCB7IEVUYWdzIH0gZnJvbSBcIi4uL21vZGVscy90YWdzXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi9lbmdpbmUvY29tcG9uZW50cy9wb3NpdGlvblwiO1xuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tIFwiLi4vZW5naW5lL21vZGVscy9jb21tb24tc3RvcmVcIjtcblxuZXhwb3J0IGNsYXNzIFJlbmRlclVJU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICByZWFkb25seSBxdWVyeSA9IG5ldyBRdWVyeSh7XG4gICAgICAgIF90YWc6IFdpdGhUYWcoRVRhZ3MudWkpLFxuICAgICAgICBwb3M6IFJlYWQoUG9zaXRpb24pLFxuICAgICAgICB1aTogUmVhZChVSUl0ZW0pXG4gICAgfSk7XG5cbiAgICBjdHghOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgZ2FtZVN0b3JlITogR2FtZVN0b3JlO1xuICAgIGNvbW1vblN0b3JlITogQ29tbW9uU3RvcmU7XG4gICAgdG9TY3JlZW5Db29yZHMhOiAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IFtudW1iZXIsIG51bWJlcl07XG5cbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucyk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5jdHggPSBhY3Rpb25zLmdldFJlc291cmNlKENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk7XG4gICAgICAgIHRoaXMuZ2FtZVN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpO1xuICAgICAgICB0aGlzLmNvbW1vblN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XG4gICAgfVxuXG4gICAgcnVucyA9IDA7XG5cbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG5cbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xuXG4gICAgICAgIHRoaXMucXVlcnkuZXhlY3V0ZSgoe3BvcywgdWl9KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB1aS5hY3RpdmVcbiAgICAgICAgICAgICAgICA/IHVpLmFjdGl2ZUNvbG9yID8/ICdyZWQnXG4gICAgICAgICAgICAgICAgOiB1aS5jb2xvcjtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSB1aS5hY3RpdmVcbiAgICAgICAgICAgICAgICA/IGAke3VpLmZvbnRTaXplICogMS4yfXB4IHNlcmlmYFxuICAgICAgICAgICAgICAgIDogYCR7dWkuZm9udFNpemV9cHggc2VyaWZgO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFRleHQodWkuZmluYWxDYXB0aW9uLCBwb3MueCwgcG9zLnkpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgdGhpcy5jdHguZm9udCA9ICczMnB4IHNlcmlmJztcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJyNmZmYnO1xuXG4gICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxuICAgICAgICAgICAgYCR7XG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vcigxMCp0aGlzLmNvbW1vblN0b3JlLnRpbWVTaW5jZUxldmVsTG9hZGVkKS8xMC4wXG4gICAgICAgICAgICB9IHMuYCxcbiAgICAgICAgICAgIHRoaXMuY3R4LmNhbnZhcy53aWR0aCAtIDIwMCwgMjBcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChcbiAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICAgIE1hdGguZmxvb3IodGhpcy5jb21tb25TdG9yZS5tZWRpYW5GcHMrMC41KVxuICAgICAgICAgICAgfSBGUFNgLFxuICAgICAgICAgICAgdGhpcy5jdHguY2FudmFzLndpZHRoIC0gMjAwLCA2MFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxuICAgICAgICAgICAgYCR7dGhpcy5jb21tb25TdG9yZS5yZW5kZXJlZH0gLyAke3RoaXMuY29tbW9uU3RvcmUuZHJhd2FibGVzfWAsXG4gICAgICAgICAgICB0aGlzLmN0eC5jYW52YXMud2lkdGggLSAyMDAsIDEwMFxuICAgICAgICApO1xuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RyID10aGlzLmdhbWVTdG9yZS5hY3Rpb25zLmNoYXJhY3Rlck1vdmVtZW50LnRvU3RyaW5nKDIpO1xuICAgICAgICAgICAgc3RyID0gJzAnLnJlcGVhdCg0IC0gc3RyLmxlbmd0aCkgKyBzdHI7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChcbiAgICAgICAgICAgICAgICBgJHtzdHJ9YCxcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5jYW52YXMud2lkdGggLSAyMDAsIDE0MFxuICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmYgPSB7fTtcbi8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbi8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5lID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uZikucmVkdWNlKChwcm9taXNlcywga2V5KSA9PiB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5mW2tleV0oY2h1bmtJZCwgcHJvbWlzZXMpO1xuXHRcdHJldHVybiBwcm9taXNlcztcblx0fSwgW10pKTtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuanNcIjtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYWxsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5taW5pQ3NzRiA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gdW5kZWZpbmVkO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJ2YXIgaW5Qcm9ncmVzcyA9IHt9O1xudmFyIGRhdGFXZWJwYWNrUHJlZml4ID0gXCJjaXR5bGlnaHRzOlwiO1xuLy8gbG9hZFNjcmlwdCBmdW5jdGlvbiB0byBsb2FkIGEgc2NyaXB0IHZpYSBzY3JpcHQgdGFnXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXksIGNodW5rSWQpID0+IHtcblx0aWYoaW5Qcm9ncmVzc1t1cmxdKSB7IGluUHJvZ3Jlc3NbdXJsXS5wdXNoKGRvbmUpOyByZXR1cm47IH1cblx0dmFyIHNjcmlwdCwgbmVlZEF0dGFjaDtcblx0aWYoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcyA9IHNjcmlwdHNbaV07XG5cdFx0XHRpZihzLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSB1cmwgfHwgcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIikgPT0gZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpIHsgc2NyaXB0ID0gczsgYnJlYWs7IH1cblx0XHR9XG5cdH1cblx0aWYoIXNjcmlwdCkge1xuXHRcdG5lZWRBdHRhY2ggPSB0cnVlO1xuXHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuXHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG5cdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG5cdFx0fVxuXHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIiwgZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpO1xuXHRcdHNjcmlwdC5zcmMgPSB1cmw7XG5cdH1cblx0aW5Qcm9ncmVzc1t1cmxdID0gW2RvbmVdO1xuXHR2YXIgb25TY3JpcHRDb21wbGV0ZSA9IChwcmV2LCBldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cblx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHR2YXIgZG9uZUZucyA9IGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRkZWxldGUgaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdHNjcmlwdC5wYXJlbnROb2RlICYmIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0ZG9uZUZucyAmJiBkb25lRm5zLmZvckVhY2goKGZuKSA9PiAoZm4oZXZlbnQpKSk7XG5cdFx0aWYocHJldikgcmV0dXJuIHByZXYoZXZlbnQpO1xuXHR9XG5cdDtcblx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCB1bmRlZmluZWQsIHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KSwgMTIwMDAwKTtcblx0c2NyaXB0Lm9uZXJyb3IgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9uZXJyb3IpO1xuXHRzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmxvYWQpO1xuXHRuZWVkQXR0YWNoICYmIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn07IiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHRcIm1haW5cIjogMFxufTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5mLmogPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0XHQvLyBKU09OUCBjaHVuayBsb2FkaW5nIGZvciBqYXZhc2NyaXB0XG5cdFx0dmFyIGluc3RhbGxlZENodW5rRGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpID8gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdIDogdW5kZWZpbmVkO1xuXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuXHRcdFx0Ly8gYSBQcm9taXNlIG1lYW5zIFwiY3VycmVudGx5IGxvYWRpbmdcIi5cblx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZih0cnVlKSB7IC8vIGFsbCBjaHVua3MgaGF2ZSBKU1xuXHRcdFx0XHRcdC8vIHNldHVwIFByb21pc2UgaW4gY2h1bmsgY2FjaGVcblx0XHRcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IChpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XSkpO1xuXHRcdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzJdID0gcHJvbWlzZSk7XG5cblx0XHRcdFx0XHQvLyBzdGFydCBjaHVuayBsb2FkaW5nXG5cdFx0XHRcdFx0dmFyIHVybCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIF9fd2VicGFja19yZXF1aXJlX18udShjaHVua0lkKTtcblx0XHRcdFx0XHQvLyBjcmVhdGUgZXJyb3IgYmVmb3JlIHN0YWNrIHVud291bmQgdG8gZ2V0IHVzZWZ1bCBzdGFja3RyYWNlIGxhdGVyXG5cdFx0XHRcdFx0dmFyIGVycm9yID0gbmV3IEVycm9yKCk7XG5cdFx0XHRcdFx0dmFyIGxvYWRpbmdFbmRlZCA9IChldmVudCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkpIHtcblx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuXHRcdFx0XHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnbG9hZCcgPyAnbWlzc2luZycgOiBldmVudC50eXBlKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmVhbFNyYyA9IGV2ZW50ICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuc3JjO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnTG9hZGluZyBjaHVuayAnICsgY2h1bmtJZCArICcgZmFpbGVkLlxcbignICsgZXJyb3JUeXBlICsgJzogJyArIHJlYWxTcmMgKyAnKSc7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IubmFtZSA9ICdDaHVua0xvYWRFcnJvcic7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IudHlwZSA9IGVycm9yVHlwZTtcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5yZXF1ZXN0ID0gcmVhbFNyYztcblx0XHRcdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGFbMV0oZXJyb3IpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmwodXJsLCBsb2FkaW5nRW5kZWQsIFwiY2h1bmstXCIgKyBjaHVua0lkLCBjaHVua0lkKTtcblx0XHRcdFx0fSBlbHNlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdFx0XHR9XG5cdFx0fVxufTtcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkc1tpXV0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtjaXR5bGlnaHRzXCJdID0gc2VsZltcIndlYnBhY2tDaHVua2NpdHlsaWdodHNcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFtcInZlbmRvcnMtbm9kZV9tb2R1bGVzX3NpbS1lY3NfZGlzdF9pbmRleF9qcy1ub2RlX21vZHVsZXNfYm94MmQtd2FzbV9kaXN0X2VzX2VudHJ5X2pzLW5vZGVfbW9kdS0wZDk0NTdcIl0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvaW5kZXgudHNcIikpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiIsIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==