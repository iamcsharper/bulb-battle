/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/scss/app.scss":
/*!***************************!*\
  !*** ./src/scss/app.scss ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./res/meshes/1.ts":
/*!*************************!*\
  !*** ./res/meshes/1.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.verticies = void 0;
exports.verticies = [
    { x: -0.358251, y: -4.302196 },
    { x: -0.19581, y: -4.342153 },
    { x: -0.109997, y: -4.35505 },
    { x: 0.058886, y: -4.364037 },
    { x: 0.137183, y: -4.359068 },
    { x: 0.269559, y: -4.327562 },
    { x: 0.318867, y: -4.299967 },
    { x: 0.377784, y: -4.18074 },
    { x: 0.398368, y: -4.02064 },
    { x: 0.434304, y: -3.526998 },
    { x: 0.452233, y: -3.222337 },
    { x: 0.49445, y: -2.569536 },
    { x: 0.521315, y: -2.250278 },
    { x: 0.592999, y: -1.69825 },
    { x: 0.640393, y: -1.494361 },
    { x: 0.753266, y: -1.263757 },
    { x: 0.799154, y: -1.177335 },
    { x: 0.87012, y: -1.02497 },
    { x: 0.900048, y: -0.957821 },
    { x: 0.96092, y: -0.838578 },
    { x: 0.996714, y: -0.785278 },
    { x: 1.091145, y: -0.688305 },
    { x: 1.154632, y: -0.643427 },
    { x: 1.316479, y: -0.558592 },
    { x: 1.397872, y: -0.517463 },
    { x: 1.548353, y: -0.425622 },
    { x: 1.615615, y: -0.369478 },
    { x: 1.729616, y: -0.223163 },
    { x: 1.774529, y: -0.127559 },
    { x: 1.835619, y: 0.122122 },
    { x: 1.849969, y: 0.281632 },
    { x: 1.843292, y: 0.662242 },
    { x: 1.824571, y: 0.843738 },
    { x: 1.760238, y: 1.164726 },
    { x: 1.71574, y: 1.30252 },
    { x: 1.604872, y: 1.528463 },
    { x: 1.539616, y: 1.614915 },
    { x: 1.392247, y: 1.730534 },
    { x: 1.31125, y: 1.758003 },
    { x: 1.142765, y: 1.759883 },
    { x: 1.066142, y: 1.756323 },
    { x: 0.929642, y: 1.747777 },
    { x: 0.868038, y: 1.741074 },
    { x: 0.753802, y: 1.718515 },
    { x: 0.699444, y: 1.700942 },
    { x: 0.591929, y: 1.648915 },
    { x: 0.537046, y: 1.612743 },
    { x: 0.420683, y: 1.524279 },
    { x: 0.358345, y: 1.487761 },
    { x: 0.227429, y: 1.437976 },
    { x: 0.159877, y: 1.424548 },
    { x: 0.023142, y: 1.420211 },
    { x: -0.045015, y: 1.429141 },
    { x: -0.178351, y: 1.468793 },
    { x: -0.242506, y: 1.499353 },
    { x: -0.364149, y: 1.577342 },
    { x: -0.42301, y: 1.615606 },
    { x: -0.539011, y: 1.681719 },
    { x: -0.59677, y: 1.707538 },
    { x: -0.713358, y: 1.739628 },
    { x: -0.772807, y: 1.743868 },
    { x: -0.895564, y: 1.723668 },
    { x: -0.959492, y: 1.697198 },
    { x: -1.092316, y: 1.60973 },
    { x: -1.157688, y: 1.554206 },
    { x: -1.280792, y: 1.424273 },
    { x: -1.336818, y: 1.350611 },
    { x: -1.433553, y: 1.187768 },
    { x: -1.472556, y: 1.099335 },
    { x: -1.527566, y: 0.910315 },
    { x: -1.541867, y: 0.810476 },
    { x: -1.545358, y: 0.607388 },
    { x: -1.543899, y: 0.514505 },
    { x: -1.535444, y: 0.345315 },
    { x: -1.52656, y: 0.266333 },
    { x: -1.494764, y: 0.112901 },
    { x: -1.469964, y: 0.035775 },
    { x: -1.397842, y: -0.125987 },
    { x: -1.348633, y: -0.213301 },
    { x: -1.224696, y: -0.396925 },
    { x: -1.159711, y: -0.475497 },
    { x: -1.028962, y: -0.607226 },
    { x: -0.963228, y: -0.665174 },
    { x: -0.831118, y: -0.777217 },
    { x: -0.764772, y: -0.836102 },
    { x: -0.631574, y: -0.971577 },
    { x: -0.564752, y: -1.052958 },
    { x: -0.445742, y: -1.289822 },
    { x: -0.420157, y: -1.507468 },
    { x: -0.42791, y: -2.1019 },
    { x: -0.450993, y: -2.446579 },
    { x: -0.509934, y: -3.150588 },
    { x: -0.535538, y: -3.47781 },
    { x: -0.553376, y: -4.002419 },
    { x: -0.535355, y: -4.167696 },
    { x: -0.449055, y: -4.270403 },
    { x: -0.42929, y: -4.281094 },
    { x: -0.44194, y: -4.274252 },
    { x: -0.464867, y: -4.26185 },
    { x: -0.52021, y: -4.231915 },
    { x: -0.543137, y: -4.219514 },
    { x: -0.555787, y: -4.212672 },
    { x: -0.536022, y: -4.223363 },
    { x: -0.449055, y: -4.270403 },
    { x: -0.42929, y: -4.281094 },
    { x: -0.441939, y: -4.274252 },
    { x: -0.464867, y: -4.26185 },
    { x: -0.52021, y: -4.231915 },
    { x: -0.543137, y: -4.219514 },
    { x: -0.555787, y: -4.212672 },
    { x: -0.536022, y: -4.223363 }
];


/***/ }),

/***/ "./src/app/actions.ts":
/*!****************************!*\
  !*** ./src/app/actions.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EActions = void 0;
var EActions;
(function (EActions) {
    EActions[EActions["Continue"] = 0] = "Continue";
    EActions[EActions["Exit"] = 1] = "Exit";
    EActions[EActions["Play"] = 2] = "Play";
})(EActions = exports.EActions || (exports.EActions = {}));


/***/ }),

/***/ "./src/app/frame-transition-handlers.ts":
/*!**********************************************!*\
  !*** ./src/app/frame-transition-handlers.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.beforeFrameHandler = void 0;
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const pause_1 = __webpack_require__(/*! ../states/pause */ "./src/states/pause.ts");
const engine_1 = __webpack_require__(/*! ../engine */ "./src/engine/index.ts");
const hrtimeToSeconds = (s_ns) => (s_ns[0] + s_ns[1] * 1e-9);
let lastTransition = engine_1.hrtime();
let deltaSum = 0;
async function beforeFrameHandler(actions) {
    var _a;
    const gameStore = actions.getResource(game_store_1.GameStore);
    const commonStore = actions.getResource(engine_1.CommonStore);
    const isPauseState = ((_a = gameStore.currentState) === null || _a === void 0 ? void 0 : _a.constructor) == pause_1.PauseState;
    if (!isPauseState) {
        commonStore.lastFrameDeltaTime = hrtimeToSeconds(engine_1.hrtime(lastTransition));
        if (commonStore.lastFrameDeltaTime > 0.1) {
            commonStore.lastFrameDeltaTime = 0.1;
        }
        commonStore.timeSinceLevelLoaded +=
            commonStore.lastFrameDeltaTime;
        deltaSum += commonStore.lastFrameDeltaTime;
        commonStore.medianFps = ++commonStore.ticks / deltaSum;
        lastTransition = engine_1.hrtime();
    }
    const ctx = actions.getResource(CanvasRenderingContext2D);
    ctx.beginPath();
    ctx.fillStyle = '#000';
    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
}
exports.beforeFrameHandler = beforeFrameHandler;


/***/ }),

/***/ "./src/app/persistence.ts":
/*!********************************!*\
  !*** ./src/app/persistence.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.save = exports.load = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
const saveKey = 'save';
function load(actions) {
    const save = localStorage.getItem(saveKey);
    if (!save) {
        throw new Error('No save available. Cannot load!');
    }
    const handle = actions.commands.load(sim_ecs_1.SerialFormat.fromJSON(save));
    return handle;
}
exports.load = load;
function save(actions) {
    localStorage.setItem(saveKey, actions.save(new sim_ecs_1.Query([sim_ecs_1.WithTag(tags_1.ETags.save)])).toJSON());
}
exports.save = save;


/***/ }),

/***/ "./src/components/character.ts":
/*!*************************************!*\
  !*** ./src/components/character.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Character = void 0;
class Character {
    constructor(name = '') {
        this.name = name;
    }
}
exports.Character = Character;


/***/ }),

/***/ "./src/components/ui-item.ts":
/*!***********************************!*\
  !*** ./src/components/ui-item.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIItem = void 0;
class UIItem {
    constructor(caption, color, fontSize, action, active, activeColor) {
        this.caption = caption;
        this.color = color;
        this.fontSize = fontSize;
        this.action = action;
        this.active = active;
        this.activeColor = activeColor;
        this.captionMod = (strIn) => strIn;
    }
    get finalCaption() {
        return this.captionMod(this.caption);
    }
}
exports.UIItem = UIItem;


/***/ }),

/***/ "./src/engine/components/collision.ts":
/*!********************************************!*\
  !*** ./src/engine/components/collision.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Collision = void 0;
class Collision {
    constructor(shapeFromVisuals = true, shape = null) {
        this.shapeFromVisuals = shapeFromVisuals;
        this.shape = shape;
        this.collisionObjects = new Set();
        this.occurred = false;
        if (!shapeFromVisuals && !shape) {
            throw new Error('Either copy the collision shape\
                from visuals or provide a new one');
        }
    }
}
exports.Collision = Collision;


/***/ }),

/***/ "./src/engine/components/index.ts":
/*!****************************************!*\
  !*** ./src/engine/components/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
tslib_1.__exportStar(__webpack_require__(/*! ./collision */ "./src/engine/components/collision.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./material */ "./src/engine/components/material.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./mesh */ "./src/engine/components/mesh.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./physics-bridge */ "./src/engine/components/physics-bridge.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./position */ "./src/engine/components/position.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./rotation */ "./src/engine/components/rotation.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./shape */ "./src/engine/components/shape.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./velocity */ "./src/engine/components/velocity.ts"), exports);


/***/ }),

/***/ "./src/engine/components/material.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/material.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Material = void 0;
class Material {
    constructor(color) {
        this.color = color;
    }
}
exports.Material = Material;


/***/ }),

/***/ "./src/engine/components/mesh.ts":
/*!***************************************!*\
  !*** ./src/engine/components/mesh.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Mesh = void 0;
class Mesh {
    constructor(verticies) {
        this.verticies = verticies;
        this.isConvex = true;
    }
}
exports.Mesh = Mesh;


/***/ }),

/***/ "./src/engine/components/physics-bridge.ts":
/*!*************************************************!*\
  !*** ./src/engine/components/physics-bridge.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PhysicsBridge = void 0;
class PhysicsBridge {
    constructor(bodyPtr = null) {
        this.bodyPtr = bodyPtr;
    }
}
exports.PhysicsBridge = PhysicsBridge;


/***/ }),

/***/ "./src/engine/components/position.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/position.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Position = void 0;
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
class Position extends vector2d_1.Vector2D {
}
exports.Position = Position;


/***/ }),

/***/ "./src/engine/components/rotation.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/rotation.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Rotation = void 0;
class Rotation {
    constructor(value) {
        this._val = 0;
        this._sin = 0;
        this._cos = 0;
        this.value = value;
    }
    get sin_cos() {
        return [this._sin, this._cos];
    }
    get value() {
        return this._val;
    }
    set value(newval) {
        this._sin = Math.sin(newval);
        this._cos = Math.cos(newval);
        this._val = newval;
    }
}
exports.Rotation = Rotation;


/***/ }),

/***/ "./src/engine/components/shape.ts":
/*!****************************************!*\
  !*** ./src/engine/components/shape.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Shape = exports.ShapePivotNames = exports.ShapePivot = exports.ShapePrimitive = void 0;
const rect_1 = __webpack_require__(/*! ../models/rect */ "./src/engine/models/rect.ts");
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
var ShapePrimitive;
(function (ShapePrimitive) {
    ShapePrimitive["Circle"] = "circle";
    ShapePrimitive["Rect"] = "rect";
    ShapePrimitive["Mesh"] = "mesh";
})(ShapePrimitive = exports.ShapePrimitive || (exports.ShapePrimitive = {}));
var ShapePivot;
(function (ShapePivot) {
    ShapePivot[ShapePivot["TopLeft"] = 0] = "TopLeft";
    ShapePivot[ShapePivot["TopMiddle"] = 1] = "TopMiddle";
    ShapePivot[ShapePivot["TopRight"] = 2] = "TopRight";
    ShapePivot[ShapePivot["Left"] = 3] = "Left";
    ShapePivot[ShapePivot["Middle"] = 4] = "Middle";
    ShapePivot[ShapePivot["Right"] = 5] = "Right";
    ShapePivot[ShapePivot["BottomLeft"] = 6] = "BottomLeft";
    ShapePivot[ShapePivot["BottomMiddle"] = 7] = "BottomMiddle";
    ShapePivot[ShapePivot["BottomRight"] = 8] = "BottomRight";
})(ShapePivot = exports.ShapePivot || (exports.ShapePivot = {}));
exports.ShapePivotNames = {
    [ShapePivot.TopLeft]: 'TopLeft',
    [ShapePivot.TopMiddle]: 'TopMiddle',
    [ShapePivot.TopRight]: 'TopRight',
    [ShapePivot.Left]: 'Left',
    [ShapePivot.Middle]: 'Middle',
    [ShapePivot.Right]: 'Right',
    [ShapePivot.BottomLeft]: 'BottomLeft',
    [ShapePivot.BottomMiddle]: 'BottomMiddle',
    [ShapePivot.BottomRight]: 'BottomRight',
};
class Shape {
    constructor(zIndex = 0, pivot = ShapePivot.Middle, offsetX = 0, offsetY = 0, dimensions = vector2d_1.vecZero, primitive = ShapePrimitive.Rect, mesh = null) {
        this.zIndex = zIndex;
        this.pivot = pivot;
        this.offsetX = offsetX;
        this.offsetY = offsetY;
        this.dimensions = dimensions;
        this.primitive = primitive;
        this.mesh = mesh;
        this.bBox = new rect_1.Rect(0, 0, 0, 0);
        this.isBuilt = false;
    }
    build() {
        if (this.isBuilt)
            return;
        if (this.primitive === ShapePrimitive.Mesh) {
            if (!this.mesh || !this.mesh.verticies.length)
                throw new Error('Shapes with mesh primitive\
                must provide a non-empty mesh data');
        }
        if (this.primitive !== ShapePrimitive.Mesh && !this.dimensions) {
            console.error('dimensions:', this.dimensions, 'primitive:', this.primitive, 'mesh:', this.mesh);
            throw new Error('Shapes with non-mesh primitive\
                must provide dimensions');
        }
        let minX = 0, minY = 0, maxX = 0, maxY = 0;
        if (this.primitive === ShapePrimitive.Circle) {
            const d = this.dimensions.x;
            const rad = d / 2;
            this.bBox.x = -rad;
            this.bBox.y = -rad;
            this.bBox.w = d;
            this.bBox.h = d;
        }
        else if (this.primitive === ShapePrimitive.Rect) {
            this.bBox.x = -this.dimensions.x / 2;
            this.bBox.y = -this.dimensions.y / 2;
            this.bBox.w = this.dimensions.x;
            this.bBox.h = this.dimensions.y;
        }
        else if (this.primitive === ShapePrimitive.Mesh && this.mesh) {
            minX = this.mesh.verticies[0].x;
            minY = this.mesh.verticies[0].y;
            maxX = this.mesh.verticies[0].x;
            maxY = this.mesh.verticies[0].y;
            for (let i = 1; i < this.mesh.verticies.length; ++i) {
                const { x, y } = this.mesh.verticies[i];
                if (x < minX)
                    minX = x;
                if (x > maxX)
                    maxX = x;
                if (y < minY)
                    minY = y;
                if (y > maxY)
                    maxY = y;
            }
            this.bBox.w = maxX - minX;
            this.bBox.h = maxY - minY;
            this.bBox.x = -this.bBox.w / 2;
            this.bBox.y = -this.bBox.h / 2;
        }
        if (this.pivot === ShapePivot.TopLeft) {
            this.bBox.x += this.bBox.w / 2;
            this.bBox.y += this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.TopMiddle) {
            this.bBox.y += this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.TopRight) {
            this.bBox.x -= this.bBox.w / 2;
            this.bBox.y += this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.Left) {
            this.bBox.x += this.bBox.w / 2;
        }
        else if (this.pivot === ShapePivot.Right) {
            this.bBox.x -= this.bBox.w / 2;
        }
        else if (this.pivot === ShapePivot.BottomLeft) {
            this.bBox.x += this.bBox.w / 2;
            this.bBox.y -= this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.BottomMiddle) {
            this.bBox.y -= this.bBox.h / 2;
        }
        else if (this.pivot === ShapePivot.BottomRight) {
            this.bBox.x -= this.bBox.w / 2;
            this.bBox.y -= this.bBox.h / 2;
        }
        if (this.primitive === ShapePrimitive.Mesh && this.mesh) {
            for (let i = 0; i < this.mesh.verticies.length; ++i) {
                this.mesh.verticies[i].x += (this.bBox.x - minX);
                this.mesh.verticies[i].y += (this.bBox.y - minY);
            }
        }
        this.isBuilt = true;
    }
    getBBox() {
        return this.bBox;
    }
}
exports.Shape = Shape;


/***/ }),

/***/ "./src/engine/components/velocity.ts":
/*!*******************************************!*\
  !*** ./src/engine/components/velocity.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Velocity = void 0;
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
class Velocity extends vector2d_1.Vector2D {
    constructor(x, y, angular) {
        super(x, y);
        this.angular = angular;
    }
}
exports.Velocity = Velocity;


/***/ }),

/***/ "./src/engine/index.ts":
/*!*****************************!*\
  !*** ./src/engine/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadPhysics = exports.hrtime = exports.updateRenderContext = void 0;
const tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
const updateRenderContext = () => {
    const canvasEle = document.querySelector('canvas');
    if (!canvasEle)
        throw new Error('Could not find canvas element!');
    const renderContext = canvasEle.getContext('2d');
    if (!renderContext)
        throw new Error('Could not initialize 2D context');
    const canvasBoundingRect = canvasEle.getBoundingClientRect();
    canvasEle.width = canvasBoundingRect.width;
    canvasEle.height = canvasBoundingRect.height;
    renderContext.imageSmoothingEnabled = false;
    return renderContext;
};
exports.updateRenderContext = updateRenderContext;
const hrtime = (previousTimestamp) => {
    const clocktime = performance.now() * 1e-3;
    let seconds = Math.floor(clocktime);
    let nanoseconds = Math.floor((clocktime % 1) * 1e9);
    if (previousTimestamp) {
        seconds = seconds - previousTimestamp[0];
        nanoseconds = nanoseconds - previousTimestamp[1];
        if (nanoseconds < 0) {
            seconds--;
            nanoseconds += 1e9;
        }
    }
    return [seconds, nanoseconds];
};
exports.hrtime = hrtime;
const box2d_wasm_1 = tslib_1.__importDefault(__webpack_require__(/*! box2d-wasm */ "./node_modules/box2d-wasm/dist/es/entry.js"));
const loadPhysics = async () => {
    return box2d_wasm_1.default().then((box2D) => {
        return box2D;
    });
};
exports.loadPhysics = loadPhysics;
tslib_1.__exportStar(__webpack_require__(/*! ./systems */ "./src/engine/systems/index.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./components */ "./src/engine/components/index.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./models */ "./src/engine/models/index.ts"), exports);


/***/ }),

/***/ "./src/engine/models/camera.ts":
/*!*************************************!*\
  !*** ./src/engine/models/camera.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Camera = exports.CameraFollowMethod = void 0;
var CameraFollowMethod;
(function (CameraFollowMethod) {
    CameraFollowMethod[CameraFollowMethod["Immediate"] = 0] = "Immediate";
    CameraFollowMethod[CameraFollowMethod["Smooth"] = 1] = "Smooth";
    CameraFollowMethod[CameraFollowMethod["Elastic"] = 2] = "Elastic";
})(CameraFollowMethod = exports.CameraFollowMethod || (exports.CameraFollowMethod = {}));
class Camera {
    constructor(x = 0, y = 0, offset = {
        x: 0,
        y: 0,
    }, vel = {
        x: 0,
        y: 0
    }, zoom = 1, rotation = 0, follow, elasticity = 0.01, friction = 0.15) {
        this.x = x;
        this.y = y;
        this.offset = offset;
        this.vel = vel;
        this.zoom = zoom;
        this.rotation = rotation;
        this.follow = follow;
        this.elasticity = elasticity;
        this.friction = friction;
    }
}
exports.Camera = Camera;


/***/ }),

/***/ "./src/engine/models/common-store.ts":
/*!*******************************************!*\
  !*** ./src/engine/models/common-store.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CommonStore = void 0;
const input_1 = __webpack_require__(/*! ../systems/input */ "./src/engine/systems/input.ts");
class CommonStore {
    constructor() {
        this.drawables = 0;
        this.rendered = 0;
        this.lastFrameDeltaTime = 0;
        this.ticks = 0;
        this.medianFps = 30;
        this.timeSinceLevelLoaded = 0;
        this.input = {
            wheel: 0,
            cursorPos: { x: -1, y: -1 },
            keyStates: new Map(),
            prevKeyStates: new Map(),
            mouseStates: new Map(),
            resetPrevKey(key) {
                this.prevKeyStates.set(key, this.keyStates.get(key));
            },
            isAnyKey(key, state) {
                return key.some(e => (this.keyStates.get(e) === state));
            },
            isAnyKeyDifferent(key, state) {
                return key.some(e => (this.keyStates.get(e) === state &&
                    this.prevKeyStates.get(e) !== state));
            },
            isKeyDown(key) {
                return this.keyStates.get(key) === input_1.EKeyState.Down;
            },
            isKeyUp(key) {
                return this.keyStates.get(key) === input_1.EKeyState.Up;
            },
            wasKeyPressed(key) {
                if (this.keyStates.get(key) === input_1.EKeyState.Down &&
                    this.prevKeyStates.get(key) !== input_1.EKeyState.Down) {
                    this.resetPrevKey(key);
                    return true;
                }
                return false;
            },
            wasKeyReleased(key) {
                if (this.keyStates.get(key) === input_1.EKeyState.Up &&
                    this.prevKeyStates.get(key) !== input_1.EKeyState.Up) {
                    this.resetPrevKey(key);
                    return true;
                }
                return false;
            },
        };
        this.debugShapes = false;
        this.wasBlurred = false;
        this.wasIntentionallyPaused = false;
    }
    toWorldSpace({ x, y }) {
        const { a, b, c, d, e, f } = this.screenToWorld;
        return {
            x: a * x + c * y + e,
            y: b * x + d * y + f,
        };
    }
    toScreenSpace({ x, y }) {
        const { a, b, c, d, e, f } = this.worldToScreen;
        return {
            x: a * x + c * y + e,
            y: b * x + d * y + f,
        };
    }
}
exports.CommonStore = CommonStore;


/***/ }),

/***/ "./src/engine/models/common-tags.ts":
/*!******************************************!*\
  !*** ./src/engine/models/common-tags.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ECommonTags = void 0;
var ECommonTags;
(function (ECommonTags) {
    ECommonTags[ECommonTags["ui"] = 0] = "ui";
    ECommonTags[ECommonTags["terrain"] = 1] = "terrain";
    ECommonTags[ECommonTags["destroyEntity"] = 2] = "destroyEntity";
    ECommonTags[ECommonTags["__LATEST"] = 3] = "__LATEST";
})(ECommonTags = exports.ECommonTags || (exports.ECommonTags = {}));


/***/ }),

/***/ "./src/engine/models/index.ts":
/*!************************************!*\
  !*** ./src/engine/models/index.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
tslib_1.__exportStar(__webpack_require__(/*! ./camera */ "./src/engine/models/camera.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./common-store */ "./src/engine/models/common-store.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./common-tags */ "./src/engine/models/common-tags.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./movement */ "./src/engine/models/movement.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./rect */ "./src/engine/models/rect.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./transform */ "./src/engine/models/transform.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./vector2d */ "./src/engine/models/vector2d.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./level.h */ "./src/engine/models/level.h.ts"), exports);


/***/ }),

/***/ "./src/engine/models/level.h.ts":
/*!**************************************!*\
  !*** ./src/engine/models/level.h.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Level = void 0;
const __1 = __webpack_require__(/*! .. */ "./src/engine/index.ts");
const frame_transition_handlers_1 = __webpack_require__(/*! ../../app/frame-transition-handlers */ "./src/app/frame-transition-handlers.ts");
class Level {
    constructor(physics, name) {
        this.physics = physics;
        this.name = name;
        const world = this.createWorld();
        if (!world) {
            throw new Error(`The level ${name} must have a non-null \
            resulting createWorld function`);
        }
        this.world = world;
        const renderContext = __1.updateRenderContext();
        this.world.addResource(renderContext);
    }
    destroy() {
        this.world.commands.stopRun();
    }
    async run() {
        return this.world.run({
            beforeStepHandler: frame_transition_handlers_1.beforeFrameHandler,
            initialState: this.initialState,
        }).then(() => this.destroy());
    }
}
exports.Level = Level;


/***/ }),

/***/ "./src/engine/models/movement.ts":
/*!***************************************!*\
  !*** ./src/engine/models/movement.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EMovement = void 0;
var EMovement;
(function (EMovement) {
    EMovement[EMovement["idle"] = 0] = "idle";
    EMovement[EMovement["up"] = 1] = "up";
    EMovement[EMovement["down"] = 2] = "down";
    EMovement[EMovement["left"] = 4] = "left";
    EMovement[EMovement["right"] = 8] = "right";
})(EMovement = exports.EMovement || (exports.EMovement = {}));


/***/ }),

/***/ "./src/engine/models/rect.ts":
/*!***********************************!*\
  !*** ./src/engine/models/rect.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Rect = void 0;
class Rect {
    constructor(x, y, w, h) {
        this.x = x;
        this.y = y;
        this.w = w;
        this.h = h;
    }
    static checkPointInside(r, { x, y }) {
        return !(x < r.x ||
            x > r.x + r.w ||
            y < r.y ||
            y > r.y + r.h);
    }
    static checkIntersects(r1, r2) {
        return !(r2.x > r1.x + r1.w ||
            r2.x + r2.w < r1.x ||
            r2.y > r1.y + r1.h ||
            r2.y + r2.h < r1.y);
    }
}
exports.Rect = Rect;


/***/ }),

/***/ "./src/engine/models/transform.ts":
/*!****************************************!*\
  !*** ./src/engine/models/transform.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Transform = void 0;
class Transform {
    constructor(position, rotation, scale) {
        this.position = position;
        this.rotation = rotation;
        this.scale = scale;
    }
}
exports.Transform = Transform;


/***/ }),

/***/ "./src/engine/models/vector2d.ts":
/*!***************************************!*\
  !*** ./src/engine/models/vector2d.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.vecRight = exports.vecLeft = exports.vecDown = exports.vecUp = exports.vecOne = exports.vecZero = exports.Vector2D = void 0;
class Vector2D {
    constructor(x = 0, y = 0) {
        this.x = x;
        this.y = y;
        this.buf = new ArrayBuffer(4);
        this.f32 = new Float32Array(this.buf);
        this.u32 = new Uint32Array(this.buf);
    }
    addSelf(vec) {
        this.x += vec.x;
        this.y += vec.y;
    }
    subSelf(vec) {
        this.x -= vec.x;
        this.y -= vec.y;
    }
    scale(factor) {
        this.x *= factor;
        this.y *= factor;
    }
    normalize() {
        const inv = this.invSqrt();
        this.x *= inv;
        this.y *= inv;
    }
    invSqrt() {
        const x = this.x * this.x + this.y * this.y;
        const x2 = 0.5 * (this.f32[0] = x);
        this.u32[0] = (0x5f3759df - (this.u32[0] >> 1));
        let y = this.f32[0];
        y = y * (1.5 - (x2 * y * y));
        return y;
    }
    distance(to) {
        const dx = to.x - this.x;
        const dy = to.y - this.y;
        return Math.sqrt(dx * dx + dy * dy);
    }
    sqrDistance(to) {
        const dx = to.x - this.x;
        const dy = to.y - this.y;
        return dx * dx + dy * dy;
    }
    sqrLength() {
        return this.x * this.x + this.y * this.y;
    }
    length() {
        return Math.sqrt(this.x * this.x + this.y * this.y);
    }
}
exports.Vector2D = Vector2D;
exports.vecZero = new Vector2D(0, 0);
exports.vecOne = new Vector2D(1, 1);
exports.vecUp = new Vector2D(0, 1);
exports.vecDown = new Vector2D(0, -1);
exports.vecLeft = new Vector2D(-1, 0);
exports.vecRight = new Vector2D(1, 0);


/***/ }),

/***/ "./src/engine/systems/camera.ts":
/*!**************************************!*\
  !*** ./src/engine/systems/camera.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CameraSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const camera_1 = __webpack_require__(/*! ../models/camera */ "./src/engine/models/camera.ts");
const util_1 = __webpack_require__(/*! ../util */ "./src/engine/util.ts");
class CameraSystem extends sim_ecs_1.System {
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.camera = actions.getResource(camera_1.Camera);
    }
    run(_) {
        if (this.camera.rotation > 2 * Math.PI) {
            this.camera.rotation -= 2 * Math.PI;
        }
        if (this.camera.rotation < -2 * Math.PI) {
            this.camera.rotation += 2 * Math.PI;
        }
        if (this.camera.zoom < 0.1) {
            this.camera.zoom = 0.1;
        }
        if (this.camera.zoom > 1.5) {
            this.camera.zoom = 1.5;
        }
        const { follow, offset, } = this.camera;
        if (!follow)
            return;
        const { targetAngle, target, method, } = follow;
        let tx = target.x;
        let ty = target.y;
        offset.x = -this.ctx.canvas.width / (2 * util_1.PIXELS_PER_METER * this.camera.zoom);
        offset.y = -this.ctx.canvas.height / (2 * util_1.PIXELS_PER_METER * this.camera.zoom);
        if (targetAngle !== undefined) {
            this.camera.rotation = util_1.angleLerp(this.camera.rotation, -targetAngle, 0.01);
        }
        if (method === camera_1.CameraFollowMethod.Immediate) {
            this.camera.x = tx;
            this.camera.y = ty;
        }
        else if (method === camera_1.CameraFollowMethod.Smooth) {
            this.camera.x = util_1.lerp(this.camera.x, tx, 0.01);
            this.camera.y = util_1.lerp(this.camera.y, ty, 0.01);
        }
        else if (method === camera_1.CameraFollowMethod.Elastic) {
            const dx = (tx - this.camera.x) * this.camera.elasticity;
            const dy = (ty - this.camera.y) * this.camera.elasticity;
            this.camera.vel.x += dx;
            this.camera.vel.y += dy;
            const fx = -this.camera.friction * this.camera.vel.x;
            const fy = -this.camera.friction * this.camera.vel.y;
            this.camera.vel.x += fx;
            this.camera.vel.y += fy;
            this.camera.x += this.camera.vel.x / this.camera.zoom;
            this.camera.y += this.camera.vel.y / this.camera.zoom;
        }
    }
}
exports.CameraSystem = CameraSystem;


/***/ }),

/***/ "./src/engine/systems/collision.ts":
/*!*****************************************!*\
  !*** ./src/engine/systems/collision.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CollisionSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const shape_1 = __webpack_require__(/*! ../components/shape */ "./src/engine/components/shape.ts");
const collision_1 = __webpack_require__(/*! ../components/collision */ "./src/engine/components/collision.ts");
const vector2d_1 = __webpack_require__(/*! ../models/vector2d */ "./src/engine/models/vector2d.ts");
class CollisionSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            collision: sim_ecs_1.Write(collision_1.Collision),
            entity: sim_ecs_1.ReadEntity(),
            position: sim_ecs_1.Read(vector2d_1.Vector2D),
            shape: sim_ecs_1.Read(shape_1.Shape)
        });
    }
    run(actions) {
        const rects = Array.from(this.query.iter())
            .map(({ collision, entity, position, shape }) => {
            collision.collisionObjects.clear();
            collision.occurred = false;
            const { x, y, w, h } = shape.getBBox();
            return {
                collisionData: collision,
                entity,
                width: w,
                height: h,
                x: position.x + x,
                y: position.y + y,
            };
        });
        for (let i = 0; i < rects.length; i++) {
            for (let j = 0; j < rects.length; j++) {
                if (i == j) {
                    continue;
                }
                const rect1 = rects[i];
                const rect2 = rects[j];
                if (rect1.x < rect2.x + rect2.width &&
                    rect1.x + rect1.width > rect2.x &&
                    rect1.y < rect2.y + rect2.height &&
                    rect1.y + rect1.height > rect2.y) {
                    if (!rect1.collisionData.occurred) {
                        rect1.collisionData.occurred = true;
                        rect1.collisionData.collisionObjects.add(rect2.entity);
                    }
                    if (!rect2.collisionData.occurred) {
                        rect2.collisionData.occurred = true;
                        rect2.collisionData.collisionObjects.add(rect1.entity);
                    }
                }
            }
        }
    }
}
exports.CollisionSystem = CollisionSystem;


/***/ }),

/***/ "./src/engine/systems/gc.ts":
/*!**********************************!*\
  !*** ./src/engine/systems/gc.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GcSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const physics_bridge_1 = __webpack_require__(/*! ../components/physics-bridge */ "./src/engine/components/physics-bridge.ts");
const common_tags_1 = __webpack_require__(/*! ../models/common-tags */ "./src/engine/models/common-tags.ts");
const common_store_1 = __webpack_require__(/*! ../models/common-store */ "./src/engine/models/common-store.ts");
class GcSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            entity: sim_ecs_1.ReadEntity(),
            _del: sim_ecs_1.WithTag(common_tags_1.ECommonTags.destroyEntity),
        });
    }
    setup(actions) {
        const { physicsNamespace: { b2World } } = actions.getResource(common_store_1.CommonStore);
        this.physWorld = actions.getResource(b2World);
    }
    run(actions) {
        this.query.execute(({ entity }) => {
            const phys = entity.getComponent(physics_bridge_1.PhysicsBridge);
            if (phys && phys.bodyPtr) {
                this.physWorld.DestroyBody(phys.bodyPtr);
            }
            actions.commands.removeEntity(entity);
        });
        actions.commands.maintain();
    }
}
exports.GcSystem = GcSystem;


/***/ }),

/***/ "./src/engine/systems/index.ts":
/*!*************************************!*\
  !*** ./src/engine/systems/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
tslib_1.__exportStar(__webpack_require__(/*! ./camera */ "./src/engine/systems/camera.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./collision */ "./src/engine/systems/collision.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./gc */ "./src/engine/systems/gc.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./input */ "./src/engine/systems/input.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./physics */ "./src/engine/systems/physics.ts"), exports);


/***/ }),

/***/ "./src/engine/systems/input.ts":
/*!*************************************!*\
  !*** ./src/engine/systems/input.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InputSystem = exports.EMouseState = exports.EKeyState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const common_store_1 = __webpack_require__(/*! ../models/common-store */ "./src/engine/models/common-store.ts");
var EKeyState;
(function (EKeyState) {
    EKeyState[EKeyState["Up"] = 0] = "Up";
    EKeyState[EKeyState["Down"] = 1] = "Down";
})(EKeyState = exports.EKeyState || (exports.EKeyState = {}));
var EMouseState;
(function (EMouseState) {
    EMouseState[EMouseState["Down"] = 0] = "Down";
    EMouseState[EMouseState["Up"] = 1] = "Up";
    EMouseState[EMouseState["Move"] = 2] = "Move";
})(EMouseState = exports.EMouseState || (exports.EMouseState = {}));
class InputSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.mouseEvents = [];
        this.wheelEvents = [];
        this.listeners = {
            wheel: (e) => (this.wheelEvents.push(-e.deltaY / 125)),
            keydown: (e) => {
                this.resetPrevState(e.code);
                this.commonStore.input.keyStates.set(e.code, EKeyState.Down);
            },
            keyup: (e) => {
                this.resetPrevState(e.code);
                this.commonStore.input.keyStates.set(e.code, EKeyState.Up);
            },
            mousedown: (e) => this.mouseEvents.push({
                button: e.button,
                type: EMouseState.Down,
                x: e.clientX,
                y: e.clientY,
            }),
            mouseup: (e) => this.mouseEvents.push({
                button: e.button,
                type: EMouseState.Up,
                x: e.clientX,
                y: e.clientY,
            }),
            mousemove: (e) => this.mouseEvents.push({
                button: e.button,
                type: EMouseState.Move,
                x: e.clientX,
                y: e.clientY,
            }),
            contextmenu: (e) => e.preventDefault(),
        };
    }
    resetPrevState(code) {
        const prevState = this.commonStore.input.keyStates.get(code);
        this.commonStore.input.prevKeyStates.set(code, prevState);
    }
    setup(actions) {
        this.commonStore = actions.getResource(common_store_1.CommonStore);
        for (const [event, handler] of Object.entries(this.listeners)) {
            window.addEventListener(event, handler);
        }
    }
    destroy(_) {
        super.destroy(_);
        for (const [event, handler] of Object.entries(this.listeners)) {
            window.removeEventListener(event, handler);
        }
    }
    run(actions) {
        let mouseEvent;
        this.commonStore.input.mouseStates.clear();
        while ((mouseEvent = this.mouseEvents.pop())) {
            const { type, x, y, button } = mouseEvent;
            this.commonStore.input.mouseStates.set(button, type);
            this.commonStore.input.cursorPos.x = x;
            this.commonStore.input.cursorPos.y = y;
        }
        let wheelDelta;
        this.commonStore.input.wheel = 0;
        while ((wheelDelta = this.wheelEvents.pop())) {
            this.commonStore.input.wheel = wheelDelta;
        }
    }
}
exports.InputSystem = InputSystem;


/***/ }),

/***/ "./src/engine/systems/physics.ts":
/*!***************************************!*\
  !*** ./src/engine/systems/physics.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PhysicsSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const position_1 = __webpack_require__(/*! ../components/position */ "./src/engine/components/position.ts");
const rotation_1 = __webpack_require__(/*! ../components/rotation */ "./src/engine/components/rotation.ts");
const velocity_1 = __webpack_require__(/*! ../components/velocity */ "./src/engine/components/velocity.ts");
const common_store_1 = __webpack_require__(/*! ../models/common-store */ "./src/engine/models/common-store.ts");
const physics_bridge_1 = __webpack_require__(/*! ../components/physics-bridge */ "./src/engine/components/physics-bridge.ts");
class PhysicsSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            entity: sim_ecs_1.ReadEntity(),
            pos: sim_ecs_1.Write(position_1.Position),
            rot: sim_ecs_1.Write(rotation_1.Rotation),
            vel: sim_ecs_1.Read(velocity_1.Velocity),
        });
    }
    setup(actions) {
        const { physicsNamespace: { b2World } } = actions.getResource(common_store_1.CommonStore);
        this.physWorld = actions.getResource(b2World);
    }
    run(actions) {
        const dt = 0.016;
        const { physicsNamespace: { getPointer, NULL } } = actions.getResource(common_store_1.CommonStore);
        this.query.execute(({ entity, pos, rot, vel }) => {
            const phys = entity.getComponent(physics_bridge_1.PhysicsBridge);
            if (phys) {
                const body = phys.bodyPtr;
                if (!body)
                    return;
                const { x, y } = body.GetPosition();
                const angle = body.GetAngle();
                pos.x = x;
                pos.y = y;
                rot.value = angle;
            }
            else {
                pos.x += vel.x * dt;
                pos.y += vel.y * dt;
                rot.value += vel.angular * dt;
            }
        });
        this.physWorld.Step(dt, 1, 1);
    }
}
exports.PhysicsSystem = PhysicsSystem;


/***/ }),

/***/ "./src/engine/util.ts":
/*!****************************!*\
  !*** ./src/engine/util.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.angleLerp = exports.shortAngleDist = exports.lerp = exports.PIXELS_PER_METER = exports.drawPoint = exports.TWOPI = void 0;
exports.TWOPI = Math.PI * 2;
const drawPoint = (ctx, x, y, size = 0.1) => {
    ctx.beginPath();
    ctx.fillStyle = 'rgba(255,255,255,0.7)';
    ctx.arc(x, y, size, 0, exports.TWOPI);
    ctx.fill();
};
exports.drawPoint = drawPoint;
exports.PIXELS_PER_METER = 32;
const lerp = (value1, value2, factor) => {
    factor = factor < 0 ? 0 : factor;
    factor = factor > 1 ? 1 : factor;
    return value1 + (value2 - value1) * factor;
};
exports.lerp = lerp;
function shortAngleDist(a0, a1) {
    const max = Math.PI * 2;
    const da = (a1 - a0) % max;
    return 2 * da % max - da;
}
exports.shortAngleDist = shortAngleDist;
function angleLerp(a0, a1, t) {
    return a0 + shortAngleDist(a0, a1) * t;
}
exports.angleLerp = angleLerp;


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const topdown_1 = __webpack_require__(/*! ./levels/topdown */ "./src/levels/topdown.ts");
__webpack_require__(/*! ./scss/app.scss */ "./src/scss/app.scss");
const engine_1 = __webpack_require__(/*! ./engine/ */ "./src/engine/index.ts");
const engine_2 = __webpack_require__(/*! ./engine */ "./src/engine/index.ts");
window.addEventListener('resize', engine_2.updateRenderContext);
const _fetch = window.fetch;
window.fetch = (input, init) => {
    if ((init === null || init === void 0 ? void 0 : init.credentials) === 'same-origin') {
        delete init.credentials;
    }
    return _fetch(input, init);
};
const levels = {
    'topdown': topdown_1.Topdown,
};
(async () => {
    const box2D = await engine_1.loadPhysics();
    const options = Object.keys(levels)
        .map((e, i) => (`${i + 1}) ${e}`));
    options.push('exit (or empty)');
    let requestedLevel = 'topdown';
    while (requestedLevel !== 'exit') {
        const level = requestedLevel;
        let world = new levels[level](box2D);
        await world.run();
        requestedLevel = prompt('What level would you like to check next?\n' +
            options.join('\n')) || 'exit';
    }
})().catch(console.error);


/***/ }),

/***/ "./src/levels/topdown.ts":
/*!*******************************!*\
  !*** ./src/levels/topdown.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Topdown = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const character_1 = __webpack_require__(/*! ../components/character */ "./src/components/character.ts");
const ui_item_1 = __webpack_require__(/*! ../components/ui-item */ "./src/components/ui-item.ts");
const engine_1 = __webpack_require__(/*! ../engine/ */ "./src/engine/index.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const menu_1 = __webpack_require__(/*! ../states/menu */ "./src/states/menu.ts");
const systems_1 = __webpack_require__(/*! ../systems/ */ "./src/systems/index.ts");
const engine_2 = __webpack_require__(/*! ../engine/ */ "./src/engine/index.ts");
class Topdown extends engine_2.Level {
    constructor(physics) {
        super(physics, 'topdown');
        this.initialState = menu_1.MenuState;
        const { b2Vec2, b2World } = physics;
        const gravity = new b2Vec2(0, 9.81);
        const physWorld = new b2World(gravity);
        this.world.addResource(physWorld);
        const zero = new b2Vec2(0, 0);
        const gameStore = new game_store_1.GameStore();
        const camera = new engine_1.Camera();
        const commonStore = new engine_1.CommonStore();
        commonStore.physicsNamespace = physics;
        commonStore.physicsZero = zero;
        this.world.addResource(commonStore);
        this.world.addResource(gameStore);
        this.world.addResource(camera);
    }
    destroy() {
        super.destroy();
        const { physicsNamespace, physicsZero } = this.world.getResource(engine_1.CommonStore);
        const physicsWorld = this.world.getResource(physicsNamespace.b2World);
        physicsNamespace.destroy(physicsWorld);
        physicsNamespace.destroy(physicsZero);
        const ctx = this.world.getResource(CanvasRenderingContext2D);
        ctx.fillStyle = '#ececec';
        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
    }
    createWorld() {
        return new sim_ecs_1.ECS()
            .buildWorld()
            .withSystem(engine_2.CameraSystem, [
            systems_1.CharacterSystem
        ])
            .withSystem(engine_2.PhysicsSystem, [
            systems_1.CharacterSystem
        ])
            .withSystem(systems_1.CharacterSystem, [
            engine_2.CollisionSystem
        ])
            .withSystem(engine_2.CollisionSystem, [])
            .withSystem(systems_1.ActionsSystem, [
            systems_1.PauseSystem
        ])
            .withSystem(engine_2.InputSystem)
            .withSystem(systems_1.MenuSystem, [
            engine_2.InputSystem,
        ])
            .withSystem(systems_1.PauseSystem, [
            engine_2.InputSystem
        ])
            .withSystem(systems_1.RenderGameSystem, [
            engine_2.PhysicsSystem,
            systems_1.CharacterSystem,
        ])
            .withSystem(engine_2.GcSystem, [
            systems_1.RenderGameSystem,
        ])
            .withSystem(systems_1.RenderUISystem, [
            engine_2.PhysicsSystem,
            systems_1.MenuSystem,
            systems_1.PauseSystem
        ])
            .withComponents(engine_1.Collision, engine_1.Material, engine_1.Mesh, engine_1.Position, engine_1.Rotation, engine_1.Shape, ui_item_1.UIItem, engine_1.Velocity, character_1.Character, engine_1.PhysicsBridge)
            .build();
    }
}
exports.Topdown = Topdown;


/***/ }),

/***/ "./src/models/game-store.ts":
/*!**********************************!*\
  !*** ./src/models/game-store.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameStore = void 0;
class GameStore {
    constructor() {
        this.continue = false;
        this.actions = {
            characterMovement: 0,
            menuConfirm: false,
            menuMovement: 0,
            togglePause: false,
        };
    }
}
exports.GameStore = GameStore;


/***/ }),

/***/ "./src/models/tags.ts":
/*!****************************!*\
  !*** ./src/models/tags.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ETags = exports.MyTags = void 0;
const engine_1 = __webpack_require__(/*! ../engine/ */ "./src/engine/index.ts");
var MyTags;
(function (MyTags) {
    MyTags[MyTags["save"] = 3] = "save";
    MyTags[MyTags["character"] = 4] = "character";
    MyTags[MyTags["networkObject"] = 5] = "networkObject";
})(MyTags = exports.MyTags || (exports.MyTags = {}));
exports.ETags = Object.assign(Object.assign({}, engine_1.ECommonTags), MyTags);


/***/ }),

/***/ "./src/prefabs/game.ts":
/*!*****************************!*\
  !*** ./src/prefabs/game.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.gamePrefab = void 0;
const engine_1 = __webpack_require__(/*! ../engine/ */ "./src/engine/index.ts");
exports.gamePrefab = [
    {
        PhysicsBridge: {},
        Collision: {},
        Position: {
            x: 0,
            y: 0,
        },
        Rotation: {
            value: 0
        },
        Velocity: {
            x: 0,
            y: 0,
        },
        Material: {
            color: '#fdff03'
        },
        Shape: {
            dimensions: {
                x: 2,
                y: 0.7,
            },
            pivot: engine_1.ShapePivot.TopLeft,
            primitive: engine_1.ShapePrimitive.Rect,
        },
    },
    {
        Collision: {},
        Position: {
            x: 1,
            y: 3,
        },
        Rotation: {
            value: 0
        },
        Velocity: {
            x: 2,
            y: 0,
        },
        Material: {
            color: '#fdff03'
        },
        Shape: {
            zIndex: 10,
            pivot: engine_1.ShapePivot.TopLeft,
            dimensions: {
                x: 0.7,
            },
            primitive: engine_1.ShapePrimitive.Circle,
        },
    },
    {
        Collision: {},
        Position: {
            x: 18,
            y: 0,
        },
        Rotation: {
            value: 7 * Math.PI / 4
        },
        Velocity: {
            x: 0,
            y: 0,
        },
        Material: {
            color: '#0bb'
        },
    },
];


/***/ }),

/***/ "./src/prefabs/menu.ts":
/*!*****************************!*\
  !*** ./src/prefabs/menu.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.menuPrefab = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const actions_1 = __webpack_require__(/*! ../app/actions */ "./src/app/actions.ts");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
exports.menuPrefab = [
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.05 * 1024,
        },
        UIItem: {
            caption: 'SHPEK',
            color: '#ddd',
            fontSize: 64,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.12 * 1024,
        },
        UIItem: {
            caption: 'Pen is game',
            color: '#ddd',
            fontSize: 24,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.2 * 1024,
        },
        UIItem: {
            caption: 'How to play: Move: WASD, Rotate Q/E, Pause: Escape',
            color: '#ddd',
            fontSize: 24,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.05 * 1024,
            y: 0.24 * 1024,
        },
        UIItem: {
            caption: 'The game will be saved upon pausing (not yet lmao)',
            color: '#ddd',
            fontSize: 24,
        }
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.15 * 1024,
            y: 0.35 * 1024,
        },
        UIItem: {
            action: actions_1.EActions.Play,
            active: true,
            color: '#ddd',
            caption: 'Play',
            fontSize: 32,
        },
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.15 * 1024,
            y: 0.4 * 1024,
        },
        UIItem: {
            action: actions_1.EActions.Continue,
            color: '#ddd',
            caption: 'Continue',
            fontSize: 32,
        },
    },
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 0.15 * 1024,
            y: 0.45 * 1024,
        },
        UIItem: {
            action: actions_1.EActions.Exit,
            color: '#ddd',
            caption: 'Exit (really?)',
            fontSize: 32,
        },
    },
];


/***/ }),

/***/ "./src/prefabs/pause.ts":
/*!******************************!*\
  !*** ./src/prefabs/pause.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.pausePrefab = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
exports.pausePrefab = [
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.ui
        ],
        Position: {
            x: 50,
            y: 30,
        },
        UIItem: {
            caption: '❚❚ PAUSE',
            color: '#ddd',
            fontSize: 64,
        }
    },
];


/***/ }),

/***/ "./src/prefabs/savable.ts":
/*!********************************!*\
  !*** ./src/prefabs/savable.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.savablePrefab = void 0;
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const _1_1 = __webpack_require__(/*! ../../res/meshes/1 */ "./res/meshes/1.ts");
const engine_1 = __webpack_require__(/*! ../engine */ "./src/engine/index.ts");
exports.savablePrefab = [
    {
        [sim_ecs_1.CTagMarker]: [
            tags_1.ETags.character,
        ],
        Character: {
            name: 'XuPoH'
        },
        Velocity: {
            x: 0,
            y: 0,
            angular: 0,
        },
        Collision: {},
        Rotation: {
            value: 0
        },
        Position: {
            x: 0,
            y: 0,
        },
        Shape: {
            zIndex: 11,
            dimensions: {
                x: 1,
            },
            mesh: {
                verticies: _1_1.verticies
            },
            primitive: engine_1.ShapePrimitive.Mesh,
            pivot: engine_1.ShapePivot.Middle,
        },
        Material: {
            color: '#cca',
        },
    },
];


/***/ }),

/***/ "./src/states/game.ts":
/*!****************************!*\
  !*** ./src/states/game.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const persistence_1 = __webpack_require__(/*! ../app/persistence */ "./src/app/persistence.ts");
const engine_1 = __webpack_require__(/*! ../engine */ "./src/engine/index.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const game_1 = __webpack_require__(/*! ../prefabs/game */ "./src/prefabs/game.ts");
const savable_1 = __webpack_require__(/*! ../prefabs/savable */ "./src/prefabs/savable.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
const character_1 = __webpack_require__(/*! ../systems/character */ "./src/systems/character.ts");
const pause_1 = __webpack_require__(/*! ../systems/pause */ "./src/systems/pause.ts");
const render_game_1 = __webpack_require__(/*! ../systems/render-game */ "./src/systems/render-game.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
class GameState extends sim_ecs_1.State {
    constructor() {
        super(...arguments);
        this._systems = [
            engine_1.PhysicsSystem,
            character_1.CharacterSystem,
            engine_1.CollisionSystem,
            engine_1.InputSystem,
            engine_1.CameraSystem,
            pause_1.PauseSystem,
            render_game_1.RenderGameSystem,
            render_ui_1.RenderUISystem,
            engine_1.GcSystem,
            actions_1.ActionsSystem,
        ];
    }
    activate(actions) {
        actions.getResource(game_store_1.GameStore).currentState = this;
    }
    async create(actions) {
        var _a;
        this.commonStore = actions.getResource(engine_1.CommonStore);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.staticDataPrefabHandle = createNewGame(actions);
        if (this.gameStore.continue) {
            this.saveDataPrefabHandle = persistence_1.load(actions);
        }
        else {
            this.saveDataPrefabHandle = createGameFromSaveData(actions);
        }
        await actions.flushCommands();
        for (const entity of actions.getEntities(new sim_ecs_1.Query([
            sim_ecs_1.With(engine_1.Shape)
        ]))) {
            (_a = entity.getComponent(engine_1.Shape)) === null || _a === void 0 ? void 0 : _a.build();
        }
        const { b2World, b2CircleShape, b2Shape, b2PolygonShape, b2BodyDef, b2_dynamicBody, b2Vec2, destroy, } = this.commonStore.physicsNamespace;
        const physWorld = actions.getResource(b2World);
        const zero = this.commonStore.physicsZero;
        let physShape = null;
        for (const entity of actions.getEntities(new sim_ecs_1.Query([
            sim_ecs_1.With(engine_1.Shape),
            sim_ecs_1.With(engine_1.Position),
            sim_ecs_1.With(engine_1.PhysicsBridge)
        ]))) {
            const pos = entity.getComponent(engine_1.Position);
            const shape = entity.getComponent(engine_1.Shape);
            const physicsBridge = entity.getComponent(engine_1.PhysicsBridge);
            console.log('Adding to physics world:', pos, shape);
            const vec = new b2Vec2(pos.x, pos.y);
            const bd = new b2BodyDef();
            const { w, h } = shape.getBBox();
            if (shape.primitive === engine_1.ShapePrimitive.Rect) {
                const _shape = new b2PolygonShape();
                _shape.SetAsBox(w, h);
                physShape = _shape;
            }
            else if (shape.primitive === engine_1.ShapePrimitive.Circle) {
                const _shape = new b2CircleShape();
                _shape.set_m_radius(shape.dimensions.x / 2);
                physShape = _shape;
            }
            else {
                console.error(shape.primitive, 'is not supported by physics now');
            }
            if (physShape) {
                bd.set_type(b2_dynamicBody);
                bd.set_position(vec);
                const body = physWorld.CreateBody(bd);
                vec.Set(0, 0);
                body.SetTransform(vec, 0);
                body.CreateFixture(physShape, 1);
                destroy(vec);
                destroy(physShape);
                body.SetLinearVelocity(zero);
                body.SetAwake(true);
                body.SetEnabled(true);
                physicsBridge.bodyPtr = body;
            }
        }
        actions.commands.maintain();
    }
    destroy(actions) {
        if (this.staticDataPrefabHandle) {
            actions.commands.unloadPrefab(this.staticDataPrefabHandle);
        }
        if (this.saveDataPrefabHandle) {
            actions.commands.unloadPrefab(this.saveDataPrefabHandle);
        }
        const { physicsNamespace: { b2World, destroy } } = this.commonStore;
        destroy(actions.getResource(b2World));
        actions.commands.maintain();
    }
}
exports.GameState = GameState;
const createNewGame = function (actions) {
    return actions.commands.load(sim_ecs_1.SerialFormat.fromArray(game_1.gamePrefab));
};
const createGameFromSaveData = function (actions) {
    return actions.commands.load(sim_ecs_1.SerialFormat.fromArray(savable_1.savablePrefab));
};


/***/ }),

/***/ "./src/states/menu.ts":
/*!****************************!*\
  !*** ./src/states/menu.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MenuState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const menu_1 = __webpack_require__(/*! ../prefabs/menu */ "./src/prefabs/menu.ts");
const menu_2 = __webpack_require__(/*! ../systems/menu */ "./src/systems/menu.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const engine_1 = __webpack_require__(/*! ../engine/ */ "./src/engine/index.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
class MenuState extends sim_ecs_1.State {
    constructor() {
        super(...arguments);
        this._systems = [engine_1.InputSystem, actions_1.ActionsSystem, menu_2.MenuSystem, render_ui_1.RenderUISystem];
    }
    activate(actions) {
        actions.getResource(game_store_1.GameStore).currentState = this;
        this.prefabHandle = actions.commands.load(sim_ecs_1.SerialFormat.fromArray(menu_1.menuPrefab));
        actions.commands.maintain();
    }
    deactivate(actions) {
        actions.commands.unloadPrefab(this.prefabHandle);
        actions.commands.maintain();
    }
}
exports.MenuState = MenuState;


/***/ }),

/***/ "./src/states/pause.ts":
/*!*****************************!*\
  !*** ./src/states/pause.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PauseState = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const pause_1 = __webpack_require__(/*! ../systems/pause */ "./src/systems/pause.ts");
const pause_2 = __webpack_require__(/*! ../prefabs/pause */ "./src/prefabs/pause.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const persistence_1 = __webpack_require__(/*! ../app/persistence */ "./src/app/persistence.ts");
const render_ui_1 = __webpack_require__(/*! ../systems/render-ui */ "./src/systems/render-ui.ts");
const render_game_1 = __webpack_require__(/*! ../systems/render-game */ "./src/systems/render-game.ts");
const engine_1 = __webpack_require__(/*! ../engine/ */ "./src/engine/index.ts");
const actions_1 = __webpack_require__(/*! ../systems/actions */ "./src/systems/actions.ts");
class PauseState extends sim_ecs_1.State {
    constructor() {
        super(...arguments);
        this._systems = [engine_1.InputSystem, actions_1.ActionsSystem, pause_1.PauseSystem, render_game_1.RenderGameSystem, render_ui_1.RenderUISystem];
    }
    activate(actions) {
        const gameStore = actions.getResource(game_store_1.GameStore);
        persistence_1.save(actions);
        gameStore.currentState = this;
        this.prefabHandle = actions.commands.load(sim_ecs_1.SerialFormat.fromArray(pause_2.pausePrefab));
        actions.commands.maintain();
    }
    deactivate(actions) {
        actions.commands.unloadPrefab(this.prefabHandle);
        actions.commands.maintain();
    }
}
exports.PauseState = PauseState;


/***/ }),

/***/ "./src/systems/actions.ts":
/*!********************************!*\
  !*** ./src/systems/actions.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ActionsSystem = void 0;
const tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const KeyCode = tslib_1.__importStar(__webpack_require__(/*! keycode-js */ "./node_modules/keycode-js/dist/keycode.esm.js"));
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const engine_1 = __webpack_require__(/*! ../engine */ "./src/engine/index.ts");
class ActionsSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.listeners = {
            blur: () => {
                this.gameStore.actions.characterMovement = 0;
                this.gameStore.actions.menuMovement = 0;
                this.gameStore.actions.togglePause = false;
                this.commonStore.input.keyStates.clear();
            },
            focus: () => this.listeners.blur(),
        };
    }
    setup(actions) {
        this.commonStore = actions.getResource(engine_1.CommonStore);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        for (const [event, handler] of Object.entries(this.listeners)) {
            window.addEventListener(event, handler);
        }
    }
    updateAction(triggers, pos, neg, menu) {
        if (this.commonStore.input.isAnyKey(triggers, engine_1.EKeyState.Down)) {
            this.gameStore.actions.characterMovement |= pos;
            this.gameStore.actions.characterMovement &= ~neg;
            if (menu)
                this.gameStore.actions.menuMovement = menu;
        }
        else if (this.commonStore.input.isAnyKeyDifferent(triggers, engine_1.EKeyState.Up)) {
            ;
            this.gameStore.actions.characterMovement &= ~pos;
            if (menu)
                this.gameStore.actions.menuMovement = 0;
        }
    }
    run(actions) {
        {
            this.gameStore.actions.menuConfirm = false;
            this.gameStore.actions.menuMovement = 0;
            this.gameStore.actions.togglePause = false;
        }
        const { input } = this.commonStore;
        if (input.wasKeyPressed(KeyCode.CODE_ENTER)) {
            this.gameStore.actions.menuConfirm = true;
        }
        if (input.wasKeyPressed(KeyCode.CODE_ESCAPE)) {
            console.log(input);
            this.gameStore.actions.togglePause = true;
        }
        this.updateAction([
            KeyCode.CODE_W,
            KeyCode.CODE_UP
        ], 1, 2, 1);
        this.updateAction([
            KeyCode.CODE_A,
            KeyCode.CODE_LEFT
        ], 4, 8);
        this.updateAction([
            KeyCode.CODE_S,
            KeyCode.CODE_DOWN
        ], 2, 1, 2);
        this.updateAction([
            KeyCode.CODE_D,
            KeyCode.CODE_RIGHT
        ], 8, 4);
    }
}
exports.ActionsSystem = ActionsSystem;


/***/ }),

/***/ "./src/systems/character.ts":
/*!**********************************!*\
  !*** ./src/systems/character.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CharacterSystem = void 0;
const keycode_js_1 = __webpack_require__(/*! keycode-js */ "./node_modules/keycode-js/dist/keycode.esm.js");
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const engine_1 = __webpack_require__(/*! ../engine */ "./src/engine/index.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
class CharacterSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            _character: sim_ecs_1.WithTag(tags_1.ETags.character),
            entity: sim_ecs_1.ReadEntity(),
            pos: sim_ecs_1.Read(engine_1.Position),
            rotation: sim_ecs_1.Write(engine_1.Rotation),
            velocity: sim_ecs_1.Write(engine_1.Velocity),
        });
        this.runs = 0;
    }
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.commonStore = actions.getResource(engine_1.CommonStore);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.camera = actions.getResource(engine_1.Camera);
        this.camera.elasticity = 0.008;
        this.camera.follow = {
            method: engine_1.CameraFollowMethod.Elastic,
            target: {
                x: this.camera.x,
                y: this.camera.y,
            },
            prevX: this.camera.x,
            prevY: this.camera.y,
        };
    }
    run(actions) {
        this.camera.zoom += this.commonStore.input.wheel / 10;
        this.query.execute(({ rotation, pos, velocity }) => {
            if (this.commonStore.input.isKeyDown(keycode_js_1.CODE_E)) {
                rotation.value += 0.01;
            }
            if (this.commonStore.input.isKeyDown(keycode_js_1.CODE_Q)) {
                rotation.value -= 0.01;
            }
            this.camera.follow.target = pos;
            this.camera.follow.targetAngle = rotation.value;
            const dt = this.commonStore.lastFrameDeltaTime;
            const { characterMovement: move } = this.gameStore.actions;
            const isLeft = (move & 4) === 4;
            const isRight = (move & 8) === 8;
            velocity.x = 0;
            if (isLeft && !isRight) {
                velocity.x = -1;
            }
            if (isRight && !isLeft) {
                velocity.x = 1;
            }
            if ((move & 1) === 1) {
                velocity.y = -1;
            }
            else if ((move & 2) === 2) {
                velocity.y = 1;
            }
            else {
                velocity.y = 0;
            }
            const { x: vx, y: vy } = velocity;
            const [sin, cos] = rotation.sin_cos;
            velocity.x = vx * cos - vy * sin;
            velocity.y = vx * sin + vy * cos;
            velocity.normalize();
            velocity.scale(dt * 60 * 2);
        });
    }
}
exports.CharacterSystem = CharacterSystem;


/***/ }),

/***/ "./src/systems/index.ts":
/*!******************************!*\
  !*** ./src/systems/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
tslib_1.__exportStar(__webpack_require__(/*! ./actions */ "./src/systems/actions.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./character */ "./src/systems/character.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./menu */ "./src/systems/menu.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./pause */ "./src/systems/pause.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./render-game */ "./src/systems/render-game.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./render-ui */ "./src/systems/render-ui.ts"), exports);


/***/ }),

/***/ "./src/systems/menu.ts":
/*!*****************************!*\
  !*** ./src/systems/menu.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MenuSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const ui_item_1 = __webpack_require__(/*! ../components/ui-item */ "./src/components/ui-item.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const actions_1 = __webpack_require__(/*! ../app/actions */ "./src/app/actions.ts");
const game_1 = __webpack_require__(/*! ../states/game */ "./src/states/game.ts");
const menu_1 = __webpack_require__(/*! ../states/menu */ "./src/states/menu.ts");
class MenuSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this._states = [
            game_1.GameState,
            menu_1.MenuState
        ];
        this.query = new sim_ecs_1.Query({
            uiItem: sim_ecs_1.Write(ui_item_1.UIItem)
        });
        this.menuAction = actions_1.EActions.Play;
    }
    setup(actions) {
        this.actions = actions;
        this.gameStore = actions.getResource(game_store_1.GameStore);
        console.log('setup Menu');
    }
    run(actions) {
        if (this.gameStore.actions.menuMovement == 2) {
            switch (this.menuAction) {
                case actions_1.EActions.Play:
                    this.menuAction = actions_1.EActions.Continue;
                    break;
                case actions_1.EActions.Continue:
                    this.menuAction = actions_1.EActions.Exit;
                    break;
                case actions_1.EActions.Exit:
                    this.menuAction = actions_1.EActions.Play;
                    break;
                default: {
                    throw new Error(`Action ${this.menuAction} not implemented!`);
                }
            }
        }
        else if (this.gameStore.actions.menuMovement == 1) {
            switch (this.menuAction) {
                case actions_1.EActions.Play:
                    this.menuAction = actions_1.EActions.Exit;
                    break;
                case actions_1.EActions.Continue:
                    this.menuAction = actions_1.EActions.Play;
                    break;
                case actions_1.EActions.Exit:
                    this.menuAction = actions_1.EActions.Continue;
                    break;
                default: {
                    throw new Error(`Action ${this.menuAction} not implemented!`);
                }
            }
        }
        if (this.gameStore.actions.menuConfirm) {
            if (this.menuAction == actions_1.EActions.Play) {
                this.actions.commands.pushState(game_1.GameState);
            }
            else if (this.menuAction == actions_1.EActions.Continue) {
                if (localStorage.getItem('save') == null) {
                    alert('Sorry you werent saved lol');
                    return;
                }
                this.gameStore.continue = true;
                this.actions.commands.pushState(game_1.GameState);
            }
            else {
                this.actions.commands.stopRun();
            }
            return;
        }
        for (const { uiItem } of this.query.iter()) {
            uiItem.active = uiItem.action == this.menuAction;
        }
    }
}
exports.MenuSystem = MenuSystem;


/***/ }),

/***/ "./src/systems/pause.ts":
/*!******************************!*\
  !*** ./src/systems/pause.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PauseSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const engine_1 = __webpack_require__(/*! ../engine/ */ "./src/engine/index.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const game_1 = __webpack_require__(/*! ../states/game */ "./src/states/game.ts");
const pause_1 = __webpack_require__(/*! ../states/pause */ "./src/states/pause.ts");
class PauseSystem extends sim_ecs_1.System {
    setup(actions) {
        this.actions = actions;
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.commonStore = actions.getResource(engine_1.CommonStore);
        window.addEventListener('blur', () => {
            var _a, _b;
            const isGameState = ((_a = this.gameStore.currentState) === null || _a === void 0 ? void 0 : _a.constructor) == game_1.GameState;
            const isPauseState = ((_b = this.gameStore.currentState) === null || _b === void 0 ? void 0 : _b.constructor) == pause_1.PauseState;
            if (!isGameState && !isPauseState)
                return;
            if (!isPauseState) {
                this.actions.commands.pushState(pause_1.PauseState);
                this.commonStore.wasBlurred = true;
            }
        });
        window.addEventListener('focus', () => {
            if (this.commonStore.wasBlurred &&
                !this.commonStore.wasIntentionallyPaused) {
                this.actions.commands.popState();
            }
        });
    }
    run(actions) {
        var _a, _b;
        const isGameState = ((_a = this.gameStore.currentState) === null || _a === void 0 ? void 0 : _a.constructor) == game_1.GameState;
        const isPauseState = ((_b = this.gameStore.currentState) === null || _b === void 0 ? void 0 : _b.constructor) == pause_1.PauseState;
        if (!isGameState && !isPauseState) {
            return;
        }
        if (this.gameStore.actions.togglePause) {
            if (isGameState) {
                this.commonStore.wasIntentionallyPaused = true;
                this.actions.commands.pushState(pause_1.PauseState);
            }
            else {
                this.commonStore.wasIntentionallyPaused = false;
                this.actions.commands.popState();
            }
        }
    }
}
exports.PauseSystem = PauseSystem;


/***/ }),

/***/ "./src/systems/render-game.ts":
/*!************************************!*\
  !*** ./src/systems/render-game.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RenderGameSystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const engine_1 = __webpack_require__(/*! ../engine */ "./src/engine/index.ts");
const util_1 = __webpack_require__(/*! ../engine/util */ "./src/engine/util.ts");
class RenderGameSystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            pos: sim_ecs_1.Read(engine_1.Position),
            rot: sim_ecs_1.Write(engine_1.Rotation),
            shape: sim_ecs_1.Read(engine_1.Shape),
            material: sim_ecs_1.Read(engine_1.Material),
        });
        this.runs = 0;
    }
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.commonStore = actions.getResource(engine_1.CommonStore);
        this.camera = actions.getResource(engine_1.Camera);
        this.controls = document.querySelector('#controls');
    }
    run(actions) {
        const viewport = {
            x: this.camera.x + this.camera.offset.x,
            y: this.camera.y + this.camera.offset.y,
            w: this.ctx.canvas.width / (this.camera.zoom * util_1.PIXELS_PER_METER),
            h: this.ctx.canvas.height / (this.camera.zoom * util_1.PIXELS_PER_METER),
        };
        this.camera.viewport = viewport;
        this.ctx.save();
        this.ctx.scale(util_1.PIXELS_PER_METER * this.camera.zoom, util_1.PIXELS_PER_METER * this.camera.zoom);
        this.ctx.translate(-viewport.x, -viewport.y);
        this.ctx.translate(this.camera.x, this.camera.y);
        this.ctx.rotate(this.camera.rotation);
        this.ctx.translate(-this.camera.x, -this.camera.y);
        this.commonStore.worldToScreen = this.ctx.getTransform();
        this.commonStore.screenToWorld = this.ctx.getTransform().inverse();
        const { x: mx, y: my } = this.commonStore.input.cursorPos;
        const rows = 10;
        const cols = 18;
        const perCol = this.ctx.canvas.width / (cols * util_1.PIXELS_PER_METER);
        const perRow = this.ctx.canvas.height / (rows * util_1.PIXELS_PER_METER);
        for (let i = 0; i < rows; i++) {
            for (let j = 0; j < cols; j++) {
                const x = j * perCol;
                const y = i * perRow;
                this.ctx.lineWidth = 2 / 32;
                this.ctx.strokeStyle = '#dadada';
                this.ctx.strokeRect(x, y, perCol, perRow);
            }
        }
        const iter = Array.from(this.query.iter());
        this.commonStore.drawables = iter.length;
        const drawables = iter.filter(({ pos, shape }) => {
            const bbox = shape.getBBox();
            const r = {
                x: pos.x + bbox.x,
                y: pos.y + bbox.y,
                w: bbox.w,
                h: bbox.h,
            };
            const inView = engine_1.Rect.checkIntersects(r, viewport);
            return inView;
        })
            .sort(({ shape: a }, { shape: b }) => {
            return a.zIndex - b.zIndex;
        });
        this.commonStore.rendered = drawables.length;
        for (let i = 0; i < drawables.length; i++) {
            const { pos, shape, rot, material } = drawables[i];
            this.drawShape(pos, shape, material, rot);
        }
        this.ctx.restore();
    }
    drawShape(pos, shape, material, rot) {
        const { x: w, y: h } = shape.dimensions;
        const { x: bx, y: by, w: bw, h: bh, } = shape.getBBox();
        const { x, y } = pos;
        this.ctx.save();
        this.ctx.translate(x, y);
        this.ctx.rotate(rot.value);
        this.ctx.fillStyle = material.color;
        if (shape.primitive === engine_1.ShapePrimitive.Rect) {
            this.ctx.fillRect(bx, by, w, h);
        }
        else if (shape.primitive === engine_1.ShapePrimitive.Circle) {
            this.ctx.beginPath();
            this.ctx.arc(bx + w / 2, bx + w / 2, w / 2, 0, util_1.TWOPI);
            this.ctx.fill();
        }
        else if (shape.primitive === engine_1.ShapePrimitive.Mesh
            && shape.mesh) {
            this.ctx.beginPath();
            const { offsetX, offsetY } = shape;
            for (let i = 0; i < shape.mesh.verticies.length; ++i) {
                const { x: dx, y: dy } = shape.mesh.verticies[i];
                this.ctx.lineTo(dx + offsetX, dy + offsetY);
            }
            this.ctx.closePath();
            this.ctx.fill();
        }
        if (this.commonStore.debugShapes) {
            this.ctx.save();
            this.ctx.fillStyle = '#fff';
            this.ctx.font = '0.1rem Arial';
            this.ctx.fillText(`Z=${shape.zIndex},x=${Math.floor(x)},y=${Math.floor(y)}`, 0, -by - 2);
            this.ctx.fillText(`Pivot=${engine_1.ShapePivotNames[shape.pivot]}`, 0, -by - 3);
            this.ctx.strokeStyle = '#f0f';
            const padding = 0;
            this.ctx.lineWidth = 0.1;
            this.ctx.strokeRect(bx - padding, by - padding, bw + padding * 2, bh + padding * 2);
            this.ctx.restore();
            util_1.drawPoint(this.ctx, 0, 0);
        }
        this.ctx.restore();
    }
}
exports.RenderGameSystem = RenderGameSystem;


/***/ }),

/***/ "./src/systems/render-ui.ts":
/*!**********************************!*\
  !*** ./src/systems/render-ui.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RenderUISystem = void 0;
const sim_ecs_1 = __webpack_require__(/*! sim-ecs */ "./node_modules/sim-ecs/dist/index.js");
const ui_item_1 = __webpack_require__(/*! ../components/ui-item */ "./src/components/ui-item.ts");
const game_store_1 = __webpack_require__(/*! ../models/game-store */ "./src/models/game-store.ts");
const tags_1 = __webpack_require__(/*! ../models/tags */ "./src/models/tags.ts");
const position_1 = __webpack_require__(/*! ../engine/components/position */ "./src/engine/components/position.ts");
const common_store_1 = __webpack_require__(/*! ../engine/models/common-store */ "./src/engine/models/common-store.ts");
class RenderUISystem extends sim_ecs_1.System {
    constructor() {
        super(...arguments);
        this.query = new sim_ecs_1.Query({
            _tag: sim_ecs_1.WithTag(tags_1.ETags.ui),
            pos: sim_ecs_1.Read(position_1.Position),
            ui: sim_ecs_1.Read(ui_item_1.UIItem)
        });
        this.runs = 0;
    }
    setup(actions) {
        this.ctx = actions.getResource(CanvasRenderingContext2D);
        this.gameStore = actions.getResource(game_store_1.GameStore);
        this.commonStore = actions.getResource(common_store_1.CommonStore);
    }
    run(actions) {
        this.ctx.textBaseline = 'top';
        this.ctx.save();
        this.query.execute(({ pos, ui }) => {
            var _a;
            this.ctx.fillStyle = ui.active
                ? (_a = ui.activeColor) !== null && _a !== void 0 ? _a : 'red'
                : ui.color;
            this.ctx.font = ui.active
                ? `${ui.fontSize * 1.2}px serif`
                : `${ui.fontSize}px serif`;
            this.ctx.fillText(ui.finalCaption, pos.x, pos.y);
        });
        this.ctx.restore();
        this.ctx.font = '32px serif';
        this.ctx.fillStyle = '#fff';
        this.ctx.fillText(`${Math.floor(10 * this.commonStore.timeSinceLevelLoaded) / 10.0} s.`, this.ctx.canvas.width - 200, 20);
        this.ctx.fillText(`${Math.floor(this.commonStore.medianFps + 0.5)} FPS`, this.ctx.canvas.width - 200, 60);
        this.ctx.fillText(`${this.commonStore.rendered} / ${this.commonStore.drawables}`, this.ctx.canvas.width - 200, 100);
        {
            let str = this.gameStore.actions.characterMovement.toString(2);
            str = '0'.repeat(4 - str.length) + str;
            this.ctx.fillText(`${str}`, this.ctx.canvas.width - 200, 140);
        }
    }
}
exports.RenderUISystem = RenderUISystem;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference all chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return undefined;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "citylights:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) var result = runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkIds[i]] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkcitylights"] = self["webpackChunkcitylights"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors-node_modules_sim-ecs_dist_index_js-node_modules_box2d-wasm_dist_es_entry_js-node_modu-0d9457"], () => (__webpack_require__("./src/index.ts")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7OztBQ0VhLGlCQUFTLEdBQWdCO0lBQ2xDLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3hCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3hCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3ZCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLE9BQU8sRUFBQztJQUN0QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN2QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDeEIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3hCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLE9BQU8sRUFBQztJQUN4QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQUM7SUFDeEIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLE1BQU0sRUFBQztJQUN2QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDekIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUMxQixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsUUFBUSxFQUFDO0lBQzFCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFDO0lBQ3pCLEVBQUMsQ0FBQyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBQztJQUN6QixFQUFDLENBQUMsRUFBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUM7SUFDMUIsRUFBQyxDQUFDLEVBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFDLENB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SyxVQUFVLENBQUMsT0FBTyxFQUFFO1lBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztZQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7U0FDaEM7YUFBTSxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssVUFBVSxDQUFDLFNBQVMsRUFBRTtZQUM1QyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7U0FDaEM7YUFBTSxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssVUFBVSxDQUFDLFFBQVEsRUFBRTtZQUMzQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7WUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1NBQ2hDO2FBQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFVBQVUsQ0FBQyxJQUFJLEVBQUU7WUFDdkMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1NBQ2hDO2FBQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFVBQVUsQ0FBQyxLQUFLLEVBQUU7WUFDeEMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1NBQ2hDO2FBQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFVBQVUsQ0FBQyxVQUFVLEVBQUU7WUFDN0MsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMs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QTtXQUNBO1dBQ0E7V0FDQSxNQUFNO1dBQ047V0FDQTtXQUNBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsTUFBTSxxQkFBcUI7V0FDM0I7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBO1dBQ0EsNEc7Ozs7O1VFbkZBO1VBQ0E7VUFDQTtVQUNBO1VBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3Njc3MvYXBwLnNjc3MiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3Jlcy9tZXNoZXMvMS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2FwcC9hY3Rpb25zLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvYXBwL2ZyYW1lLXRyYW5zaXRpb24taGFuZGxlcnMudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9hcHAvcGVyc2lzdGVuY2UudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9jb21wb25lbnRzL2NoYXJhY3Rlci50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2NvbXBvbmVudHMvdWktaXRlbS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9jb21wb25lbnRzL2NvbGxpc2lvbi50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9jb21wb25lbnRzL2luZGV4LnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvbWF0ZXJpYWwudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvY29tcG9uZW50cy9tZXNoLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvcGh5c2ljcy1icmlkZ2UudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvY29tcG9uZW50cy9wb3NpdGlvbi50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9jb21wb25lbnRzL3JvdGF0aW9uLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL2NvbXBvbmVudHMvc2hhcGUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvY29tcG9uZW50cy92ZWxvY2l0eS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9pbmRleC50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9tb2RlbHMvY2FtZXJhLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL21vZGVscy9jb21tb24tc3RvcmUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvbW9kZWxzL2NvbW1vbi10YWdzLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL21vZGVscy9pbmRleC50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9tb2RlbHMvbGV2ZWwuaC50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9tb2RlbHMvbW92ZW1lbnQudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvbW9kZWxzL3JlY3QudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvbW9kZWxzL3RyYW5zZm9ybS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9tb2RlbHMvdmVjdG9yMmQudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvc3lzdGVtcy9jYW1lcmEudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvc3lzdGVtcy9jb2xsaXNpb24udHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvc3lzdGVtcy9nYy50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2VuZ2luZS9zeXN0ZW1zL2luZGV4LnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL3N5c3RlbXMvaW5wdXQudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9lbmdpbmUvc3lzdGVtcy9waHlzaWNzLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvZW5naW5lL3V0aWwudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL2xldmVscy90b3Bkb3duLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvbW9kZWxzL2dhbWUtc3RvcmUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9tb2RlbHMvdGFncy50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3ByZWZhYnMvZ2FtZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3ByZWZhYnMvbWVudS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3ByZWZhYnMvcGF1c2UudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9wcmVmYWJzL3NhdmFibGUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9zdGF0ZXMvZ2FtZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3N0YXRlcy9tZW51LnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3RhdGVzL3BhdXNlLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3lzdGVtcy9hY3Rpb25zLnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3lzdGVtcy9jaGFyYWN0ZXIudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9zeXN0ZW1zL2luZGV4LnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3lzdGVtcy9tZW51LnRzIiwid2VicGFjazovL2NpdHlsaWdodHMvLi9zcmMvc3lzdGVtcy9wYXVzZS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzLy4vc3JjL3N5c3RlbXMvcmVuZGVyLWdhbWUudHMiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy8uL3NyYy9zeXN0ZW1zL3JlbmRlci11aS50cyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9lbnN1cmUgY2h1bmsiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvZ2V0IGphdmFzY3JpcHQgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvZ2V0IG1pbmktY3NzIGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvbG9hZCBzY3JpcHQiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2NpdHlsaWdodHMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9jaXR5bGlnaHRzL3dlYnBhY2svYmVmb3JlLXN0YXJ0dXAiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vY2l0eWxpZ2h0cy93ZWJwYWNrL2FmdGVyLXN0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwiaW1wb3J0IHsgSVZlY3RvcjJEIH0gZnJvbSBcIi4uLy4uL3NyYy9lbmdpbmUvXCI7XG5cbmV4cG9ydCBjb25zdCB2ZXJ0aWNpZXM6IElWZWN0b3IyRFtdID0gW1xuICAgIHt4Oi0wLjM1ODI1MSwgeTotNC4zMDIxOTZ9LFxuICAgIHt4Oi0wLjE5NTgxLCB5Oi00LjM0MjE1M30sXG4gICAge3g6LTAuMTA5OTk3LCB5Oi00LjM1NTA1fSxcbiAgICB7eDowLjA1ODg4NiwgeTotNC4zNjQwMzd9LFxuICAgIHt4OjAuMTM3MTgzLCB5Oi00LjM1OTA2OH0sXG4gICAge3g6MC4yNjk1NTksIHk6LTQuMzI3NTYyfSxcbiAgICB7eDowLjMxODg2NywgeTotNC4yOTk5Njd9LFxuICAgIHt4OjAuMzc3Nzg0LCB5Oi00LjE4MDc0fSxcbiAgICB7eDowLjM5ODM2OCwgeTotNC4wMjA2NH0sXG4gICAge3g6MC40MzQzMDQsIHk6LTMuNTI2OTk4fSxcbiAgICB7eDowLjQ1MjIzMywgeTotMy4yMjIzMzd9LFxuICAgIHt4OjAuNDk0NDUsIHk6LTIuNTY5NTM2fSxcbiAgICB7eDowLjUyMTMxNSwgeTotMi4yNTAyNzh9LFxuICAgIHt4OjAuNTkyOTk5LCB5Oi0xLjY5ODI1fSxcbiAgICB7eDowLjY0MDM5MywgeTotMS40OTQzNjF9LFxuICAgIHt4OjAuNzUzMjY2LCB5Oi0xLjI2Mzc1N30sXG4gICAge3g6MC43OTkxNTQsIHk6LTEuMTc3MzM1fSxcbiAgICB7eDowLjg3MDEyLCB5Oi0xLjAyNDk3fSxcbiAgICB7eDowLjkwMDA0OCwgeTotMC45NTc4MjF9LFxuICAgIHt4OjAuOTYwOTIsIHk6LTAuODM4NTc4fSxcbiAgICB7eDowLjk5NjcxNCwgeTotMC43ODUyNzh9LFxuICAgIHt4OjEuMDkxMTQ1LCB5Oi0wLjY4ODMwNX0sXG4gICAge3g6MS4xNTQ2MzIsIHk6LTAuNjQzNDI3fSxcbiAgICB7eDoxLjMxNjQ3OSwgeTotMC41NTg1OTJ9LFxuICAgIHt4OjEuMzk3ODcyLCB5Oi0wLjUxNzQ2M30sXG4gICAge3g6MS41NDgzNTMsIHk6LTAuNDI1NjIyfSxcbiAgICB7eDoxLjYxNTYxNSwgeTotMC4zNjk0Nzh9LFxuICAgIHt4OjEuNzI5NjE2LCB5Oi0wLjIyMzE2M30sXG4gICAge3g6MS43NzQ1MjksIHk6LTAuMTI3NTU5fSxcbiAgICB7eDoxLjgzNTYxOSwgeTowLjEyMjEyMn0sXG4gICAge3g6MS44NDk5NjksIHk6MC4yODE2MzJ9LFxuICAgIHt4OjEuODQzMjkyLCB5OjAuNjYyMjQyfSxcbiAgICB7eDoxLjgyNDU3MSwgeTowLjg0MzczOH0sXG4gICAge3g6MS43NjAyMzgsIHk6MS4xNjQ3MjZ9LFxuICAgIHt4OjEuNzE1NzQsIHk6MS4zMDI1Mn0sXG4gICAge3g6MS42MDQ4NzIsIHk6MS41Mjg0NjN9LFxuICAgIHt4OjEuNTM5NjE2LCB5OjEuNjE0OTE1fSxcbiAgICB7eDoxLjM5MjI0NywgeToxLjczMDUzNH0sXG4gICAge3g6MS4zMTEyNSwgeToxLjc1ODAwM30sXG4gICAge3g6MS4xNDI3NjUsIHk6MS43NTk4ODN9LFxuICAgIHt4OjEuMDY2MTQyLCB5OjEuNzU2MzIzfSxcbiAgICB7eDowLjkyOTY0MiwgeToxLjc0Nzc3N30sXG4gICAge3g6MC44NjgwMzgsIHk6MS43NDEwNzR9LFxuICAgIHt4OjAuNzUzODAyLCB5OjEuNzE4NTE1fSxcbiAgICB7eDowLjY5OTQ0NCwgeToxLjcwMDk0Mn0sXG4gICAge3g6MC41OTE5MjksIHk6MS42NDg5MTV9LFxuICAgIHt4OjAuNTM3MDQ2LCB5OjEuNjEyNzQzfSxcbiAgICB7eDowLjQyMDY4MywgeToxLjUyNDI3OX0sXG4gICAge3g6MC4zNTgzNDUsIHk6MS40ODc3NjF9LFxuICAgIHt4OjAuMjI3NDI5LCB5OjEuNDM3OTc2fSxcbiAgICB7eDowLjE1OTg3NywgeToxLjQyNDU0OH0sXG4gICAge3g6MC4wMjMxNDIsIHk6MS40MjAyMTF9LFxuICAgIHt4Oi0wLjA0NTAxNSwgeToxLjQyOTE0MX0sXG4gICAge3g6LTAuMTc4MzUxLCB5OjEuNDY4NzkzfSxcbiAgICB7eDotMC4yNDI1MDYsIHk6MS40OTkzNTN9LFxuICAgIHt4Oi0wLjM2NDE0OSwgeToxLjU3NzM0Mn0sXG4gICAge3g6LTAuNDIzMDEsIHk6MS42MTU2MDZ9LFxuICAgIHt4Oi0wLjUzOTAxMSwgeToxLjY4MTcxOX0sXG4gICAge3g6LTAuNTk2NzcsIHk6MS43MDc1Mzh9LFxuICAgIHt4Oi0wLjcxMzM1OCwgeToxLjczOTYyOH0sXG4gICAge3g6LTAuNzcyODA3LCB5OjEuNzQzODY4fSxcbiAgICB7eDotMC44OTU1NjQsIHk6MS43MjM2Njh9LFxuICAgIHt4Oi0wLjk1OTQ5MiwgeToxLjY5NzE5OH0sXG4gICAge3g6LTEuMDkyMzE2LCB5OjEuNjA5NzN9LFxuICAgIHt4Oi0xLjE1NzY4OCwgeToxLjU1NDIwNn0sXG4gICAge3g6LTEuMjgwNzkyLCB5OjEuNDI0MjczfSxcbiAgICB7eDotMS4zMzY4MTgsIHk6MS4zNTA2MTF9LFxuICAgIHt4Oi0xLjQzMzU1MywgeToxLjE4Nzc2OH0sXG4gICAge3g6LTEuNDcyNTU2LCB5OjEuMDk5MzM1fSxcbiAgICB7eDotMS41Mjc1NjYsIHk6MC45MTAzMTV9LFxuICAgIHt4Oi0xLjU0MTg2NywgeTowLjgxMDQ3Nn0sXG4gICAge3g6LTEuNTQ1MzU4LCB5OjAuNjA3Mzg4fSxcbiAgICB7eDotMS41NDM4OTksIHk6MC41MTQ1MDV9LFxuICAgIHt4Oi0xLjUzNTQ0NCwgeTowLjM0NTMxNX0sXG4gICAge3g6LTEuNTI2NTYsIHk6MC4yNjYzMzN9LFxuICAgIHt4Oi0xLjQ5NDc2NCwgeTowLjExMjkwMX0sXG4gICAge3g6LTEuNDY5OTY0LCB5OjAuMDM1Nzc1fSxcbiAgICB7eDotMS4zOTc4NDIsIHk6LTAuMTI1OTg3fSxcbiAgICB7eDotMS4zNDg2MzMsIHk6LTAuMjEzMzAxfSxcbiAgICB7eDotMS4yMjQ2OTYsIHk6LTAuMzk2OTI1fSxcbiAgICB7eDotMS4xNTk3MTEsIHk6LTAuNDc1NDk3fSxcbiAgICB7eDotMS4wMjg5NjIsIHk6LTAuNjA3MjI2fSxcbiAgICB7eDotMC45NjMyMjgsIHk6LTAuNjY1MTc0fSxcbiAgICB7eDotMC44MzExMTgsIHk6LTAuNzc3MjE3fSxcbiAgICB7eDotMC43NjQ3NzIsIHk6LTAuODM2MTAyfSxcbiAgICB7eDotMC42MzE1NzQsIHk6LTAuOTcxNTc3fSxcbiAgICB7eDotMC41NjQ3NTIsIHk6LTEuMDUyOTU4fSxcbiAgICB7eDotMC40NDU3NDIsIHk6LTEuMjg5ODIyfSxcbiAgICB7eDotMC40MjAxNTcsIHk6LTEuNTA3NDY4fSxcbiAgICB7eDotMC40Mjc5MSwgeTotMi4xMDE5fSxcbiAgICB7eDotMC40NTA5OTMsIHk6LTIuNDQ2NTc5fSxcbiAgICB7eDotMC41MDk5MzQsIHk6LTMuMTUwNTg4fSxcbiAgICB7eDotMC41MzU1MzgsIHk6LTMuNDc3ODF9LFxuICAgIHt4Oi0wLjU1MzM3NiwgeTotNC4wMDI0MTl9LFxuICAgIHt4Oi0wLjUzNTM1NSwgeTotNC4xNjc2OTZ9LFxuICAgIHt4Oi0wLjQ0OTA1NSwgeTotNC4yNzA0MDN9LFxuICAgIHt4Oi0wLjQyOTI5LCB5Oi00LjI4MTA5NH0sXG4gICAge3g6LTAuNDQxOTQsIHk6LTQuMjc0MjUyfSxcbiAgICB7eDotMC40NjQ4NjcsIHk6LTQuMjYxODV9LFxuICAgIHt4Oi0wLjUyMDIxLCB5Oi00LjIzMTkxNX0sXG4gICAge3g6LTAuNTQzMTM3LCB5Oi00LjIxOTUxNH0sXG4gICAge3g6LTAuNTU1Nzg3LCB5Oi00LjIxMjY3Mn0sXG4gICAge3g6LTAuNTM2MDIyLCB5Oi00LjIyMzM2M30sXG4gICAge3g6LTAuNDQ5MDU1LCB5Oi00LjI3MDQwM30sXG4gICAge3g6LTAuNDI5MjksIHk6LTQuMjgxMDk0fSxcbiAgICB7eDotMC40NDE5MzksIHk6LTQuMjc0MjUyfSxcbiAgICB7eDotMC40NjQ4NjcsIHk6LTQuMjYxODV9LFxuICAgIHt4Oi0wLjUyMDIxLCB5Oi00LjIzMTkxNX0sXG4gICAge3g6LTAuNTQzMTM3LCB5Oi00LjIxOTUxNH0sXG4gICAge3g6LTAuNTU1Nzg3LCB5Oi00LjIxMjY3Mn0sXG4gICAge3g6LTAuNTM2MDIyLCB5Oi00LjIyMzM2M31cbl07IiwiZXhwb3J0IGVudW0gRUFjdGlvbnMge1xuICAgIENvbnRpbnVlLFxuICAgIEV4aXQsXG4gICAgUGxheSxcbn1cbiIsImltcG9ydCB7R2FtZVN0b3JlfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcbmltcG9ydCB7SVRyYW5zaXRpb25BY3Rpb25zfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgUGF1c2VTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZXMvcGF1c2VcIjtcbmltcG9ydCB7IGhydGltZSAsIENvbW1vblN0b3JlIH0gZnJvbSBcIi4uL2VuZ2luZVwiO1xuXG5jb25zdCBocnRpbWVUb1NlY29uZHMgPSAoc19uczogbnVtYmVyW10pID0+IChcbiAgc19uc1swXSArIHNfbnNbMV0gKiAxZS05XG4pO1xuXG5sZXQgbGFzdFRyYW5zaXRpb24gPSBocnRpbWUoKTtcblxubGV0IGRlbHRhU3VtID0gMDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJlZm9yZUZyYW1lSGFuZGxlcihhY3Rpb25zOiBJVHJhbnNpdGlvbkFjdGlvbnMpIHtcbiAgICBjb25zdCBnYW1lU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSk7XG4gICAgY29uc3QgY29tbW9uU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcblxuICAgIGNvbnN0IGlzUGF1c2VTdGF0ZSA9IGdhbWVTdG9yZS5jdXJyZW50U3RhdGU/LmNvbnN0cnVjdG9yID09IFBhdXNlU3RhdGU7XG5cbiAgICBpZiAoIWlzUGF1c2VTdGF0ZSkge1xuICAgICAgY29tbW9uU3RvcmUubGFzdEZyYW1lRGVsdGFUaW1lID0gaHJ0aW1lVG9TZWNvbmRzKFxuICAgICAgICBocnRpbWUobGFzdFRyYW5zaXRpb24pXG4gICAgICApO1xuICBcbiAgICAgIGlmIChjb21tb25TdG9yZS5sYXN0RnJhbWVEZWx0YVRpbWUgPiAwLjEpIHtcbiAgICAgICAgY29tbW9uU3RvcmUubGFzdEZyYW1lRGVsdGFUaW1lID0gMC4xO1xuICAgICAgfVxuICBcbiAgICAgIGNvbW1vblN0b3JlLnRpbWVTaW5jZUxldmVsTG9hZGVkICs9IFxuICAgICAgICBjb21tb25TdG9yZS5sYXN0RnJhbWVEZWx0YVRpbWU7IFxuICBcbiAgICAgIGRlbHRhU3VtICs9IGNvbW1vblN0b3JlLmxhc3RGcmFtZURlbHRhVGltZTtcbiAgICAgIGNvbW1vblN0b3JlLm1lZGlhbkZwcyA9ICsrY29tbW9uU3RvcmUudGlja3MgLyBkZWx0YVN1bTtcbiAgXG4gICAgICBsYXN0VHJhbnNpdGlvbiA9IGhydGltZSgpOyAgXG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgY29uc3QgY3R4ID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguZmlsbFN0eWxlID0gJyMwMDAnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjdHguY2FudmFzLndpZHRoLCBjdHguY2FudmFzLmhlaWdodCk7XG59XG4iLCJpbXBvcnQge0lUcmFuc2l0aW9uQWN0aW9ucywgUXVlcnksIFNlcmlhbEZvcm1hdCwgVEdyb3VwSGFuZGxlLCBXaXRoVGFnfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHtFVGFnc30gZnJvbSBcIi4uL21vZGVscy90YWdzXCI7XG5cblxuY29uc3Qgc2F2ZUtleSA9ICdzYXZlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQoYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKTogVEdyb3VwSGFuZGxlIHtcbiAgICBjb25zdCBzYXZlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oc2F2ZUtleSk7XG5cbiAgICBpZiAoIXNhdmUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzYXZlIGF2YWlsYWJsZS4gQ2Fubm90IGxvYWQhJyk7XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlID0gYWN0aW9ucy5jb21tYW5kcy5sb2FkKFNlcmlhbEZvcm1hdC5mcm9tSlNPTihzYXZlKSk7XG5cbiAgICByZXR1cm4gaGFuZGxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZShhY3Rpb25zOiBJVHJhbnNpdGlvbkFjdGlvbnMpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzYXZlS2V5LCBhY3Rpb25zLnNhdmUobmV3IFF1ZXJ5KFtXaXRoVGFnKEVUYWdzLnNhdmUpXSkpLnRvSlNPTigpKTtcbn1cbiIsImV4cG9ydCBjbGFzcyBDaGFyYWN0ZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gJycsXG4gICAgKSB7fVxufSIsImltcG9ydCB7RUFjdGlvbnN9IGZyb20gXCIuLi9hcHAvYWN0aW9uc1wiO1xuXG5leHBvcnQgY2xhc3MgVUlJdGVtIHtcbiAgICBwdWJsaWMgY2FwdGlvbk1vZCA9IChzdHJJbjogc3RyaW5nKSA9PiBzdHJJbjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgY2FwdGlvbjogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgY29sb3I6IHN0cmluZyxcbiAgICAgICAgcHVibGljIGZvbnRTaXplOiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBhY3Rpb24/OiBFQWN0aW9ucyxcbiAgICAgICAgcHVibGljIGFjdGl2ZT86IGJvb2xlYW4sXG4gICAgICAgIHB1YmxpYyBhY3RpdmVDb2xvcj86IHN0cmluZyxcbiAgICApIHt9XG5cbiAgICBnZXQgZmluYWxDYXB0aW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcHRpb25Nb2QodGhpcy5jYXB0aW9uKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgSUVudGl0eSB9IGZyb20gXCJzaW0tZWNzXCI7XG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gXCIuL3NoYXBlXCI7XG5cbmV4cG9ydCBjbGFzcyBDb2xsaXNpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgc2hhcGVGcm9tVmlzdWFsczogYm9vbGVhbiA9IHRydWUsXG4gICAgICAgIHB1YmxpYyBzaGFwZTogU2hhcGUgfCBudWxsID0gbnVsbFxuICAgICkge1xuICAgICAgICBpZiAoIXNoYXBlRnJvbVZpc3VhbHMgJiYgIXNoYXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VpdGhlciBjb3B5IHRoZSBjb2xsaXNpb24gc2hhcGVcXFxuICAgICAgICAgICAgICAgIGZyb20gdmlzdWFscyBvciBwcm92aWRlIGEgbmV3IG9uZScpXG4gICAgICAgIH0gXG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBjb2xsaXNpb25PYmplY3RzOiBTZXQ8SUVudGl0eT4gPSBuZXcgU2V0PElFbnRpdHk+KCk7XG4gICAgcHVibGljIG9jY3VycmVkID0gZmFsc2U7XG59XG4iLCJleHBvcnQgKiBmcm9tICcuL2NvbGxpc2lvbic7XG5leHBvcnQgKiBmcm9tICcuL21hdGVyaWFsJztcbmV4cG9ydCAqIGZyb20gJy4vbWVzaCc7XG5leHBvcnQgKiBmcm9tICcuL3BoeXNpY3MtYnJpZGdlJztcbmV4cG9ydCAqIGZyb20gJy4vcG9zaXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9yb3RhdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL3NoYXBlJztcbmV4cG9ydCAqIGZyb20gJy4vdmVsb2NpdHknOyIsImV4cG9ydCBjbGFzcyBNYXRlcmlhbCB7XG4gICAgY29uc3RydWN0b3IgKFxuICAgICAgICBwdWJsaWMgY29sb3I6IHN0cmluZ1xuICAgICkge31cbn0iLCJpbXBvcnQgeyBJVmVjdG9yMkQgfSBmcm9tIFwiLi4vbW9kZWxzL3ZlY3RvcjJkXCI7XG5cbmV4cG9ydCBjbGFzcyBNZXNoIHtcbiAgICBwdWJsaWMgaXNDb252ZXg6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvciAocHVibGljIHZlcnRpY2llczogSVZlY3RvcjJEW10pIHtcbiAgICAgICAgLy8gVE9ETzogdGVzdCBmb3IgY29udmV4bmVzc1xuICAgICAgICB0aGlzLmlzQ29udmV4ID0gdHJ1ZTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFBoeXNpY3NCcmlkZ2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgYm9keVB0cjogQm94MkQuYjJCb2R5IHwgbnVsbCA9IG51bGwsXG4gICAgKSB7XG5cbiAgICB9XG59IiwiaW1wb3J0IHsgVmVjdG9yMkQgfSBmcm9tIFwiLi4vbW9kZWxzL3ZlY3RvcjJkXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3NpdGlvbiBleHRlbmRzIFZlY3RvcjJEIHt9XG4iLCJleHBvcnQgY2xhc3MgUm90YXRpb24ge1xuICAgIHByaXZhdGUgX3ZhbDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9zaW46IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfY29zOiBudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIGdldCBzaW5fY29zKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuX3NpbiwgdGhpcy5fY29zXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgdmFsdWUobmV3dmFsOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fc2luID0gTWF0aC5zaW4obmV3dmFsKTtcbiAgICAgICAgdGhpcy5fY29zID0gTWF0aC5jb3MobmV3dmFsKTtcblxuICAgICAgICB0aGlzLl92YWwgPSBuZXd2YWw7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxufSIsImltcG9ydCB7IFJlY3QgfSBmcm9tIFwiLi4vbW9kZWxzL3JlY3RcIjtcbmltcG9ydCB7IFZlY3RvcjJELCB2ZWNaZXJvIH0gZnJvbSBcIi4uL21vZGVscy92ZWN0b3IyZFwiO1xuaW1wb3J0IHsgTWVzaCB9IGZyb20gXCIuL21lc2hcIjtcblxuZXhwb3J0IGVudW0gU2hhcGVQcmltaXRpdmUge1xuICAgIENpcmNsZSA9ICdjaXJjbGUnLFxuICAgIFJlY3QgPSAncmVjdCcsXG4gICAgTWVzaCA9ICdtZXNoJyxcbn1cblxuZXhwb3J0IGVudW0gU2hhcGVQaXZvdCB7XG4gICAgVG9wTGVmdCA9IDAsXG4gICAgVG9wTWlkZGxlID0gMSxcbiAgICBUb3BSaWdodCA9IDIsXG4gICAgTGVmdCA9IDMsXG4gICAgTWlkZGxlID0gNCxcbiAgICBSaWdodCA9IDUsXG4gICAgQm90dG9tTGVmdCA9IDYsXG4gICAgQm90dG9tTWlkZGxlID0gNyxcbiAgICBCb3R0b21SaWdodCA9IDhcbn1cblxuZXhwb3J0IGNvbnN0IFNoYXBlUGl2b3ROYW1lczp7XG4gICAgW2tleSBpbiBTaGFwZVBpdm90XTogc3RyaW5nO1xufSA9IHtcbiAgICBbU2hhcGVQaXZvdC5Ub3BMZWZ0XTogJ1RvcExlZnQnLFxuICAgIFtTaGFwZVBpdm90LlRvcE1pZGRsZV06ICdUb3BNaWRkbGUnLFxuICAgIFtTaGFwZVBpdm90LlRvcFJpZ2h0XTogJ1RvcFJpZ2h0JyxcbiAgICBbU2hhcGVQaXZvdC5MZWZ0XTogJ0xlZnQnLFxuICAgIFtTaGFwZVBpdm90Lk1pZGRsZV06ICdNaWRkbGUnLFxuICAgIFtTaGFwZVBpdm90LlJpZ2h0XTogJ1JpZ2h0JyxcbiAgICBbU2hhcGVQaXZvdC5Cb3R0b21MZWZ0XTogJ0JvdHRvbUxlZnQnLFxuICAgIFtTaGFwZVBpdm90LkJvdHRvbU1pZGRsZV06ICdCb3R0b21NaWRkbGUnLFxuICAgIFtTaGFwZVBpdm90LkJvdHRvbVJpZ2h0XTogJ0JvdHRvbVJpZ2h0Jyxcbn1cblxuLy8gdG9kbyB0cmlhbmdsZSwgY2Fwc3VsZVxuXG5leHBvcnQgY2xhc3MgU2hhcGUge1xuICAgIHB1YmxpYyBiQm94OiBSZWN0ID0gbmV3IFJlY3QoMCwgMCwgMCwgMCk7XG5cbiAgICBwdWJsaWMgaXNCdWlsdCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIGRpbWVuc2lvbnMgKHdpZHRoLGhlaWdodCkgaWYgcmVjdCwgKGRpYW1ldGVyLGFueSkgaWYgY2lyY2xlXG4gICAgICogQHBhcmFtIHByaW1pdGl2ZSBFbnVtIG9yIHN0cmluZyB2YWx1ZVxuICAgICAqIEBwYXJhbSBtZXNoIHZlcnRpY2llcyBkYXRhXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB6SW5kZXggPSAwLFxuICAgICAgICAvLyBUT0RPOiBtYWtlIGl0IHJlYWxcbiAgICAgICAgcHVibGljIHBpdm90ID0gU2hhcGVQaXZvdC5NaWRkbGUsXG4gICAgICAgIHB1YmxpYyBvZmZzZXRYID0gMCxcbiAgICAgICAgcHVibGljIG9mZnNldFkgPSAwLFxuICAgICAgICBwdWJsaWMgZGltZW5zaW9uczogVmVjdG9yMkQgPSB2ZWNaZXJvLFxuICAgICAgICBwdWJsaWMgcHJpbWl0aXZlOiBTaGFwZVByaW1pdGl2ZSA9IFNoYXBlUHJpbWl0aXZlLlJlY3QsXG4gICAgICAgIHB1YmxpYyBtZXNoOiBNZXNoIHwgbnVsbCA9IG51bGwsXG4gICAgKSB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIGJ1aWxkKCkge1xuICAgICAgICBpZiAodGhpcy5pc0J1aWx0KSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5NZXNoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubWVzaCB8fCAhdGhpcy5tZXNoLnZlcnRpY2llcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFwZXMgd2l0aCBtZXNoIHByaW1pdGl2ZVxcXG4gICAgICAgICAgICAgICAgbXVzdCBwcm92aWRlIGEgbm9uLWVtcHR5IG1lc2ggZGF0YScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByaW1pdGl2ZSAhPT0gU2hhcGVQcmltaXRpdmUuTWVzaCAmJiAhdGhpcy5kaW1lbnNpb25zKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkaW1lbnNpb25zOicsIHRoaXMuZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAncHJpbWl0aXZlOicsIHRoaXMucHJpbWl0aXZlLFxuICAgICAgICAgICAgICAgICdtZXNoOicsIHRoaXMubWVzaCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYXBlcyB3aXRoIG5vbi1tZXNoIHByaW1pdGl2ZVxcXG4gICAgICAgICAgICAgICAgbXVzdCBwcm92aWRlIGRpbWVuc2lvbnMnKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxsIHRoZSBzaGFwZXMgYXJlIGNlbmV0ZXJlZCBieSBkZWZhdWx0XG5cbiAgICAgICAgbGV0IG1pblggPSAwLCBtaW5ZID0gMCwgbWF4WCA9IDAsIG1heFkgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuQ2lyY2xlKSB7XG4gICAgICAgICAgICAvLyBBIGNlbnRlci1wb3NpdGlvbmVkIGNpcmNsZVxuICAgICAgICAgICAgLy8gd2lsbCBmaXQgaW50byBhIG1pZC1zaGlmdGVkXG4gICAgICAgICAgICAvLyBzcXVhcmUgd2l0aCBzaWRlID0gZGlhbWV0ZXJcbiAgICAgICAgICAgIGNvbnN0IGQgPSB0aGlzLmRpbWVuc2lvbnMueFxuICAgICAgICAgICAgY29uc3QgcmFkID0gZC8yO1xuICAgICAgICAgICAgdGhpcy5iQm94LnggPSAtcmFkO1xuICAgICAgICAgICAgdGhpcy5iQm94LnkgPSAtcmFkO1xuICAgICAgICAgICAgdGhpcy5iQm94LncgPSBkO1xuICAgICAgICAgICAgdGhpcy5iQm94LmggPSBkO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5SZWN0KSB7XG4gICAgICAgICAgICAvLyBhIHRvcC1sZWZ0IHBvc2l0aW9uZWQgcmVjdGFuZ2xlXG4gICAgICAgICAgICAvLyBpcyB0aGUgYm91bmRpbmcgYm94IGl0c2VsZlxuICAgICAgICAgICAgdGhpcy5iQm94LnggPSAtdGhpcy5kaW1lbnNpb25zLngvMjtcbiAgICAgICAgICAgIHRoaXMuYkJveC55ID0gLXRoaXMuZGltZW5zaW9ucy55LzI7XG4gICAgICAgICAgICB0aGlzLmJCb3gudyA9IHRoaXMuZGltZW5zaW9ucy54O1xuICAgICAgICAgICAgdGhpcy5iQm94LmggPSB0aGlzLmRpbWVuc2lvbnMueTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuTWVzaCAmJiB0aGlzLm1lc2gpIHtcbiAgICAgICAgICAgIG1pblggPSB0aGlzLm1lc2gudmVydGljaWVzWzBdLng7XG4gICAgICAgICAgICBtaW5ZID0gdGhpcy5tZXNoLnZlcnRpY2llc1swXS55O1xuXG4gICAgICAgICAgICBtYXhYID0gdGhpcy5tZXNoLnZlcnRpY2llc1swXS54O1xuICAgICAgICAgICAgbWF4WSA9IHRoaXMubWVzaC52ZXJ0aWNpZXNbMF0ueTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaT0xO2k8dGhpcy5tZXNoLnZlcnRpY2llcy5sZW5ndGg7KytpKXtcbiAgICAgICAgICAgICAgICBjb25zdCB7eCwgeX0gPSB0aGlzLm1lc2gudmVydGljaWVzW2ldO1xuICAgICAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYkJveC53ID0gbWF4WCAtIG1pblg7XG4gICAgICAgICAgICB0aGlzLmJCb3guaCA9IG1heFkgLSBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5iQm94LnggPSAtdGhpcy5iQm94LncvMjtcbiAgICAgICAgICAgIHRoaXMuYkJveC55ID0gLXRoaXMuYkJveC5oLzI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5waXZvdCA9PT0gU2hhcGVQaXZvdC5Ub3BMZWZ0KSB7XG4gICAgICAgICAgICB0aGlzLmJCb3gueCArPSB0aGlzLmJCb3gudy8yO1xuICAgICAgICAgICAgdGhpcy5iQm94LnkgKz0gdGhpcy5iQm94LmgvMjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdm90ID09PSBTaGFwZVBpdm90LlRvcE1pZGRsZSkge1xuICAgICAgICAgICAgdGhpcy5iQm94LnkgKz0gdGhpcy5iQm94LmgvMjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdm90ID09PSBTaGFwZVBpdm90LlRvcFJpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmJCb3gueCAtPSB0aGlzLmJCb3gudy8yO1xuICAgICAgICAgICAgdGhpcy5iQm94LnkgKz0gdGhpcy5iQm94LmgvMjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdm90ID09PSBTaGFwZVBpdm90LkxlZnQpIHtcbiAgICAgICAgICAgIHRoaXMuYkJveC54ICs9IHRoaXMuYkJveC53LzI7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5waXZvdCA9PT0gU2hhcGVQaXZvdC5SaWdodCkge1xuICAgICAgICAgICAgdGhpcy5iQm94LnggLT0gdGhpcy5iQm94LncvMjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdm90ID09PSBTaGFwZVBpdm90LkJvdHRvbUxlZnQpIHtcbiAgICAgICAgICAgIHRoaXMuYkJveC54ICs9IHRoaXMuYkJveC53LzI7XG4gICAgICAgICAgICB0aGlzLmJCb3gueSAtPSB0aGlzLmJCb3guaC8yO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGl2b3QgPT09IFNoYXBlUGl2b3QuQm90dG9tTWlkZGxlKSB7XG4gICAgICAgICAgICB0aGlzLmJCb3gueSAtPSB0aGlzLmJCb3guaC8yO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGl2b3QgPT09IFNoYXBlUGl2b3QuQm90dG9tUmlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuYkJveC54IC09IHRoaXMuYkJveC53LzI7XG4gICAgICAgICAgICB0aGlzLmJCb3gueSAtPSB0aGlzLmJCb3guaC8yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJpbWl0aXZlID09PSBTaGFwZVByaW1pdGl2ZS5NZXNoICYmIHRoaXMubWVzaCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5tZXNoLnZlcnRpY2llcy5sZW5ndGg7KytpKXtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc2gudmVydGljaWVzW2ldLnggKz0gKHRoaXMuYkJveC54IC0gbWluWCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLnZlcnRpY2llc1tpXS55ICs9ICh0aGlzLmJCb3gueSAtIG1pblkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0J1aWx0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXRCQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iQm94O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFZlY3RvcjJEIH0gZnJvbSBcIi4uL21vZGVscy92ZWN0b3IyZFwiO1xuXG5leHBvcnQgY2xhc3MgVmVsb2NpdHkgZXh0ZW5kcyBWZWN0b3IyRCB7XG4gICAgY29uc3RydWN0b3IoeDpudW1iZXIsIHk6IG51bWJlciwgcHVibGljIGFuZ3VsYXI6IG51bWJlcikge1xuICAgICAgICBzdXBlcih4LCB5KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgdXBkYXRlUmVuZGVyQ29udGV4dCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW52YXNFbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTtcbiAgICBpZiAoIWNhbnZhc0VsZSkgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZmluZCBjYW52YXMgZWxlbWVudCEnKTtcblxuICAgIGNvbnN0IHJlbmRlckNvbnRleHQgPSBjYW52YXNFbGUuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIXJlbmRlckNvbnRleHQpIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGluaXRpYWxpemUgMkQgY29udGV4dCcpO1xuXG4gICAgY29uc3QgY2FudmFzQm91bmRpbmdSZWN0ID0gY2FudmFzRWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgY2FudmFzRWxlLndpZHRoID0gY2FudmFzQm91bmRpbmdSZWN0LndpZHRoO1xuICAgIGNhbnZhc0VsZS5oZWlnaHQgPSBjYW52YXNCb3VuZGluZ1JlY3QuaGVpZ2h0O1xuXG4gICAgcmVuZGVyQ29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcblxuICAgIHJldHVybiByZW5kZXJDb250ZXh0O1xufVxuXG4vLyBnZW5lcmF0ZSB0aW1lc3RhbXAgb3IgZGVsdGFcbi8vIHNlZSBodHRwOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NfcHJvY2Vzc19ocnRpbWVcbmV4cG9ydCBjb25zdCBocnRpbWUgPSAocHJldmlvdXNUaW1lc3RhbXA/OiBudW1iZXJbXSkgPT4ge1xuICAgIGNvbnN0IGNsb2NrdGltZSA9IHBlcmZvcm1hbmNlLm5vdygpICogMWUtM1xuICAgIGxldCBzZWNvbmRzID0gTWF0aC5mbG9vcihjbG9ja3RpbWUpXG4gICAgbGV0IG5hbm9zZWNvbmRzID0gTWF0aC5mbG9vcigoY2xvY2t0aW1lJTEpKjFlOSlcbiAgICBpZiAocHJldmlvdXNUaW1lc3RhbXApIHtcbiAgICAgIHNlY29uZHMgPSBzZWNvbmRzIC0gcHJldmlvdXNUaW1lc3RhbXBbMF1cbiAgICAgIG5hbm9zZWNvbmRzID0gbmFub3NlY29uZHMgLSBwcmV2aW91c1RpbWVzdGFtcFsxXVxuICAgICAgaWYgKG5hbm9zZWNvbmRzPDApIHtcbiAgICAgICAgc2Vjb25kcy0tXG4gICAgICAgIG5hbm9zZWNvbmRzICs9IDFlOVxuICAgICAgfVxuICAgIH1cbiAgXG4gICAgcmV0dXJuIFtzZWNvbmRzLCBuYW5vc2Vjb25kc107XG59XG5cbmltcG9ydCBCb3gyREZhY3RvcnkgZnJvbSAnYm94MmQtd2FzbSc7XG5cbmV4cG9ydCB0eXBlIF9Cb3gyRCA9IHR5cGVvZiBCb3gyRCAmIEVtc2NyaXB0ZW5Nb2R1bGU7XG5cbmV4cG9ydCBjb25zdCBsb2FkUGh5c2ljcyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gQm94MkRGYWN0b3J5KCkudGhlbigoYm94MkQ6IF9Cb3gyRCkgPT4ge1xuICAgICAgICByZXR1cm4gYm94MkQ7XG4gICAgfSk7XG59XG5cbmV4cG9ydCAqIGZyb20gJy4vc3lzdGVtcyc7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMnO1xuZXhwb3J0ICogZnJvbSAnLi9tb2RlbHMnOyIsImltcG9ydCB7IFZlbG9jaXR5IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdmVsb2NpdHlcIjtcbmltcG9ydCB7IElSZWN0IH0gZnJvbSBcIi4vcmVjdFwiO1xuaW1wb3J0IHsgSVZlY3RvcjJEIH0gZnJvbSBcIi4vdmVjdG9yMmRcIjtcblxuZXhwb3J0IGVudW0gQ2FtZXJhRm9sbG93TWV0aG9kIHtcbiAgICBJbW1lZGlhdGUsXG4gICAgU21vb3RoLFxuICAgIEVsYXN0aWNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW1lcmFGb2xsb3cge1xuICAgIHRhcmdldDogSVZlY3RvcjJEXG4gICAgdGFyZ2V0QW5nbGU/OiBudW1iZXJcbiAgICBtZXRob2Q6IENhbWVyYUZvbGxvd01ldGhvZFxuICAgIHByZXZYOiBudW1iZXJcbiAgICBwcmV2WTogbnVtYmVyXG59XG5cbmV4cG9ydCBjbGFzcyBDYW1lcmEge1xuICAgIHB1YmxpYyB2aWV3cG9ydCE6IElSZWN0O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB4OiBudW1iZXIgPSAwLFxuICAgICAgICBwdWJsaWMgeTogbnVtYmVyID0gMCxcbiAgICAgICAgcHVibGljIG9mZnNldDogSVZlY3RvcjJEID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIHB1YmxpYyB2ZWw6IFZlbG9jaXR5ID0gPFZlbG9jaXR5PntcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH0sXG4gICAgICAgIHB1YmxpYyB6b29tOiBudW1iZXIgPSAxLFxuICAgICAgICBwdWJsaWMgcm90YXRpb246IG51bWJlciA9IDAsXG4gICAgICAgIHB1YmxpYyBmb2xsb3c/OiBDYW1lcmFGb2xsb3csXG4gICAgICAgIHB1YmxpYyBlbGFzdGljaXR5OiBudW1iZXIgPSAwLjAxLFxuICAgICAgICBwdWJsaWMgZnJpY3Rpb246IG51bWJlciA9IDAuMTUsXG4gICAgKSB7fVxufSIsImltcG9ydCB7IEVLZXlTdGF0ZSwgRU1vdXNlU3RhdGUgfSBmcm9tIFwiLi4vc3lzdGVtcy9pbnB1dFwiXG5pbXBvcnQgeyBJVmVjdG9yMkQgfSBmcm9tIFwiLi92ZWN0b3IyZFwiXG5cbmV4cG9ydCBjbGFzcyBDb21tb25TdG9yZSB7XG4gICAgZHJhd2FibGVzID0gMFxuICAgIHJlbmRlcmVkID0gMFxuICAgIFxuICAgIGxhc3RGcmFtZURlbHRhVGltZSA9IDBcbiAgICB0aWNrcyA9IDBcbiAgICBtZWRpYW5GcHMgPSAzMFxuICAgIHRpbWVTaW5jZUxldmVsTG9hZGVkID0gMFxuXG4gICAgcGh5c2ljc05hbWVzcGFjZSE6IHR5cGVvZiBCb3gyRDtcbiAgICBwaHlzaWNzWmVybyE6IEJveDJELmIyVmVjMjtcblxuICAgIHNjcmVlblRvV29ybGQhOiBET01NYXRyaXg7XG4gICAgd29ybGRUb1NjcmVlbiE6IERPTU1hdHJpeDtcblxuICAgIHRvV29ybGRTcGFjZSh7XG4gICAgICAgIHgsIHlcbiAgICB9OiBJVmVjdG9yMkQpOiBJVmVjdG9yMkQge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBhLGIsYyxkLGUsZlxuICAgICAgICB9ID0gdGhpcy5zY3JlZW5Ub1dvcmxkO1xuXG4gICAgICAgIC8vIGEgYyBlICB4ICBhKnggKyBjKnkgKyBlKnpcbiAgICAgICAgLy8gYiBkIGYgIHkgIGIqeCArIGQqeSArIGYqelxuICAgICAgICAvLyAwIDAgMSAgeiAgP1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBhKnggKyBjKnkgKyBlLFxuICAgICAgICAgICAgeTogYip4ICsgZCp5ICsgZixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b1NjcmVlblNwYWNlKHtcbiAgICAgICAgeCwgeVxuICAgIH06IElWZWN0b3IyRCk6IElWZWN0b3IyRCB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGEsYixjLGQsZSxmXG4gICAgICAgIH0gPSB0aGlzLndvcmxkVG9TY3JlZW47XG5cbiAgICAgICAgLy8gYSBjIGUgIHggIGEqeCArIGMqeSArIGUqelxuICAgICAgICAvLyBiIGQgZiAgeSAgYip4ICsgZCp5ICsgZip6XG4gICAgICAgIC8vIDAgMCAxICB6ICA/XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGEqeCArIGMqeSArIGUsXG4gICAgICAgICAgICB5OiBiKnggKyBkKnkgKyBmLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0OiB7XG4gICAgICAgIHdoZWVsOiBudW1iZXJcbiAgICAgICAgY3Vyc29yUG9zOiBJVmVjdG9yMkRcbiAgICAgICAga2V5U3RhdGVzOiBNYXA8c3RyaW5nLCBFS2V5U3RhdGU+XG4gICAgICAgIHByZXZLZXlTdGF0ZXM6IE1hcDxzdHJpbmcsIEVLZXlTdGF0ZSB8IHVuZGVmaW5lZD5cbiAgICAgICAgbW91c2VTdGF0ZXM6IE1hcDxudW1iZXIsIEVNb3VzZVN0YXRlPlxuXG4gICAgICAgIHJlc2V0UHJldktleShrZXk6IHN0cmluZyk6IHZvaWQsXG5cbiAgICAgICAgaXNLZXlEb3duKGtleTogc3RyaW5nKTogYm9vbGVhbixcbiAgICAgICAgaXNLZXlVcChrZXk6IHN0cmluZyk6IGJvb2xlYW4sXG5cbiAgICAgICAgaXNBbnlLZXkoa2V5czogc3RyaW5nW10sIHN0YXRlOiBFS2V5U3RhdGUpOiBib29sZWFuLFxuICAgICAgICBpc0FueUtleURpZmZlcmVudChrZXk6IHN0cmluZ1tdLCBzdGF0ZTogRUtleVN0YXRlKTogYm9vbGVhblxuXG4gICAgICAgIHdhc0tleVByZXNzZWQoa2V5OiBzdHJpbmcpOiBib29sZWFuLFxuICAgICAgICB3YXNLZXlSZWxlYXNlZChrZXk6IHN0cmluZyk6IGJvb2xlYW4sXG4gICAgfSA9IHtcbiAgICAgICAgd2hlZWw6IDAsXG4gICAgICAgIGN1cnNvclBvczoge3g6LTEsIHk6LTF9LFxuICAgICAgICBrZXlTdGF0ZXM6IG5ldyBNYXA8c3RyaW5nLCBFS2V5U3RhdGU+KCksXG4gICAgICAgIHByZXZLZXlTdGF0ZXM6IG5ldyBNYXA8c3RyaW5nLCBFS2V5U3RhdGUgfCB1bmRlZmluZWQ+KCksXG4gICAgICAgIG1vdXNlU3RhdGVzOiBuZXcgTWFwPG51bWJlciwgRU1vdXNlU3RhdGU+KCksXG5cbiAgICAgICAgcmVzZXRQcmV2S2V5KGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnByZXZLZXlTdGF0ZXMuc2V0KGtleSwgdGhpcy5rZXlTdGF0ZXMuZ2V0KGtleSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGlzQW55S2V5KGtleTogc3RyaW5nW10sIHN0YXRlOiBFS2V5U3RhdGUpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiBrZXkuc29tZShlID0+IChcbiAgICAgICAgICAgICAgICB0aGlzLmtleVN0YXRlcy5nZXQoZSkgPT09IHN0YXRlXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpc0FueUtleURpZmZlcmVudChrZXk6IHN0cmluZ1tdLCBzdGF0ZTogRUtleVN0YXRlKTogYm9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4ga2V5LnNvbWUoZSA9PiAoXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlTdGF0ZXMuZ2V0KGUpID09PSBzdGF0ZSAmJlxuICAgICAgICAgICAgICAgIHRoaXMucHJldktleVN0YXRlcy5nZXQoZSkgIT09IHN0YXRlXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpc0tleURvd24oa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmtleVN0YXRlcy5nZXQoa2V5KSA9PT0gRUtleVN0YXRlLkRvd247XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNLZXlVcChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMua2V5U3RhdGVzLmdldChrZXkpID09PSBFS2V5U3RhdGUuVXA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgd2FzS2V5UHJlc3NlZChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgaWYgKHRoaXMua2V5U3RhdGVzLmdldChrZXkpID09PSBFS2V5U3RhdGUuRG93biAmJlxuICAgICAgICAgICAgICAgIHRoaXMucHJldktleVN0YXRlcy5nZXQoa2V5KSAhPT0gRUtleVN0YXRlLkRvd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UHJldktleShrZXkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICB3YXNLZXlSZWxlYXNlZChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgaWYgKHRoaXMua2V5U3RhdGVzLmdldChrZXkpID09PSBFS2V5U3RhdGUuVXAgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZLZXlTdGF0ZXMuZ2V0KGtleSkgIT09IEVLZXlTdGF0ZS5VcCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQcmV2S2V5KGtleSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgIH1cblxuICAgIC8vIGVuYWJsZWQgZWFzaWx5XG4gICAgZGVidWdTaGFwZXMgPSBmYWxzZVxuICAgIHdhc0JsdXJyZWQgPSBmYWxzZVxuICAgIHdhc0ludGVudGlvbmFsbHlQYXVzZWQgPSBmYWxzZVxufSIsImV4cG9ydCBlbnVtIEVDb21tb25UYWdzIHtcbiAgICB1aSxcbiAgICB0ZXJyYWluLFxuICAgIGRlc3Ryb3lFbnRpdHksXG5cblxuICAgIF9fTEFURVNUXG59IiwiZXhwb3J0ICogZnJvbSAnLi9jYW1lcmEnO1xuZXhwb3J0ICogZnJvbSAnLi9jb21tb24tc3RvcmUnO1xuZXhwb3J0ICogZnJvbSAnLi9jb21tb24tdGFncyc7XG5leHBvcnQgKiBmcm9tICcuL21vdmVtZW50JztcbmV4cG9ydCAqIGZyb20gJy4vcmVjdCc7XG5leHBvcnQgKiBmcm9tICcuL3RyYW5zZm9ybSc7XG5leHBvcnQgKiBmcm9tICcuL3ZlY3RvcjJkJztcbmV4cG9ydCAqIGZyb20gJy4vbGV2ZWwuaCc7XG5cbiIsImltcG9ydCB7IElXb3JsZCwgVFN0YXRlUHJvdG8gfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgdXBkYXRlUmVuZGVyQ29udGV4dCwgX0JveDJEIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBiZWZvcmVGcmFtZUhhbmRsZXIgfSBmcm9tIFwiLi4vLi4vYXBwL2ZyYW1lLXRyYW5zaXRpb24taGFuZGxlcnNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJTGV2ZWwge1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8vIFRPRE86IGxvYWQgZnJvbSBmaWxlc3lzdGVtLCBmcm9tIFVSTFxuICAgIC8vIHBhdGg6IHN0cmluZzsgXG5cbiAgICB3b3JsZDogSVdvcmxkO1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHJpZ2h0IGFmdGVyIHRoZSBpbml0aWFsaXphdGlvbiwgbWFpbiBsb29wIGdvZXMgaGVyZVxuICAgICAqL1xuICAgIHJ1bigpOiBQcm9taXNlPGFueT47XG5cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSByZXNvdXJjZXMgdG8gcnVuIGFub3RoZXIgbGV2ZWxcbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBMZXZlbCBpbXBsZW1lbnRzIElMZXZlbCB7XG5cbiAgICBwdWJsaWMgd29ybGQ6IElXb3JsZDtcblxuICAgIHJlYWRvbmx5IGluaXRpYWxTdGF0ZT86IFRTdGF0ZVByb3RvO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBwaHlzaWNzOiBfQm94MkQsXG4gICAgICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHdvcmxkID0gdGhpcy5jcmVhdGVXb3JsZCgpO1xuXG4gICAgICAgIGlmICghd29ybGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGxldmVsICR7bmFtZX0gbXVzdCBoYXZlIGEgbm9uLW51bGwgXFxcbiAgICAgICAgICAgIHJlc3VsdGluZyBjcmVhdGVXb3JsZCBmdW5jdGlvbmApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlckNvbnRleHQgPSB1cGRhdGVSZW5kZXJDb250ZXh0KCk7XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShyZW5kZXJDb250ZXh0KTtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCBjcmVhdGVXb3JsZCgpOiBJV29ybGQ7XG4gICAgXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgeW91IGhhdmUgdG8gcmVsZWFzZSBtb3JlIHJlc291cmNlc1xuICAgICAqIChhdWRpbywgdmlkZW8sIFdlYlJUQywgdGV4dHVyZXMsIGZpbGVzLCBldGMuKVxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMud29ybGQuY29tbWFuZHMuc3RvcFJ1bigpO1xuICAgIH1cblxuICAgIGFzeW5jIHJ1bigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGQucnVuKHtcbiAgICAgICAgICAgIGJlZm9yZVN0ZXBIYW5kbGVyOiBiZWZvcmVGcmFtZUhhbmRsZXIsXG4gICAgICAgICAgICBpbml0aWFsU3RhdGU6IHRoaXMuaW5pdGlhbFN0YXRlLFxuICAgICAgICB9KS50aGVuKCgpPT50aGlzLmRlc3Ryb3koKSk7XG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBlbnVtIEVNb3ZlbWVudCB7XG4gICAgaWRsZSAgPSAwLCAvLyAwMDAwXG4gICAgdXAgICAgPSAxLCAvLyAwMDAxXG4gICAgZG93biAgPSAyLCAvLyAwMDEwXG4gICAgbGVmdCAgPSA0LCAvLyAwMTAwXG4gICAgcmlnaHQgPSA4LCAvLyAxMDAwXG59IiwiaW1wb3J0IHsgSVZlY3RvcjJEIH0gZnJvbSBcIi4vdmVjdG9yMmRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJUmVjdCB7XG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICB3OiBudW1iZXIsXG4gICAgaDogbnVtYmVyLFxufVxuXG5leHBvcnQgY2xhc3MgUmVjdCBpbXBsZW1lbnRzIElSZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHg6IG51bWJlcixcbiAgICAgICAgcHVibGljIHk6IG51bWJlcixcbiAgICAgICAgcHVibGljIHc6IG51bWJlcixcbiAgICAgICAgcHVibGljIGg6IG51bWJlcixcbiAgICApIHt9XG5cbiAgICBzdGF0aWMgY2hlY2tQb2ludEluc2lkZShyOiBJUmVjdCwge3gsIHl9OiBJVmVjdG9yMkQpIHtcbiAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICB4IDwgci54IHx8IFxuICAgICAgICAgICAgeCA+IHIueCArIHIudyB8fFxuICAgICAgICAgICAgeSA8IHIueSB8fFxuICAgICAgICAgICAgeSA+IHIueSArIHIuaFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHN0YXRpYyBjaGVja0ludGVyc2VjdHMocjE6IElSZWN0LCByMjogSVJlY3QpIHtcbiAgICAgICAgcmV0dXJuICEocjIueCA+IHIxLngrcjEudyB8fCBcbiAgICAgICAgICAgIHIyLngrcjIudyA8IHIxLnggfHwgXG4gICAgICAgICAgICByMi55ID4gcjEueStyMS5oIHx8XG4gICAgICAgICAgICByMi55K3IyLmggPCByMS55KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9wb3NpdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICAgICAgcHVibGljIHJvdGF0aW9uOiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBzY2FsZTogbnVtYmVyLFxuICAgICkge31cbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgSVZlY3RvcjJEIHtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgVmVjdG9yMkQgaW1wbGVtZW50cyBJVmVjdG9yMkQge1xuICAgIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcig0KTtcbiAgICBmMzIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuYnVmKTtcbiAgICB1MzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5idWYpO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB4ID0gMCxcbiAgICAgICAgcHVibGljIHkgPSAwLFxuICAgICkge31cblxuICAgIHB1YmxpYyBhZGRTZWxmKHZlYzogVmVjdG9yMkQpIHtcbiAgICAgICAgdGhpcy54ICs9IHZlYy54O1xuICAgICAgICB0aGlzLnkgKz0gdmVjLnk7XG4gICAgfVxuXG4gICAgcHVibGljIHN1YlNlbGYodmVjOiBWZWN0b3IyRCkge1xuICAgICAgICB0aGlzLnggLT0gdmVjLng7XG4gICAgICAgIHRoaXMueSAtPSB2ZWMueTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2NhbGUoZmFjdG9yOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy54ICo9IGZhY3RvcjtcbiAgICAgICAgdGhpcy55ICo9IGZhY3RvcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgbm9ybWFsaXplKCkge1xuICAgICAgICBjb25zdCBpbnYgPSB0aGlzLmludlNxcnQoKTtcblxuICAgICAgICB0aGlzLnggKj0gaW52O1xuICAgICAgICB0aGlzLnkgKj0gaW52O1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnZTcXJ0KCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnk7XG4gICAgICAgIGNvbnN0IHgyID0gMC41ICogKHRoaXMuZjMyWzBdID0geCk7XG4gICAgICAgIHRoaXMudTMyWzBdID0gKDB4NWYzNzU5ZGYgLSAodGhpcy51MzJbMF0gPj4gMSkpO1xuICAgICAgICBsZXQgeSA9IHRoaXMuZjMyWzBdO1xuICAgICAgICB5ICA9IHkgKiAoIDEuNSAtICggeDIgKiB5ICogeSApICk7ICAgLy8gMXN0IGl0ZXJhdGlvblxuXG4gICAgICAgIHJldHVybiB5O1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXN0YW5jZSh0bzogVmVjdG9yMkQpIHtcbiAgICAgICAgY29uc3QgZHggPSB0by54IC0gdGhpcy54O1xuICAgICAgICBjb25zdCBkeSA9IHRvLnkgLSB0aGlzLnk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHgqZHggKyBkeSpkeSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNxckRpc3RhbmNlKHRvOiBWZWN0b3IyRCkge1xuICAgICAgICBjb25zdCBkeCA9IHRvLnggLSB0aGlzLng7XG4gICAgICAgIGNvbnN0IGR5ID0gdG8ueSAtIHRoaXMueTtcbiAgICAgICAgcmV0dXJuIGR4KmR4ICsgZHkqZHk7XG4gICAgfVxuXG4gICAgcHVibGljIHNxckxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdmVjWmVybyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbmV4cG9ydCBjb25zdCB2ZWNPbmUgPSBuZXcgVmVjdG9yMkQoMSwgMSk7XG5leHBvcnQgY29uc3QgdmVjVXAgPSBuZXcgVmVjdG9yMkQoMCwgMSk7XG5leHBvcnQgY29uc3QgdmVjRG93biA9IG5ldyBWZWN0b3IyRCgwLCAtMSk7XG5leHBvcnQgY29uc3QgdmVjTGVmdCA9IG5ldyBWZWN0b3IyRCgtMSwgMCk7XG5leHBvcnQgY29uc3QgdmVjUmlnaHQgPSBuZXcgVmVjdG9yMkQoMSwgMCk7IiwiaW1wb3J0IHtJU3lzdGVtQWN0aW9ucywgU3lzdGVtfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgQ2FtZXJhLCBDYW1lcmFGb2xsb3dNZXRob2QgfSBmcm9tIFwiLi4vbW9kZWxzL2NhbWVyYVwiO1xuaW1wb3J0IHsgYW5nbGVMZXJwLCBsZXJwLCBQSVhFTFNfUEVSX01FVEVSIH0gZnJvbSBcIi4uL3V0aWxcIjtcblxuZXhwb3J0IGNsYXNzIENhbWVyYVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgY2FtZXJhITogQ2FtZXJhO1xuICAgIGN0eCE6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuICAgIHNldHVwKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY3R4ID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpO1xuICAgICAgICB0aGlzLmNhbWVyYSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ2FtZXJhKTtcbiAgICB9XG5cbiAgICBydW4oXzogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FtZXJhLnJvdGF0aW9uID4gMipNYXRoLlBJKSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5yb3RhdGlvbiAtPSAyKk1hdGguUEk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FtZXJhLnJvdGF0aW9uIDwgLTIqTWF0aC5QSSkge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEucm90YXRpb24gKz0gMipNYXRoLlBJO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2FtZXJhLnpvb20gPCAwLjEpIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnpvb20gPSAwLjE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jYW1lcmEuem9vbSA+IDEuNSkge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEuem9vbSA9IDEuNTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGZvbGxvdyxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgfSA9IHRoaXMuY2FtZXJhO1xuXG4gICAgICAgIGlmICghZm9sbG93KSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgdGFyZ2V0QW5nbGUsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgIH0gPSBmb2xsb3c7XG5cbiAgICAgICAgbGV0IHR4ID0gdGFyZ2V0Lng7XG4gICAgICAgIGxldCB0eSA9IHRhcmdldC55O1xuXG4gICAgICAgIG9mZnNldC54ID0gLXRoaXMuY3R4LmNhbnZhcy53aWR0aCAvICgyKlBJWEVMU19QRVJfTUVURVIgKiB0aGlzLmNhbWVyYS56b29tKTtcbiAgICAgICAgb2Zmc2V0LnkgPSAtdGhpcy5jdHguY2FudmFzLmhlaWdodCAvICgyKlBJWEVMU19QRVJfTUVURVIgKiB0aGlzLmNhbWVyYS56b29tKTtcblxuICAgICAgICBpZiAodGFyZ2V0QW5nbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEucm90YXRpb24gPSBhbmdsZUxlcnAodGhpcy5jYW1lcmEucm90YXRpb24sIC10YXJnZXRBbmdsZSwgMC4wMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWV0aG9kID09PSBDYW1lcmFGb2xsb3dNZXRob2QuSW1tZWRpYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS54ID0gdHg7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS55ID0gdHk7XG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSBDYW1lcmFGb2xsb3dNZXRob2QuU21vb3RoKSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS54ID0gbGVycCh0aGlzLmNhbWVyYS54LCB0eCwgMC4wMSk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS55ID0gbGVycCh0aGlzLmNhbWVyYS55LCB0eSwgMC4wMSk7XG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSBDYW1lcmFGb2xsb3dNZXRob2QuRWxhc3RpYykge1xuICAgICAgICAgICAgY29uc3QgZHggPSAodHggLSB0aGlzLmNhbWVyYS54KSAqIHRoaXMuY2FtZXJhLmVsYXN0aWNpdHk7XG4gICAgICAgICAgICBjb25zdCBkeSA9ICh0eSAtIHRoaXMuY2FtZXJhLnkpICogdGhpcy5jYW1lcmEuZWxhc3RpY2l0eTtcblxuICAgICAgICAgICAgdGhpcy5jYW1lcmEudmVsLnggKz0gZHg7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS52ZWwueSArPSBkeTtcblxuICAgICAgICAgICAgY29uc3QgZnggPSAtdGhpcy5jYW1lcmEuZnJpY3Rpb24gKiB0aGlzLmNhbWVyYS52ZWwueDtcbiAgICAgICAgICAgIGNvbnN0IGZ5ID0gLXRoaXMuY2FtZXJhLmZyaWN0aW9uICogdGhpcy5jYW1lcmEudmVsLnk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnZlbC54ICs9IGZ4O1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEudmVsLnkgKz0gZnk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnggKz0gdGhpcy5jYW1lcmEudmVsLnggLyB0aGlzLmNhbWVyYS56b29tO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEueSArPSB0aGlzLmNhbWVyYS52ZWwueSAvIHRoaXMuY2FtZXJhLnpvb207XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0lTeXN0ZW1BY3Rpb25zLCBRdWVyeSwgUmVhZCwgUmVhZEVudGl0eSwgU3lzdGVtLCBXcml0ZX0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7U2hhcGV9IGZyb20gXCIuLi9jb21wb25lbnRzL3NoYXBlXCI7XG5pbXBvcnQge0NvbGxpc2lvbn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29sbGlzaW9uXCI7XG5pbXBvcnQgeyBWZWN0b3IyRCB9IGZyb20gXCIuLi9tb2RlbHMvdmVjdG9yMmRcIjtcblxuZXhwb3J0IGNsYXNzIENvbGxpc2lvblN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgcXVlcnkgPSBuZXcgUXVlcnkoe1xuICAgICAgICBjb2xsaXNpb246IFdyaXRlKENvbGxpc2lvbiksXG4gICAgICAgIGVudGl0eTogUmVhZEVudGl0eSgpLFxuICAgICAgICBwb3NpdGlvbjogUmVhZChWZWN0b3IyRCksXG4gICAgICAgIHNoYXBlOiBSZWFkKFNoYXBlKVxuICAgIH0pO1xuXG4gICAgcnVuKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlY3RzID0gQXJyYXkuZnJvbSh0aGlzLnF1ZXJ5Lml0ZXIoKSlcbiAgICAgICAgLm1hcCgoe2NvbGxpc2lvbiwgZW50aXR5LCBwb3NpdGlvbiwgc2hhcGV9KSA9PiB7XG4gICAgICAgICAgICAvLyBpZGVhbGx5LCB0aGlzIHNob3VsZCBiZSB0d28gc2VwYXJhdGUgc3RlcHMsXG4gICAgICAgICAgICAvLyBidXQgSlMgd291bGQgbG9vcCB0d2ljZS5cbiAgICAgICAgICAgIC8vIEFzIGFuIG9wdGltaXphdGlvbiwgSSB3aWxsIGluY2x1ZGVcbiAgICAgICAgICAgIC8vIHRoaXMgZGF0YSBjaGFuZ2UgaW50byB0aGUgbWFwKCkgZnVuY3Rpb25cbiAgICAgICAgICAgIGNvbGxpc2lvbi5jb2xsaXNpb25PYmplY3RzLmNsZWFyKCk7XG4gICAgICAgICAgICBjb2xsaXNpb24ub2NjdXJyZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIHgseSx3LGhcbiAgICAgICAgICAgIH0gPSBzaGFwZS5nZXRCQm94KCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY29sbGlzaW9uRGF0YTogY29sbGlzaW9uLFxuICAgICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGgsXG4gICAgICAgICAgICAgICAgeDogcG9zaXRpb24ueCArIHgsXG4gICAgICAgICAgICAgICAgeTogcG9zaXRpb24ueSArIHksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjaGVjayBmb3IgY29sbGlzaW9uIGJldHdlZW4gYWxsIGNvbGxpc2lvbi1lbmFibGVkIHNoYXBlc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJlY3RzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gaikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZWN0MSA9IHJlY3RzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QyID0gcmVjdHNbal07XG5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0dhbWVzL1RlY2huaXF1ZXMvMkRfY29sbGlzaW9uX2RldGVjdGlvblxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgcmVjdDEueCA8IHJlY3QyLnggKyByZWN0Mi53aWR0aCAmJlxuICAgICAgICAgICAgICAgICAgICByZWN0MS54ICsgcmVjdDEud2lkdGggPiByZWN0Mi54ICYmXG4gICAgICAgICAgICAgICAgICAgIHJlY3QxLnkgPCByZWN0Mi55ICsgcmVjdDIuaGVpZ2h0ICYmXG4gICAgICAgICAgICAgICAgICAgIHJlY3QxLnkgKyByZWN0MS5oZWlnaHQgPiByZWN0Mi55XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVjdDEuY29sbGlzaW9uRGF0YS5vY2N1cnJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdDEuY29sbGlzaW9uRGF0YS5vY2N1cnJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0MS5jb2xsaXNpb25EYXRhLmNvbGxpc2lvbk9iamVjdHMuYWRkKHJlY3QyLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlY3QyLmNvbGxpc2lvbkRhdGEub2NjdXJyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QyLmNvbGxpc2lvbkRhdGEub2NjdXJyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdDIuY29sbGlzaW9uRGF0YS5jb2xsaXNpb25PYmplY3RzLmFkZChyZWN0MS5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtJU3lzdGVtQWN0aW9ucywgUmVhZEVudGl0eSwgUXVlcnksIFN5c3RlbSwgV2l0aFRhZ30gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7IFBoeXNpY3NCcmlkZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9waHlzaWNzLWJyaWRnZVwiO1xuaW1wb3J0IHsgRUNvbW1vblRhZ3MgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbW1vbi10YWdzXCI7XG5pbXBvcnQgeyBDb21tb25TdG9yZSB9IGZyb20gXCIuLi9tb2RlbHMvY29tbW9uLXN0b3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBHY1N5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgcXVlcnkgPSBuZXcgUXVlcnkoe1xuICAgICAgICBlbnRpdHk6IFJlYWRFbnRpdHkoKSxcbiAgICAgICAgX2RlbDogV2l0aFRhZyhFQ29tbW9uVGFncy5kZXN0cm95RW50aXR5KSxcbiAgICB9KTtcblxuICAgIHBoeXNXb3JsZCE6IEJveDJELmIyV29ybGQ7XG5cbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBwaHlzaWNzTmFtZXNwYWNlOiB7XG4gICAgICAgICAgICAgICAgYjJXb3JsZFxuICAgICAgICAgICAgfVxuICAgICAgICB9ID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XG4gICAgICAgIHRoaXMucGh5c1dvcmxkID0gYWN0aW9ucy5nZXRSZXNvdXJjZShiMldvcmxkKTtcbiAgICB9XG5cbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5xdWVyeS5leGVjdXRlKCh7ZW50aXR5fSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGh5cyA9IGVudGl0eS5nZXRDb21wb25lbnQoUGh5c2ljc0JyaWRnZSk7XG5cbiAgICAgICAgICAgIGlmIChwaHlzICYmIHBoeXMuYm9keVB0cikge1xuICAgICAgICAgICAgICAgIHRoaXMucGh5c1dvcmxkLkRlc3Ryb3lCb2R5KHBoeXMuYm9keVB0cik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFjdGlvbnMuY29tbWFuZHMucmVtb3ZlRW50aXR5KGVudGl0eSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcbiAgICB9XG59XG4iLCJleHBvcnQgKiBmcm9tIFwiLi9jYW1lcmFcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbGxpc2lvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZ2NcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2lucHV0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9waHlzaWNzXCI7IiwiaW1wb3J0IHtJU3lzdGVtQWN0aW9ucywgU3lzdGVtfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tICcuLi9tb2RlbHMvY29tbW9uLXN0b3JlJztcblxuZXhwb3J0IGVudW0gRUtleVN0YXRlIHtcbiAgICBVcCxcbiAgICBEb3duLFxufVxuXG5leHBvcnQgZW51bSBFTW91c2VTdGF0ZSB7XG4gICAgRG93bixcbiAgICBVcCxcbiAgICBNb3ZlXG59XG5cbmludGVyZmFjZSBJTW91c2VFdmVudCB7XG4gICAgdHlwZTogRU1vdXNlU3RhdGVcbiAgICBidXR0b246IG51bWJlclxuICAgIHg6IG51bWJlclxuICAgIHk6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgSW5wdXRTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIGNvbW1vblN0b3JlITogQ29tbW9uU3RvcmU7XG4gICAgbW91c2VFdmVudHM6IElNb3VzZUV2ZW50W10gPSBbXTtcbiAgICB3aGVlbEV2ZW50czogbnVtYmVyW10gPSBbXTtcblxuICAgIHJlc2V0UHJldlN0YXRlKGNvZGU6IHN0cmluZykge1xuICAgICAgICBjb25zdCBwcmV2U3RhdGUgPSB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmtleVN0YXRlcy5nZXQoY29kZSk7XG5cbiAgICAgICAgdGhpcy5jb21tb25TdG9yZS5pbnB1dC5wcmV2S2V5U3RhdGVzLnNldChcbiAgICAgICAgICAgIGNvZGUsIHByZXZTdGF0ZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlYWRvbmx5IGxpc3RlbmVycyA9IHtcbiAgICAgICAgd2hlZWw6IChlOiBXaGVlbEV2ZW50KSA9PiAoXG4gICAgICAgICAgICB0aGlzLndoZWVsRXZlbnRzLnB1c2goLWUuZGVsdGFZIC8gMTI1XG4gICAgICAgICkpLFxuICAgICAgICBrZXlkb3duOiAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNldFByZXZTdGF0ZShlLmNvZGUpO1xuICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS5pbnB1dC5rZXlTdGF0ZXMuc2V0KGUuY29kZSwgRUtleVN0YXRlLkRvd24pO1xuICAgICAgICB9LFxuICAgICAgICBrZXl1cDogKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRQcmV2U3RhdGUoZS5jb2RlKTtcbiAgICAgICAgICAgIHRoaXMuY29tbW9uU3RvcmUuaW5wdXQua2V5U3RhdGVzLnNldChlLmNvZGUsIEVLZXlTdGF0ZS5VcCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlZG93bjogKGU6IE1vdXNlRXZlbnQpID0+IHRoaXMubW91c2VFdmVudHMucHVzaCh7XG4gICAgICAgICAgICBidXR0b246IGUuYnV0dG9uLFxuICAgICAgICAgICAgdHlwZTogRU1vdXNlU3RhdGUuRG93bixcbiAgICAgICAgICAgIHg6IGUuY2xpZW50WCxcbiAgICAgICAgICAgIHk6IGUuY2xpZW50WSxcbiAgICAgICAgfSksXG4gICAgICAgIG1vdXNldXA6IChlOk1vdXNlRXZlbnQpID0+IHRoaXMubW91c2VFdmVudHMucHVzaCh7XG4gICAgICAgICAgICBidXR0b246IGUuYnV0dG9uLFxuICAgICAgICAgICAgdHlwZTogRU1vdXNlU3RhdGUuVXAsXG4gICAgICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgICAgICB5OiBlLmNsaWVudFksXG4gICAgICAgIH0pLFxuICAgICAgICBtb3VzZW1vdmU6IChlOiBNb3VzZUV2ZW50KSA9PiB0aGlzLm1vdXNlRXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgYnV0dG9uOiBlLmJ1dHRvbixcbiAgICAgICAgICAgIHR5cGU6IEVNb3VzZVN0YXRlLk1vdmUsXG4gICAgICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgICAgICB5OiBlLmNsaWVudFksXG4gICAgICAgIH0pLFxuICAgICAgICBjb250ZXh0bWVudTogKGU6IE1vdXNlRXZlbnQpID0+IGUucHJldmVudERlZmF1bHQoKSxcbiAgICB9XG5cbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICB0aGlzLmNvbW1vblN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBbZXZlbnQsIGhhbmRsZXJdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgaGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveShfOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICBzdXBlci5kZXN0cm95KF8pO1xuXG4gICAgICAgIGZvciAoY29uc3QgW2V2ZW50LCBoYW5kbGVyXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmxpc3RlbmVycykpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIGhhbmRsZXIgYXMgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJ1bihhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICBsZXQgbW91c2VFdmVudDogSU1vdXNlRXZlbnQgfCB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUuaW5wdXQubW91c2VTdGF0ZXMuY2xlYXIoKTtcblxuICAgICAgICB3aGlsZSAoKG1vdXNlRXZlbnQgPSB0aGlzLm1vdXNlRXZlbnRzLnBvcCgpKSkge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgeCwgeSxcbiAgICAgICAgICAgICAgICBidXR0b25cbiAgICAgICAgICAgIH0gPSBtb3VzZUV2ZW50O1xuXG4gICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0Lm1vdXNlU3RhdGVzLnNldChidXR0b24sIHR5cGUpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmN1cnNvclBvcy54ID0geDtcbiAgICAgICAgICAgIHRoaXMuY29tbW9uU3RvcmUuaW5wdXQuY3Vyc29yUG9zLnkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHdoZWVsRGVsdGE6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0LndoZWVsID0gMDtcblxuICAgICAgICB3aGlsZSAoKHdoZWVsRGVsdGEgPSB0aGlzLndoZWVsRXZlbnRzLnBvcCgpKSkge1xuICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS5pbnB1dC53aGVlbCA9IHdoZWVsRGVsdGE7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0lTeXN0ZW1BY3Rpb25zLCBSZWFkRW50aXR5LCBRdWVyeSwgUmVhZCwgU3lzdGVtLCBXcml0ZX0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvcG9zaXRpb25cIjtcbmltcG9ydCB7IFJvdGF0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvcm90YXRpb25cIjtcbmltcG9ydCB7VmVsb2NpdHl9IGZyb20gXCIuLi9jb21wb25lbnRzL3ZlbG9jaXR5XCI7XG5pbXBvcnQgeyBDb21tb25TdG9yZSB9IGZyb20gXCIuLi9tb2RlbHMvY29tbW9uLXN0b3JlXCI7XG5pbXBvcnQgeyBQaHlzaWNzQnJpZGdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvcGh5c2ljcy1icmlkZ2VcIjtcblxuZXhwb3J0IGNsYXNzIFBoeXNpY3NTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IHF1ZXJ5ID0gbmV3IFF1ZXJ5KHtcbiAgICAgICAgZW50aXR5OiBSZWFkRW50aXR5KCksXG4gICAgICAgIHBvczogV3JpdGUoUG9zaXRpb24pLFxuICAgICAgICByb3Q6IFdyaXRlKFJvdGF0aW9uKSxcbiAgICAgICAgdmVsOiBSZWFkKFZlbG9jaXR5KSxcbiAgICB9KTtcblxuICAgIHBoeXNXb3JsZCE6IEJveDJELmIyV29ybGQ7XG5cbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBwaHlzaWNzTmFtZXNwYWNlOiB7XG4gICAgICAgICAgICAgICAgYjJXb3JsZFxuICAgICAgICAgICAgfVxuICAgICAgICB9ID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XG4gICAgICAgIHRoaXMucGh5c1dvcmxkID0gYWN0aW9ucy5nZXRSZXNvdXJjZShiMldvcmxkKTtcbiAgICB9XG5cbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZHQgPSAwLjAxNjtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBwaHlzaWNzTmFtZXNwYWNlOiB7XG4gICAgICAgICAgICAgICAgZ2V0UG9pbnRlcixcbiAgICAgICAgICAgICAgICBOVUxMXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gPSBhY3Rpb25zLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcblxuICAgICAgICAvLyBjb25zdCBoYXNoQm9kaWVzOlJlY29yZDxudW1iZXIsIEJveDJELmIyQm9keT4gPSB7fTtcbiAgICAgICAgLy8gbGV0IHB0cjogbnVtYmVyO1xuXG4gICAgICAgIC8vIGZvciAoXG4gICAgICAgIC8vICAgICBsZXQgYm9keSA9IHRoaXMucGh5c1dvcmxkLkdldEJvZHlMaXN0KCk7XG4gICAgICAgIC8vICAgICAocHRyID0gZ2V0UG9pbnRlcihib2R5KSkgIT09IGdldFBvaW50ZXIoTlVMTCk7XG4gICAgICAgIC8vICAgICBib2R5ID0gYm9keS5HZXROZXh0KClcbiAgICAgICAgLy8gKSB7XG4gICAgICAgIC8vICAgICBoYXNoQm9kaWVzW3B0cl0gPSBib2R5O1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgdGhpcy5xdWVyeS5leGVjdXRlKCh7ZW50aXR5LCBwb3MsIHJvdCwgdmVsfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGh5cyA9IGVudGl0eS5nZXRDb21wb25lbnQoUGh5c2ljc0JyaWRnZSk7XG4gICAgICAgICAgICBpZiAocGh5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBwaHlzLmJvZHlQdHI7XG4gICAgICAgICAgICAgICAgaWYgKCFib2R5KSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3Qge3gsIHl9ID0gYm9keS5HZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gYm9keS5HZXRBbmdsZSgpO1xuXG4gICAgICAgICAgICAgICAgcG9zLnggPSB4O1xuICAgICAgICAgICAgICAgIHBvcy55ID0geTtcbiAgICAgICAgICAgICAgICByb3QudmFsdWUgPSBhbmdsZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9zLnggKz0gdmVsLnggKiBkdDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSB2ZWwueSAqIGR0O1xuICAgICAgICAgICAgICAgIHJvdC52YWx1ZSArPSB2ZWwuYW5ndWxhciAqIGR0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBoeXNXb3JsZC5TdGVwKGR0LCAxLCAxKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgVFdPUEkgPSBNYXRoLlBJICogMjtcbmV4cG9ydCBjb25zdCBkcmF3UG9pbnQgPSAoXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgeDpudW1iZXIsXG4gICAgeTpudW1iZXIsXG4gICAgc2l6ZTpudW1iZXIgPSAwLjFcbikgPT4ge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC43KSc7XG4gICAgY3R4LmFyYyh4LCB5LCBzaXplLCAwLCBUV09QSSk7XG4gICAgY3R4LmZpbGwoKTtcbn1cblxuZXhwb3J0IGNvbnN0IFBJWEVMU19QRVJfTUVURVIgPSAzMjtcblxuZXhwb3J0IGNvbnN0IGxlcnAgPSAodmFsdWUxOiBudW1iZXIsIHZhbHVlMjogbnVtYmVyLCBmYWN0b3I6IG51bWJlcikgPT4ge1xuICAgIGZhY3RvciA9IGZhY3RvciA8IDAgPyAwIDogZmFjdG9yO1xuICAgIGZhY3RvciA9IGZhY3RvciA+IDEgPyAxIDogZmFjdG9yO1xuICAgIHJldHVybiB2YWx1ZTEgKyAodmFsdWUyIC0gdmFsdWUxKSAqIGZhY3Rvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3J0QW5nbGVEaXN0KGEwOiBudW1iZXIsIGExOiBudW1iZXIpIHtcbiAgICBjb25zdCBtYXggPSBNYXRoLlBJICogMjtcbiAgICBjb25zdCBkYSA9IChhMSAtIGEwKSAlIG1heDtcbiAgICByZXR1cm4gMiAqIGRhICUgbWF4IC0gZGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZUxlcnAoYTA6IG51bWJlciwgYTE6IG51bWJlciwgdDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIGEwICsgc2hvcnRBbmdsZURpc3QoYTAsIGExKSAqIHQ7XG59IiwiaW1wb3J0IHsgVG9wZG93biB9IGZyb20gJy4vbGV2ZWxzL3RvcGRvd24nO1xuaW1wb3J0ICcuL3Njc3MvYXBwLnNjc3MnO1xuaW1wb3J0IHsgTGV2ZWwsIGxvYWRQaHlzaWNzLCBfQm94MkQgfSBmcm9tICcuL2VuZ2luZS8nO1xuaW1wb3J0IHsgdXBkYXRlUmVuZGVyQ29udGV4dCB9IGZyb20gJy4vZW5naW5lJztcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZVJlbmRlckNvbnRleHQpO1xuXG5jb25zdCBfZmV0Y2ggPSB3aW5kb3cuZmV0Y2g7XG53aW5kb3cuZmV0Y2ggPSAoXG4gICAgaW5wdXQ6IFJlcXVlc3RJbmZvLFxuICAgIGluaXQ/OiBSZXF1ZXN0SW5pdCB8IHVuZGVmaW5lZCk6IFByb21pc2U8UmVzcG9uc2U+ID0+IHtcbiAgICBpZiAoaW5pdD8uY3JlZGVudGlhbHMgPT09ICdzYW1lLW9yaWdpbicpIHtcbiAgICAgICAgZGVsZXRlIGluaXQuY3JlZGVudGlhbHM7XG4gICAgfVxuICAgIHJldHVybiBfZmV0Y2goaW5wdXQsIGluaXQpO1xufVxuXG5jb25zdCBsZXZlbHM6e1xuICAgIFtuYW1lOiBzdHJpbmddOiBuZXcgKC4uLmFyZ3M6W19Cb3gyRF0pID0+IExldmVsLFxufSA9IHtcbiAgICAndG9wZG93bic6IFRvcGRvd24sXG59O1xuXG50eXBlIGxldmVsVHlwZSA9IGtleW9mIHR5cGVvZiBsZXZlbHM7XG5cbi8vIG1haW4gZnVuY3Rpb25cbihhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYm94MkQgPSBhd2FpdCBsb2FkUGh5c2ljcygpO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5rZXlzKGxldmVscylcbiAgICAgICAgLm1hcCgoZSxpKSA9PiAoYCR7aSsxfSkgJHtlfWApKTtcbiAgICBvcHRpb25zLnB1c2goJ2V4aXQgKG9yIGVtcHR5KScpO1xuXG4gICAgbGV0IHJlcXVlc3RlZExldmVsID0gJ3RvcGRvd24nO1xuXG4gICAgd2hpbGUgKHJlcXVlc3RlZExldmVsICE9PSAnZXhpdCcpIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSByZXF1ZXN0ZWRMZXZlbCBhcyBsZXZlbFR5cGU7XG4gICAgICAgIGxldCB3b3JsZCA9IG5ldyBsZXZlbHNbbGV2ZWxdKGJveDJEKTtcblxuICAgICAgICBhd2FpdCB3b3JsZC5ydW4oKTtcblxuICAgICAgICByZXF1ZXN0ZWRMZXZlbCA9IHByb21wdCgnV2hhdCBsZXZlbCB3b3VsZCB5b3UgbGlrZSB0byBjaGVjayBuZXh0P1xcbicgK1xuICAgICAgICAgICAgb3B0aW9ucy5qb2luKCdcXG4nKVxuICAgICAgICApIHx8ICdleGl0JztcbiAgICB9XG59KSgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuIiwiaW1wb3J0IHsgRUNTLCBJV29ybGQgfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY2hhcmFjdGVyXCI7XG5pbXBvcnQgeyBVSUl0ZW0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy91aS1pdGVtXCI7XG5pbXBvcnQgeyBDYW1lcmEsIENvbGxpc2lvbiwgQ29tbW9uU3RvcmUsIE1hdGVyaWFsLCBNZXNoLCBQaHlzaWNzQnJpZGdlLCBQb3NpdGlvbiwgUm90YXRpb24sIFNoYXBlLCBWZWxvY2l0eSB9IGZyb20gXCIuLi9lbmdpbmUvXCI7XG5pbXBvcnQgeyBHYW1lU3RvcmUgfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcbmltcG9ydCB7IE1lbnVTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZXMvbWVudVwiO1xuaW1wb3J0IHsgQWN0aW9uc1N5c3RlbSwgQ2hhcmFjdGVyU3lzdGVtLCBNZW51U3lzdGVtLCBQYXVzZVN5c3RlbSwgUmVuZGVyR2FtZVN5c3RlbSwgUmVuZGVyVUlTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9cIjtcbmltcG9ydCB7IENhbWVyYVN5c3RlbSwgQ29sbGlzaW9uU3lzdGVtLCBHY1N5c3RlbSwgSW5wdXRTeXN0ZW0sIExldmVsLCBQaHlzaWNzU3lzdGVtLCBfQm94MkQgfSBmcm9tIFwiLi4vZW5naW5lL1wiO1xuXG5leHBvcnQgY2xhc3MgVG9wZG93biBleHRlbmRzIExldmVsIHtcbiAgICByZWFkb25seSBpbml0aWFsU3RhdGUgPSBNZW51U3RhdGU7XG5cbiAgICBjb25zdHJ1Y3RvcihwaHlzaWNzOiBfQm94MkQpIHtcbiAgICAgICAgc3VwZXIocGh5c2ljcywgJ3RvcGRvd24nKTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBiMlZlYzIsXG4gICAgICAgICAgICBiMldvcmxkXG4gICAgICAgIH0gPSBwaHlzaWNzO1xuXG4gICAgICAgIGNvbnN0IGdyYXZpdHkgPSBuZXcgYjJWZWMyKDAsIDkuODEpO1xuICAgICAgICBjb25zdCBwaHlzV29ybGQgPSBuZXcgYjJXb3JsZChncmF2aXR5KTtcbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShwaHlzV29ybGQpO1xuXG4gICAgICAgIGNvbnN0IHplcm8gPSBuZXcgYjJWZWMyKDAsIDApO1xuXG4gICAgICAgIGNvbnN0IGdhbWVTdG9yZSA9IG5ldyBHYW1lU3RvcmUoKTtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gbmV3IENhbWVyYSgpO1xuXG4gICAgICAgIGNvbnN0IGNvbW1vblN0b3JlID0gbmV3IENvbW1vblN0b3JlKCk7XG4gICAgICAgIGNvbW1vblN0b3JlLnBoeXNpY3NOYW1lc3BhY2UgPSBwaHlzaWNzO1xuICAgICAgICBjb21tb25TdG9yZS5waHlzaWNzWmVybyA9IHplcm87XG5cbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShjb21tb25TdG9yZSk7XG4gICAgICAgIHRoaXMud29ybGQuYWRkUmVzb3VyY2UoZ2FtZVN0b3JlKTtcbiAgICAgICAgdGhpcy53b3JsZC5hZGRSZXNvdXJjZShjYW1lcmEpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBwaHlzaWNzTmFtZXNwYWNlLFxuICAgICAgICAgICAgcGh5c2ljc1plcm9cbiAgICAgICAgfSA9IHRoaXMud29ybGQuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xuICAgICAgICBjb25zdCBwaHlzaWNzV29ybGQgPSB0aGlzLndvcmxkLmdldFJlc291cmNlKHBoeXNpY3NOYW1lc3BhY2UuYjJXb3JsZCk7XG5cbiAgICAgICAgcGh5c2ljc05hbWVzcGFjZS5kZXN0cm95KHBoeXNpY3NXb3JsZCk7XG4gICAgICAgIHBoeXNpY3NOYW1lc3BhY2UuZGVzdHJveShwaHlzaWNzWmVybyk7XG5cbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy53b3JsZC5nZXRSZXNvdXJjZShDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNlY2VjZWMnO1xuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBjcmVhdGVXb3JsZCgpOiBJV29ybGQge1xuICAgICAgICByZXR1cm4gbmV3IEVDUygpXG4gICAgICAgICAgICAuYnVpbGRXb3JsZCgpXG4gICAgICAgICAgICAud2l0aFN5c3RlbShDYW1lcmFTeXN0ZW0sIFtcbiAgICAgICAgICAgICAgICBDaGFyYWN0ZXJTeXN0ZW1cbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAud2l0aFN5c3RlbShQaHlzaWNzU3lzdGVtLCBbXG4gICAgICAgICAgICAgICAgQ2hhcmFjdGVyU3lzdGVtXG4gICAgICAgICAgICAgICAgLy8gTmV0d29ya1N5c3RlbVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKENoYXJhY3RlclN5c3RlbSwgW1xuICAgICAgICAgICAgICAgIENvbGxpc2lvblN5c3RlbVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKENvbGxpc2lvblN5c3RlbSwgW1xuICAgICAgICAgICAgICAgIC8vIE5ldHdvcmtTeXN0ZW1cbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAud2l0aFN5c3RlbShBY3Rpb25zU3lzdGVtLCBbXG4gICAgICAgICAgICAgICAgUGF1c2VTeXN0ZW1cbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAud2l0aFN5c3RlbShJbnB1dFN5c3RlbSlcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKE1lbnVTeXN0ZW0sIFtcbiAgICAgICAgICAgICAgICBJbnB1dFN5c3RlbSxcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAud2l0aFN5c3RlbShQYXVzZVN5c3RlbSwgW1xuICAgICAgICAgICAgICAgIElucHV0U3lzdGVtXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgLndpdGhTeXN0ZW0oUmVuZGVyR2FtZVN5c3RlbSwgW1xuICAgICAgICAgICAgICAgIFBoeXNpY3NTeXN0ZW0sXG4gICAgICAgICAgICAgICAgQ2hhcmFjdGVyU3lzdGVtLFxuICAgICAgICAgICAgICAgIC8vIE5ldHdvcmtTeXN0ZW0sXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgLndpdGhTeXN0ZW0oR2NTeXN0ZW0sIFtcbiAgICAgICAgICAgICAgICBSZW5kZXJHYW1lU3lzdGVtLFxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIC53aXRoU3lzdGVtKFJlbmRlclVJU3lzdGVtLCBbXG4gICAgICAgICAgICAgICAgUGh5c2ljc1N5c3RlbSxcbiAgICAgICAgICAgICAgICBNZW51U3lzdGVtLFxuICAgICAgICAgICAgICAgIFBhdXNlU3lzdGVtXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgLndpdGhDb21wb25lbnRzKFxuICAgICAgICAgICAgICAgIENvbGxpc2lvbixcbiAgICAgICAgICAgICAgICBNYXRlcmlhbCxcbiAgICAgICAgICAgICAgICBNZXNoLFxuICAgICAgICAgICAgICAgIFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIFJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIFNoYXBlLFxuICAgICAgICAgICAgICAgIFVJSXRlbSxcbiAgICAgICAgICAgICAgICBWZWxvY2l0eSxcbiAgICAgICAgICAgICAgICBDaGFyYWN0ZXIsXG4gICAgICAgICAgICAgICAgUGh5c2ljc0JyaWRnZSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5idWlsZCgpO1xuICAgIH1cbn0iLCJpbXBvcnQge0lTdGF0ZX0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7IEVNb3ZlbWVudCB9IGZyb20gXCIuLi9lbmdpbmUvbW9kZWxzL21vdmVtZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RvcmUge1xuICAgIGNvbnRpbnVlID0gZmFsc2VcbiAgICBjdXJyZW50U3RhdGU/OiBJU3RhdGVcbiAgICBhY3Rpb25zOiB7XG4gICAgICAgIGNoYXJhY3Rlck1vdmVtZW50OiBFTW92ZW1lbnRcbiAgICAgICAgbWVudUNvbmZpcm06IGJvb2xlYW5cbiAgICAgICAgdG9nZ2xlUGF1c2U6IGJvb2xlYW5cbiAgICAgICAgbWVudU1vdmVtZW50OiBFTW92ZW1lbnRcbiAgICB9ID0ge1xuICAgICAgICBjaGFyYWN0ZXJNb3ZlbWVudDogRU1vdmVtZW50LmlkbGUsXG4gICAgICAgIG1lbnVDb25maXJtOiBmYWxzZSxcbiAgICAgICAgbWVudU1vdmVtZW50OiBFTW92ZW1lbnQuaWRsZSxcbiAgICAgICAgdG9nZ2xlUGF1c2U6IGZhbHNlLFxuICAgIH1cbn1cbiIsImltcG9ydCB7IEVDb21tb25UYWdzIH0gZnJvbSAnLi4vZW5naW5lLyc7XG5cbmV4cG9ydCBlbnVtIE15VGFncyB7XG4gICAgc2F2ZSA9IEVDb21tb25UYWdzLl9fTEFURVNULFxuICAgIGNoYXJhY3RlcixcbiAgICBuZXR3b3JrT2JqZWN0LFxufVxuXG5leHBvcnQgY29uc3QgRVRhZ3MgPSB7XG4gICAgLi4uRUNvbW1vblRhZ3MsXG4gICAgLi4uTXlUYWdzLFxufSIsImltcG9ydCB7IENUYWdNYXJrZXIgfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgQ29sbGlzaW9uLCBNYXRlcmlhbCwgUGh5c2ljc0JyaWRnZSwgUG9zaXRpb24sIFJvdGF0aW9uLCBTaGFwZSwgU2hhcGVQaXZvdCwgU2hhcGVQcmltaXRpdmUsIFZlY3RvcjJELCBWZWxvY2l0eSB9IGZyb20gXCIuLi9lbmdpbmUvXCI7XG5cbi8vIFRoaXMgY291bGQgYWxzbyBiZSBwdXJlIEpTT04sIGJ1dCBpbiBvcmRlciB0byB1c2UgVFMgdHlwZXMgYW5kIGhhdmUgc3RhdGljIGNoZWNrcyBpdCBpcyByZWNvbW1lbmRlZCB0byB3cml0ZSBpdCBhcyBUUyBhcnJheS5cbmV4cG9ydCBjb25zdCBnYW1lUHJlZmFiID0gW1xuICAgIHtcbiAgICAgICAgUGh5c2ljc0JyaWRnZTogPFBoeXNpY3NCcmlkZ2U+e30sXG4gICAgICAgIENvbGxpc2lvbjogPENvbGxpc2lvbj57fSxcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgUm90YXRpb246IDxSb3RhdGlvbj57XG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9LFxuICAgICAgICBWZWxvY2l0eTogPFZlbG9jaXR5PntcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLCBcbiAgICAgICAgfSxcbiAgICAgICAgTWF0ZXJpYWw6IDxNYXRlcmlhbD57XG4gICAgICAgICAgICBjb2xvcjogJyNmZGZmMDMnXG4gICAgICAgIH0sXG4gICAgICAgIFNoYXBlOiA8U2hhcGU+e1xuICAgICAgICAgICAgZGltZW5zaW9uczogPFZlY3RvcjJEPntcbiAgICAgICAgICAgICAgICB4OiAyLFxuICAgICAgICAgICAgICAgIHk6IDAuNyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwaXZvdDogU2hhcGVQaXZvdC5Ub3BMZWZ0LFxuICAgICAgICAgICAgcHJpbWl0aXZlOiBTaGFwZVByaW1pdGl2ZS5SZWN0LFxuICAgICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBDb2xsaXNpb246IDxDb2xsaXNpb24+e30sXG4gICAgICAgIFBvc2l0aW9uOiA8UG9zaXRpb24+e1xuICAgICAgICAgICAgeDogMSxcbiAgICAgICAgICAgIHk6IDMsXG4gICAgICAgIH0sXG4gICAgICAgIFJvdGF0aW9uOiA8Um90YXRpb24+e1xuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSxcbiAgICAgICAgVmVsb2NpdHk6IDxWZWxvY2l0eT57XG4gICAgICAgICAgICB4OiAyLFxuICAgICAgICAgICAgeTogMCwgXG4gICAgICAgIH0sXG4gICAgICAgIE1hdGVyaWFsOiA8TWF0ZXJpYWw+e1xuICAgICAgICAgICAgY29sb3I6ICcjZmRmZjAzJ1xuICAgICAgICB9LFxuICAgICAgICBTaGFwZTogPFNoYXBlPntcbiAgICAgICAgICAgIHpJbmRleDogMTAsXG4gICAgICAgICAgICBwaXZvdDogU2hhcGVQaXZvdC5Ub3BMZWZ0LFxuICAgICAgICAgICAgZGltZW5zaW9uczogPFZlY3RvcjJEPntcbiAgICAgICAgICAgICAgICB4OiAwLjcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJpbWl0aXZlOiBTaGFwZVByaW1pdGl2ZS5DaXJjbGUsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIENvbGxpc2lvbjogPENvbGxpc2lvbj57fSxcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XG4gICAgICAgICAgICB4OiAxOCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIFJvdGF0aW9uOiA8Um90YXRpb24+e1xuICAgICAgICAgICAgdmFsdWU6IDcgKiBNYXRoLlBJIC8gNFxuICAgICAgICB9LFxuICAgICAgICBWZWxvY2l0eTogPFZlbG9jaXR5PntcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLCBcbiAgICAgICAgfSxcbiAgICAgICAgTWF0ZXJpYWw6IDxNYXRlcmlhbD57XG4gICAgICAgICAgICBjb2xvcjogJyMwYmInXG4gICAgICAgIH0sXG4gICAgfSxcbl07XG4iLCJpbXBvcnQgeyBDVGFnTWFya2VyIH0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7RUFjdGlvbnN9IGZyb20gXCIuLi9hcHAvYWN0aW9uc1wiO1xuaW1wb3J0IHtVSUl0ZW19IGZyb20gXCIuLi9jb21wb25lbnRzL3VpLWl0ZW1cIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZVwiO1xuaW1wb3J0IHsgRVRhZ3MgfSBmcm9tIFwiLi4vbW9kZWxzL3RhZ3NcIjtcblxuLy8gVGhpcyBjb3VsZCBhbHNvIGJlIHB1cmUgSlNPTiwgYnV0IGluIG9yZGVyIHRvIHVzZSBUUyB0eXBlcyBhbmQgaGF2ZSBzdGF0aWMgY2hlY2tzIGl0IGlzIHJlY29tbWVuZGVkIHRvIHdyaXRlIGl0IGFzIFRTIGFycmF5LlxuZXhwb3J0IGNvbnN0IG1lbnVQcmVmYWIgPSBbXG4gICAgeyAvLyBUaXRsZVxuICAgICAgICBbQ1RhZ01hcmtlcl06IFtcbiAgICAgICAgICAgIEVUYWdzLnVpXG4gICAgICAgIF0sXG4gICAgICAgIFBvc2l0aW9uOiA8UG9zaXRpb24+e1xuICAgICAgICAgICAgeDogMC4wNSoxMDI0LFxuICAgICAgICAgICAgeTogMC4wNSoxMDI0LFxuICAgICAgICB9LFxuICAgICAgICBVSUl0ZW06IDxVSUl0ZW0+e1xuICAgICAgICAgICAgY2FwdGlvbjogJ1NIUEVLJyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2RkZCcsXG4gICAgICAgICAgICBmb250U2l6ZTogNjQsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHsgLy8gU3ViIHRpdGxlXG4gICAgICAgIFtDVGFnTWFya2VyXTogW1xuICAgICAgICAgICAgRVRhZ3MudWlcbiAgICAgICAgXSxcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XG4gICAgICAgICAgICB4OiAwLjA1KjEwMjQsXG4gICAgICAgICAgICB5OiAwLjEyKjEwMjQsXG4gICAgICAgIH0sXG4gICAgICAgIFVJSXRlbToge1xuICAgICAgICAgICAgY2FwdGlvbjogJ1BlbiBpcyBnYW1lJyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2RkZCcsXG4gICAgICAgICAgICBmb250U2l6ZTogMjQsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXG4gICAgICAgICAgICBFVGFncy51aVxuICAgICAgICBdLFxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcbiAgICAgICAgICAgIHg6IDAuMDUqMTAyNCxcbiAgICAgICAgICAgIHk6IDAuMioxMDI0LFxuICAgICAgICB9LFxuICAgICAgICBVSUl0ZW06IDxVSUl0ZW0+e1xuICAgICAgICAgICAgY2FwdGlvbjogJ0hvdyB0byBwbGF5OiBNb3ZlOiBXQVNELCBSb3RhdGUgUS9FLCBQYXVzZTogRXNjYXBlJyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2RkZCcsXG4gICAgICAgICAgICBmb250U2l6ZTogMjQsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXG4gICAgICAgICAgICBFVGFncy51aVxuICAgICAgICBdLFxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcbiAgICAgICAgICAgIHg6IDAuMDUqMTAyNCxcbiAgICAgICAgICAgIHk6IDAuMjQqMTAyNCxcbiAgICAgICAgfSxcbiAgICAgICAgVUlJdGVtOiA8VUlJdGVtPntcbiAgICAgICAgICAgIGNhcHRpb246ICdUaGUgZ2FtZSB3aWxsIGJlIHNhdmVkIHVwb24gcGF1c2luZyAobm90IHlldCBsbWFvKScsXG4gICAgICAgICAgICBjb2xvcjogJyNkZGQnLFxuICAgICAgICAgICAgZm9udFNpemU6IDI0LFxuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIFtDVGFnTWFya2VyXTogW1xuICAgICAgICAgICAgRVRhZ3MudWlcbiAgICAgICAgXSxcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XG4gICAgICAgICAgICB4OiAwLjE1KjEwMjQsXG4gICAgICAgICAgICB5OiAwLjM1KjEwMjQsXG4gICAgICAgIH0sXG4gICAgICAgIFVJSXRlbTogPFVJSXRlbT57XG4gICAgICAgICAgICBhY3Rpb246IEVBY3Rpb25zLlBsYXksXG4gICAgICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICBjb2xvcjogJyNkZGQnLFxuICAgICAgICAgICAgY2FwdGlvbjogJ1BsYXknLFxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBbQ1RhZ01hcmtlcl06IFtcbiAgICAgICAgICAgIEVUYWdzLnVpXG4gICAgICAgIF0sXG4gICAgICAgIFBvc2l0aW9uOiA8UG9zaXRpb24+e1xuICAgICAgICAgICAgeDogMC4xNSoxMDI0LFxuICAgICAgICAgICAgeTogMC40KjEwMjQsXG4gICAgICAgIH0sXG4gICAgICAgIFVJSXRlbTogPFVJSXRlbT57XG4gICAgICAgICAgICBhY3Rpb246IEVBY3Rpb25zLkNvbnRpbnVlLFxuICAgICAgICAgICAgY29sb3I6ICcjZGRkJyxcbiAgICAgICAgICAgIGNhcHRpb246ICdDb250aW51ZScsXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIFtDVGFnTWFya2VyXTogW1xuICAgICAgICAgICAgRVRhZ3MudWlcbiAgICAgICAgXSxcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XG4gICAgICAgICAgICB4OiAwLjE1KjEwMjQsXG4gICAgICAgICAgICB5OiAwLjQ1KjEwMjQsXG4gICAgICAgIH0sXG4gICAgICAgIFVJSXRlbTogPFVJSXRlbT57XG4gICAgICAgICAgICBhY3Rpb246IEVBY3Rpb25zLkV4aXQsXG4gICAgICAgICAgICBjb2xvcjogJyNkZGQnLFxuICAgICAgICAgICAgY2FwdGlvbjogJ0V4aXQgKHJlYWxseT8pJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcbiAgICAgICAgfSxcbiAgICB9LFxuXTtcbiIsImltcG9ydCB7IENUYWdNYXJrZXIgfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHtVSUl0ZW19IGZyb20gXCIuLi9jb21wb25lbnRzL3VpLWl0ZW1cIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uL2VuZ2luZVwiO1xuaW1wb3J0IHsgRVRhZ3MgfSBmcm9tIFwiLi4vbW9kZWxzL3RhZ3NcIjtcblxuLy8gVGhpcyBjb3VsZCBhbHNvIGJlIHB1cmUgSlNPTiwgYnV0IGluIG9yZGVyIHRvIHVzZSBUUyB0eXBlcyBhbmQgaGF2ZSBzdGF0aWMgY2hlY2tzIGl0IGlzIHJlY29tbWVuZGVkIHRvIHdyaXRlIGl0IGFzIFRTIGFycmF5LlxuZXhwb3J0IGNvbnN0IHBhdXNlUHJlZmFiID0gW1xuICAgIHtcbiAgICAgICAgW0NUYWdNYXJrZXJdOiBbXG4gICAgICAgICAgICBFVGFncy51aVxuICAgICAgICBdLFxuICAgICAgICBQb3NpdGlvbjogPFBvc2l0aW9uPntcbiAgICAgICAgICAgIHg6IDUwLFxuICAgICAgICAgICAgeTogMzAsXG4gICAgICAgIH0sXG4gICAgICAgIFVJSXRlbTogPFVJSXRlbT57XG4gICAgICAgICAgICBjYXB0aW9uOiAn4p2a4p2aIFBBVVNFJyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2RkZCcsXG4gICAgICAgICAgICBmb250U2l6ZTogNjQsXG4gICAgICAgIH1cbiAgICB9LFxuXTtcbiIsImltcG9ydCB7RVRhZ3N9IGZyb20gXCIuLi9tb2RlbHMvdGFnc1wiO1xuaW1wb3J0IHtDVGFnTWFya2VyfSBmcm9tICdzaW0tZWNzJztcbmltcG9ydCB7IHZlcnRpY2llcyB9IGZyb20gXCIuLi8uLi9yZXMvbWVzaGVzLzFcIjtcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NoYXJhY3RlclwiO1xuaW1wb3J0IHsgQ29sbGlzaW9uLCBNYXRlcmlhbCwgTWVzaCwgUG9zaXRpb24sIFJvdGF0aW9uLCBTaGFwZSwgU2hhcGVQaXZvdCwgU2hhcGVQcmltaXRpdmUsIFZlbG9jaXR5IH0gZnJvbSBcIi4uL2VuZ2luZVwiO1xuXG5leHBvcnQgY29uc3Qgc2F2YWJsZVByZWZhYiA9IFtcbiAgICB7IC8vIENoYXJhY3RlclxuICAgICAgICBbQ1RhZ01hcmtlcl06IFtcbiAgICAgICAgICAgIEVUYWdzLmNoYXJhY3RlcixcbiAgICAgICAgICAgIC8vIEVUYWdzLnNhdmVcbiAgICAgICAgXSxcbiAgICAgICAgLy8gUGh5c2ljc0JyaWRnZTogPFBoeXNpY3NCcmlkZ2U+e30sXG4gICAgICAgIENoYXJhY3RlcjogPENoYXJhY3Rlcj57XG4gICAgICAgICAgICBuYW1lOiAnWHVQb0gnXG4gICAgICAgIH0sXG4gICAgICAgIFZlbG9jaXR5OiA8VmVsb2NpdHk+e1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBhbmd1bGFyOiAwLFxuICAgICAgICB9LFxuICAgICAgICBDb2xsaXNpb246IDxDb2xsaXNpb24+e30sXG4gICAgICAgIFJvdGF0aW9uOiA8Um90YXRpb24+e1xuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSxcbiAgICAgICAgUG9zaXRpb246IDxQb3NpdGlvbj57XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgU2hhcGU6IDxTaGFwZT57XG4gICAgICAgICAgICB6SW5kZXg6IDExLFxuICAgICAgICAgICAgZGltZW5zaW9uczoge1xuICAgICAgICAgICAgICAgIHg6IDEsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWVzaDogPE1lc2g+e1xuICAgICAgICAgICAgICAgIHZlcnRpY2llc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByaW1pdGl2ZTogU2hhcGVQcmltaXRpdmUuTWVzaCxcbiAgICAgICAgICAgIHBpdm90OiBTaGFwZVBpdm90Lk1pZGRsZSxcbiAgICAgICAgfSxcbiAgICAgICAgTWF0ZXJpYWw6IDxNYXRlcmlhbD57XG4gICAgICAgICAgICBjb2xvcjogJyNjY2EnLFxuICAgICAgICB9LFxuICAgIH0sXG5dOyIsImltcG9ydCB7SVRyYW5zaXRpb25BY3Rpb25zLCBRdWVyeSwgU2VyaWFsRm9ybWF0LCBTdGF0ZSwgVEdyb3VwSGFuZGxlLCBXaXRoLCBXaXRoVGFnfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgbG9hZCB9IGZyb20gXCIuLi9hcHAvcGVyc2lzdGVuY2VcIjtcbmltcG9ydCB7IFBoeXNpY3NTeXN0ZW0sIENvbGxpc2lvblN5c3RlbSwgSW5wdXRTeXN0ZW0sIENhbWVyYVN5c3RlbSwgR2NTeXN0ZW0sIENvbW1vblN0b3JlLCBTaGFwZSwgUG9zaXRpb24sIFBoeXNpY3NCcmlkZ2UsIFNoYXBlUHJpbWl0aXZlIH0gZnJvbSBcIi4uL2VuZ2luZVwiO1xuaW1wb3J0IHsgR2FtZVN0b3JlIH0gZnJvbSBcIi4uL21vZGVscy9nYW1lLXN0b3JlXCI7XG5pbXBvcnQgeyBnYW1lUHJlZmFiIH0gZnJvbSBcIi4uL3ByZWZhYnMvZ2FtZVwiO1xuaW1wb3J0IHsgc2F2YWJsZVByZWZhYiB9IGZyb20gXCIuLi9wcmVmYWJzL3NhdmFibGVcIjtcbmltcG9ydCB7IEFjdGlvbnNTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9hY3Rpb25zXCI7XG5pbXBvcnQgeyBDaGFyYWN0ZXJTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9jaGFyYWN0ZXJcIjtcbmltcG9ydCB7IFBhdXNlU3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbXMvcGF1c2VcIjtcbmltcG9ydCB7IFJlbmRlckdhbWVTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9yZW5kZXItZ2FtZVwiO1xuaW1wb3J0IHsgUmVuZGVyVUlTeXN0ZW0gfSBmcm9tIFwiLi4vc3lzdGVtcy9yZW5kZXItdWlcIjtcblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZSBleHRlbmRzIFN0YXRlIHtcbiAgICBfc3lzdGVtcyA9IFtcbiAgICAgICAgUGh5c2ljc1N5c3RlbSxcbiAgICAgICAgQ2hhcmFjdGVyU3lzdGVtLFxuICAgICAgICBDb2xsaXNpb25TeXN0ZW0sXG4gICAgICAgIElucHV0U3lzdGVtLFxuICAgICAgICBDYW1lcmFTeXN0ZW0sXG4gICAgICAgIFBhdXNlU3lzdGVtLFxuICAgICAgICBSZW5kZXJHYW1lU3lzdGVtLFxuICAgICAgICBSZW5kZXJVSVN5c3RlbSxcbiAgICAgICAgR2NTeXN0ZW0sXG4gICAgICAgIEFjdGlvbnNTeXN0ZW0sXG4gICAgXTtcbiAgICBzYXZlRGF0YVByZWZhYkhhbmRsZT86IFRHcm91cEhhbmRsZTtcbiAgICBzdGF0aWNEYXRhUHJlZmFiSGFuZGxlPzogVEdyb3VwSGFuZGxlO1xuXG4gICAgZ2FtZVN0b3JlITogR2FtZVN0b3JlO1xuICAgIGNvbW1vblN0b3JlITogQ29tbW9uU3RvcmU7XG5cbiAgICBhY3RpdmF0ZShhY3Rpb25zOiBJVHJhbnNpdGlvbkFjdGlvbnMpIHtcbiAgICAgICAgYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpLmN1cnJlbnRTdGF0ZSA9IHRoaXM7XG4gICAgfVxuXG4gICAgYXN5bmMgY3JlYXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xuICAgICAgICB0aGlzLmNvbW1vblN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XG4gICAgICAgIHRoaXMuZ2FtZVN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpXG5cbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhUHJlZmFiSGFuZGxlID0gY3JlYXRlTmV3R2FtZShhY3Rpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5nYW1lU3RvcmUuY29udGludWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZURhdGFQcmVmYWJIYW5kbGUgPSBsb2FkKGFjdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zYXZlRGF0YVByZWZhYkhhbmRsZSA9IGNyZWF0ZUdhbWVGcm9tU2F2ZURhdGEoYWN0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBhY3Rpb25zLmZsdXNoQ29tbWFuZHMoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBhY3Rpb25zLmdldEVudGl0aWVzKG5ldyBRdWVyeShbXG4gICAgICAgICAgICBXaXRoKFNoYXBlKVxuICAgICAgICBdKSkpIHtcbiAgICAgICAgICAgIGVudGl0eS5nZXRDb21wb25lbnQoU2hhcGUpPy5idWlsZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5pdCBQaHlzaWNzQnJpZGdlIHRvIHJlYWwgcGh5c2ljc1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBiMldvcmxkLFxuICAgICAgICAgICAgYjJDaXJjbGVTaGFwZSxcbiAgICAgICAgICAgIGIyU2hhcGUsXG4gICAgICAgICAgICBiMlBvbHlnb25TaGFwZSxcbiAgICAgICAgICAgIGIyQm9keURlZixcbiAgICAgICAgICAgIGIyX2R5bmFtaWNCb2R5LFxuICAgICAgICAgICAgYjJWZWMyLFxuICAgICAgICAgICAgZGVzdHJveSxcbiAgICAgICAgfSA9IHRoaXMuY29tbW9uU3RvcmUucGh5c2ljc05hbWVzcGFjZTtcblxuICAgICAgICBjb25zdCBwaHlzV29ybGQgPSBhY3Rpb25zLmdldFJlc291cmNlKGIyV29ybGQpO1xuXG4gICAgICAgIGNvbnN0IHplcm8gPSB0aGlzLmNvbW1vblN0b3JlLnBoeXNpY3NaZXJvO1xuXG4gICAgICAgIGxldCBwaHlzU2hhcGU6IEJveDJELmIyU2hhcGUgfCBudWxsID0gbnVsbDtcblxuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBhY3Rpb25zLmdldEVudGl0aWVzKG5ldyBRdWVyeShbXG4gICAgICAgICAgICBXaXRoKFNoYXBlKSxcbiAgICAgICAgICAgIFdpdGgoUG9zaXRpb24pLFxuICAgICAgICAgICAgV2l0aChQaHlzaWNzQnJpZGdlKVxuICAgICAgICBdKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IGVudGl0eS5nZXRDb21wb25lbnQoUG9zaXRpb24pITtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gZW50aXR5LmdldENvbXBvbmVudChTaGFwZSkhO1xuICAgICAgICAgICAgY29uc3QgcGh5c2ljc0JyaWRnZSA9IGVudGl0eS5nZXRDb21wb25lbnQoUGh5c2ljc0JyaWRnZSkhO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQWRkaW5nIHRvIHBoeXNpY3Mgd29ybGQ6JywgcG9zLCBzaGFwZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHZlYyA9IG5ldyBiMlZlYzIocG9zLngsIHBvcy55KTtcbiAgICAgICAgICAgIGNvbnN0IGJkID0gbmV3IGIyQm9keURlZigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB7dywgaH0gPSBzaGFwZS5nZXRCQm94KCk7XG5cbiAgICAgICAgICAgIGlmIChzaGFwZS5wcmltaXRpdmUgPT09IFNoYXBlUHJpbWl0aXZlLlJlY3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfc2hhcGUgPSBuZXcgYjJQb2x5Z29uU2hhcGUoKTtcbiAgICAgICAgICAgICAgICBfc2hhcGUuU2V0QXNCb3godywgaCk7XG4gICAgICAgICAgICAgICAgcGh5c1NoYXBlID0gX3NoYXBlO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuQ2lyY2xlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX3NoYXBlID0gbmV3IGIyQ2lyY2xlU2hhcGUoKTtcbiAgICAgICAgICAgICAgICBfc2hhcGUuc2V0X21fcmFkaXVzKHNoYXBlLmRpbWVuc2lvbnMueCAvIDIpO1xuICAgICAgICAgICAgICAgIHBoeXNTaGFwZSA9IF9zaGFwZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihzaGFwZS5wcmltaXRpdmUsICdpcyBub3Qgc3VwcG9ydGVkIGJ5IHBoeXNpY3Mgbm93Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwaHlzU2hhcGUpIHtcbiAgICAgICAgICAgICAgICBiZC5zZXRfdHlwZShiMl9keW5hbWljQm9keSk7XG4gICAgICAgICAgICAgICAgYmQuc2V0X3Bvc2l0aW9uKHZlYyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0gcGh5c1dvcmxkLkNyZWF0ZUJvZHkoYmQpO1xuICAgICAgICAgICAgICAgIHZlYy5TZXQoMCwgMCk7XG4gICAgICAgICAgICAgICAgYm9keS5TZXRUcmFuc2Zvcm0odmVjLCAwKTtcbiAgICAgICAgICAgICAgICBib2R5LkNyZWF0ZUZpeHR1cmUocGh5c1NoYXBlLCAxKTtcblxuICAgICAgICAgICAgICAgIGRlc3Ryb3kodmVjKTtcbiAgICAgICAgICAgICAgICBkZXN0cm95KHBoeXNTaGFwZSk7XG5cbiAgICAgICAgICAgICAgICBib2R5LlNldExpbmVhclZlbG9jaXR5KHplcm8pO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGNvbnRyb2wgdmlhIHBoeXNpY3Mgc3lzdGVtP1xuICAgICAgICAgICAgICAgIGJvZHkuU2V0QXdha2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYm9keS5TZXRFbmFibGVkKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgcGh5c2ljc0JyaWRnZS5ib2R5UHRyID0gYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFjdGlvbnMuY29tbWFuZHMucXVldWVDb21tYW5kKCgpID0+IHNldFNjb3JlQ2FwdGlvbk1vZChhY3Rpb25zKSk7XG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5zdGF0aWNEYXRhUHJlZmFiSGFuZGxlKSB7XG4gICAgICAgICAgICBhY3Rpb25zLmNvbW1hbmRzLnVubG9hZFByZWZhYih0aGlzLnN0YXRpY0RhdGFQcmVmYWJIYW5kbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2F2ZURhdGFQcmVmYWJIYW5kbGUpIHtcbiAgICAgICAgICAgIGFjdGlvbnMuY29tbWFuZHMudW5sb2FkUHJlZmFiKHRoaXMuc2F2ZURhdGFQcmVmYWJIYW5kbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcGh5c2ljc05hbWVzcGFjZToge1xuICAgICAgICAgICAgICAgIGIyV29ybGQsXG4gICAgICAgICAgICAgICAgZGVzdHJveVxuICAgICAgICAgICAgfVxuICAgICAgICB9ID0gdGhpcy5jb21tb25TdG9yZTtcblxuICAgICAgICBkZXN0cm95KGFjdGlvbnMuZ2V0UmVzb3VyY2UoYjJXb3JsZCkpO1xuXG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcbiAgICB9XG59XG5cbmNvbnN0IGNyZWF0ZU5ld0dhbWUgPSBmdW5jdGlvbiAoYWN0aW9uczogSVRyYW5zaXRpb25BY3Rpb25zKSB7XG4gICAgcmV0dXJuIGFjdGlvbnMuY29tbWFuZHMubG9hZChcbiAgICAgICAgU2VyaWFsRm9ybWF0LmZyb21BcnJheShnYW1lUHJlZmFiKSk7XG59O1xuXG5jb25zdCBjcmVhdGVHYW1lRnJvbVNhdmVEYXRhID0gZnVuY3Rpb24gKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xuICAgIHJldHVybiBhY3Rpb25zLmNvbW1hbmRzLmxvYWQoXG4gICAgICAgIFNlcmlhbEZvcm1hdC5mcm9tQXJyYXkoc2F2YWJsZVByZWZhYikpO1xufTsiLCJpbXBvcnQge0lUcmFuc2l0aW9uQWN0aW9ucywgU2VyaWFsRm9ybWF0LCBTdGF0ZSwgVEdyb3VwSGFuZGxlfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHttZW51UHJlZmFifSBmcm9tIFwiLi4vcHJlZmFicy9tZW51XCI7XG5pbXBvcnQge01lbnVTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL21lbnVcIjtcbmltcG9ydCB7UmVuZGVyVUlTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL3JlbmRlci11aVwiO1xuaW1wb3J0IHtHYW1lU3RvcmV9IGZyb20gXCIuLi9tb2RlbHMvZ2FtZS1zdG9yZVwiO1xuaW1wb3J0IHsgSW5wdXRTeXN0ZW0gfSBmcm9tIFwiLi4vZW5naW5lL1wiO1xuaW1wb3J0IHsgQWN0aW9uc1N5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL2FjdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIE1lbnVTdGF0ZSBleHRlbmRzIFN0YXRlIHtcbiAgICBfc3lzdGVtcyA9IFtJbnB1dFN5c3RlbSwgQWN0aW9uc1N5c3RlbSwgTWVudVN5c3RlbSwgUmVuZGVyVUlTeXN0ZW1dO1xuICAgIHByZWZhYkhhbmRsZSE6IFRHcm91cEhhbmRsZTtcblxuICAgIGFjdGl2YXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xuICAgICAgICBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSkuY3VycmVudFN0YXRlID0gdGhpcztcbiAgICAgICAgdGhpcy5wcmVmYWJIYW5kbGUgPSBhY3Rpb25zLmNvbW1hbmRzLmxvYWQoU2VyaWFsRm9ybWF0LmZyb21BcnJheShtZW51UHJlZmFiKSk7XG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcbiAgICB9XG5cbiAgICBkZWFjdGl2YXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xuICAgICAgICBhY3Rpb25zLmNvbW1hbmRzLnVubG9hZFByZWZhYih0aGlzLnByZWZhYkhhbmRsZSk7XG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0lUcmFuc2l0aW9uQWN0aW9ucywgU2VyaWFsRm9ybWF0LCBTdGF0ZSwgVEdyb3VwSGFuZGxlfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHtQYXVzZVN5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbXMvcGF1c2VcIjtcbmltcG9ydCB7cGF1c2VQcmVmYWJ9IGZyb20gXCIuLi9wcmVmYWJzL3BhdXNlXCI7XG5pbXBvcnQge0dhbWVTdG9yZX0gZnJvbSBcIi4uL21vZGVscy9nYW1lLXN0b3JlXCI7XG5pbXBvcnQge3NhdmV9IGZyb20gXCIuLi9hcHAvcGVyc2lzdGVuY2VcIjtcbmltcG9ydCB7UmVuZGVyVUlTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW1zL3JlbmRlci11aVwiO1xuaW1wb3J0IHtSZW5kZXJHYW1lU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtcy9yZW5kZXItZ2FtZVwiO1xuaW1wb3J0IHsgSW5wdXRTeXN0ZW0gfSBmcm9tIFwiLi4vZW5naW5lL1wiO1xuaW1wb3J0IHsgQWN0aW9uc1N5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL2FjdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIFBhdXNlU3RhdGUgZXh0ZW5kcyBTdGF0ZSB7XG4gICAgX3N5c3RlbXMgPSBbSW5wdXRTeXN0ZW0sIEFjdGlvbnNTeXN0ZW0sIFBhdXNlU3lzdGVtLCBSZW5kZXJHYW1lU3lzdGVtLCBSZW5kZXJVSVN5c3RlbV07XG4gICAgcHJlZmFiSGFuZGxlITogVEdyb3VwSGFuZGxlO1xuXG5cbiAgICBhY3RpdmF0ZShhY3Rpb25zOiBJVHJhbnNpdGlvbkFjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ2FtZVN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpO1xuICAgICAgICBzYXZlKGFjdGlvbnMpO1xuXG4gICAgICAgIGdhbWVTdG9yZS5jdXJyZW50U3RhdGUgPSB0aGlzO1xuICAgICAgICB0aGlzLnByZWZhYkhhbmRsZSA9IGFjdGlvbnMuY29tbWFuZHMubG9hZChTZXJpYWxGb3JtYXQuZnJvbUFycmF5KHBhdXNlUHJlZmFiKSk7XG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcbiAgICB9XG5cbiAgICBkZWFjdGl2YXRlKGFjdGlvbnM6IElUcmFuc2l0aW9uQWN0aW9ucykge1xuICAgICAgICBhY3Rpb25zLmNvbW1hbmRzLnVubG9hZFByZWZhYih0aGlzLnByZWZhYkhhbmRsZSk7XG4gICAgICAgIGFjdGlvbnMuY29tbWFuZHMubWFpbnRhaW4oKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJU3lzdGVtQWN0aW9ucywgU3lzdGVtIH0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCAqIGFzIEtleUNvZGUgZnJvbSAna2V5Y29kZS1qcyc7XG5pbXBvcnQgeyBHYW1lU3RvcmUgfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcbmltcG9ydCB7IENvbW1vblN0b3JlLCBFTW92ZW1lbnQsIEVLZXlTdGF0ZSB9IGZyb20gXCIuLi9lbmdpbmVcIjtcblxuZXhwb3J0IGNsYXNzIEFjdGlvbnNTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIGdhbWVTdG9yZSE6IEdhbWVTdG9yZTtcbiAgICBjb21tb25TdG9yZSE6IENvbW1vblN0b3JlO1xuXG4gICAgcmVhZG9ubHkgbGlzdGVuZXJzID0ge1xuICAgICAgICBibHVyOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLmNoYXJhY3Rlck1vdmVtZW50ID0gRU1vdmVtZW50LmlkbGU7XG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLm1lbnVNb3ZlbWVudCA9IEVNb3ZlbWVudC5pZGxlO1xuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy50b2dnbGVQYXVzZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmNvbW1vblN0b3JlLmlucHV0LmtleVN0YXRlcy5jbGVhcigpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1czogKCkgPT4gdGhpcy5saXN0ZW5lcnMuYmx1cigpLFxuICAgIH1cblxuICAgIHNldHVwKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKENvbW1vblN0b3JlKTtcbiAgICAgICAgdGhpcy5nYW1lU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBbZXZlbnQsIGhhbmRsZXJdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgaGFuZGxlciBhcyBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQWN0aW9uKFxuICAgICAgICB0cmlnZ2Vyczogc3RyaW5nW10sXG4gICAgICAgIHBvczogRU1vdmVtZW50LFxuICAgICAgICBuZWc6IEVNb3ZlbWVudCxcbiAgICAgICAgbWVudT86IEVNb3ZlbWVudFxuICAgICkge1xuICAgICAgICBpZiAodGhpcy5jb21tb25TdG9yZS5pbnB1dC5pc0FueUtleSh0cmlnZ2VycywgRUtleVN0YXRlLkRvd24pKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLmNoYXJhY3Rlck1vdmVtZW50IHw9IHBvcztcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMuY2hhcmFjdGVyTW92ZW1lbnQgJj0gfm5lZztcbiAgICAgICAgICAgIGlmIChtZW51KVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMubWVudU1vdmVtZW50ID0gbWVudTsgXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb21tb25TdG9yZS5pbnB1dC5pc0FueUtleURpZmZlcmVudChcbiAgICAgICAgICAgIHRyaWdnZXJzLCBFS2V5U3RhdGUuVXApKSB7O1xuICAgICAgICAgICAgdGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5jaGFyYWN0ZXJNb3ZlbWVudCAmPSB+cG9zO1xuXG4gICAgICAgICAgICBpZiAobWVudSlcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLm1lbnVNb3ZlbWVudCA9IEVNb3ZlbWVudC5pZGxlOyBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJ1bihhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICB7IC8vIFJlc2V0IGlucHV0IGFjdGlvbnNcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMubWVudUNvbmZpcm0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMubWVudU1vdmVtZW50ID0gRU1vdmVtZW50LmlkbGU7XG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLnRvZ2dsZVBhdXNlID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpbnB1dFxuICAgICAgICB9ID0gdGhpcy5jb21tb25TdG9yZTtcblxuICAgICAgICBpZiAoaW5wdXQud2FzS2V5UHJlc3NlZChLZXlDb2RlLkNPREVfRU5URVIpKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLm1lbnVDb25maXJtID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dC53YXNLZXlQcmVzc2VkKEtleUNvZGUuQ09ERV9FU0NBUEUpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpbnB1dCk7XG4gICAgICAgICAgICB0aGlzLmdhbWVTdG9yZS5hY3Rpb25zLnRvZ2dsZVBhdXNlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlQWN0aW9uKFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIEtleUNvZGUuQ09ERV9XLFxuICAgICAgICAgICAgICAgIEtleUNvZGUuQ09ERV9VUFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIEVNb3ZlbWVudC51cCxcbiAgICAgICAgICAgIEVNb3ZlbWVudC5kb3duLFxuICAgICAgICAgICAgRU1vdmVtZW50LnVwXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVBY3Rpb24oXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgS2V5Q29kZS5DT0RFX0EsXG4gICAgICAgICAgICAgICAgS2V5Q29kZS5DT0RFX0xFRlRcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBFTW92ZW1lbnQubGVmdCxcbiAgICAgICAgICAgIEVNb3ZlbWVudC5yaWdodFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMudXBkYXRlQWN0aW9uKFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIEtleUNvZGUuQ09ERV9TLFxuICAgICAgICAgICAgICAgIEtleUNvZGUuQ09ERV9ET1dOXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgRU1vdmVtZW50LmRvd24sXG4gICAgICAgICAgICBFTW92ZW1lbnQudXAsXG4gICAgICAgICAgICBFTW92ZW1lbnQuZG93blxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMudXBkYXRlQWN0aW9uKFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIEtleUNvZGUuQ09ERV9ELFxuICAgICAgICAgICAgICAgIEtleUNvZGUuQ09ERV9SSUdIVFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIEVNb3ZlbWVudC5yaWdodCxcbiAgICAgICAgICAgIEVNb3ZlbWVudC5sZWZ0XG4gICAgICAgICk7XG4gICAgfVxufSIsImltcG9ydCB7IENPREVfRSwgQ09ERV9RIH0gZnJvbSBcImtleWNvZGUtanNcIjtcbmltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFF1ZXJ5LCBSZWFkLCBSZWFkRW50aXR5LCBTeXN0ZW0sIFdpdGhUYWcsIFdyaXRlfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgUG9zaXRpb24sIFJvdGF0aW9uLCBWZWxvY2l0eSwgQ29tbW9uU3RvcmUsIENhbWVyYSwgQ2FtZXJhRm9sbG93TWV0aG9kLCBFTW92ZW1lbnQgfSBmcm9tIFwiLi4vZW5naW5lXCI7XG5pbXBvcnQgeyBHYW1lU3RvcmUgfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcbmltcG9ydCB7IEVUYWdzIH0gZnJvbSBcIi4uL21vZGVscy90YWdzXCI7XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IHF1ZXJ5ID0gbmV3IFF1ZXJ5KHtcbiAgICAgICAgX2NoYXJhY3RlcjogV2l0aFRhZyhFVGFncy5jaGFyYWN0ZXIpLFxuICAgICAgICBlbnRpdHk6IFJlYWRFbnRpdHkoKSxcbiAgICAgICAgcG9zOiBSZWFkKFBvc2l0aW9uKSxcbiAgICAgICAgcm90YXRpb246IFdyaXRlKFJvdGF0aW9uKSxcbiAgICAgICAgdmVsb2NpdHk6IFdyaXRlKFZlbG9jaXR5KSxcbiAgICB9KTtcblxuICAgIGdhbWVTdG9yZSE6IEdhbWVTdG9yZTtcbiAgICBjb21tb25TdG9yZSE6IENvbW1vblN0b3JlO1xuICAgIGNhbWVyYSE6IENhbWVyYTtcbiAgICBjdHghOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgICBzZXR1cChhY3Rpb25zOiBJU3lzdGVtQWN0aW9ucykge1xuICAgICAgICB0aGlzLmN0eCA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTtcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xuICAgICAgICB0aGlzLmdhbWVTdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoR2FtZVN0b3JlKTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBhY3Rpb25zLmdldFJlc291cmNlKENhbWVyYSk7XG5cbiAgICAgICAgdGhpcy5jYW1lcmEuZWxhc3RpY2l0eSA9IDAuMDA4O1xuXG4gICAgICAgIHRoaXMuY2FtZXJhLmZvbGxvdyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogQ2FtZXJhRm9sbG93TWV0aG9kLkVsYXN0aWMsXG4gICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmNhbWVyYS54LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuY2FtZXJhLnksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJldlg6IHRoaXMuY2FtZXJhLngsXG4gICAgICAgICAgICBwcmV2WTogdGhpcy5jYW1lcmEueSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJ1bnMgPSAwXG5cbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEuem9vbSArPSB0aGlzLmNvbW1vblN0b3JlLmlucHV0LndoZWVsIC8gMTA7XG5cbiAgICAgICAgdGhpcy5xdWVyeS5leGVjdXRlKCh7cm90YXRpb24sIHBvcywgdmVsb2NpdHl9KSA9PiB7XG4gICAgICAgICAgICAvLyBkZWxldGUgdGVzdCBwYXNzZWQuXG4gICAgICAgICAgICAvLyBpZiAodGhpcy5jYW1lcmEuem9vbSA8IDAuOCkge1xuICAgICAgICAgICAgLy8gICAgIGVudGl0eS5hZGRUYWcoRVRhZ3MuZGVzdHJveUVudGl0eSk7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbW1vblN0b3JlLmlucHV0LmlzS2V5RG93bihDT0RFX0UpKSB7XG4gICAgICAgICAgICAgICAgcm90YXRpb24udmFsdWUgKz0gMC4wMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuY29tbW9uU3RvcmUuaW5wdXQuaXNLZXlEb3duKENPREVfUSkpIHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi52YWx1ZSAtPSAwLjAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5mb2xsb3chLnRhcmdldCA9IHBvcztcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLmZvbGxvdyEudGFyZ2V0QW5nbGUgPSByb3RhdGlvbi52YWx1ZTtcblxuICAgICAgICAgICAgY29uc3QgZHQgPSB0aGlzLmNvbW1vblN0b3JlLmxhc3RGcmFtZURlbHRhVGltZTtcblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIGNoYXJhY3Rlck1vdmVtZW50OiBtb3ZlXG4gICAgICAgICAgICB9ID0gdGhpcy5nYW1lU3RvcmUuYWN0aW9ucztcblxuICAgICAgICAgICAgY29uc3QgaXNMZWZ0ID0gKG1vdmUgJiBFTW92ZW1lbnQubGVmdCkgPT09IEVNb3ZlbWVudC5sZWZ0O1xuICAgICAgICAgICAgY29uc3QgaXNSaWdodCA9IChtb3ZlICYgRU1vdmVtZW50LnJpZ2h0KSA9PT0gRU1vdmVtZW50LnJpZ2h0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2ZWxvY2l0eS54ID0gMDtcblxuICAgICAgICAgICAgaWYgKGlzTGVmdCAmJiAhaXNSaWdodCkge1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5LnggPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1JpZ2h0ICYmICFpc0xlZnQpIHtcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS54ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKChtb3ZlICYgRU1vdmVtZW50LnVwKSA9PT0gRU1vdmVtZW50LnVwKSB7XG4gICAgICAgICAgICAgICAgdmVsb2NpdHkueSA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKG1vdmUgJiBFTW92ZW1lbnQuZG93bikgPT09IEVNb3ZlbWVudC5kb3duKSB7XG4gICAgICAgICAgICAgICAgdmVsb2NpdHkueSA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5LnkgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgeDogdngsIFxuICAgICAgICAgICAgICAgIHk6IHZ5XG4gICAgICAgICAgICB9ID0gdmVsb2NpdHk7XG5cbiAgICAgICAgICAgIGNvbnN0IFtzaW4sIGNvc10gPSByb3RhdGlvbi5zaW5fY29zO1xuXG4gICAgICAgICAgICB2ZWxvY2l0eS54ID0gdnggKiBjb3MgLSB2eSAqIHNpbjtcbiAgICAgICAgICAgIHZlbG9jaXR5LnkgPSB2eCAqIHNpbiArIHZ5ICogY29zO1xuXG4gICAgICAgICAgICB2ZWxvY2l0eS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHZlbG9jaXR5LnNjYWxlKGR0ICogNjAgKiAyKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0ICogZnJvbSAnLi9hY3Rpb25zJztcbmV4cG9ydCAqIGZyb20gJy4vY2hhcmFjdGVyJztcbmV4cG9ydCAqIGZyb20gJy4vbWVudSc7XG5leHBvcnQgKiBmcm9tICcuL3BhdXNlJztcbmV4cG9ydCAqIGZyb20gJy4vcmVuZGVyLWdhbWUnO1xuZXhwb3J0ICogZnJvbSAnLi9yZW5kZXItdWknOyIsImltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFF1ZXJ5LCBTeXN0ZW0sIFdyaXRlfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHtVSUl0ZW19IGZyb20gXCIuLi9jb21wb25lbnRzL3VpLWl0ZW1cIjtcbmltcG9ydCB7R2FtZVN0b3JlfSBmcm9tIFwiLi4vbW9kZWxzL2dhbWUtc3RvcmVcIjtcbmltcG9ydCB7RUFjdGlvbnN9IGZyb20gXCIuLi9hcHAvYWN0aW9uc1wiO1xuaW1wb3J0IHtHYW1lU3RhdGV9IGZyb20gXCIuLi9zdGF0ZXMvZ2FtZVwiO1xuaW1wb3J0IHsgTWVudVN0YXRlIH0gZnJvbSBcIi4uL3N0YXRlcy9tZW51XCI7XG5pbXBvcnQgeyBFTW92ZW1lbnQgfSBmcm9tIFwiLi4vZW5naW5lL1wiO1xuXG5leHBvcnQgY2xhc3MgTWVudVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgX3N0YXRlcyA9IFtcbiAgICAgICAgR2FtZVN0YXRlLFxuICAgICAgICBNZW51U3RhdGVcbiAgICBdXG5cbiAgICByZWFkb25seSBxdWVyeSA9IG5ldyBRdWVyeSh7XG4gICAgICAgIHVpSXRlbTogV3JpdGUoVUlJdGVtKVxuICAgIH0pO1xuXG4gICAgYWN0aW9ucyE6IElTeXN0ZW1BY3Rpb25zXG4gICAgZ2FtZVN0b3JlITogR2FtZVN0b3JlO1xuICAgIG1lbnVBY3Rpb24gPSBFQWN0aW9ucy5QbGF5O1xuXG4gICAgc2V0dXAoYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9ucztcbiAgICAgICAgdGhpcy5nYW1lU3RvcmUgPSBhY3Rpb25zLmdldFJlc291cmNlKEdhbWVTdG9yZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZXR1cCBNZW51Jyk7XG4gICAgfVxuXG4gICAgcnVuKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIC8vIHRvZG86IHVzZSBpbmRleFxuICAgICAgICBpZiAodGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5tZW51TW92ZW1lbnQgPT0gRU1vdmVtZW50LmRvd24pIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5tZW51QWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBFQWN0aW9ucy5QbGF5OiB0aGlzLm1lbnVBY3Rpb24gPSBFQWN0aW9ucy5Db250aW51ZTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQWN0aW9ucy5Db250aW51ZTogdGhpcy5tZW51QWN0aW9uID0gRUFjdGlvbnMuRXhpdDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQWN0aW9ucy5FeGl0OiB0aGlzLm1lbnVBY3Rpb24gPSBFQWN0aW9ucy5QbGF5OyBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uICR7dGhpcy5tZW51QWN0aW9ufSBub3QgaW1wbGVtZW50ZWQhYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMubWVudU1vdmVtZW50ID09IEVNb3ZlbWVudC51cCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm1lbnVBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIEVBY3Rpb25zLlBsYXk6IHRoaXMubWVudUFjdGlvbiA9IEVBY3Rpb25zLkV4aXQ7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUFjdGlvbnMuQ29udGludWU6IHRoaXMubWVudUFjdGlvbiA9IEVBY3Rpb25zLlBsYXk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUFjdGlvbnMuRXhpdDogdGhpcy5tZW51QWN0aW9uID0gRUFjdGlvbnMuQ29udGludWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gJHt0aGlzLm1lbnVBY3Rpb259IG5vdCBpbXBsZW1lbnRlZCFgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5tZW51Q29uZmlybSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWVudUFjdGlvbiA9PSBFQWN0aW9ucy5QbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmNvbW1hbmRzLnB1c2hTdGF0ZShHYW1lU3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5tZW51QWN0aW9uID09IEVBY3Rpb25zLkNvbnRpbnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzYXZlJykgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgnU29ycnkgeW91IHdlcmVudCBzYXZlZCBsb2wnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVN0b3JlLmNvbnRpbnVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMuY29tbWFuZHMucHVzaFN0YXRlKEdhbWVTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMuY29tbWFuZHMuc3RvcFJ1bigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHt1aUl0ZW19IG9mIHRoaXMucXVlcnkuaXRlcigpKSB7XG4gICAgICAgICAgICB1aUl0ZW0uYWN0aXZlID0gdWlJdGVtLmFjdGlvbiA9PSB0aGlzLm1lbnVBY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0lTeXN0ZW1BY3Rpb25zLCBRdWVyeSwgUmVhZCwgU3lzdGVtfSBmcm9tIFwic2ltLWVjc1wiO1xuaW1wb3J0IHsgQ29tbW9uU3RvcmUgfSBmcm9tIFwiLi4vZW5naW5lL1wiO1xuaW1wb3J0IHtHYW1lU3RvcmV9IGZyb20gXCIuLi9tb2RlbHMvZ2FtZS1zdG9yZVwiO1xuaW1wb3J0IHtHYW1lU3RhdGV9IGZyb20gXCIuLi9zdGF0ZXMvZ2FtZVwiO1xuaW1wb3J0IHtQYXVzZVN0YXRlfSBmcm9tIFwiLi4vc3RhdGVzL3BhdXNlXCI7XG5cblxuZXhwb3J0IGNsYXNzIFBhdXNlU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBhY3Rpb25zITogSVN5c3RlbUFjdGlvbnNcbiAgICBnYW1lU3RvcmUhOiBHYW1lU3RvcmU7XG4gICAgY29tbW9uU3RvcmUhOiBDb21tb25TdG9yZTtcblxuICAgIHNldHVwKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnM7XG4gICAgICAgIHRoaXMuZ2FtZVN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShHYW1lU3RvcmUpO1xuICAgICAgICB0aGlzLmNvbW1vblN0b3JlID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDb21tb25TdG9yZSk7XG5cbiAgICAgICAgLy8gaWYgb25seSB3ZSBjb3VsZCBjcmVhdGUgYW4gaW5saW5lIGZ1bmN0aW9uLi4uXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNHYW1lU3RhdGUgPSB0aGlzLmdhbWVTdG9yZS5jdXJyZW50U3RhdGU/LmNvbnN0cnVjdG9yID09IEdhbWVTdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGlzUGF1c2VTdGF0ZSA9IHRoaXMuZ2FtZVN0b3JlLmN1cnJlbnRTdGF0ZT8uY29uc3RydWN0b3IgPT0gUGF1c2VTdGF0ZTtcbiAgICAgICAgXG4gICAgICAgICAgICBpZiAoIWlzR2FtZVN0YXRlICYmICFpc1BhdXNlU3RhdGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoIWlzUGF1c2VTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5jb21tYW5kcy5wdXNoU3RhdGUoUGF1c2VTdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS53YXNCbHVycmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uU3RvcmUud2FzQmx1cnJlZCAmJlxuICAgICAgICAgICAgICAgICF0aGlzLmNvbW1vblN0b3JlLndhc0ludGVudGlvbmFsbHlQYXVzZWRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5jb21tYW5kcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBydW4oYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgaXNHYW1lU3RhdGUgPSB0aGlzLmdhbWVTdG9yZS5jdXJyZW50U3RhdGU/LmNvbnN0cnVjdG9yID09IEdhbWVTdGF0ZTtcbiAgICAgICAgY29uc3QgaXNQYXVzZVN0YXRlID0gdGhpcy5nYW1lU3RvcmUuY3VycmVudFN0YXRlPy5jb25zdHJ1Y3RvciA9PSBQYXVzZVN0YXRlO1xuXG4gICAgICAgIGlmICghaXNHYW1lU3RhdGUgJiYgIWlzUGF1c2VTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0b3JlLmFjdGlvbnMudG9nZ2xlUGF1c2UpIHtcbiAgICAgICAgICAgIGlmIChpc0dhbWVTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uU3RvcmUud2FzSW50ZW50aW9uYWxseVBhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmNvbW1hbmRzLnB1c2hTdGF0ZShQYXVzZVN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tb25TdG9yZS53YXNJbnRlbnRpb25hbGx5UGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmNvbW1hbmRzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0lTeXN0ZW1BY3Rpb25zLCBRdWVyeSwgUmVhZCwgU3lzdGVtLCBXcml0ZX0gZnJvbSBcInNpbS1lY3NcIjtcbmltcG9ydCB7IFBvc2l0aW9uLCBSb3RhdGlvbiwgU2hhcGUsIE1hdGVyaWFsLCBDb21tb25TdG9yZSwgQ2FtZXJhLCBJUmVjdCwgUmVjdCwgU2hhcGVQcmltaXRpdmUsIFNoYXBlUGl2b3ROYW1lcyB9IGZyb20gXCIuLi9lbmdpbmVcIjtcbmltcG9ydCB7IFBJWEVMU19QRVJfTUVURVIsIFRXT1BJLCBkcmF3UG9pbnQgfSBmcm9tIFwiLi4vZW5naW5lL3V0aWxcIjtcblxuZXhwb3J0IGNsYXNzIFJlbmRlckdhbWVTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHJlYWRvbmx5IHF1ZXJ5ID0gbmV3IFF1ZXJ5KHtcbiAgICAgICAgcG9zOiBSZWFkKFBvc2l0aW9uKSxcbiAgICAgICAgcm90OiBXcml0ZShSb3RhdGlvbiksXG4gICAgICAgIHNoYXBlOiBSZWFkKFNoYXBlKSxcbiAgICAgICAgbWF0ZXJpYWw6IFJlYWQoTWF0ZXJpYWwpLFxuICAgIH0pO1xuXG4gICAgY3R4ITogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIGNvbW1vblN0b3JlITogQ29tbW9uU3RvcmU7XG4gICAgY2FtZXJhITogQ2FtZXJhO1xuXG4gICAgLy8gVE9ETzogcmVtb3ZlXG4gICAgY29udHJvbHMhOiBIVE1MRWxlbWVudDtcblxuICAgIHNldHVwKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKTogdm9pZCB8IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmN0eCA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTtcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xuICAgICAgICB0aGlzLmNhbWVyYSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ2FtZXJhKTtcblxuICAgICAgICB0aGlzLmNvbnRyb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRyb2xzJykhO1xuICAgIH1cblxuICAgIHJ1bnMgPSAwO1xuXG4gICAgcnVuKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0OiBJUmVjdCA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMuY2FtZXJhLnggKyB0aGlzLmNhbWVyYS5vZmZzZXQueCxcbiAgICAgICAgICAgIHk6IHRoaXMuY2FtZXJhLnkgKyB0aGlzLmNhbWVyYS5vZmZzZXQueSxcbiAgICAgICAgICAgIHc6IHRoaXMuY3R4LmNhbnZhcy53aWR0aCAvICh0aGlzLmNhbWVyYS56b29tKlBJWEVMU19QRVJfTUVURVIpLFxuICAgICAgICAgICAgaDogdGhpcy5jdHguY2FudmFzLmhlaWdodCAvICh0aGlzLmNhbWVyYS56b29tKlBJWEVMU19QRVJfTUVURVIpLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY2FtZXJhLnZpZXdwb3J0ID0gdmlld3BvcnQ7XG5cbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgICAgICB0aGlzLmN0eC5zY2FsZShcbiAgICAgICAgICAgIFBJWEVMU19QRVJfTUVURVIqdGhpcy5jYW1lcmEuem9vbSxcbiAgICAgICAgICAgIFBJWEVMU19QRVJfTUVURVIqdGhpcy5jYW1lcmEuem9vbVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShcbiAgICAgICAgICAgIC12aWV3cG9ydC54LFxuICAgICAgICAgICAgLXZpZXdwb3J0LnlcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS54LFxuICAgICAgICAgICAgdGhpcy5jYW1lcmEueVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmN0eC5yb3RhdGUodGhpcy5jYW1lcmEucm90YXRpb24pO1xuICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoXG4gICAgICAgICAgICAtdGhpcy5jYW1lcmEueCxcbiAgICAgICAgICAgIC10aGlzLmNhbWVyYS55XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jb21tb25TdG9yZS53b3JsZFRvU2NyZWVuID0gdGhpcy5jdHguZ2V0VHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUuc2NyZWVuVG9Xb3JsZCA9IHRoaXMuY3R4LmdldFRyYW5zZm9ybSgpLmludmVyc2UoKTtcblxuICAgICAgICAvL214LG15IC0gY3Vyc29yIGNvb3JkcyBpbiBTY3JlZW4gc3BhY2VcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgeDpteCwgeTpteVxuICAgICAgICB9ID0gdGhpcy5jb21tb25TdG9yZS5pbnB1dC5jdXJzb3JQb3M7XG5cbiAgICAgICAgLy8gdHJhbnNmb3JtIG1hdHJpeCBzaWduaWZpY2F0IHZhbHVlc1xuICAgICAgICBcblxuICAgICAgICAvLyBjdXJzb3IgY29vcmRzIGluIHdvcmxkIHNwYWNlXG4gICAgICAgIFxuXG4gICAgICAgIGNvbnN0IHJvd3MgPSAxMDtcbiAgICAgICAgY29uc3QgY29scyA9IDE4O1xuXG4gICAgICAgIGNvbnN0IHBlckNvbCA9IHRoaXMuY3R4LmNhbnZhcy53aWR0aC8oY29scypQSVhFTFNfUEVSX01FVEVSKTtcbiAgICAgICAgY29uc3QgcGVyUm93ID0gdGhpcy5jdHguY2FudmFzLmhlaWdodC8ocm93cypQSVhFTFNfUEVSX01FVEVSKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xzOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gaiAqIHBlckNvbDtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gaSAqIHBlclJvdztcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAyLzMyO1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJyNkYWRhZGEnO1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QoXG4gICAgICAgICAgICAgICAgICAgIHgseSwgcGVyQ29sLCBwZXJSb3dcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXRlciA9IEFycmF5LmZyb20odGhpcy5xdWVyeS5pdGVyKCkpO1xuXG4gICAgICAgIHRoaXMuY29tbW9uU3RvcmUuZHJhd2FibGVzID0gaXRlci5sZW5ndGg7XG5cbiAgICAgICAgY29uc3QgZHJhd2FibGVzID0gaXRlci5maWx0ZXIoXG4gICAgICAgICAgICAoe3Bvcywgc2hhcGV9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBiYm94ID0gc2hhcGUuZ2V0QkJveCgpO1xuICAgICAgICAgICAgY29uc3QgcjogSVJlY3QgPSB7XG4gICAgICAgICAgICAgICAgeDogcG9zLnggKyBiYm94LngsXG4gICAgICAgICAgICAgICAgeTogcG9zLnkgKyBiYm94LnksXG4gICAgICAgICAgICAgICAgdzogYmJveC53LFxuICAgICAgICAgICAgICAgIGg6IGJib3guaCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGluVmlldyA9IFJlY3QuY2hlY2tJbnRlcnNlY3RzKHIsIHZpZXdwb3J0KTtcblxuICAgICAgICAgICAgcmV0dXJuIGluVmlldztcbiAgICAgICAgfSlcbiAgICAgICAgLnNvcnQoKHtzaGFwZTogYX0sIHtzaGFwZTogYn0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhLnpJbmRleCAtIGIuekluZGV4O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNvbW1vblN0b3JlLnJlbmRlcmVkID0gZHJhd2FibGVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRyYXdhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qge3Bvcywgc2hhcGUsIHJvdCwgbWF0ZXJpYWx9ID0gZHJhd2FibGVzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmRyYXdTaGFwZShwb3MsIHNoYXBlLCBtYXRlcmlhbCwgcm90IGFzIFJvdGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBkcmF3U2hhcGUocG9zOiBQb3NpdGlvbiwgc2hhcGU6IFNoYXBlLCBtYXRlcmlhbDogTWF0ZXJpYWwsIHJvdDogUm90YXRpb24pIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgeDogdywgeTogaFxuICAgICAgICB9ID0gc2hhcGUuZGltZW5zaW9ucztcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB4OiBieCwgeTogYnksXG4gICAgICAgICAgICB3OiBidywgaDogYmgsXG4gICAgICAgIH0gPSBzaGFwZS5nZXRCQm94KCk7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgeCwgeVxuICAgICAgICB9ID0gcG9zO1xuXG4gICAgICAgIC8vIFRPRE86IG9uZSBzeXN0ZW0gdGhhdCBjaGVja3MgYWxsIHJheWNhc3RzXG4gICAgICAgIC8vIFJlY3QuY2hlY2tQb2ludEluc2lkZShyLCBtb3VzZSk7XG5cbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoeCwgeSk7XG4gICAgICAgIHRoaXMuY3R4LnJvdGF0ZShyb3QudmFsdWUpO1xuXG4gICAgICAgIC8vIFRPRE86IG1hdGVyaWFsIG9wdGlvbnNcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gbWF0ZXJpYWwuY29sb3I7XG5cbiAgICAgICAgaWYgKHNoYXBlLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuUmVjdCkge1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoYngsIGJ5LCB3LCBoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZS5wcmltaXRpdmUgPT09IFNoYXBlUHJpbWl0aXZlLkNpcmNsZSkge1xuICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5hcmMoYngrdy8yLCBieCt3LzIsIHcvMiwgMCwgVFdPUEkpO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlLnByaW1pdGl2ZSA9PT0gU2hhcGVQcmltaXRpdmUuTWVzaFxuICAgICAgICAgICAgJiYgc2hhcGUubWVzaCkge1xuICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHtvZmZzZXRYLCBvZmZzZXRZfSA9IHNoYXBlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICBpIDwgc2hhcGUubWVzaC52ZXJ0aWNpZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICsraVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qge3g6ZHgsIHk6ZHl9ID0gc2hhcGUubWVzaC52ZXJ0aWNpZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKGR4K29mZnNldFgsIGR5K29mZnNldFkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvbW1vblN0b3JlLmRlYnVnU2hhcGVzKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnI2ZmZic7XG4gICAgICAgICAgICB0aGlzLmN0eC5mb250ID0gJzAuMXJlbSBBcmlhbCc7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChgWj0ke1xuICAgICAgICAgICAgICAgIHNoYXBlLnpJbmRleFxuICAgICAgICAgICAgfSx4PSR7TWF0aC5mbG9vcih4KX0seT0ke01hdGguZmxvb3IoeSl9YCwgMCwgLWJ5LTIpO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFRleHQoYFBpdm90PSR7U2hhcGVQaXZvdE5hbWVzW3NoYXBlLnBpdm90XX1gLCAwLCAtYnktMyk7XG5cbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJyNmMGYnO1xuICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IDA7XG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAwLjE7XG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2VSZWN0KFxuICAgICAgICAgICAgICAgIGJ4IC0gcGFkZGluZyxcbiAgICAgICAgICAgICAgICBieSAtIHBhZGRpbmcsXG4gICAgICAgICAgICAgICAgYncgKyBwYWRkaW5nKjIsXG4gICAgICAgICAgICAgICAgYmggKyBwYWRkaW5nKjJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgIGRyYXdQb2ludCh0aGlzLmN0eCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcbiAgICB9XG59XG4iLCJcbmltcG9ydCB7SVN5c3RlbUFjdGlvbnMsIFF1ZXJ5LCBSZWFkLCBTeXN0ZW0sIFdpdGgsIFdpdGhUYWd9IGZyb20gXCJzaW0tZWNzXCI7XG5pbXBvcnQge1VJSXRlbX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdWktaXRlbVwiO1xuaW1wb3J0IHsgR2FtZVN0b3JlIH0gZnJvbSBcIi4uL21vZGVscy9nYW1lLXN0b3JlXCI7XG5pbXBvcnQgeyBFVGFncyB9IGZyb20gXCIuLi9tb2RlbHMvdGFnc1wiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vZW5naW5lL2NvbXBvbmVudHMvcG9zaXRpb25cIjtcbmltcG9ydCB7IENvbW1vblN0b3JlIH0gZnJvbSBcIi4uL2VuZ2luZS9tb2RlbHMvY29tbW9uLXN0b3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJVSVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcmVhZG9ubHkgcXVlcnkgPSBuZXcgUXVlcnkoe1xuICAgICAgICBfdGFnOiBXaXRoVGFnKEVUYWdzLnVpKSxcbiAgICAgICAgcG9zOiBSZWFkKFBvc2l0aW9uKSxcbiAgICAgICAgdWk6IFJlYWQoVUlJdGVtKVxuICAgIH0pO1xuXG4gICAgY3R4ITogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIGdhbWVTdG9yZSE6IEdhbWVTdG9yZTtcbiAgICBjb21tb25TdG9yZSE6IENvbW1vblN0b3JlO1xuICAgIHRvU2NyZWVuQ29vcmRzITogKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiBbbnVtYmVyLCBudW1iZXJdO1xuXG4gICAgc2V0dXAoYWN0aW9uczogSVN5c3RlbUFjdGlvbnMpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuY3R4ID0gYWN0aW9ucy5nZXRSZXNvdXJjZShDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpO1xuICAgICAgICB0aGlzLmdhbWVTdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoR2FtZVN0b3JlKTtcbiAgICAgICAgdGhpcy5jb21tb25TdG9yZSA9IGFjdGlvbnMuZ2V0UmVzb3VyY2UoQ29tbW9uU3RvcmUpO1xuICAgIH1cblxuICAgIHJ1bnMgPSAwO1xuXG4gICAgcnVuKGFjdGlvbnM6IElTeXN0ZW1BY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9ICd0b3AnO1xuXG4gICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcblxuICAgICAgICB0aGlzLnF1ZXJ5LmV4ZWN1dGUoKHtwb3MsIHVpfSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdWkuYWN0aXZlXG4gICAgICAgICAgICAgICAgPyB1aS5hY3RpdmVDb2xvciA/PyAncmVkJ1xuICAgICAgICAgICAgICAgIDogdWkuY29sb3I7XG4gICAgICAgICAgICB0aGlzLmN0eC5mb250ID0gdWkuYWN0aXZlXG4gICAgICAgICAgICAgICAgPyBgJHt1aS5mb250U2l6ZSAqIDEuMn1weCBzZXJpZmBcbiAgICAgICAgICAgICAgICA6IGAke3VpLmZvbnRTaXplfXB4IHNlcmlmYDtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KHVpLmZpbmFsQ2FwdGlvbiwgcG9zLngsIHBvcy55KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuXG4gICAgICAgIHRoaXMuY3R4LmZvbnQgPSAnMzJweCBzZXJpZic7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjZmZmJztcblxuICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChcbiAgICAgICAgICAgIGAke1xuICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoMTAqdGhpcy5jb21tb25TdG9yZS50aW1lU2luY2VMZXZlbExvYWRlZCkvMTAuMFxuICAgICAgICAgICAgfSBzLmAsXG4gICAgICAgICAgICB0aGlzLmN0eC5jYW52YXMud2lkdGggLSAyMDAsIDIwXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jdHguZmlsbFRleHQoXG4gICAgICAgICAgICBgJHtcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHRoaXMuY29tbW9uU3RvcmUubWVkaWFuRnBzKzAuNSlcbiAgICAgICAgICAgIH0gRlBTYCxcbiAgICAgICAgICAgIHRoaXMuY3R4LmNhbnZhcy53aWR0aCAtIDIwMCwgNjBcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChcbiAgICAgICAgICAgIGAke3RoaXMuY29tbW9uU3RvcmUucmVuZGVyZWR9IC8gJHt0aGlzLmNvbW1vblN0b3JlLmRyYXdhYmxlc31gLFxuICAgICAgICAgICAgdGhpcy5jdHguY2FudmFzLndpZHRoIC0gMjAwLCAxMDBcbiAgICAgICAgKTtcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0ciA9dGhpcy5nYW1lU3RvcmUuYWN0aW9ucy5jaGFyYWN0ZXJNb3ZlbWVudC50b1N0cmluZygyKTtcbiAgICAgICAgICAgIHN0ciA9ICcwJy5yZXBlYXQoNCAtIHN0ci5sZW5ndGgpICsgc3RyO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFRleHQoXG4gICAgICAgICAgICAgICAgYCR7c3RyfWAsXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguY2FudmFzLndpZHRoIC0gMjAwLCAxNDBcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5mID0ge307XG4vLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uZSA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmYpLnJlZHVjZSgocHJvbWlzZXMsIGtleSkgPT4ge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZltrZXldKGNodW5rSWQsIHByb21pc2VzKTtcblx0XHRyZXR1cm4gcHJvbWlzZXM7XG5cdH0sIFtdKSk7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy51ID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgY2h1bmtJZCArIFwiLmpzXCI7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFsbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18ubWluaUNzc0YgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIHVuZGVmaW5lZDtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIGluUHJvZ3Jlc3MgPSB7fTtcbnZhciBkYXRhV2VicGFja1ByZWZpeCA9IFwiY2l0eWxpZ2h0czpcIjtcbi8vIGxvYWRTY3JpcHQgZnVuY3Rpb24gdG8gbG9hZCBhIHNjcmlwdCB2aWEgc2NyaXB0IHRhZ1xuX193ZWJwYWNrX3JlcXVpcmVfXy5sID0gKHVybCwgZG9uZSwga2V5LCBjaHVua0lkKSA9PiB7XG5cdGlmKGluUHJvZ3Jlc3NbdXJsXSkgeyBpblByb2dyZXNzW3VybF0ucHVzaChkb25lKTsgcmV0dXJuOyB9XG5cdHZhciBzY3JpcHQsIG5lZWRBdHRhY2g7XG5cdGlmKGtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHMgPSBzY3JpcHRzW2ldO1xuXHRcdFx0aWYocy5nZXRBdHRyaWJ1dGUoXCJzcmNcIikgPT0gdXJsIHx8IHMuZ2V0QXR0cmlidXRlKFwiZGF0YS13ZWJwYWNrXCIpID09IGRhdGFXZWJwYWNrUHJlZml4ICsga2V5KSB7IHNjcmlwdCA9IHM7IGJyZWFrOyB9XG5cdFx0fVxuXHR9XG5cdGlmKCFzY3JpcHQpIHtcblx0XHRuZWVkQXR0YWNoID0gdHJ1ZTtcblx0XHRzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuXHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04Jztcblx0XHRzY3JpcHQudGltZW91dCA9IDEyMDtcblx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuXHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIF9fd2VicGFja19yZXF1aXJlX18ubmMpO1xuXHRcdH1cblx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwiZGF0YS13ZWJwYWNrXCIsIGRhdGFXZWJwYWNrUHJlZml4ICsga2V5KTtcblx0XHRzY3JpcHQuc3JjID0gdXJsO1xuXHR9XG5cdGluUHJvZ3Jlc3NbdXJsXSA9IFtkb25lXTtcblx0dmFyIG9uU2NyaXB0Q29tcGxldGUgPSAocHJldiwgZXZlbnQpID0+IHtcblx0XHQvLyBhdm9pZCBtZW0gbGVha3MgaW4gSUUuXG5cdFx0c2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gbnVsbDtcblx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdFx0dmFyIGRvbmVGbnMgPSBpblByb2dyZXNzW3VybF07XG5cdFx0ZGVsZXRlIGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRzY3JpcHQucGFyZW50Tm9kZSAmJiBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuXHRcdGRvbmVGbnMgJiYgZG9uZUZucy5mb3JFYWNoKChmbikgPT4gKGZuKGV2ZW50KSkpO1xuXHRcdGlmKHByZXYpIHJldHVybiBwcmV2KGV2ZW50KTtcblx0fVxuXHQ7XG5cdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgdW5kZWZpbmVkLCB7IHR5cGU6ICd0aW1lb3V0JywgdGFyZ2V0OiBzY3JpcHQgfSksIDEyMDAwMCk7XG5cdHNjcmlwdC5vbmVycm9yID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmVycm9yKTtcblx0c2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCBzY3JpcHQub25sb2FkKTtcblx0bmVlZEF0dGFjaCAmJiBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG59OyIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0XCJtYWluXCI6IDBcbn07XG5cbl9fd2VicGFja19yZXF1aXJlX18uZi5qID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSA/IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA6IHVuZGVmaW5lZDtcblx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cblx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG5cdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYodHJ1ZSkgeyAvLyBhbGwgY2h1bmtzIGhhdmUgSlNcblx0XHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiAoaW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF0pKTtcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG5cdFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuXHRcdFx0XHRcdHZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCk7XG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGVycm9yIGJlZm9yZSBzdGFjayB1bndvdW5kIHRvIGdldCB1c2VmdWwgc3RhY2t0cmFjZSBsYXRlclxuXHRcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuXHRcdFx0XHRcdHZhciBsb2FkaW5nRW5kZWQgPSAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpKSB7XG5cdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm5hbWUgPSAnQ2h1bmtMb2FkRXJyb3InO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG5cdFx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhWzFdKGVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5sKHVybCwgbG9hZGluZ0VuZGVkLCBcImNodW5rLVwiICsgY2h1bmtJZCwgY2h1bmtJZCk7XG5cdFx0XHRcdH0gZWxzZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHRcdFx0fVxuXHRcdH1cbn07XG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdH1cblx0fVxuXHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZHNbaV1dID0gMDtcblx0fVxuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHJlc3VsdCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rY2l0eWxpZ2h0c1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtjaXR5bGlnaHRzXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCIiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGRlcGVuZHMgb24gb3RoZXIgbG9hZGVkIGNodW5rcyBhbmQgZXhlY3V0aW9uIG5lZWQgdG8gYmUgZGVsYXllZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbXCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19zaW0tZWNzX2Rpc3RfaW5kZXhfanMtbm9kZV9tb2R1bGVzX2JveDJkLXdhc21fZGlzdF9lc19lbnRyeV9qcy1ub2RlX21vZHUtMGQ5NDU3XCJdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2luZGV4LnRzXCIpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iLCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=