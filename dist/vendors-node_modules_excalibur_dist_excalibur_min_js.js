(self["webpackChunkexcalibur_webpack"] = self["webpackChunkexcalibur_webpack"] || []).push([["vendors-node_modules_excalibur_dist_excalibur_min_js"],{

/***/ "./node_modules/excalibur/dist/excalibur.min.js":
/*!******************************************************!*\
  !*** ./node_modules/excalibur/dist/excalibur.min.js ***!
  \******************************************************/
/***/ ((module) => {

/*!
 * excalibur - 0.24.5 - 2020-9-8
 * https://github.com/excaliburjs/Excalibur
 * Copyright (c) 2020 Excalibur.js <https://github.com/excaliburjs/Excalibur/graphs/contributors>
 * Licensed BSD-2-Clause
 * @preserve
 */
!function(t,e){ true?module.exports=e():0}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=139)}([function(t,e,n){var i=n(5),r=n(48).f,o=n(16),s=n(49),a=n(30),c=n(79),h=n(83);t.exports=function(t,e){var n,u,l,p,d,f=t.target,y=t.global,g=t.stat;if(n=y?i:g?i[f]||a(f,{}):(i[f]||{}).prototype)for(u in e){if(p=e[u],l=t.noTargetGet?(d=r(n,u))&&d.value:n[u],!h(y?u:f+(g?".":"#")+u,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;c(p,l)}(t.sham||l&&l.sham)&&o(p,"sham",!0),s(n,u,p,t)}}},function(t,e,n){var i=n(5),r=n(45),o=n(8),s=n(46),a=n(52),c=n(86),h=r("wks"),u=i.Symbol,l=c?u:u&&u.withoutSetter||s;t.exports=function(t){return o(h,t)||(a&&o(u,t)?h[t]=u[t]:h[t]=l("Symbol."+t)),h[t]}},function(t,e,n){var i=n(11),r=n(4),o=n(8),s=Object.defineProperty,a={},c=function(t){throw t};t.exports=function(t,e){if(o(a,t))return a[t];e||(e={});var n=[][t],h=!!o(e,"ACCESSORS")&&e.ACCESSORS,u=o(e,0)?e[0]:c,l=o(e,1)?e[1]:void 0;return a[t]=!!n&&!r((function(){if(h&&!i)return!0;var t={length:-1};h?s(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,u,l)}))}},function(t,e,n){var i=n(15),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(77))},function(t,e,n){var i=n(28);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(11),r=n(43),o=n(17),s=n(31),a=Object.defineProperty;e.f=i?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var i=n(4);t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var i=n(4);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var i=n(1),r=n(53),o=n(9),s=i("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,n){var i=n(26),r=n(28);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(40),r=n(26),o=n(6),s=n(3),a=n(23),c=[].push,h=function(t){var e=1==t,n=2==t,h=3==t,u=4==t,l=6==t,p=5==t||l;return function(d,f,y,g){for(var _,v,m=o(d),b=r(m),w=i(f,y,3),x=s(b.length),P=0,A=g||a,E=e?A(d,x):n?A(d,0):void 0;x>P;P++)if((p||P in b)&&(v=w(_=b[P],P,m),t))if(e)E[P]=v;else if(v)switch(t){case 3:return!0;case 5:return _;case 6:return P;case 2:c.call(E,_)}else if(u)return!1;return l?-1:h||u?u:E}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(11),r=n(9),o=n(25);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var i=n(35);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(15),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var i=n(31),r=n(9),o=n(25);t.exports=function(t,e,n){var s=i(e);s in t?r.f(t,s,o(0,n)):t[s]=n}},function(t,e,n){var i=n(7),r=n(18),o=n(1)("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var i=n(4),r=n(1),o=n(55),s=r("species");t.exports=function(t){return o>=51||!i((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(4),r=n(35),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var i=n(36),r=n(5),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i,r,o,s=n(76),a=n(5),c=n(7),h=n(16),u=n(8),l=n(32),p=n(34),d=a.WeakMap;if(s){var f=new d,y=f.get,g=f.has,_=f.set;i=function(t,e){return _.call(f,t,e),e},r=function(t){return y.call(f,t)||{}},o=function(t){return g.call(f,t)}}else{var v=l("state");p[v]=!0,i=function(t,e){return h(t,v,e),e},r=function(t){return u(t,v)?t[v]:{}},o=function(t){return u(t,v)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var i=n(5),r=n(16);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(45),r=n(46),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(5);t.exports=i},function(t,e,n){var i=n(13),r=n(3),o=n(19),s=function(t){return function(e,n,s){var a,c=i(e),h=r(c.length),u=o(s,h);if(t&&n!=n){for(;h>u;)if((a=c[u++])!=a)return!0}else for(;h>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var i=n(8),r=n(6),o=n(32),s=n(85),a=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=r(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var i=n(21);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(42),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},function(t,e,n){var i=n(5),r=n(30),o=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},function(t,e,n){var i=n(11),r=n(4),o=n(44);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(5),r=n(7),o=i.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var i=n(33),r=n(42);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},function(t,e,n){"use strict";var i=n(0),r=n(84),o=n(39),s=n(90),a=n(54),c=n(16),h=n(49),u=n(1),l=n(33),p=n(20),d=n(51),f=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,g=u("iterator"),_=function(){return this};t.exports=function(t,e,n,u,d,v,m){r(n,e,u);var b,w,x,P=function(t){if(t===d&&O)return O;if(!y&&t in S)return S[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},A=e+" Iterator",E=!1,S=t.prototype,C=S[g]||S["@@iterator"]||d&&S[d],O=!y&&C||P(d),T="Array"==e&&S.entries||C;if(T&&(b=o(T.call(new t)),f!==Object.prototype&&b.next&&(l||o(b)===f||(s?s(b,f):"function"!=typeof b[g]&&c(b,g,_)),a(b,A,!0,!0),l&&(p[A]=_))),"values"==d&&C&&"values"!==C.name&&(E=!0,O=function(){return C.call(this)}),l&&!m||S[g]===O||c(S,g,O),p[e]=O,d)if(w={values:P("values"),keys:v?O:P("keys"),entries:P("entries")},m)for(x in w)!y&&!E&&x in S||h(S,x,w[x]);else i({target:e,proto:!0,forced:y||E},w);return w}},function(t,e,n){var i=n(11),r=n(78),o=n(25),s=n(13),a=n(31),c=n(8),h=n(43),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=s(t),e=a(e,!0),h)try{return u(t,e)}catch(t){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var i=n(5),r=n(16),o=n(8),s=n(30),a=n(41),c=n(29),h=c.get,u=c.enforce,l=String(String).split("String");(t.exports=function(t,e,n,a){var c=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||r(n,"name",e),u(n).source=l.join("string"==typeof e?e:"")),t!==i?(c?!p&&t[e]&&(h=!0):delete t[e],h?t[e]=n:r(t,e,n)):h?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&h(this).source||a(this)}))},function(t,e,n){var i=n(8),r=n(13),o=n(37).indexOf,s=n(34);t.exports=function(t,e){var n,a=r(t),c=0,h=[];for(n in a)!i(s,n)&&i(a,n)&&h.push(n);for(;e.length>c;)i(a,n=e[c++])&&(~o(h,n)||h.push(n));return h}},function(t,e,n){"use strict";var i,r,o,s=n(39),a=n(16),c=n(8),h=n(1),u=n(33),l=h("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(r=s(s(o)))!==Object.prototype&&(i=r):p=!0),null==i&&(i={}),u||c(i,l)||a(i,l,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var i=n(4);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(t,e,n){var i,r=n(17),o=n(87),s=n(38),a=n(34),c=n(89),h=n(44),u=n(32),l=u("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},f=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=i?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):((e=h("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=r(t),n=new p,p.prototype=null,n[l]=t):n=f(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(9).f,r=n(8),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i,r,o=n(5),s=n(103),a=o.process,c=a&&a.versions,h=c&&c.v8;h?r=(i=h.split("."))[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=i[1]),t.exports=r&&+r},function(t,e,n){"use strict";var i=n(18),r=n(3),o=n(40),s=function(t,e,n,a,c,h,u,l){for(var p,d=c,f=0,y=!!u&&o(u,l,3);f<a;){if(f in n){if(p=y?y(n[f],f,e):n[f],h>0&&i(p))d=s(t,e,p,r(p.length),d,h-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[d]=p}d++}f++}return d};t.exports=s},function(t,e,n){var i=n(21),r=n(6),o=n(26),s=n(3),a=function(t){return function(e,n,a,c){i(n);var h=r(e),u=o(h),l=s(h.length),p=t?l-1:0,d=t?-1:1;if(a<2)for(;;){if(p in u){c=u[p],p+=d;break}if(p+=d,t?p<0:l<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:l>p;p+=d)p in u&&(c=n(c,u[p],p,h));return c}};t.exports={left:a(!1),right:a(!0)}},function(t,e,n){"use strict";var i=n(59),r=n.n(i)()(!0);r.push([t.i,"/* Buttons styles start */\n\nbutton#excalibur-play {\n  display: inline-block;\n  position: relative;\n  z-index: 999;\n  border-radius: 6px;\n  border: none;\n  /*border: 3px solid;\n    border-color: white;\n    box-shadow: 0 0 10px #ccc;*/\n  padding: 1rem 1.5rem 1rem 4rem;\n  margin: 0;\n  text-decoration: none;\n  background: #00b233;\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 2rem;\n  line-height: 1;\n  cursor: pointer;\n  text-align: center;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\n  animation: excalibur-button-fadein 200ms;\n}\n\n/*\nbutton#excalibur-play {\n  display: none;\n}*/\n\nbutton#excalibur-play:after {\n  position: absolute;\n  content: '';\n  border: 8px solid;\n  border-color: transparent transparent transparent white;\n  left: 35px;\n  top: 24px;\n  width: 0;\n  height: 0;\n}\n\nbutton#excalibur-play:before {\n  position: absolute;\n  content: '';\n  border: 3px solid;\n  left: 19px;\n  top: 14px;\n  border-radius: 20px;\n  width: 30px;\n  height: 30px;\n}\n\nbutton#excalibur-play:hover,\nbutton#excalibur-play:focus {\n  background: #00982c;\n}\n\nbutton#excalibur-play:focus {\n  outline: 1px solid #fff;\n  outline-offset: -4px;\n}\n\nbutton#excalibur-play:active {\n  transform: scale(0.99);\n}\n\n@keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Firefox < 16 */\n@-moz-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Internet Explorer */\n@-ms-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Opera < 12.1 */\n@-o-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n","",{version:3,sources:["webpack://Loader.css"],names:[],mappings:"AAAA,yBAAyB;;AAEzB;EACE,qBAAqB;EACrB,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,YAAY;EACZ;;+BAE6B;EAC7B,8BAA8B;EAC9B,SAAS;EACT,qBAAqB;EACrB,mBAAmB;EACnB,cAAc;EACd,uBAAuB;EACvB,eAAe;EACf,cAAc;EACd,eAAe;EACf,kBAAkB;EAClB,8DAA8D;EAC9D,wBAAwB;EACxB,qBAAqB;;EAErB,gDAAgD,EAAE,oCAAoC;EACtF,6CAA6C,EAAE,iBAAiB;EAChE,4CAA4C,EAAE,sBAAsB;EACpE,2CAA2C,EAAE,iBAAiB;EAC9D,wCAAwC;AAC1C;;AAEA;;;EAGE;;AAEF;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,uDAAuD;EACvD,UAAU;EACV,SAAS;EACT,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,UAAU;EACV,SAAS;EACT,mBAAmB;EACnB,WAAW;EACX,YAAY;AACd;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,oBAAoB;AACtB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,oCAAoC;AACpC;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,sBAAsB;AACtB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF",sourcesContent:["/* Buttons styles start */\n\nbutton#excalibur-play {\n  display: inline-block;\n  position: relative;\n  z-index: 999;\n  border-radius: 6px;\n  border: none;\n  /*border: 3px solid;\n    border-color: white;\n    box-shadow: 0 0 10px #ccc;*/\n  padding: 1rem 1.5rem 1rem 4rem;\n  margin: 0;\n  text-decoration: none;\n  background: #00b233;\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 2rem;\n  line-height: 1;\n  cursor: pointer;\n  text-align: center;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\n  animation: excalibur-button-fadein 200ms;\n}\n\n/*\nbutton#excalibur-play {\n  display: none;\n}*/\n\nbutton#excalibur-play:after {\n  position: absolute;\n  content: '';\n  border: 8px solid;\n  border-color: transparent transparent transparent white;\n  left: 35px;\n  top: 24px;\n  width: 0;\n  height: 0;\n}\n\nbutton#excalibur-play:before {\n  position: absolute;\n  content: '';\n  border: 3px solid;\n  left: 19px;\n  top: 14px;\n  border-radius: 20px;\n  width: 30px;\n  height: 30px;\n}\n\nbutton#excalibur-play:hover,\nbutton#excalibur-play:focus {\n  background: #00982c;\n}\n\nbutton#excalibur-play:focus {\n  outline: 1px solid #fff;\n  outline-offset: -4px;\n}\n\nbutton#excalibur-play:active {\n  transform: scale(0.99);\n}\n\n@keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Firefox < 16 */\n@-moz-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Internet Explorer */\n@-ms-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Opera < 12.1 */\n@-o-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n"],sourceRoot:""}]),e.a=r},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(s=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),o=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([r]).join("\n")}var s,a,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},,,,,,,,,,,,,,function(t,e,n){n(74),n(92),n(100),n(101),n(102),n(104),n(106),n(107),n(109),n(110),n(111),n(112),n(113),n(114),n(116),n(117),n(118),n(119),n(120),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(131),n(132),n(133);var i=n(36);t.exports=i.Array},function(t,e,n){"use strict";var i=n(75).charAt,r=n(29),o=n(47),s=r.set,a=r.getterFor("String Iterator");o(String,"String",(function(t){s(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=a(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var i=n(15),r=n(28),o=function(t){return function(e,n){var o,s,a=String(r(e)),c=i(n),h=a.length;return c<0||c>=h?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===h||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){var i=n(5),r=n(41),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},function(t,e,n){var i=n(8),r=n(80),o=n(48),s=n(9);t.exports=function(t,e){for(var n=r(e),a=s.f,c=o.f,h=0;h<n.length;h++){var u=n[h];i(t,u)||a(t,u,c(e,u))}}},function(t,e,n){var i=n(27),r=n(81),o=n(82),s=n(17);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(50),r=n(38).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(4),r=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==h||n!=c&&("function"==typeof e?i(e):!!e)},s=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",h=o.POLYFILL="P";t.exports=o},function(t,e,n){"use strict";var i=n(51).IteratorPrototype,r=n(53),o=n(25),s=n(54),a=n(20),c=function(){return this};t.exports=function(t,e,n){var h=e+" Iterator";return t.prototype=r(i,{next:o(1,n)}),s(t,h,!1,!0),a[h]=c,t}},function(t,e,n){var i=n(4);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var i=n(52);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var i=n(11),r=n(9),o=n(17),s=n(88);t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=s(e),a=i.length,c=0;a>c;)r.f(t,n=i[c++],e[n]);return t}},function(t,e,n){var i=n(50),r=n(38);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(27);t.exports=i("document","documentElement")},function(t,e,n){var i=n(17),r=n(91);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return i(n),r(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var i=n(0),r=n(93);i({target:"Array",stat:!0,forced:!n(99)((function(t){Array.from(t)}))},{from:r})},function(t,e,n){"use strict";var i=n(40),r=n(6),o=n(94),s=n(95),a=n(3),c=n(22),h=n(96);t.exports=function(t){var e,n,u,l,p,d,f=r(t),y="function"==typeof this?this:Array,g=arguments.length,_=g>1?arguments[1]:void 0,v=void 0!==_,m=h(f),b=0;if(v&&(_=i(_,g>2?arguments[2]:void 0,2)),null==m||y==Array&&s(m))for(n=new y(e=a(f.length));e>b;b++)d=v?_(f[b],b):f[b],c(n,b,d);else for(p=(l=m.call(f)).next,n=new y;!(u=p.call(l)).done;b++)d=v?o(l,_,[u.value,b],!0):u.value,c(n,b,d);return n.length=b,n}},function(t,e,n){var i=n(17);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(1),r=n(20),o=i("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}},function(t,e,n){var i=n(97),r=n(20),o=n(1)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(98),r=n(35),o=n(1)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,e,n){var i={};i[n(1)("toStringTag")]="z",t.exports="[object z]"===String(i)},function(t,e,n){var i=n(1)("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){n(0)({target:"Array",stat:!0},{isArray:n(18)})},function(t,e,n){"use strict";var i=n(0),r=n(4),o=n(22);i({target:"Array",stat:!0,forced:r((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(0),r=n(4),o=n(18),s=n(7),a=n(6),c=n(3),h=n(22),u=n(23),l=n(24),p=n(1),d=n(55),f=p("isConcatSpreadable"),y=d>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=l("concat"),_=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)};i({target:"Array",proto:!0,forced:!y||!g},{concat:function(t){var e,n,i,r,o,s=a(this),l=u(s,0),p=0;for(e=-1,i=arguments.length;e<i;e++)if(o=-1===e?s:arguments[e],_(o)){if(p+(r=c(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,p++)n in o&&h(l,p,o[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");h(l,p++,o)}return l.length=p,l}})},function(t,e,n){var i=n(27);t.exports=i("navigator","userAgent")||""},function(t,e,n){var i=n(0),r=n(105),o=n(12);i({target:"Array",proto:!0},{copyWithin:r}),o("copyWithin")},function(t,e,n){"use strict";var i=n(6),r=n(19),o=n(3),s=Math.min;t.exports=[].copyWithin||function(t,e){var n=i(this),a=o(n.length),c=r(t,a),h=r(e,a),u=arguments.length>2?arguments[2]:void 0,l=s((void 0===u?a:r(u,a))-h,a-c),p=1;for(h<c&&c<h+l&&(p=-1,h+=l-1,c+=l-1);l-- >0;)h in n?n[c]=n[h]:delete n[c],c+=p,h+=p;return n}},function(t,e,n){"use strict";var i=n(0),r=n(14).every,o=n(10),s=n(2),a=o("every"),c=s("every");i({target:"Array",proto:!0,forced:!a||!c},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(0),r=n(108),o=n(12);i({target:"Array",proto:!0},{fill:r}),o("fill")},function(t,e,n){"use strict";var i=n(6),r=n(19),o=n(3);t.exports=function(t){for(var e=i(this),n=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,h=void 0===c?n:r(c,n);h>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var i=n(0),r=n(14).filter,o=n(24),s=n(2),a=o("filter"),c=s("filter");i({target:"Array",proto:!0,forced:!a||!c},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(0),r=n(14).find,o=n(12),s=n(2),a=!0,c=s("find");"find"in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a||!c},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,n){"use strict";var i=n(0),r=n(14).findIndex,o=n(12),s=n(2),a=!0,c=s("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),i({target:"Array",proto:!0,forced:a||!c},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,n){"use strict";var i=n(0),r=n(56),o=n(6),s=n(3),a=n(15),c=n(23);i({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=s(e.length),i=c(e,0);return i.length=r(i,e,e,n,0,void 0===t?1:a(t)),i}})},function(t,e,n){"use strict";var i=n(0),r=n(56),o=n(6),s=n(3),a=n(21),c=n(23);i({target:"Array",proto:!0},{flatMap:function(t){var e,n=o(this),i=s(n.length);return a(t),(e=c(n,0)).length=r(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){"use strict";var i=n(0),r=n(115);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(t,e,n){"use strict";var i=n(14).forEach,r=n(10),o=n(2),s=r("forEach"),a=o("forEach");t.exports=s&&a?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var i=n(0),r=n(37).includes,o=n(12);i({target:"Array",proto:!0,forced:!n(2)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){"use strict";var i=n(0),r=n(37).indexOf,o=n(10),s=n(2),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,h=o("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!h||!u},{indexOf:function(t){return c?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(13),r=n(12),o=n(20),s=n(29),a=n(47),c=s.set,h=s.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:i(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var i=n(0),r=n(26),o=n(13),s=n(10),a=[].join,c=r!=Object,h=s("join",",");i({target:"Array",proto:!0,forced:c||!h},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},function(t,e,n){var i=n(0),r=n(121);i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(t,e,n){"use strict";var i=n(13),r=n(15),o=n(3),s=n(10),a=n(2),c=Math.min,h=[].lastIndexOf,u=!!h&&1/[1].lastIndexOf(1,-0)<0,l=s("lastIndexOf"),p=a("indexOf",{ACCESSORS:!0,1:0}),d=u||!l||!p;t.exports=d?function(t){if(u)return h.apply(this,arguments)||0;var e=i(this),n=o(e.length),s=n-1;for(arguments.length>1&&(s=c(s,r(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:h},function(t,e,n){"use strict";var i=n(0),r=n(14).map,o=n(24),s=n(2),a=o("map"),c=s("map");i({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(0),r=n(57).left,o=n(10),s=n(2),a=o("reduce"),c=s("reduce",{1:0});i({target:"Array",proto:!0,forced:!a||!c},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(0),r=n(57).right,o=n(10),s=n(2),a=o("reduceRight"),c=s("reduce",{1:0});i({target:"Array",proto:!0,forced:!a||!c},{reduceRight:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(0),r=n(18),o=[].reverse,s=[1,2];i({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),o.call(this)}})},function(t,e,n){"use strict";var i=n(0),r=n(7),o=n(18),s=n(19),a=n(3),c=n(13),h=n(22),u=n(1),l=n(24),p=n(2),d=l("slice"),f=p("slice",{ACCESSORS:!0,0:0,1:2}),y=u("species"),g=[].slice,_=Math.max;i({target:"Array",proto:!0,forced:!d||!f},{slice:function(t,e){var n,i,u,l=c(this),p=a(l.length),d=s(t,p),f=s(void 0===e?p:e,p);if(o(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[y])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(l,d,f);for(i=new(void 0===n?Array:n)(_(f-d,0)),u=0;d<f;d++,u++)d in l&&h(i,u,l[d]);return i.length=u,i}})},function(t,e,n){"use strict";var i=n(0),r=n(14).some,o=n(10),s=n(2),a=o("some"),c=s("some");i({target:"Array",proto:!0,forced:!a||!c},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(0),r=n(21),o=n(6),s=n(4),a=n(10),c=[],h=c.sort,u=s((function(){c.sort(void 0)})),l=s((function(){c.sort(null)})),p=a("sort");i({target:"Array",proto:!0,forced:u||!l||!p},{sort:function(t){return void 0===t?h.call(o(this)):h.call(o(this),r(t))}})},function(t,e,n){n(130)("Array")},function(t,e,n){"use strict";var i=n(27),r=n(9),o=n(1),s=n(11),a=o("species");t.exports=function(t){var e=i(t),n=r.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var i=n(0),r=n(19),o=n(15),s=n(3),a=n(6),c=n(23),h=n(22),u=n(24),l=n(2),p=u("splice"),d=l("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,y=Math.min;i({target:"Array",proto:!0,forced:!p||!d},{splice:function(t,e){var n,i,u,l,p,d,g=a(this),_=s(g.length),v=r(t,_),m=arguments.length;if(0===m?n=i=0:1===m?(n=0,i=_-v):(n=m-2,i=y(f(o(e),0),_-v)),_+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=c(g,i),l=0;l<i;l++)(p=v+l)in g&&h(u,l,g[p]);if(u.length=i,n<i){for(l=v;l<_-i;l++)d=l+n,(p=l+i)in g?g[d]=g[p]:delete g[d];for(l=_;l>_-i+n;l--)delete g[l-1]}else if(n>i)for(l=_-i;l>v;l--)d=l+n-1,(p=l+i-1)in g?g[d]=g[p]:delete g[d];for(l=0;l<n;l++)g[l+v]=arguments[l+2];return g.length=_-i+n,u}})},function(t,e,n){n(12)("flat")},function(t,e,n){n(12)("flatMap")},function(t,e,n){n(135),n(137),n(138);var i=n(36);t.exports=i.Function},function(t,e,n){n(0)({target:"Function",proto:!0},{bind:n(136)})},function(t,e,n){"use strict";var i=n(21),r=n(7),o=[].slice,s={},a=function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("C,a","return new C("+i.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=o.call(arguments,1),s=function(){var i=n.concat(o.call(arguments));return this instanceof s?a(e,i.length,i):e.apply(t,i)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){var i=n(11),r=n(9).f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/;!i||"name"in o||r(o,"name",{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(7),r=n(9),o=n(39),s=n(1)("hasInstance"),a=Function.prototype;s in a||r.f(a,s,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){"use strict";n.r(e),n.d(e,"EX_VERSION",(function(){return $r})),n.d(e,"ScrollPreventionMode",(function(){return or})),n.d(e,"Engine",(function(){return lr})),n.d(e,"DisplayMode",(function(){return Vt})),n.d(e,"Resolution",(function(){return Jt})),n.d(e,"Screen",(function(){return $t})),n.d(e,"Actor",(function(){return bn})),n.d(e,"CollisionType",(function(){return ct})),n.d(e,"Vector",(function(){return V})),n.d(e,"Ray",(function(){return G})),n.d(e,"Line",(function(){return X})),n.d(e,"Projection",(function(){return Q})),n.d(e,"GlobalCoordinates",(function(){return Z})),n.d(e,"vec",(function(){return K})),n.d(e,"StrategyContainer",(function(){return Vn})),n.d(e,"Axis",(function(){return Mn})),n.d(e,"LockCameraToActorStrategy",(function(){return Kn})),n.d(e,"LockCameraToActorAxisStrategy",(function(){return Yn})),n.d(e,"ElasticToActorStrategy",(function(){return Jn})),n.d(e,"RadiusAroundActorStrategy",(function(){return $n})),n.d(e,"LimitCameraBoundsStrategy",(function(){return ti})),n.d(e,"Camera",(function(){return ei})),n.d(e,"Class",(function(){return ee})),n.d(e,"Configurable",(function(){return fe})),n.d(e,"Debug",(function(){return Si})),n.d(e,"FrameStats",(function(){return Ci})),n.d(e,"PhysicsStats",(function(){return Oi})),n.d(e,"EventDispatcher",(function(){return te})),n.d(e,"MediaEvent",(function(){return fr})),n.d(e,"NativeSoundEvent",(function(){return yr})),n.d(e,"NativeSoundProcessedEvent",(function(){return gr})),n.d(e,"EventTypes",(function(){return ot})),n.d(e,"GameEvent",(function(){return ht})),n.d(e,"KillEvent",(function(){return ut})),n.d(e,"PreKillEvent",(function(){return lt})),n.d(e,"PostKillEvent",(function(){return pt})),n.d(e,"GameStartEvent",(function(){return dt})),n.d(e,"GameStopEvent",(function(){return ft})),n.d(e,"PreDrawEvent",(function(){return yt})),n.d(e,"PostDrawEvent",(function(){return gt})),n.d(e,"PreDebugDrawEvent",(function(){return _t})),n.d(e,"PostDebugDrawEvent",(function(){return vt})),n.d(e,"PreUpdateEvent",(function(){return mt})),n.d(e,"PostUpdateEvent",(function(){return bt})),n.d(e,"PreFrameEvent",(function(){return wt})),n.d(e,"PostFrameEvent",(function(){return xt})),n.d(e,"GamepadConnectEvent",(function(){return Pt})),n.d(e,"GamepadDisconnectEvent",(function(){return At})),n.d(e,"GamepadButtonEvent",(function(){return Et})),n.d(e,"GamepadAxisEvent",(function(){return St})),n.d(e,"SubscribeEvent",(function(){return Ct})),n.d(e,"UnsubscribeEvent",(function(){return Ot})),n.d(e,"VisibleEvent",(function(){return Tt})),n.d(e,"HiddenEvent",(function(){return Bt})),n.d(e,"PreCollisionEvent",(function(){return Mt})),n.d(e,"PostCollisionEvent",(function(){return Dt})),n.d(e,"CollisionStartEvent",(function(){return kt})),n.d(e,"CollisionEndEvent",(function(){return Rt})),n.d(e,"InitializeEvent",(function(){return jt})),n.d(e,"ActivateEvent",(function(){return Ft})),n.d(e,"DeactivateEvent",(function(){return It})),n.d(e,"ExitViewPortEvent",(function(){return Lt})),n.d(e,"EnterViewPortEvent",(function(){return zt})),n.d(e,"EnterTriggerEvent",(function(){return Ht})),n.d(e,"ExitTriggerEvent",(function(){return Ut})),n.d(e,"Label",(function(){return ii})),n.d(e,"FontStyle",(function(){return Zn})),n.d(e,"FontUnit",(function(){return Gn})),n.d(e,"TextAlign",(function(){return Xn})),n.d(e,"BaseAlign",(function(){return Qn})),n.d(e,"Loader",(function(){return jn})),n.d(e,"Particle",(function(){return vr})),n.d(e,"ParticleEmitter",(function(){return mr})),n.d(e,"EmitterType",(function(){return ur})),n.d(e,"CollisionResolutionStrategy",(function(){return Y})),n.d(e,"BroadphaseStrategy",(function(){return J})),n.d(e,"Integrator",(function(){return $})),n.d(e,"Physics",(function(){return st})),n.d(e,"PromiseState",(function(){return u})),n.d(e,"Promise",(function(){return d})),n.d(e,"Scene",(function(){return xi})),n.d(e,"TileMap",(function(){return Cn})),n.d(e,"Cell",(function(){return Tn})),n.d(e,"TileSprite",(function(){return On})),n.d(e,"Timer",(function(){return En})),n.d(e,"Trigger",(function(){return si})),n.d(e,"ScreenElement",(function(){return Pn})),n.d(e,"UIActor",(function(){return An})),n.d(e,"ActionContext",(function(){return qe})),n.d(e,"RotationType",(function(){return ye})),n.d(e,"Actions",(function(){return o})),n.d(e,"Internal",(function(){return br})),n.d(e,"Body",(function(){return Ge})),n.d(e,"isCollider",(function(){return on})),n.d(e,"Collider",(function(){return sn})),n.d(e,"BoundingBox",(function(){return Kt})),n.d(e,"Circle",(function(){return Xt})),n.d(e,"CollisionContact",(function(){return Wt})),n.d(e,"CollisionJumpTable",(function(){return Nt})),n.d(e,"ClosestLine",(function(){return qt})),n.d(e,"ClosestLineJumpTable",(function(){return Gt})),n.d(e,"CollisionGroup",(function(){return nn})),n.d(e,"CollisionGroupManager",(function(){return wr})),n.d(e,"TreeNode",(function(){return Ln})),n.d(e,"DynamicTree",(function(){return zn})),n.d(e,"DynamicTreeCollisionBroadphase",(function(){return Hn})),n.d(e,"Edge",(function(){return Qt})),n.d(e,"Pair",(function(){return rn})),n.d(e,"ConvexPolygon",(function(){return Zt})),n.d(e,"Side",(function(){return p})),n.d(e,"Shape",(function(){return Ve})),n.d(e,"Animation",(function(){return Pe})),n.d(e,"Color",(function(){return et})),n.d(e,"Polygon",(function(){return Pr})),n.d(e,"Sprite",(function(){return ve})),n.d(e,"SpriteSheet",(function(){return Er})),n.d(e,"SpriteFont",(function(){return Sr})),n.d(e,"Effects",(function(){return r})),n.d(e,"ExResponse",(function(){return Cr})),n.d(e,"has_initialize",(function(){return Or})),n.d(e,"hasOnInitialize",(function(){return Tr})),n.d(e,"has_preupdate",(function(){return Br})),n.d(e,"hasOnPreUpdate",(function(){return Mr})),n.d(e,"has_postupdate",(function(){return Dr})),n.d(e,"hasOnPostUpdate",(function(){return kr})),n.d(e,"hasPreDraw",(function(){return Rr})),n.d(e,"hasPostDraw",(function(){return jr})),n.d(e,"PerlinGenerator",(function(){return Lr})),n.d(e,"PerlinDrawer2D",(function(){return zr})),n.d(e,"Random",(function(){return f})),n.d(e,"ColorBlindness",(function(){return yi})),n.d(e,"ColorBlindCorrector",(function(){return Ai})),n.d(e,"Resource",(function(){return ie})),n.d(e,"Sound",(function(){return Gr})),n.d(e,"AudioContextFactory",(function(){return Bn})),n.d(e,"AudioInstanceFactory",(function(){return Ur})),n.d(e,"AudioInstance",(function(){return Wr})),n.d(e,"WebAudioInstance",(function(){return Nr})),n.d(e,"Texture",(function(){return be})),n.d(e,"Gif",(function(){return Qr})),n.d(e,"Stream",(function(){return Yr})),n.d(e,"ParseGif",(function(){return Jr})),n.d(e,"Component",(function(){return cn})),n.d(e,"TagComponent",(function(){return hn})),n.d(e,"AddedComponent",(function(){return pn})),n.d(e,"isAddedComponent",(function(){return dn})),n.d(e,"RemovedComponent",(function(){return fn})),n.d(e,"isRemovedComponent",(function(){return yn})),n.d(e,"Entity",(function(){return gn})),n.d(e,"EntityManager",(function(){return mi})),n.d(e,"Query",(function(){return _i})),n.d(e,"QueryManager",(function(){return vi})),n.d(e,"SystemType",(function(){return ci})),n.d(e,"System",(function(){return ui})),n.d(e,"AddedEntity",(function(){return li})),n.d(e,"isAddedSystemEntity",(function(){return pi})),n.d(e,"RemovedEntity",(function(){return di})),n.d(e,"isRemoveSystemEntity",(function(){return fi})),n.d(e,"SystemManager",(function(){return bi})),n.d(e,"Events",(function(){return i})),n.d(e,"Input",(function(){return a})),n.d(e,"Traits",(function(){return c})),n.d(e,"Util",(function(){return h})),n.d(e,"BrowserComponent",(function(){return sr})),n.d(e,"BrowserEvents",(function(){return ar})),n.d(e,"maxMessages",(function(){return z})),n.d(e,"resetObsoleteCounter",(function(){return U})),n.d(e,"obsolete",(function(){return N})),n.d(e,"Detector",(function(){return In})),n.d(e,"CullingBox",(function(){return Qe})),n.d(e,"EasingFunctions",(function(){return Ne})),n.d(e,"LogLevel",(function(){return M})),n.d(e,"Logger",(function(){return R})),n.d(e,"ConsoleAppender",(function(){return j})),n.d(e,"ScreenAppender",(function(){return F})),n.d(e,"SortedList",(function(){return Un})),n.d(e,"BinaryTreeNode",(function(){return Wn})),n.d(e,"MockedElement",(function(){return Nn}));var i={};n.r(i),n.d(i,"EventTypes",(function(){return ot})),n.d(i,"GameEvent",(function(){return ht})),n.d(i,"KillEvent",(function(){return ut})),n.d(i,"PreKillEvent",(function(){return lt})),n.d(i,"PostKillEvent",(function(){return pt})),n.d(i,"GameStartEvent",(function(){return dt})),n.d(i,"GameStopEvent",(function(){return ft})),n.d(i,"PreDrawEvent",(function(){return yt})),n.d(i,"PostDrawEvent",(function(){return gt})),n.d(i,"PreDebugDrawEvent",(function(){return _t})),n.d(i,"PostDebugDrawEvent",(function(){return vt})),n.d(i,"PreUpdateEvent",(function(){return mt})),n.d(i,"PostUpdateEvent",(function(){return bt})),n.d(i,"PreFrameEvent",(function(){return wt})),n.d(i,"PostFrameEvent",(function(){return xt})),n.d(i,"GamepadConnectEvent",(function(){return Pt})),n.d(i,"GamepadDisconnectEvent",(function(){return At})),n.d(i,"GamepadButtonEvent",(function(){return Et})),n.d(i,"GamepadAxisEvent",(function(){return St})),n.d(i,"SubscribeEvent",(function(){return Ct})),n.d(i,"UnsubscribeEvent",(function(){return Ot})),n.d(i,"VisibleEvent",(function(){return Tt})),n.d(i,"HiddenEvent",(function(){return Bt})),n.d(i,"PreCollisionEvent",(function(){return Mt})),n.d(i,"PostCollisionEvent",(function(){return Dt})),n.d(i,"CollisionStartEvent",(function(){return kt})),n.d(i,"CollisionEndEvent",(function(){return Rt})),n.d(i,"InitializeEvent",(function(){return jt})),n.d(i,"ActivateEvent",(function(){return Ft})),n.d(i,"DeactivateEvent",(function(){return It})),n.d(i,"ExitViewPortEvent",(function(){return Lt})),n.d(i,"EnterViewPortEvent",(function(){return zt})),n.d(i,"EnterTriggerEvent",(function(){return Ht})),n.d(i,"ExitTriggerEvent",(function(){return Ut}));var r={};n.r(r),n.d(r,"Grayscale",(function(){return re})),n.d(r,"Invert",(function(){return oe})),n.d(r,"Opacity",(function(){return se})),n.d(r,"Colorize",(function(){return ae})),n.d(r,"Lighten",(function(){return ce})),n.d(r,"Darken",(function(){return he})),n.d(r,"Saturate",(function(){return ue})),n.d(r,"Desaturate",(function(){return le})),n.d(r,"Fill",(function(){return pe}));var o={};n.r(o),n.d(o,"EaseTo",(function(){return Ee})),n.d(o,"MoveTo",(function(){return Se})),n.d(o,"MoveBy",(function(){return Ce})),n.d(o,"Follow",(function(){return Oe})),n.d(o,"Meet",(function(){return Te})),n.d(o,"RotateTo",(function(){return Be})),n.d(o,"RotateBy",(function(){return Me})),n.d(o,"ScaleTo",(function(){return De})),n.d(o,"ScaleBy",(function(){return ke})),n.d(o,"Delay",(function(){return Re})),n.d(o,"Blink",(function(){return je})),n.d(o,"Fade",(function(){return Fe})),n.d(o,"Die",(function(){return Ie})),n.d(o,"CallMethod",(function(){return Le})),n.d(o,"Repeat",(function(){return ze})),n.d(o,"RepeatForever",(function(){return He})),n.d(o,"ActionQueue",(function(){return Ue}));var s={};n.r(s),n.d(s,"line",(function(){return Ye})),n.d(s,"point",(function(){return Je})),n.d(s,"vector",(function(){return $e})),n.d(s,"roundRect",(function(){return tn})),n.d(s,"circle",(function(){return en}));var a={};n.r(a),n.d(a,"Gamepads",(function(){return ir})),n.d(a,"Gamepad",(function(){return rr})),n.d(a,"Buttons",(function(){return Ji})),n.d(a,"Axes",(function(){return $i})),n.d(a,"PointerType",(function(){return Bi})),n.d(a,"PointerScope",(function(){return Mi})),n.d(a,"Pointer",(function(){return zi})),n.d(a,"Pointers",(function(){return er})),n.d(a,"NativePointerButton",(function(){return Fi})),n.d(a,"PointerButton",(function(){return Ii})),n.d(a,"WheelDeltaMode",(function(){return Li})),n.d(a,"PointerEvent",(function(){return Ui})),n.d(a,"PointerEventFactory",(function(){return Wi})),n.d(a,"PointerDragEvent",(function(){return Ni})),n.d(a,"PointerUpEvent",(function(){return qi})),n.d(a,"PointerDownEvent",(function(){return Vi})),n.d(a,"PointerMoveEvent",(function(){return Gi})),n.d(a,"PointerEnterEvent",(function(){return Xi})),n.d(a,"PointerLeaveEvent",(function(){return Qi})),n.d(a,"PointerCancelEvent",(function(){return Zi})),n.d(a,"WheelEvent",(function(){return Ki})),n.d(a,"createPointerEventByName",(function(){return Yi})),n.d(a,"Keys",(function(){return Pi})),n.d(a,"KeyEvent",(function(){return Di})),n.d(a,"Keyboard",(function(){return ki}));var c={};n.r(c),n.d(c,"CapturePointer",(function(){return Ke})),n.d(c,"OffscreenCulling",(function(){return Ze})),n.d(c,"TileMapCollisionDetection",(function(){return Xe}));var h={};n.r(h),n.d(h,"TwoPI",(function(){return y})),n.d(h,"extend",(function(){return g})),n.d(h,"base64Encode",(function(){return _})),n.d(h,"nullish",(function(){return v})),n.d(h,"clamp",(function(){return m})),n.d(h,"randomInRange",(function(){return b})),n.d(h,"randomIntInRange",(function(){return w})),n.d(h,"canonicalizeAngle",(function(){return x})),n.d(h,"toDegrees",(function(){return P})),n.d(h,"toRadians",(function(){return A})),n.d(h,"getPosition",(function(){return E})),n.d(h,"addItemToArray",(function(){return S})),n.d(h,"removeItemFromArray",(function(){return C})),n.d(h,"contains",(function(){return O})),n.d(h,"getOppositeSide",(function(){return T})),n.d(h,"getSideFromDirection",(function(){return B})),n.d(h,"Collection",(function(){return D})),n.d(h,"fail",(function(){return k})),n.d(h,"DrawUtil",(function(){return s}));var u;n(73),n(134);function l(){"undefined"==typeof window&&(window={audioContext:function(){}}),"undefined"==typeof window||window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setInterval(t,1e3/60)}),"undefined"==typeof window||window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(){}),"undefined"==typeof window||window.AudioContext||(window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext),"undefined"==typeof window||window.devicePixelRatio||(window.devicePixelRatio=window.devicePixelRatio||1)}!function(t){t[t.Resolved=0]="Resolved",t[t.Rejected=1]="Rejected",t[t.Pending=2]="Pending"}(u||(u={}));var p,d=function(){function t(){this._state=u.Pending,this._successCallbacks=[],this._rejectCallback=function(){}}return t.resolve=function(e){return(new t).resolve(e)},t.reject=function(e){return(new t).reject(e)},t.join=function(){var e=[];if(arguments.length>0&&!Array.isArray(arguments[0]))for(var n=0;n<arguments.length;n++)e[n-0]=arguments[n];else 1===arguments.length&&Array.isArray(arguments[0])&&(e=arguments[0]);var i=new t;if(!e||!e.length)return i.resolve();var r=e.length,o=0,s=0,a=[];return e.forEach((function(t){t.then((function(){(o+=1)===r?i.resolve():o+s+a.length===r&&i.reject(a)}),(function(){o+(s+=1)+a.length===r&&i.reject(a)})).error((function(t){a.push(t),a.length+o+s===r&&i.reject(a)}))})),i},t.prototype.then=function(t,e){if(t&&(this._successCallbacks.push(t),this.state()===u.Resolved))try{t.call(this,this._value)}catch(t){this._handleError(t)}if(e&&(this._rejectCallback=e,this.state()===u.Rejected))try{e.call(this,this._value)}catch(t){this._handleError(t)}return this},t.prototype.error=function(t){return t&&(this._errorCallback=t),this},t.prototype.resolve=function(t){var e=this;if(this._state!==u.Pending)throw new Error("Cannot resolve a promise that is not in a pending state!");this._value=t;try{this._state=u.Resolved,this._successCallbacks.forEach((function(t){t.call(e,e._value)}))}catch(t){this._handleError(t)}return this},t.prototype.reject=function(t){if(this._state!==u.Pending)throw new Error("Cannot reject a promise that is not in a pending state!");this._value=t;try{this._state=u.Rejected,this._rejectCallback.call(this,this._value)}catch(t){this._handleError(t)}return this},t.prototype.state=function(){return this._state},t.prototype._handleError=function(t){if(!this._errorCallback)throw t;this._errorCallback.call(this,t)},t}(),f=function(){function t(t){this.seed=t,this._lowerMask=2147483647,this._upperMask=2147483648,this._w=32,this._n=624,this._m=397,this._a=2567483615,this._u=11,this._s=7,this._b=2636928640,this._t=15,this._c=4022730752,this._l=18,this._f=1812433253,this._mt=new Array(this._n),this._mt[0]=(t||Date.now())>>>0;for(var e=1;e<this._n;e++){var n=this._mt[e-1]^this._mt[e-1]>>>this._w-2;this._mt[e]=(this._f*((4294901760&n)>>>16)<<16)+this._f*(65535&n)+e>>>0}this._index=this._n}return t.prototype._twist=function(){for(var t=[0,this._a],e=0,n=0;n<this._n-this._m;n++)e=this._mt[n]&this._upperMask|this._mt[n+1]&this._lowerMask,this._mt[n]=this._mt[n+this._m]^e>>>1^4294967295&t[1&e];for(;n<this._n-1;n++)e=this._mt[n]&this._upperMask|this._mt[n+1]&this._lowerMask,this._mt[n]=this._mt[n+(this._m-this._n)]^e>>>1^4294967295&t[1&e];e=this._mt[this._n-1]&this._upperMask|this._mt[0]&this._lowerMask,this._mt[this._n-1]=this._mt[this._m-1]^e>>>1^4294967295&t[1&e],this._index=0},t.prototype.nextInt=function(){this._index>=this._n&&this._twist();var t=this._mt[this._index++];return t^=t>>>this._u,t^=t<<this._s&this._b,t^=t<<this._t&this._c,(t^=t>>>this._l)>>>0},t.prototype.next=function(){return this.nextInt()*(1/4294967296)},t.prototype.floating=function(t,e){return(e-t)*this.next()+t},t.prototype.integer=function(t,e){return Math.floor((e-t+1)*this.next()+t)},t.prototype.bool=function(t){return void 0===t&&(t=.5),this.next()<=t},t.prototype.pickOne=function(t){return t[this.integer(0,t.length-1)]},t.prototype.pickSet=function(t,e,n){return void 0===n&&(n=!1),n?this._pickSetWithDuplicates(t,e):this._pickSetWithoutDuplicates(t,e)},t.prototype._pickSetWithoutDuplicates=function(t,e){if(e>t.length||e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 < n <= length");if(e===t.length)return t;for(var n=new Array(e),i=0,r=t.slice(0);i<e;){var o=this.integer(0,r.length-1);n[i++]=r[o],r.splice(o,1)}return n},t.prototype._pickSetWithDuplicates=function(t,e){if(e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT");for(var n=new Array(e),i=0;i<e;i++)n[i]=this.pickOne(t);return n},t.prototype.shuffle=function(t){for(var e=t.slice(0),n=null,i=0;i<e.length-2;i++){var r=this.integer(i,e.length-1);n=e[i],e[i]=e[r],e[r]=n}return e},t.prototype.range=function(t,e,n){for(var i=new Array(t),r=0;r<t;r++)i[r]=this.integer(e,n);return i},t.prototype.d4=function(){return this.integer(1,4)},t.prototype.d6=function(){return this.integer(1,6)},t.prototype.d8=function(){return this.integer(1,8)},t.prototype.d10=function(){return this.integer(1,10)},t.prototype.d12=function(){return this.integer(1,12)},t.prototype.d20=function(){return this.integer(1,20)},t}();!function(t){t.None="None",t.Top="Top",t.Bottom="Bottom",t.Left="Left",t.Right="Right"}(p||(p={}));var y=2*Math.PI;function g(){var t={},e=!1,n=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);var r="function"==typeof Object.assign,o=null;for(o=r?Object.assign:function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e&&"[object Object]"===Object.prototype.toString.call(n[i])?t[i]=g(!0,t[i],n[i]):t[i]=n[i])};n<i;n++){var s=arguments[n];r?o(t,s):o(s)}return t}function _(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",i=0;i<t.length;){var r=255&t.charCodeAt(i++),o=255&t.charCodeAt(i++),s=255&t.charCodeAt(i++),a=r>>2,c=(3&r)<<4|o>>4,h=void 0,u=void 0;isNaN(o)?h=u=64:(h=(15&o)<<2|s>>6,u=isNaN(s)?64:63&s),n+=e.charAt(a)+e.charAt(c)+e.charAt(h)+e.charAt(u)}return n}function v(t,e){return null!=t?t:e}function m(t,e,n){return Math.min(Math.max(e,t),n)}function b(t,e,n){return void 0===n&&(n=new f),n?n.floating(t,e):t+Math.random()*(e-t)}function w(t,e,n){return void 0===n&&(n=new f),n?n.integer(t,e):Math.round(b(t,e))}function x(t){var e=t;if(t>y)for(;e>y;)e-=y;if(t<0)for(;e<0;)e+=y;return e}function P(t){return 180/Math.PI*t}function A(t){return t/180*Math.PI}function E(t){var e=0,n=0,i=function(t){e+=t.offsetLeft,t.offsetParent&&i(t.offsetParent)},r=function(t){n+=t.offsetTop,t.offsetParent&&r(t.offsetParent)};return i(t),r(t),new V(e,n)}function S(t,e){return-1===e.indexOf(t)&&(e.push(t),!0)}function C(t,e){var n;return(n=e.indexOf(t))>-1&&(e.splice(n,1),!0)}function O(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function T(t){return t===p.Top?p.Bottom:t===p.Bottom?p.Top:t===p.Left?p.Right:t===p.Right?p.Left:p.None}function B(t){for(var e=[V.Left,V.Right,V.Up,V.Down],n=[p.Left,p.Right,p.Top,p.Bottom],i=-Number.MAX_VALUE,r=-1,o=0;o<e.length;o++)e[o].dot(t)>i&&(i=e[o].dot(t),r=o);return n[r]}var M,D=function(){function t(e){void 0===e&&(e=t.DefaultSize),this._internalArray=null,this._endPointer=0,this._internalArray=new Array(e)}return t.prototype._resize=function(){for(var t=2*this._internalArray.length,e=new Array(t),n=this.count(),i=0;i<n;i++)e[i]=this._internalArray[i];delete this._internalArray,this._internalArray=e},t.prototype.push=function(t){return this._endPointer===this._internalArray.length&&this._resize(),this._internalArray[this._endPointer++]=t},t.prototype.pop=function(){return this._endPointer=this._endPointer-1<0?0:this._endPointer-1,this._internalArray[this._endPointer]},t.prototype.count=function(){return this._endPointer},t.prototype.clear=function(){this._endPointer=0},t.prototype.internalSize=function(){return this._internalArray.length},t.prototype.elementAt=function(t){if(t>=this.count())throw new Error("Invalid index "+t);return this._internalArray[t]},t.prototype.insert=function(t,e){return t>=this.count()&&this._resize(),this._internalArray[t]=e},t.prototype.remove=function(t){var e=this.count();if(0===e)throw new Error("Invalid parameter "+t);for(var n=this._internalArray[t],i=t;i<e;i++)this._internalArray[i]=this._internalArray[i+1];return this._endPointer--,n},t.prototype.removeElement=function(t){var e=this._internalArray.indexOf(t);this.remove(e)},t.prototype.toArray=function(){return this._internalArray.slice(0,this._endPointer)},t.prototype.forEach=function(t){for(var e=0,n=this.count();e<n;e++)t.call(this,this._internalArray[e],e)},t.prototype.map=function(t){for(var e=this.count(),n=0;n<e;n++)this._internalArray[n]=t.call(this,this._internalArray[n],n)},t.DefaultSize=200,t}();function k(t){throw new Error(t)}!function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Fatal=4]="Fatal"}(M||(M={}));var R=function(){function t(){if(this._appenders=[],this.defaultLevel=M.Info,t._instance)throw new Error("Logger is a singleton");return t._instance=this,t._instance.addAppender(new j),t._instance}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.addAppender=function(t){this._appenders.push(t)},t.prototype.clearAppenders=function(){this._appenders.length=0},t.prototype._log=function(t,e){null==t&&(t=this.defaultLevel);for(var n=this._appenders.length,i=0;i<n;i++)t>=this.defaultLevel&&this._appenders[i].log(t,e)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(M.Debug,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(M.Info,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(M.Warn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(M.Error,t)},t.prototype.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(M.Fatal,t)},t._instance=null,t}(),j=function(){function t(){}return t.prototype.log=function(t,e){if(console||console.log||!console.warn||!console.error){var n=[];n.unshift.apply(n,e),n.unshift("["+M[t]+"] : "),t<M.Warn?console.log.apply?console.log.apply(console,n):console.log(n.join(" ")):t<M.Error?console.warn.apply?console.warn.apply(console,n):console.warn(n.join(" ")):console.error.apply?console.error.apply(console,n):console.error(n.join(" "))}},t}(),F=function(){function t(t,e){this._messages=[],this._canvas=document.createElement("canvas"),this._canvas.width=t||window.innerWidth,this._canvas.height=e||window.innerHeight,this._canvas.style.position="absolute",this._ctx=this._canvas.getContext("2d"),document.body.appendChild(this._canvas)}return t.prototype.log=function(t,e){var n=e.join(",");this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._messages.unshift("["+M[t]+"] : "+n);for(var i=10,r=1,o=0;o<this._messages.length;o++)this._ctx.fillStyle="rgba(255,255,255,"+r.toFixed(2)+")",this._ctx.fillText(this._messages[o],200,i),i+=10,r=r>0?r-.05:0},t}(),I=function(){return(I=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},L=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},z=5,H={},U=function(){for(var t in H)H[t]=0},W=function(t,e){H[t]<z&&(R.getInstance().warn(t),console.trace&&e.showStackTrace&&console.trace()),H[t]++};function N(t){return t=g({},{message:"This feature will be removed in future versions of Excalibur.",alternateMethod:null,showStackTrack:!1},t),function(e,n,i){if(i&&"function"!=typeof i.value&&"function"!=typeof i.get&&"function"!=typeof i.set)throw new SyntaxError("Only classes/functions/getters/setters can be marked as obsolete");var r=(e.name||"")+(e.name&&n?".":"")+(n||"")+" is marked obsolete: "+t.message+(t.alternateMethod?" Use "+t.alternateMethod+" instead":"");H[r]||(H[r]=0);var o=i?I({},i):e;if(!i){var s=function(){var e=Array.prototype.slice.call(arguments);return W(r,t),new(o.bind.apply(o,L([void 0],e)))};return s.prototype=o.prototype,s}return i&&i.value?(o.value=function(){return W(r,t),i.value.apply(this,arguments)},o):(i&&i.get&&(o.get=function(){return W(r,t),i.get.apply(this,arguments)}),i&&i.set&&(o.set=function(){return W(r,t),i.set.apply(this,arguments)}),o)}}var q=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},V=function(){function t(t,e){this.x=t,this.y=e}return Object.defineProperty(t,"Zero",{get:function(){return new t(0,0)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"One",{get:function(){return new t(1,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Half",{get:function(){return new t(.5,.5)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Up",{get:function(){return new t(0,-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Down",{get:function(){return new t(0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Left",{get:function(){return new t(-1,0)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Right",{get:function(){return new t(1,0)},enumerable:!1,configurable:!0}),t.fromAngle=function(e){return new t(Math.cos(e),Math.sin(e))},t.isValid=function(t){return null!=t&&(!isNaN(t.x)&&!isNaN(t.y)&&(t.x!==1/0&&t.y!==1/0&&t.x!==-1/0&&t.y!==-1/0))},t.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.prototype.setTo=function(t,e){this.x=t,this.y=e},t.prototype.equals=function(t,e){return void 0===e&&(e=.001),Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e},t.prototype.distance=function(e){return e||(e=t.Zero),Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},t.prototype.magnitude=function(){return this.distance()},Object.defineProperty(t.prototype,"size",{get:function(){return this.distance()},set:function(t){var e=this.normalize().scale(t);this.x=e.x,this.y=e.y},enumerable:!1,configurable:!0}),t.prototype.normalize=function(){var e=this.distance();return e>0?new t(this.x/e,this.y/e):new t(0,1)},t.prototype.average=function(t){return this.add(t).scale(.5)},t.prototype.scale=function(e){return e instanceof t?new t(this.x*e.x,this.y*e.y):new t(this.x*e,this.y*e)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.addEqual=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subEqual=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.scaleEqual=function(t){return this.x*=t,this.y*=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(e){return e instanceof t?this.x*e.y-this.y*e.x:"number"==typeof e?new t(e*this.y,-e*this.x):void 0},t.prototype.perpendicular=function(){return new t(this.y,-this.x)},t.prototype.normal=function(){return this.perpendicular().normalize()},t.prototype.negate=function(){return this.scale(-1)},t.prototype.toAngle=function(){return Math.atan2(this.y,this.x)},t.prototype.rotate=function(e,n){n||(n=new t(0,0));var i=Math.sin(e),r=Math.cos(e);return new t(r*(this.x-n.x)-i*(this.y-n.y)+n.x,i*(this.x-n.x)+r*(this.y-n.y)+n.y)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},q([N({message:"will be removed in favour of `.size` in version 0.25.0"})],t.prototype,"magnitude",null),t}(),G=function(){function t(t,e){this.pos=t,this.dir=e.normalize()}return t.prototype.intersect=function(t){var e=t.begin.sub(this.pos);if(0===this.dir.cross(t.getSlope())&&0!==e.cross(this.dir))return-1;var n=this.dir.cross(t.getSlope());if(0===n)return-1;var i=e.cross(t.getSlope())/n;if(i>=0){var r=e.cross(this.dir)/n/t.getLength();if(r>=0&&r<=1)return i}return-1},t.prototype.getPoint=function(t){return this.pos.add(this.dir.scale(t))},t}(),X=function(){function t(t,e){this.begin=t,this.end=e}return Object.defineProperty(t.prototype,"slope",{get:function(){return(this.end.y-this.begin.y)/(this.end.x-this.begin.x)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"intercept",{get:function(){return this.begin.y-this.slope*this.begin.x},enumerable:!1,configurable:!0}),t.prototype.normal=function(){return this.end.sub(this.begin).normal()},t.prototype.getSlope=function(){var t=this.begin,e=this.end,n=t.distance(e);return e.sub(t).scale(1/n)},t.prototype.getEdge=function(){var t=this.begin;return this.end.sub(t)},t.prototype.getLength=function(){var t=this.begin,e=this.end;return t.distance(e)},Object.defineProperty(t.prototype,"midpoint",{get:function(){return this.begin.add(this.end).scale(.5)},enumerable:!1,configurable:!0}),t.prototype.flip=function(){return new t(this.end,this.begin)},t.prototype.distanceToPoint=function(t){var e=t.x,n=t.y,i=this.getLength(),r=this.end.y-this.begin.y,o=this.end.x-this.begin.x;return Math.abs(r*e-o*n+this.end.x*this.begin.y-this.end.y*this.begin.x)/i},t.prototype.findVectorToPoint=function(t){var e=this.begin.sub(t),n=this.getSlope();return e.sub(n.scale(e.dot(n)))},t.prototype.findPoint=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.slope,i=this.intercept;if(null!==t)return new V(t,n*t+i);if(null!==e)return new V((e-i)/n,e);throw new Error("You must provide an X or a Y value")},t.prototype.hasPoint=function(){var t,e=0;if("number"==typeof arguments[0]&&"number"==typeof arguments[1])t=new V(arguments[0],arguments[1]),e=arguments[2]||0;else{if(!(arguments[0]instanceof V))throw"Could not determine the arguments for Vector.hasPoint";t=arguments[0],e=arguments[1]||0}var n=t.x-this.begin.x,i=t.y-this.begin.y,r=this.end.x-this.begin.x,o=this.end.y-this.begin.y,s=n*o-i*r;return!(Math.abs(s)>e)&&(Math.abs(r)>=Math.abs(o)?r>0?this.begin.x<=t.x&&t.x<=this.end.x:this.end.x<=t.x&&t.x<=this.begin.x:o>0?this.begin.y<=t.y&&t.y<=this.end.y:this.end.y<=t.y&&t.y<=this.begin.y)},t}(),Q=function(){function t(t,e){this.min=t,this.max=e}return t.prototype.overlaps=function(t){return this.max>t.min&&t.max>this.min},t.prototype.getOverlap=function(t){return this.overlaps(t)?this.max>t.max?t.max-this.min:this.max-t.min:0},t}(),Z=function(){function t(t,e,n){this.worldPos=t,this.pagePos=e,this.screenPos=n}return t.fromPagePosition=function(e,n,i){var r,o,s,a;3===arguments.length?(s=new V(r=e,o=n),a=i):(r=(s=e).x,o=s.y,a=n);var c=r-E(a.canvas).x,h=o-E(a.canvas).y,u=new V(c,h),l=a.screenToWorldCoordinates(u);return new t(l,s,u)},t}();function K(t,e){return new V(t,e)}var Y,J,$,tt=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},et=function(){function t(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=null!=i?i:1}return t.fromRGB=function(e,n,i,r){return new t(e,n,i,r)},t.fromHex=function(e){var n;if(n=e.match(/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i)){var i=parseInt(n[1],16),r=parseInt(n[2],16),o=parseInt(n[3],16),s=1;return n[4]&&(s=parseInt(n[4],16)/255),new t(i,r,o,s)}throw new Error("Invalid hex string: "+e)},t.fromHSL=function(t,e,n,i){return void 0===i&&(i=1),new nt(t,e,n,i).toRGBA()},t.prototype.lighten=function(t){void 0===t&&(t=.1);var e=nt.fromRGBA(this.r,this.g,this.b,this.a);return e.l+=(1-e.l)*t,e.toRGBA()},t.prototype.darken=function(t){void 0===t&&(t=.1);var e=nt.fromRGBA(this.r,this.g,this.b,this.a);return e.l-=e.l*t,e.toRGBA()},t.prototype.saturate=function(t){void 0===t&&(t=.1);var e=nt.fromRGBA(this.r,this.g,this.b,this.a);return e.s+=e.s*t,e.toRGBA()},t.prototype.desaturate=function(t){void 0===t&&(t=.1);var e=nt.fromRGBA(this.r,this.g,this.b,this.a);return e.s-=e.s*t,e.toRGBA()},t.prototype.multiply=function(e){return new t(e.r/255*this.r/255*255,e.g/255*this.g/255*255,e.b/255*this.b/255*255,e.a*this.a)},t.prototype.mulitiply=function(t){return this.multiply(t)},t.prototype.screen=function(t){var e=t.invert(),n=t.invert();return e.multiply(n).invert()},t.prototype.invert=function(){return new t(255-this.r,255-this.g,255-this.b,1-this.a)},t.prototype.average=function(e){return new t((e.r+this.r)/2,(e.g+this.g)/2,(e.b+this.b)/2,(e.a+this.a)/2)},t.prototype.toString=function(t){switch(void 0===t&&(t="rgb"),t){case"rgb":return this.toRGBA();case"hsl":return this.toHSLA();case"hex":return this.toHex();default:throw new Error("Invalid Color format")}},t.prototype._componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},t.prototype.toHex=function(){return"#"+this._componentToHex(this.r)+this._componentToHex(this.g)+this._componentToHex(this.b)},t.prototype.toRGBA=function(){var t=String(this.r.toFixed(0))+", "+String(this.g.toFixed(0))+", "+String(this.b.toFixed(0));return void 0!==this.a||null!==this.a?"rgba("+t+", "+String(this.a)+")":"rgb("+t+")"},t.prototype.toHSLA=function(){return nt.fromRGBA(this.r,this.g,this.b,this.a).toString()},t.prototype.fillStyle=function(){return this.toString()},t.prototype.clone=function(){return new t(this.r,this.g,this.b,this.a)},Object.defineProperty(t,"Black",{get:function(){return t.fromHex("#000000")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"White",{get:function(){return t.fromHex("#FFFFFF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Gray",{get:function(){return t.fromHex("#808080")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LightGray",{get:function(){return t.fromHex("#D3D3D3")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DarkGray",{get:function(){return t.fromHex("#A9A9A9")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Yellow",{get:function(){return t.fromHex("#FFFF00")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Orange",{get:function(){return t.fromHex("#FFA500")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Red",{get:function(){return t.fromHex("#FF0000")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Vermilion",{get:function(){return t.fromHex("#FF5B31")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Vermillion",{get:function(){return t.Vermilion},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Rose",{get:function(){return t.fromHex("#FF007F")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Magenta",{get:function(){return t.fromHex("#FF00FF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Violet",{get:function(){return t.fromHex("#7F00FF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Blue",{get:function(){return t.fromHex("#0000FF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Azure",{get:function(){return t.fromHex("#007FFF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Cyan",{get:function(){return t.fromHex("#00FFFF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Viridian",{get:function(){return t.fromHex("#59978F")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Green",{get:function(){return t.fromHex("#00FF00")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Chartreuse",{get:function(){return t.fromHex("#7FFF00")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Transparent",{get:function(){return t.fromHex("#FFFFFF00")},enumerable:!1,configurable:!0}),tt([N({message:"Alias for incorrect spelling used in older versions, use multiply instead, will be removed in v0.25.0"})],t.prototype,"mulitiply",null),tt([N({message:"Alias for incorrect spelling used in older versions",alternateMethod:"Vermilion"})],t,"Vermillion",null),t}(),nt=function(){function t(t,e,n,i){this.h=t,this.s=e,this.l=n,this.a=i}return t.hue2rgb=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},t.fromRGBA=function(e,n,i,r){e/=255,n/=255,i/=255;var o,s,a=Math.max(e,n,i),c=Math.min(e,n,i),h=(a+c)/2;if(a===c)o=s=0;else{var u=a-c;switch(s=h>.5?u/(2-a-c):u/(a+c),a){case e:o=(n-i)/u+(n<i?6:0);break;case n:o=(i-e)/u+2;break;case i:o=(e-n)/u+4}o/=6}return new t(o,s,h,r)},t.prototype.toRGBA=function(){var e,n,i;if(0===this.s)e=n=i=this.l;else{var r=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,o=2*this.l-r;e=t.hue2rgb(o,r,this.h+1/3),n=t.hue2rgb(o,r,this.h),i=t.hue2rgb(o,r,this.h-1/3)}return new et(255*e,255*n,255*i,this.a)},t.prototype.toString=function(){return"hsla("+this.h.toFixed(0)+", "+this.s.toFixed(0)+", "+this.l.toFixed(0)+", "+this.a.toFixed(0)+")"},t}(),it=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Box=0]="Box",t[t.RigidBody=1]="RigidBody"}(Y||(Y={})),function(t){t[t.Naive=0]="Naive",t[t.DynamicAABBTree=1]="DynamicAABBTree"}(J||(J={})),function(t){t[t.Euler=0]="Euler"}($||($={}));var rt,ot,st=function(){function t(){}return t.useBoxPhysics=function(){t.collisionResolutionStrategy=Y.Box},t.useRigidBodyPhysics=function(){t.collisionResolutionStrategy=Y.RigidBody},Object.defineProperty(t,"dynamicTreeVelocityMultiplyer",{get:function(){return t.dynamicTreeVelocityMultiplier},set:function(e){t.dynamicTreeVelocityMultiplier=e},enumerable:!1,configurable:!0}),t.acc=new V(0,0),t.enabled=!0,t.collisionPasses=5,t.broadphaseStrategy=J.DynamicAABBTree,t.broadphaseDebug=!1,t.showCollisionNormals=!1,t.showMotionVectors=!1,t.showBounds=!1,t.showArea=!1,t.showContacts=!1,t.showNormals=!1,t.collisionResolutionStrategy=Y.Box,t.defaultMass=10,t.integrator=$.Euler,t.integrationSteps=1,t.allowRigidBodyRotation=!0,t.collisionShift=.001,t.dynamicTreeVelocityMultiplier=2,t.boundsPadding=5,t.surfaceEpsilon=.1,t.checkForFastBodies=!0,t.disableMinimumSpeedForFastBody=!1,it([N({message:"Alias for incorrect spelling used in older versions, will be removed in v0.25.0",alternateMethod:"dynamicTreeVelocityMultiplier"})],t,"dynamicTreeVelocityMultiplyer",null),t}(),at=(rt=function(t,e){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t.Kill="kill",t.PreKill="prekill",t.PostKill="postkill",t.PreDraw="predraw",t.PostDraw="postdraw",t.PreDebugDraw="predebugdraw",t.PostDebugDraw="postdebugdraw",t.PreUpdate="preupdate",t.PostUpdate="postupdate",t.PreFrame="preframe",t.PostFrame="postframe",t.PreCollision="precollision",t.CollisionStart="collisionstart",t.CollisionEnd="collisionend",t.PostCollision="postcollision",t.Initialize="initialize",t.Activate="activate",t.Deactivate="deactivate",t.ExitViewport="exitviewport",t.EnterViewport="enterviewport",t.ExitTrigger="exit",t.EnterTrigger="enter",t.Connect="connect",t.Disconnect="disconnect",t.Button="button",t.Axis="axis",t.Subscribe="subscribe",t.Unsubscribe="unsubscribe",t.Visible="visible",t.Hidden="hidden",t.Start="start",t.Stop="stop",t.PointerUp="pointerup",t.PointerDown="pointerdown",t.PointerMove="pointermove",t.PointerEnter="pointerenter",t.PointerLeave="pointerleave",t.PointerCancel="pointercancel",t.PointerWheel="pointerwheel",t.Up="up",t.Down="down",t.Move="move",t.Enter="enter",t.Leave="leave",t.Cancel="cancel",t.Wheel="wheel",t.Press="press",t.Release="release",t.Hold="hold",t.PointerDragStart="pointerdragstart",t.PointerDragEnd="pointerdragend",t.PointerDragEnter="pointerdragenter",t.PointerDragLeave="pointerdragleave",t.PointerDragMove="pointerdragmove"}(ot||(ot={}));var ct,ht=function(){function t(){this._bubbles=!0}return Object.defineProperty(t.prototype,"bubbles",{get:function(){return this._bubbles},set:function(t){this._bubbles=t},enumerable:!1,configurable:!0}),t.prototype.stopPropagation=function(){this.bubbles=!1},t}(),ut=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return at(e,t),e}(ht),lt=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return at(e,t),e}(ht),pt=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return at(e,t),e}(ht),dt=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return at(e,t),e}(ht),ft=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return at(e,t),e}(ht),yt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.ctx=e,r.delta=n,r.target=i,r}return at(e,t),e}(ht),gt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.ctx=e,r.delta=n,r.target=i,r}return at(e,t),e}(ht),_t=function(t){function e(e,n){var i=t.call(this)||this;return i.ctx=e,i.target=n,i}return at(e,t),e}(ht),vt=function(t){function e(e,n){var i=t.call(this)||this;return i.ctx=e,i.target=n,i}return at(e,t),e}(ht),mt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.engine=e,r.delta=n,r.target=i,r}return at(e,t),e}(ht),bt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.engine=e,r.delta=n,r.target=i,r}return at(e,t),e}(ht),wt=function(t){function e(e,n){var i=t.call(this)||this;return i.engine=e,i.prevStats=n,i.target=e,i}return at(e,t),e}(ht),xt=function(t){function e(e,n){var i=t.call(this)||this;return i.engine=e,i.stats=n,i.target=e,i}return at(e,t),e}(ht),Pt=function(t){function e(e,n){var i=t.call(this)||this;return i.index=e,i.gamepad=n,i.target=n,i}return at(e,t),e}(ht),At=function(t){function e(e,n){var i=t.call(this)||this;return i.index=e,i.gamepad=n,i.target=n,i}return at(e,t),e}(ht),Et=function(t){function e(e,n,i){var r=t.call(this)||this;return r.button=e,r.value=n,r.target=i,r}return at(e,t),e}(ht),St=function(t){function e(e,n,i){var r=t.call(this)||this;return r.axis=e,r.value=n,r.target=i,r}return at(e,t),e}(ht),Ct=function(t){function e(e,n){var i=t.call(this)||this;return i.topic=e,i.handler=n,i}return at(e,t),e}(ht),Ot=function(t){function e(e,n){var i=t.call(this)||this;return i.topic=e,i.handler=n,i}return at(e,t),e}(ht),Tt=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return at(e,t),e}(ht),Bt=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return at(e,t),e}(ht),Mt=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.other=n,o.side=i,o.intersection=r,o.target=e,o}return at(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!1,configurable:!0}),e}(ht),Dt=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.other=n,o.side=i,o.intersection=r,o.target=e,o}return at(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!1,configurable:!0}),e}(ht),kt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.other=n,r.pair=i,r.target=e,r}return at(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!1,configurable:!0}),e}(ht),Rt=function(t){function e(e,n){var i=t.call(this)||this;return i.other=n,i.target=e,i}return at(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!1,configurable:!0}),e}(ht),jt=function(t){function e(e,n){var i=t.call(this)||this;return i.engine=e,i.target=n,i}return at(e,t),e}(ht),Ft=function(t){function e(e,n){var i=t.call(this)||this;return i.oldScene=e,i.target=n,i}return at(e,t),e}(ht),It=function(t){function e(e,n){var i=t.call(this)||this;return i.newScene=e,i.target=n,i}return at(e,t),e}(ht),Lt=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return at(e,t),e}(ht),zt=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return at(e,t),e}(ht),Ht=function(t){function e(e,n){var i=t.call(this)||this;return i.target=e,i.actor=n,i}return at(e,t),e}(ht),Ut=function(t){function e(e,n){var i=t.call(this)||this;return i.target=e,i.actor=n,i}return at(e,t),e}(ht);!function(t){t.PreventCollision="PreventCollision",t.Passive="Passive",t.Active="Active",t.Fixed="Fixed"}(ct||(ct={}));var Wt=function(){function t(t,e,n,i,r){this.colliderA=t,this.colliderB=e,this.mtv=n,this.point=i,this.normal=r}return t.prototype.resolve=function(t){if(t===Y.RigidBody)this._resolveRigidBodyCollision();else{if(t!==Y.Box)throw new Error("Unknown collision resolution strategy");this._resolveBoxCollision()}},t.prototype._applyBoxImpulse=function(t,e,n){if(t.type===ct.Active&&e.type!==ct.Passive){t.type===ct.Active&&e.type===ct.Active&&(n=n.scale(.5)),t.body.pos.y+=n.y,t.body.pos.x+=n.x;var i=n.normalize();if(i.dot(t.body.vel)<0){var r=i.scale(i.dot(t.body.vel.negate()));t.body.vel=t.body.vel.add(r)}t.emit("postcollision",new Dt(t,e,B(n),n))}},t.prototype._resolveBoxCollision=function(){var t=B(this.mtv),e=this.mtv.negate();this.colliderA.emit("precollision",new Mt(this.colliderA,this.colliderB,t,e)),this.colliderB.emit("precollision",new Mt(this.colliderB,this.colliderA,T(t),e.negate())),this._applyBoxImpulse(this.colliderA,this.colliderB,e),this._applyBoxImpulse(this.colliderB,this.colliderA,e.negate())},t.prototype._resolveRigidBodyCollision=function(){var t=this.colliderA.body,e=this.colliderB.body,n=this.mtv,i=this.normal;if(t!==e){var r=B(this.mtv);if(this.colliderA.emit("precollision",new Mt(this.colliderA,this.colliderB,r,this.mtv)),this.colliderB.emit("precollision",new Mt(this.colliderB,this.colliderA,T(r),this.mtv.negate())),this.colliderA.type!==ct.Passive&&this.colliderB.type!==ct.Passive){var o=this.colliderA.type===ct.Fixed?0:1/this.colliderA.mass,s=this.colliderB.type===ct.Fixed?0:1/this.colliderB.mass,a=this.colliderA.type===ct.Fixed?0:1/this.colliderA.inertia,c=this.colliderB.type===ct.Fixed?0:1/this.colliderB.inertia,h=Math.min(this.colliderA.bounciness,this.colliderB.bounciness),u=Math.min(this.colliderA.friction,this.colliderB.friction),l=(i=i.normalize()).normal().normalize(),p=this.point.sub(this.colliderA.center),d=this.point.sub(this.colliderB.center),f=e.vel.add(d.cross(-e.rx)).sub(t.vel.sub(p.cross(t.rx))),y=f.dot(i),g=f.dot(l),_=p.dot(l),v=p.dot(i),m=d.dot(l),b=d.dot(i);if(!(y>0)){var w=-(1+h)*y/(o+s+a*_*_+c*m*m);if(this.colliderA.type===ct.Fixed?(e.vel=e.vel.add(i.scale(w*s)),st.allowRigidBodyRotation&&(e.rx-=w*c*-d.cross(i)),e.addMtv(n)):this.colliderB.type===ct.Fixed?(t.vel=t.vel.sub(i.scale(w*o)),st.allowRigidBodyRotation&&(t.rx+=w*a*-p.cross(i)),t.addMtv(n.negate())):(e.vel=e.vel.add(i.scale(w*s)),t.vel=t.vel.sub(i.scale(w*o)),st.allowRigidBodyRotation&&(e.rx-=w*c*-d.cross(i),t.rx+=w*a*-p.cross(i)),e.addMtv(n.scale(.5)),t.addMtv(n.scale(-.5))),u&&g){var x=f.sub(i.scale(f.dot(i))).normalize(),P=f.dot(x)/(o+s+v*v*a+b*b*c),A=new V(0,0);A=Math.abs(P)<=w*u?x.scale(P).negate():x.scale(-w*u),this.colliderA.type===ct.Fixed?(e.vel=e.vel.add(A.scale(s)),st.allowRigidBodyRotation&&(e.rx+=A.dot(x)*c*d.cross(x))):this.colliderB.type===ct.Fixed?(t.vel=t.vel.sub(A.scale(o)),st.allowRigidBodyRotation&&(t.rx-=A.dot(x)*a*p.cross(x))):(e.vel=e.vel.add(A.scale(s)),t.vel=t.vel.sub(A.scale(o)),st.allowRigidBodyRotation&&(e.rx+=A.dot(x)*c*d.cross(x),t.rx-=A.dot(x)*a*p.cross(x)))}this.colliderA.emit("postcollision",new Dt(this.colliderA,this.colliderB,r,this.mtv)),this.colliderB.emit("postcollision",new Dt(this.colliderB,this.colliderA,T(r),this.mtv.negate()))}}}},t}(),Nt={CollideCircleCircle:function(t,e){var n=t.radius+e.radius,i=t.worldPos,r=e.worldPos;if(i.distance(r)>n)return null;var o=r.sub(i).normalize(),s=o.scale(n-r.distance(i)),a=t.getFurthestPoint(o);return new Wt(t.collider,e.collider,s,a,o)},CollideCirclePolygon:function(t,e){var n=t.testSeparatingAxisTheorem(e);if(!n)return null;var i=n.dot(e.center.sub(t.center));n=i<0?n.negate():n;var r=[],o=e.getFurthestPoint(n.negate()),s=t.getFurthestPoint(n);return t.contains(o)&&r.push(o),e.contains(s)&&r.push(s),0===r.length?null:new Wt(t.collider,e.collider,n,2===r.length?r[0].average(r[1]):r[0],n.normalize())},CollideCircleEdge:function(t,e){var n=t.center,i=e.end.sub(e.begin),r=i.dot(e.end.sub(n)),o=i.dot(n.sub(e.begin));if(o<=0){var s=e.begin.sub(n),a=s.dot(s);return a>t.radius*t.radius?null:new Wt(t.collider,e.collider,s.normalize().scale(t.radius-Math.sqrt(a)),e.begin,s.normalize())}if(r<=0){var c=e.end.sub(n),h=c.dot(c);return h>t.radius*t.radius?null:new Wt(t.collider,e.collider,c.normalize().scale(t.radius-Math.sqrt(h)),e.end,c.normalize())}var u=i.dot(i),l=e.begin.scale(r).add(e.end.scale(o)).scale(1/u),p=n.sub(l),d=p.dot(p);if(d>t.radius*t.radius)return null;var f=i.perpendicular();f.dot(n.sub(e.begin))<0&&(f.x=-f.x,f.y=-f.y);var y=(f=f.normalize()).scale(Math.abs(t.radius-Math.sqrt(d)));return new Wt(t.collider,e.collider,y.negate(),l,f.negate())},CollideEdgeEdge:function(){return null},CollidePolygonEdge:function(t,e){var n=e.end.sub(e.begin).normal();if(t.contains(e.begin)){var i=t.getClosestFace(e.begin),r=i.distance,o=i.face;if(r)return new Wt(t.collider,e.collider,r.negate(),e.begin.add(r.negate()),o.normal().negate())}if(t.contains(e.end)){var s=t.getClosestFace(e.end);r=s.distance,o=s.face;if(r)return new Wt(t.collider,e.collider,r.negate(),e.end.add(r.negate()),o.normal().negate())}var a=t.center,c=e.center.sub(a).normalize(),h=new Zt({collider:e.collider,points:[e.begin,e.end,e.end.add(c.scale(30)),e.begin.add(c.scale(30))]}),u=t.testSeparatingAxisTheorem(h);return u?(n=n.dot(c)<0?n.negate():n,u=u.dot(c)<0?u.negate():u,new Wt(t.collider,e.collider,u,t.getFurthestPoint(n),n)):null},CollidePolygonPolygon:function(t,e){var n=t.testSeparatingAxisTheorem(e);if(!n)return null;var i=n.dot(e.center.sub(t.center));n=i<0?n.negate():n;var r=[],o=t.getFurthestPoint(n),s=e.getFurthestPoint(n.negate());e.contains(o)&&r.push(o),t.contains(s)&&r.push(s),0===r.length&&r.push(s);var a=2===r.length?r[0].add(r[1]).scale(.5):r[0];return new Wt(t.collider,e.collider,n,a,n.normalize())}};function qt(t,e,n,i){var r=t.sub(n),o=e.dot(e),s=e.dot(i),a=i.dot(i),c=e.dot(r),h=i.dot(r),u=o*a-s*s,l=u,p=u;if(0===u||u<=.01){var d=c/s;return new X(t,n.add(i.scale(d)))}var f=s*h-a*c,y=o*h-s*c;return f<0?(f=0,y=h,p=a):f>l&&(f=l,y=h+s,p=a),y<0?(y=0,-c<0?f=0:-c>o?f=l:(f=-c,l=o)):y>p&&(y=p,-c+s<0?f=0:-c+s>o?f=l:(f=-c+s,l=o)),f=Math.abs(f)<.001?0:f/l,y=Math.abs(y)<.001?0:y/p,new X(t.add(e.scale(f)),n.add(i.scale(y)))}var Vt,Gt={PolygonPolygonClosestLine:function(t,e){var n=e.worldPos,i=n.sub(t.worldPos),r=i.negate(),o=new G(t.worldPos,i),s=new G(n,r),a=t.rayCast(o).add(o.dir.scale(.1)),c=e.rayCast(s).add(s.dir.scale(.1)),h=t.getClosestFace(a),u=e.getClosestFace(c);return qt(h.face.begin,h.face.getEdge(),u.face.begin,u.face.getEdge())},PolygonEdgeClosestLine:function(t,e){var n=e.worldPos.sub(t.worldPos),i=new G(t.worldPos,n),r=t.rayCast(i).add(i.dir.scale(.1)),o=t.getClosestFace(r),s=o.face.begin,a=o.face.getEdge(),c=e.asLine();return qt(s,a,c.begin,c.getEdge())},PolygonCircleClosestLine:function(t,e){var n=e.worldPos,i=n.sub(t.worldPos),r=new G(t.worldPos,i.normalize()),o=t.rayCast(r).add(r.dir.scale(.1)),s=t.getClosestFace(o),a=s.face.begin,c=s.face.getEdge(),h=(c.x*(n.x-a.x)+c.y*(n.y-a.y))/(c.x*c.x+c.y*c.y);h>1?h=1:h<0&&(h=0);var u=Math.sqrt(Math.pow(a.x+c.x*h-n.x,2)+Math.pow(a.y+c.y*h-n.y,2))-e.radius,l=(a.x+c.x*h-n.x)*e.radius/(e.radius+u),p=(a.y+c.y*h-n.y)*e.radius/(e.radius+u);return new X(c.scale(h).add(a),new V(n.x+l,n.y+p))},CircleCircleClosestLine:function(t,e){var n=e.worldPos.sub(t.worldPos),i=t.worldPos.sub(e.worldPos),r=new G(t.worldPos,n),o=new G(e.worldPos,i),s=t.rayCast(r),a=e.rayCast(o);return new X(s,a)},CircleEdgeClosestLine:function(t,e){var n=t.worldPos,i=e.asLine(),r=i.begin,o=i.getEdge(),s=(o.x*(n.x-r.x)+o.y*(n.y-r.y))/(o.x*o.x+o.y*o.y);s>1?s=1:s<0&&(s=0);var a=Math.sqrt(Math.pow(r.x+o.x*s-n.x,2)+Math.pow(r.y+o.y*s-n.y,2))-t.radius,c=(r.x+o.x*s-n.x)*t.radius/(t.radius+a),h=(r.y+o.y*s-n.y)*t.radius/(t.radius+a);return new X(o.scale(s).add(r),new V(n.x+c,n.y+h))},EdgeEdgeClosestLine:function(t,e){var n=t.asLine(),i=n.begin,r=n.getEdge(),o=e.asLine();return qt(i,r,o.begin,o.getEdge())}},Xt=function(){function t(t){this.offset=V.Zero,this.offset=t.offset||V.Zero,this.radius=t.radius||0,this.collider=t.collider||null}return Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t({offset:this.offset.clone(),radius:this.radius,collider:null})},Object.defineProperty(t.prototype,"center",{get:function(){return this.collider&&this.collider.body?this.offset.add(this.collider.body.pos):this.offset},enumerable:!1,configurable:!0}),t.prototype.contains=function(t){var e=this.offset;return this.collider&&this.collider.body&&(e=this.collider.body.pos),e.distance(t)<=this.radius},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var n=this.center,i=t.dir,r=t.pos,o=Math.sqrt(Math.pow(i.dot(r.sub(n)),2)-Math.pow(r.sub(n).distance(),2)+Math.pow(this.radius,2));if(o<0)return null;var s=0;if(0===o)return(s=-i.dot(r.sub(n)))>0&&s<e?t.getPoint(s):null;var a=-i.dot(r.sub(n))+o,c=-i.dot(r.sub(n))-o,h=[];a>=0&&h.push(a),c>=0&&h.push(c);var u=Math.min.apply(Math,h);return u<=e?t.getPoint(u):null},t.prototype.getClosestLineBetween=function(e){if(e instanceof t)return Gt.CircleCircleClosestLine(this,e);if(e instanceof Zt)return Gt.PolygonCircleClosestLine(e,this).flip();if(e instanceof Qt)return Gt.CircleEdgeClosestLine(this,e).flip();throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof t)return Nt.CollideCircleCircle(this,e);if(e instanceof Zt)return Nt.CollideCirclePolygon(this,e);if(e instanceof Qt)return Nt.CollideCircleEdge(this,e);throw new Error("Circle could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){return this.center.add(t.normalize().scale(this.radius))},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=V.Zero;return this.collider&&this.collider.body&&(t=this.collider.body.pos),new Kt(this.offset.x+t.x-this.radius,this.offset.y+t.y-this.radius,this.offset.x+t.x+this.radius,this.offset.y+t.y+this.radius)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return new Kt(this.offset.x-this.radius,this.offset.y-this.radius,this.offset.x+this.radius,this.offset.y+this.radius)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){return(this.collider?this.collider.mass:st.defaultMass)*this.radius*this.radius/2},enumerable:!1,configurable:!0}),t.prototype.testSeparatingAxisTheorem=function(t){var e=t.axes,n=t.center,i=t.getFurthestPoint(this.offset.sub(n));e.push(this.offset.sub(i).normalize());for(var r=Number.MAX_VALUE,o=null,s=-1,a=0;a<e.length;a++){var c=t.project(e[a]),h=this.project(e[a]),u=c.getOverlap(h);if(u<=0)return null;u<r&&(r=u,o=e[a],s=a)}return s<0?null:o.normalize().scale(r)},t.prototype.recalc=function(){},t.prototype.project=function(t){var e=[],n=this.center.dot(t);return e.push(n),e.push(n+this.radius),e.push(n-this.radius),new Q(Math.min.apply(Math,e),Math.max.apply(Math,e))},t.prototype.draw=function(t,e,n){void 0===e&&(e=et.Green),void 0===n&&(n=V.Zero);var i=n.add(this.offset);t.beginPath(),t.fillStyle=e.toString(),t.arc(i.x,i.y,this.radius,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=et.Green);var n=this.collider.body,i=n?n.pos.add(this.offset):this.offset,r=n?n.rotation:0;t.beginPath(),t.strokeStyle=e.toString(),t.arc(i.x,i.y,this.radius,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(Math.cos(r)*this.radius+i.x,Math.sin(r)*this.radius+i.y),t.closePath(),t.stroke()},t}(),Qt=function(){function t(t){this.begin=t.begin||V.Zero,this.end=t.end||V.Zero,this.collider=t.collider||null,this.offset=this.center}return t.prototype.clone=function(){return new t({begin:this.begin.clone(),end:this.end.clone(),collider:null})},Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.begin.average(this.end).add(this._getBodyPos())},enumerable:!1,configurable:!0}),t.prototype._getBodyPos=function(){var t=V.Zero;return this.collider&&this.collider.body&&(t=this.collider.body.pos),t},t.prototype._getTransformedBegin=function(){var t=this.collider?this.collider.body:null,e=t?t.rotation:0;return this.begin.rotate(e).add(this._getBodyPos())},t.prototype._getTransformedEnd=function(){var t=this.collider?this.collider.body:null,e=t?t.rotation:0;return this.end.rotate(e).add(this._getBodyPos())},t.prototype.getSlope=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd(),n=t.distance(e);return e.sub(t).scale(1/n)},t.prototype.getLength=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd();return t.distance(e)},t.prototype.contains=function(){return!1},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var n=this._getTransformedBegin().sub(t.pos);if(0===t.dir.cross(this.getSlope())&&0!==n.cross(t.dir))return null;var i=t.dir.cross(this.getSlope());if(0===i)return null;var r=n.cross(this.getSlope())/i;if(r>=0&&r<=e){var o=n.cross(t.dir)/i/this.getLength();if(o>=0&&o<=1)return t.getPoint(r)}return null},t.prototype.getClosestLineBetween=function(e){if(e instanceof Xt)return Gt.CircleEdgeClosestLine(e,this);if(e instanceof Zt)return Gt.PolygonEdgeClosestLine(e,this).flip();if(e instanceof t)return Gt.EdgeEdgeClosestLine(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof Xt)return Nt.CollideCircleEdge(e,this);if(e instanceof Zt)return Nt.CollidePolygonEdge(e,this);if(e instanceof t)return Nt.CollideEdgeEdge();throw new Error("Edge could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){var e=this._getTransformedBegin(),n=this._getTransformedEnd();return t.dot(e)>0?e:n},t.prototype._boundsFromBeginEnd=function(t,e){return new Kt(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y))},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd();return this._boundsFromBeginEnd(t,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return this._boundsFromBeginEnd(this.begin,this.end)},enumerable:!1,configurable:!0}),t.prototype.asLine=function(){return new X(this._getTransformedBegin(),this._getTransformedEnd())},t.prototype.asLocalLine=function(){return new X(this.begin,this.end)},Object.defineProperty(t.prototype,"axes",{get:function(){var t=this._getTransformedEnd().sub(this._getTransformedBegin()).normal(),e=[];return e.push(t),e.push(t.negate()),e.push(t.normal()),e.push(t.normal().negate()),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){var t=this.collider?this.collider.mass:st.defaultMass,e=this.end.sub(this.begin).distance()/2;return t*e*e},enumerable:!1,configurable:!0}),t.prototype.recalc=function(){},t.prototype.project=function(t){for(var e=[],n=[this._getTransformedBegin(),this._getTransformedEnd()],i=n.length,r=0;r<i;r++)e.push(n[r].dot(t));return new Q(Math.min.apply(Math,e),Math.max.apply(Math,e))},t.prototype.draw=function(t,e,n){void 0===e&&(e=et.Green),void 0===n&&(n=V.Zero);var i=this.begin.add(n),r=this.end.add(n);t.strokeStyle=e.toString(),t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(r.x,r.y),t.closePath(),t.stroke()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=et.Red);var n=this._getTransformedBegin(),i=this._getTransformedEnd();t.strokeStyle=e.toString(),t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath(),t.stroke()},t}(),Zt=function(){function t(t){this._transformedPoints=[],this._axes=[],this._sides=[],this.offset=t.offset||V.Zero;var e=!!t.clockwiseWinding;this.points=(e?t.points.reverse():t.points)||[],this.collider=this.collider=t.collider||null,this._calculateTransformation()}return t.prototype.clone=function(){return new t({offset:this.offset.clone(),points:this.points.map((function(t){return t.clone()})),collider:null})},Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){var t=this.collider?this.collider.body:null;return t?t.pos.add(this.offset):this.offset},enumerable:!1,configurable:!0}),t.prototype._calculateTransformation=function(){var t=this.collider?this.collider.body:null,e=t?t.pos.add(this.offset):this.offset,n=t?t.rotation:0,i=t?t.scale:V.One,r=this.points.length;this._transformedPoints.length=0;for(var o=0;o<r;o++)this._transformedPoints[o]=this.points[o].scale(i).rotate(n).add(e)},t.prototype.getTransformedPoints=function(){return this._transformedPoints.length&&(!this.collider||!this.collider.body||this.collider.body.oldPos.equals(this.collider.body.pos)&&this.collider.body.oldRotation===this.collider.body.rotation&&this.collider.body.oldScale===this.collider.body.scale)||this._calculateTransformation(),this._transformedPoints},t.prototype.getSides=function(){if(this._sides.length)return this._sides;for(var t=[],e=this.getTransformedPoints(),n=e.length,i=0;i<n;i++)t.push(new X(e[i],e[(i-1+n)%n]));return this._sides=t,this._sides},t.prototype.recalc=function(){this._sides.length=0,this._axes.length=0,this._transformedPoints.length=0,this.getTransformedPoints(),this.getSides()},t.prototype.contains=function(t){var e=new G(t,new V(1,0));return this.getSides().reduce((function(t,n){return e.intersect(n)>=0?t+1:t}),0)%2!=0},t.prototype.getClosestLineBetween=function(e){if(e instanceof Xt)return Gt.PolygonCircleClosestLine(this,e);if(e instanceof t)return Gt.PolygonPolygonClosestLine(this,e);if(e instanceof Qt)return Gt.PolygonEdgeClosestLine(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof Xt)return Nt.CollideCirclePolygon(e,this);if(e instanceof t)return Nt.CollidePolygonPolygon(this,e);if(e instanceof Qt)return Nt.CollidePolygonEdge(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){for(var e=this.getTransformedPoints(),n=null,i=-Number.MAX_VALUE,r=0;r<e.length;r++){var o=t.dot(e[r]);o>i&&(i=o,n=e[r])}return n},t.prototype.getClosestFace=function(t){for(var e=this.getSides(),n=Number.POSITIVE_INFINITY,i=-1,r=-1,o=0;o<e.length;o++){var s=e[o].distanceToPoint(t);s<n&&(n=s,i=o,r=s)}return-1!==i?{distance:e[i].normal().scale(r),face:e[i]}:null},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=this.getTransformedPoints();return Kt.fromPoints(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return Kt.fromPoints(this.points)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){for(var t=this.collider?this.collider.mass:st.defaultMass,e=0,n=0,i=0;i<this.points.length;i++){var r=(i+1)%this.points.length,o=this.points[r].cross(this.points[i]);e+=o*(this.points[i].dot(this.points[i])+this.points[i].dot(this.points[r])+this.points[r].dot(this.points[r])),n+=o}return t/6*(e/n)},enumerable:!1,configurable:!0}),t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);for(var n=this.getSides(),i=n.length,r=Number.MAX_VALUE,o=-1,s=0;s<i;s++){var a=t.intersect(n[s]);a>=0&&a<r&&a<=e&&(r=a,o=s)}return o>=0?t.getPoint(r):null},Object.defineProperty(t.prototype,"axes",{get:function(){if(this._axes.length)return this._axes;for(var t=[],e=this.getTransformedPoints(),n=e.length,i=0;i<n;i++)t.push(e[i].sub(e[(i+1)%n]).normal());return this._axes=t,this._axes},enumerable:!1,configurable:!0}),t.prototype.testSeparatingAxisTheorem=function(t){for(var e=t,n=this.axes.concat(e.axes),i=Number.MAX_VALUE,r=null,o=-1,s=0;s<n.length;s++){var a=this.project(n[s]),c=e.project(n[s]),h=a.getOverlap(c);if(h<=0)return null;h<i&&(i=h,r=n[s],o=s)}return-1===o?null:r.normalize().scale(i)},t.prototype.project=function(t){for(var e=this.getTransformedPoints(),n=e.length,i=Number.MAX_VALUE,r=-Number.MAX_VALUE,o=0;o<n;o++){var s=e[o].dot(t);i=Math.min(i,s),r=Math.max(r,s)}return new Q(i,r)},t.prototype.draw=function(t,e,n){void 0===e&&(e=et.Green),void 0===n&&(n=V.Zero),t.beginPath(),t.fillStyle=e.toString();var i=n.add(this.offset),r=this.points[0].add(i);t.moveTo(r.x,r.y),this.points.map((function(t){return t.add(i)})).forEach((function(e){t.lineTo(e.x,e.y)})),t.lineTo(r.x,r.y),t.closePath(),t.fill()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=et.Red),t.beginPath(),t.strokeStyle=e.toString();var n=this.getTransformedPoints()[0];t.moveTo(n.x,n.y),this.getTransformedPoints().forEach((function(e){t.lineTo(e.x,e.y)})),t.lineTo(n.x,n.y),t.closePath(),t.stroke()},t}(),Kt=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),"object"==typeof t?(this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom):"number"==typeof t&&(this.left=t,this.top=e,this.right=n,this.bottom=i)}return t.getSideFromIntersection=function(t){return t&&t?Math.abs(t.x)>Math.abs(t.y)?t.x<0?p.Right:p.Left:t.y<0?p.Bottom:p.Top:p.None},t.fromPoints=function(e){for(var n=1/0,i=1/0,r=-1/0,o=-1/0,s=0;s<e.length;s++)e[s].x<n&&(n=e[s].x),e[s].x>r&&(r=e[s].x),e[s].y<i&&(i=e[s].y),e[s].y>o&&(o=e[s].y);return new t(n,i,r,o)},t.fromDimension=function(e,n,i,r){return void 0===i&&(i=V.Half),void 0===r&&(r=V.Zero),new t(-e*i.x+r.x,-n*i.y+r.y,e-e*i.x+r.x,n-n*i.y+r.y)},Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new V((this.left+this.right)/2,(this.top+this.bottom)/2)},enumerable:!1,configurable:!0}),t.prototype.translate=function(e){return new t(this.left+e.x,this.top+e.y,this.right+e.x,this.bottom+e.y)},t.prototype.rotate=function(e,n){void 0===n&&(n=V.Zero);var i=this.getPoints().map((function(t){return t.rotate(e,n)}));return t.fromPoints(i)},t.prototype.scale=function(e,n){void 0===n&&(n=V.Zero);var i=this.translate(n);return new t(i.left*e.x,i.top*e.y,i.right*e.x,i.bottom*e.y)},t.prototype.getPerimeter=function(){return 2*(this.width+this.height)},t.prototype.getPoints=function(){var t=[];return t.push(new V(this.left,this.top)),t.push(new V(this.right,this.top)),t.push(new V(this.right,this.bottom)),t.push(new V(this.left,this.bottom)),t},t.prototype.toPolygon=function(t){var e=null;return t&&t.body&&t.body.collider&&(e=t.body.collider),new Zt({collider:e,points:this.getPoints(),offset:V.Zero})},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var n=-1/0,i=1/0,r=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,o=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,s=(this.left-t.pos.x)*r,a=(this.right-t.pos.x)*r;n=Math.min(s,a),i=Math.max(s,a);var c=(this.top-t.pos.y)*o,h=(this.bottom-t.pos.y)*o;return n=Math.max(n,Math.min(c,h)),(i=Math.min(i,Math.max(c,h)))>=Math.max(0,n)&&n<e},t.prototype.rayCastTime=function(t,e){void 0===e&&(e=1/0);var n=-1/0,i=1/0,r=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,o=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,s=(this.left-t.pos.x)*r,a=(this.right-t.pos.x)*r;n=Math.min(s,a),i=Math.max(s,a);var c=(this.top-t.pos.y)*o,h=(this.bottom-t.pos.y)*o;return n=Math.max(n,Math.min(c,h)),(i=Math.min(i,Math.max(c,h)))>=Math.max(0,n)&&n<e?n:-1},t.prototype.contains=function(e){return e instanceof V?this.left<=e.x&&this.top<=e.y&&this.bottom>=e.y&&this.right>=e.x:e instanceof t&&(this.left<e.left&&this.top<e.top&&e.bottom<this.bottom&&e.right<this.right)},t.prototype.combine=function(e){return new t(Math.min(this.left,e.left),Math.min(this.top,e.top),Math.max(this.right,e.right),Math.max(this.bottom,e.bottom))},Object.defineProperty(t.prototype,"dimensions",{get:function(){return new V(this.width,this.height)},enumerable:!1,configurable:!0}),t.prototype.intersect=function(t){var e=this.combine(t);if(e.width<t.width+this.width&&e.height<t.height+this.height&&!e.dimensions.equals(t.dimensions)&&!e.dimensions.equals(this.dimensions)){var n=0;n=this.right>=t.left&&this.right<=t.right?t.left-this.right:t.right-this.left;var i=0;return i=this.top<=t.bottom&&this.top>=t.top?t.bottom-this.top:t.top-this.bottom,Math.abs(n)<Math.abs(i)?new V(n,0):new V(0,i)}if(e.dimensions.equals(t.dimensions)||e.dimensions.equals(this.dimensions)){n=0;n=this.width-t.width>=0?this.right-t.right<=t.left-this.left?t.left-this.right:t.right-this.left:t.right-this.right<=this.left-t.left?this.left-t.right:this.right-t.left;i=0;return i=this.height-t.height>=0?this.bottom-t.bottom<=t.top-this.top?t.top-this.bottom:t.bottom-this.top:t.bottom-this.bottom<=this.top-t.top?this.top-t.bottom:this.bottom-t.top,Math.abs(n)<Math.abs(i)?new V(n,0):new V(0,i)}return null},t.prototype.intersectWithSide=function(e){var n=this.intersect(e);return t.getSideFromIntersection(n)},t.prototype.debugDraw=function(t,e){void 0===e&&(e=et.Yellow),t.strokeStyle=e.toString(),t.strokeRect(this.left,this.top,this.width,this.height)},t}(),Yt=function(){return(Yt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};!function(t){t.FullScreen="FullScreen",t.Container="Container",t.Fixed="Fixed",t.Position="Position"}(Vt||(Vt={}));var Jt=function(){function t(){}return Object.defineProperty(t,"SVGA",{get:function(){return{width:800,height:600}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Standard",{get:function(){return{width:1920,height:1080}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Atari2600",{get:function(){return{width:160,height:192}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"GameBoy",{get:function(){return{width:160,height:144}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"GameBoyAdvance",{get:function(){return{width:240,height:160}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NintendoDS",{get:function(){return{width:256,height:192}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NES",{get:function(){return{width:256,height:224}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SNES",{get:function(){return{width:256,height:244}},enumerable:!1,configurable:!0}),t}(),$t=function(){function t(t){var e,n,i,r=this;this._antialiasing=!0,this._resolutionStack=[],this._viewportStack=[],this._pixelRatio=null,this._isFullScreen=!1,this._isDisposed=!1,this._logger=R.getInstance(),this._pixelRatioChangeHandler=function(){r._logger.debug("Pixel Ratio Change",window.devicePixelRatio),r.applyResolutionAndViewport()},this._windowResizeHandler=function(){var t=r.displayMode===Vt.Container?r.canvas.parentElement||document.body:window;r._logger.debug("View port resized"),r._setHeightByDisplayMode(t),r._logger.info("parent.clientHeight "+t.clientHeight),r.applyResolutionAndViewport()},this.viewport=t.viewport,this.resolution=null!==(e=t.resolution)&&void 0!==e?e:Yt({},this.viewport),this._displayMode=null!==(n=t.displayMode)&&void 0!==n?n:Vt.Fixed,this._canvas=t.canvas,this._ctx=t.context,this._antialiasing=null!==(i=t.antialiasing)&&void 0!==i?i:this._antialiasing,this._browser=t.browser,this._position=t.position,this._pixelRatio=t.pixelRatio,this._applyDisplayMode(),this._mediaQueryList=this._browser.window.nativeComponent.matchMedia("(resolution: "+window.devicePixelRatio+"dppx)"),this._mediaQueryList.addEventListener("change",this._pixelRatioChangeHandler)}return t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._browser.window.off("resize",this._windowResizeHandler),this._mediaQueryList.removeEventListener("change",this._pixelRatioChangeHandler))},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio?this._pixelRatio:window.devicePixelRatio<1?1:window.devicePixelRatio||1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHiDpi",{get:function(){return 1!==this.pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayMode",{get:function(){return this._displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewport",{get:function(){return this._viewport?this._viewport:this._resolution},set:function(t){this._viewport=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaledWidth",{get:function(){return this._resolution.width*this.pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaledHeight",{get:function(){return this._resolution.height*this.pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setCurrentCamera=function(t){this._camera=t},t.prototype.pushResolutionAndViewport=function(){this._resolutionStack.push(this.resolution),this._viewportStack.push(this.viewport),this.resolution=Yt({},this.resolution),this.viewport=Yt({},this.viewport)},t.prototype.popResolutionAndViewport=function(){this.resolution=this._resolutionStack.pop(),this.viewport=this._viewportStack.pop()},t.prototype.applyResolutionAndViewport=function(){this._canvas.width=this.scaledWidth,this._canvas.height=this.scaledHeight,this._canvas.style.imageRendering=this._antialiasing?"auto":"pixelated",this._canvas.style.width=this.viewport.width+"px",this._canvas.style.height=this.viewport.height+"px",this._ctx.resetTransform(),this._ctx.scale(this.pixelRatio,this.pixelRatio),this._ctx.imageSmoothingEnabled=this._antialiasing},Object.defineProperty(t.prototype,"antialiasing",{get:function(){return this._antialiasing},set:function(t){this._antialiasing=t,this._ctx.imageSmoothingEnabled=this._antialiasing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFullScreen",{get:function(){return this._isFullScreen},enumerable:!1,configurable:!0}),t.prototype.goFullScreen=function(){var t=this;return this._canvas.requestFullscreen().then((function(){t._isFullScreen=!0}))},t.prototype.exitFullScreen=function(){var t=this;return document.exitFullscreen().then((function(){t._isFullScreen=!1}))},t.prototype.screenToWorldCoordinates=function(t){var e,n,i,r,o=t.x,s=t.y;return o=o/this.viewport.width*this.drawWidth,s=s/this.viewport.height*this.drawHeight,o-=this.halfDrawWidth,s-=this.halfDrawHeight,o+=null!==(n=null===(e=this._camera)||void 0===e?void 0:e.x)&&void 0!==n?n:0,s+=null!==(r=null===(i=this._camera)||void 0===i?void 0:i.y)&&void 0!==r?r:0,new V(Math.floor(o),Math.floor(s))},t.prototype.worldToScreenCoordinates=function(t){var e,n,i,r,o=t.x,s=t.y;return o-=null!==(n=null===(e=this._camera)||void 0===e?void 0:e.x)&&void 0!==n?n:0,s-=null!==(r=null===(i=this._camera)||void 0===i?void 0:i.y)&&void 0!==r?r:0,o+=this.halfDrawWidth,s+=this.halfDrawHeight,o=o*this.viewport.width/this.drawWidth,s=s*this.viewport.height/this.drawHeight,new V(Math.floor(o),Math.floor(s))},t.prototype.getWorldBounds=function(){var t=this.screenToWorldCoordinates(V.Zero).x,e=this.screenToWorldCoordinates(V.Zero).y,n=t+this.drawWidth,i=e+this.drawHeight;return new Kt(t,e,n,i)},Object.defineProperty(t.prototype,"canvasWidth",{get:function(){return this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"halfCanvasWidth",{get:function(){return this.canvas.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasHeight",{get:function(){return this.canvas.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"halfCanvasHeight",{get:function(){return this.canvas.height/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawWidth",{get:function(){return this._camera?this.scaledWidth/this._camera.z/this.pixelRatio:this.scaledWidth/this.pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"halfDrawWidth",{get:function(){return this.drawWidth/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawHeight",{get:function(){return this._camera?this.scaledHeight/this._camera.z/this.pixelRatio:this.scaledHeight/this.pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"halfDrawHeight",{get:function(){return this.drawHeight/2},enumerable:!1,configurable:!0}),t.prototype._applyDisplayMode=function(){if(this.displayMode===Vt.FullScreen||this.displayMode===Vt.Container){var t=this.displayMode===Vt.Container?this.canvas.parentElement||document.body:window;this._setHeightByDisplayMode(t),this._browser.window.on("resize",this._windowResizeHandler)}else this.displayMode===Vt.Position&&this._initializeDisplayModePosition(this._position)},t.prototype._setHeightByDisplayMode=function(t){this.displayMode===Vt.Container&&(this.resolution={width:t.clientWidth,height:t.clientHeight},this.viewport=this.resolution),this.displayMode===Vt.FullScreen&&(document.body.style.margin="0px",document.body.style.overflow="hidden",this.resolution={width:t.innerWidth,height:t.innerHeight},this.viewport=this.resolution)},t.prototype._initializeDisplayModePosition=function(t){if(!t)throw new Error("DisplayMode of Position was selected but no position option was given");if(this.canvas.style.display="block",this.canvas.style.position="absolute","string"==typeof t){var e=t.split(" ");switch(e[0]){case"top":this.canvas.style.top="0px";break;case"bottom":this.canvas.style.bottom="0px";break;case"middle":this.canvas.style.top="50%";var n=-this.halfDrawHeight;this.canvas.style.marginTop=n.toString();break;default:throw new Error("Invalid Position Given")}if(e[1])switch(e[1]){case"left":this.canvas.style.left="0px";break;case"right":this.canvas.style.right="0px";break;case"center":this.canvas.style.left="50%";var i=-this.halfDrawWidth;this.canvas.style.marginLeft=i.toString();break;default:throw new Error("Invalid Position Given")}}else t.top&&("number"==typeof t.top?this.canvas.style.top=t.top.toString()+"px":this.canvas.style.top=t.top),t.right&&("number"==typeof t.right?this.canvas.style.right=t.right.toString()+"px":this.canvas.style.right=t.right),t.bottom&&("number"==typeof t.bottom?this.canvas.style.bottom=t.bottom.toString()+"px":this.canvas.style.bottom=t.bottom),t.left&&("number"==typeof t.left?this.canvas.style.left=t.left.toString()+"px":this.canvas.style.left=t.left)},t}(),te=function(){function t(t){this._handlers={},this._wiredEventDispatchers=[],this._target=t}return t.prototype.clear=function(){this._handlers={},this._wiredEventDispatchers=[]},t.prototype.emit=function(t,e){if(t){t=t.toLowerCase();var n,i,r=this._target;if(e||(e=new ht),e.target=r,this._handlers[t])for(n=0,i=this._handlers[t].length;n<i;n++)this._handlers[t][n].call(r,e);for(n=0,i=this._wiredEventDispatchers.length;n<i;n++)this._wiredEventDispatchers[n].emit(t,e)}},t.prototype.on=function(t,e){t=t.toLowerCase(),this._handlers[t]||(this._handlers[t]=[]),this._handlers[t].push(e),"unsubscribe"!==t&&"subscribe"!==t&&this.emit("subscribe",new Ct(t,e))},t.prototype.off=function(t,e){t=t.toLowerCase();var n=this._handlers[t];if(n)if(e){var i=n.indexOf(e);this._handlers[t].splice(i,1)}else this._handlers[t].length=0;"unsubscribe"!==t&&"subscribe"!==t&&this.emit("unsubscribe",new Ot(t,e))},t.prototype.once=function(t,e){var n=this;this.on(t,(function(i){var r=i||new ht;r.target=r.target||n._target,n.off(t,e),e.call(r.target,r)}))},t.prototype.wire=function(t){t._wiredEventDispatchers.push(this)},t.prototype.unwire=function(t){var e=t._wiredEventDispatchers.indexOf(this);e>-1&&t._wiredEventDispatchers.splice(e,1)},t}(),ee=function(){function t(){this.eventDispatcher=new te(this)}return t.prototype.on=function(t,e){this.eventDispatcher.on(t,e)},t.prototype.off=function(t,e){this.eventDispatcher.off(t,e)},t.prototype.emit=function(t,e){this.eventDispatcher.emit(t,e)},t.prototype.once=function(t,e){this.eventDispatcher.once(t,e)},t}(),ne=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ie=function(t){function e(e,n,i){void 0===i&&(i=!0);var r=t.call(this)||this;return r.path=e,r.responseType=n,r.bustCache=i,r.data=null,r.logger=R.getInstance(),r.arrayBuffer=null,r.onprogress=function(){},r.oncomplete=function(){},r.onerror=function(){},r}return ne(e,t),e.prototype.isLoaded=function(){return null!==this.data},e.prototype.wireEngine=function(t){},e.prototype._cacheBust=function(t){return/\?\w*=\w*/.test(t)?t+="&__="+Date.now():t+="?__="+Date.now(),t},e.prototype._start=function(){this.logger.debug("Started loading resource "+this.path)},e.prototype.load=function(){var t=this,e=new d;if(null!==this.data)return this.logger.debug("Already have data for resource",this.path),e.resolve(this.data),this.oncomplete(),e;var n=new XMLHttpRequest;return n.open("GET",this.bustCache?this._cacheBust(this.path):this.path,!0),n.responseType=this.responseType,n.onloadstart=function(){t._start()},n.onprogress=this.onprogress,n.onerror=this.onerror,n.onload=function(){if(0!==n.status&&200!==n.status)return t.logger.error("Failed to load resource ",t.path," server responded with error code",n.status),t.onerror(n.response),void e.resolve(n.response);t.data=t.processData(n.response),t.oncomplete(),t.logger.debug("Completed loading resource",t.path),e.resolve(t.data)},n.send(),e},e.prototype.getData=function(){return this.data},e.prototype.getArrayData=function(){return this.arrayBuffer},e.prototype.setData=function(t){this.data=this.processData(t)},e.prototype.processData=function(t){return"blob"===this.responseType?URL.createObjectURL(t):t},e}(ee),re=function(){function t(){}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data,o=(r[i+0]+r[i+1]+r[i+2])/3;r[i+0]=o,r[i+1]=o,r[i+2]=o},t}(),oe=function(){function t(){}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data;r[i+0]=255-r[i+0],r[i+1]=255-r[i+1],r[i+2]=255-r[i+2]},t}(),se=function(){function t(t){this.opacity=t}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data;0!==r[i+3]&&(r[i+3]=Math.round(this.opacity*r[i+3]))},t}(),ae=function(){function t(t){this.color=t}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data;0!==r[i+3]&&(r[i+0]=(r[i+0]+this.color.r)/2,r[i+1]=(r[i+1]+this.color.g)/2,r[i+2]=(r[i+2]+this.color.b)/2)},t}(),ce=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data,o=et.fromRGB(r[i+0],r[i+1],r[i+2],r[i+3]).lighten(this.factor);r[i+0]=o.r,r[i+1]=o.g,r[i+2]=o.b,r[i+3]=o.a},t}(),he=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data,o=et.fromRGB(r[i+0],r[i+1],r[i+2],r[i+3]).darken(this.factor);r[i+0]=o.r,r[i+1]=o.g,r[i+2]=o.b,r[i+3]=o.a},t}(),ue=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data,o=et.fromRGB(r[i+0],r[i+1],r[i+2],r[i+3]).saturate(this.factor);r[i+0]=o.r,r[i+1]=o.g,r[i+2]=o.b,r[i+3]=o.a},t}(),le=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data,o=et.fromRGB(r[i+0],r[i+1],r[i+2],r[i+3]).desaturate(this.factor);r[i+0]=o.r,r[i+1]=o.g,r[i+2]=o.b,r[i+3]=o.a},t}(),pe=function(){function t(t){this.color=t}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data;0!==r[i+3]&&(r[i+0]=this.color.r,r[i+1]=this.color.g,r[i+2]=this.color.b)},t}(),de=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function fe(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.apply(this,e)||this,r=e.filter((function(t){return void 0!==t})).length;return 1!==r||!e[0]||"object"!=typeof e[0]||e[0]instanceof Array||i.assign(e[0]),i}return de(e,t),e.prototype.assign=function(t){for(var e in t)"function"!=typeof this[e]&&(this[e]=t[e])},e}(t)}var ye,ge=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_e=function(){return(_e=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ve=function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return ge(e,t),e}(fe(function(){function t(t,e,n,i,r){var o=this;this.x=0,this.y=0,this.rotation=0,this.anchor=new V(0,0),this.offset=V.Zero,this.scale=V.One,this.logger=R.getInstance(),this.flipVertical=!1,this.flipHorizontal=!1,this.effects=[],this.width=0,this.height=0,this._spriteCanvas=null,this._spriteCtx=null,this._pixelData=null,this._pixelsLoaded=!1,this._dirtyEffect=!1,this._opacity=1;var s=t;if(t&&!(t instanceof be)&&(e=0|t.x,n=0|t.y,i=0|t.width,r=0|t.height,!(s=t.image))){throw new Error("An image texture is required to contsruct a sprite")}this.x=e||0,this.y=n||0,this._texture=s,this._spriteCanvas=document.createElement("canvas"),this._spriteCanvas.width=i,this._spriteCanvas.height=r,this._spriteCtx=this._spriteCanvas.getContext("2d"),this._texture.loaded.then((function(){o.width=o.width||o._texture.image.naturalWidth,o.height=o.height||o._texture.image.naturalHeight,o._spriteCanvas.width=o._spriteCanvas.width||o._texture.image.naturalWidth,o._spriteCanvas.height=o._spriteCanvas.height||o._texture.image.naturalHeight,o._loadPixels(),o._dirtyEffect=!0})).error((function(t){o.logger.error("Error loading texture ",o._texture.path,t)})),this.width=i,this.height=r}return Object.defineProperty(t.prototype,"drawWidth",{get:function(){return this.width*this.scale.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawHeight",{get:function(){return this.height*this.scale.y},enumerable:!1,configurable:!0}),t.prototype._loadPixels=function(){if(this._texture.isLoaded()&&!this._pixelsLoaded){var t=this._texture.image.naturalWidth||0,e=this._texture.image.naturalHeight||0;if(this.width>t&&this.logger.warn("The sprite width "+this.width+" exceeds the width \n                              "+t+" of the backing texture "+this._texture.path),this.width<=0||t<=0)throw new Error("The width of a sprite cannot be 0 or negative, sprite width: "+this.width+", original width: "+t);if(this.height>e&&this.logger.warn("The sprite height "+this.height+" exceeds the height \n                              "+e+" of the backing texture "+this._texture.path),this.height<=0||e<=0)throw new Error("The height of a sprite cannot be 0 or negative, sprite height: "+this.height+", original height: "+e);this._spriteCtx.drawImage(this._texture.image,m(this.x,0,t),m(this.y,0,e),m(this.width,0,t),m(this.height,0,e),0,0,this.width,this.height),this._pixelsLoaded=!0}},t.prototype.opacity=function(t){this._opacity=t},t.prototype.grayscale=function(){this.addEffect(new re)},t.prototype.invert=function(){this.addEffect(new oe)},t.prototype.fill=function(t){this.addEffect(new pe(t))},t.prototype.colorize=function(t){this.addEffect(new ae(t))},t.prototype.lighten=function(t){void 0===t&&(t=.1),this.addEffect(new ce(t))},t.prototype.darken=function(t){void 0===t&&(t=.1),this.addEffect(new he(t))},t.prototype.saturate=function(t){void 0===t&&(t=.1),this.addEffect(new ue(t))},t.prototype.desaturate=function(t){void 0===t&&(t=.1),this.addEffect(new le(t))},t.prototype.addEffect=function(t){this.effects.push(t),this._texture.isLoaded()&&this._pixelsLoaded?this._applyEffects():this._dirtyEffect=!0},t.prototype.removeEffect=function(t){var e=-1;(e="number"==typeof t?t:this.effects.indexOf(t))<0||e>=this.effects.length||(this.effects.splice(e,1),this._texture.isLoaded()&&this._pixelsLoaded?this._applyEffects():this._dirtyEffect=!0)},t.prototype._applyEffects=function(){var t=this._texture.image.naturalWidth||0,e=this._texture.image.naturalHeight||0;if(this._spriteCtx.clearRect(0,0,this.width,this.height),this._spriteCtx.drawImage(this._texture.image,m(this.x,0,t),m(this.y,0,e),m(this.width,0,t),m(this.height,0,e),0,0,this.width,this.height),this.effects.length>0){this._pixelData=this._spriteCtx.getImageData(0,0,this.width,this.height);for(var n=this.effects.length,i=0;i<n;i++)for(var r=0;r<this.height;r++)for(var o=0;o<this.width;o++)this.effects[i].updatePixel(o,r,this._pixelData);this._spriteCtx.clearRect(0,0,this.width,this.height),this._spriteCtx.putImageData(this._pixelData,0,0)}this._dirtyEffect=!1},t.prototype.clearEffects=function(){this.effects.length=0,this._applyEffects()},t.prototype.reset=function(){},t.prototype.debugDraw=function(t,e,n){t.save(),t.translate(e,n),t.rotate(this.rotation);var i=this.drawWidth*this.anchor.x,r=this.drawHeight*this.anchor.y;t.strokeStyle=et.Black.toString(),t.strokeRect(-i,-r,this.drawWidth,this.drawHeight),t.restore()},t.prototype.draw=function(t,e,n){t instanceof CanvasRenderingContext2D?this._drawWithOptions({ctx:t,x:e,y:n}):this._drawWithOptions(t)},t.prototype._drawWithOptions=function(t){var e,n,i,r,o,s,a,c,h=_e(_e({},t),{rotation:null!==(e=t.rotation)&&void 0!==e?e:this.rotation,drawWidth:null!==(n=t.drawWidth)&&void 0!==n?n:this.drawWidth,drawHeight:null!==(i=t.drawHeight)&&void 0!==i?i:this.drawHeight,flipHorizontal:null!==(r=t.flipHorizontal)&&void 0!==r?r:this.flipHorizontal,flipVertical:null!==(o=t.flipVertical)&&void 0!==o?o:this.flipVertical,anchor:null!==(s=t.anchor)&&void 0!==s?s:this.anchor,offset:null!==(a=t.offset)&&void 0!==a?a:this.offset,opacity:null!==(c=t.opacity)&&void 0!==c?c:this._opacity}),u=h.ctx,l=h.x,p=h.y,d=h.rotation,f=h.drawWidth,y=h.drawHeight,g=h.anchor,_=h.offset,v=h.opacity,m=h.flipHorizontal,b=h.flipVertical;this._dirtyEffect&&this._applyEffects(),u.save();var w=f*g.x+_.x,x=y*g.y+_.y;u.translate(l,p),u.rotate(d),m&&(u.translate(f,0),u.scale(-1,1)),b&&(u.translate(0,y),u.scale(1,-1)),this._dirtyEffect&&this._applyEffects();var P=u.globalAlpha;u.globalAlpha=null!=v?v:1,u.drawImage(this._spriteCanvas,0,0,this.width,this.height,-w,-x,f,y),u.globalAlpha=P,u.restore()},t.prototype.clone=function(){var t=new ve(this._texture,this.x,this.y,this.width,this.height);t.scale=this.scale.clone(),t.rotation=this.rotation,t.flipHorizontal=this.flipHorizontal,t.flipVertical=this.flipVertical;for(var e=this.effects.length,n=0;n<e;n++)t.addEffect(this.effects[n]);return t},t}())),me=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),be=function(t){function e(e,n){void 0===n&&(n=!0);var i=t.call(this,e,"blob",n)||this;return i.path=e,i.bustCache=n,i.loaded=new d,i._isLoaded=!1,i._sprite=null,i._sprite=new ve(i,0,0,0,0),i}return me(e,t),e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.load=function(){var e=this,n=new d;this.path.indexOf("data:image/")>-1?(this.image=new Image,this.image.addEventListener("load",(function(){e.oncomplete(),e._isLoaded=!0,e.width=e._sprite.width=e.image.naturalWidth,e.height=e._sprite.height=e.image.naturalHeight,e._sprite=new ve(e,0,0,e.width,e.height),e.loaded.resolve(e.image),n.resolve(e.image)})),this.image.src=this.path):t.prototype.load.call(this).then((function(){e.image=new Image,e.image.addEventListener("load",(function(){e._isLoaded=!0,e.width=e._sprite.width=e.image.naturalWidth,e.height=e._sprite.height=e.image.naturalHeight,e.loaded.resolve(e.image),n.resolve(e.image)})),e.image.src=t.prototype.getData.call(e)}),(function(){n.reject("Error loading texture.")}));return n},e.prototype.asSprite=function(){return this._sprite},e}(ie),we=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xe=function(){return(xe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Pe=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return we(e,t),e}(fe(function(){function t(t,e,n,i){this.sprites=[],this.currentFrame=0,this._timeLeftInFrame=0,this._idempotencyToken=-1,this.anchor=V.Zero,this.rotation=0,this.scale=V.One,this.loop=!0,this.freezeFrame=-1,this.flipVertical=!1,this.flipHorizontal=!1,this.drawWidth=0,this.drawHeight=0,this.width=0,this.height=0,this._opacity=1;var r=t;if(t&&!(t instanceof lr)){var o=t;r=o.engine,e=o.sprites,n=o.speed,i=o.loop}this.sprites=e,this.speed=n,this._engine=r,this._timeLeftInFrame=this.speed,null!=i&&(this.loop=i),e&&e[0]&&(this.drawHeight=e[0]?e[0].drawHeight:0,this.drawWidth=e[0]?e[0].drawWidth:0,this.width=e[0]?e[0].width:0,this.height=e[0]?e[0].height:0,this.freezeFrame=e.length-1)}return t.prototype.opacity=function(t){this._opacity=t},t.prototype.grayscale=function(){this.addEffect(new re)},t.prototype.invert=function(){this.addEffect(new oe)},t.prototype.fill=function(t){this.addEffect(new pe(t))},t.prototype.colorize=function(t){this.addEffect(new ae(t))},t.prototype.lighten=function(t){void 0===t&&(t=.1),this.addEffect(new ce(t))},t.prototype.darken=function(t){void 0===t&&(t=.1),this.addEffect(new he(t))},t.prototype.saturate=function(t){void 0===t&&(t=.1),this.addEffect(new ue(t))},t.prototype.desaturate=function(t){void 0===t&&(t=.1),this.addEffect(new le(t))},t.prototype.addEffect=function(t){for(var e in this.sprites)this.sprites[e].addEffect(t)},t.prototype.removeEffect=function(t){for(var e in this.sprites)this.sprites[e].removeEffect(t)},t.prototype.clearEffects=function(){for(var t in this.sprites)this.sprites[t].clearEffects()},t.prototype._setAnchor=function(t){for(var e in this.sprites)this.sprites[e].anchor.setTo(t.x,t.y)},t.prototype._setRotation=function(t){for(var e in this.sprites)this.sprites[e].rotation=t},t.prototype._setScale=function(t){for(var e in this.sprites)this.sprites[e].scale=t},t.prototype.reset=function(){this.currentFrame=0},t.prototype.isDone=function(){return!this.loop&&this.currentFrame>=this.sprites.length},t.prototype.tick=function(t,e){if(this._idempotencyToken!==e){this._idempotencyToken=e,this._timeLeftInFrame-=t,this._timeLeftInFrame<=0&&(this.currentFrame=this.loop?(this.currentFrame+1)%this.sprites.length:this.currentFrame+1,this._timeLeftInFrame=this.speed),this._updateValues();var n=this.sprites[this.currentFrame];n&&(this.width=n.width,this.height=n.height,this.drawWidth=n.drawWidth,this.drawHeight=n.drawHeight)}},t.prototype._updateValues=function(){this._setAnchor(this.anchor),this._setRotation(this.rotation),this._setScale(this.scale)},t.prototype.skip=function(t){this.currentFrame=(this.currentFrame+t)%this.sprites.length},t.prototype.draw=function(t,e,n){t instanceof CanvasRenderingContext2D?this._drawWithOptions({ctx:t,x:e,y:n}):this._drawWithOptions(t)},t.prototype._drawWithOptions=function(t){var e,n,i,r,o,s,a,c,h=xe(xe({},t),{rotation:null!==(e=t.rotation)&&void 0!==e?e:this.rotation,drawWidth:null!==(n=t.drawWidth)&&void 0!==n?n:this.drawWidth,drawHeight:null!==(i=t.drawHeight)&&void 0!==i?i:this.drawHeight,flipHorizontal:null!==(r=t.flipHorizontal)&&void 0!==r?r:this.flipHorizontal,flipVertical:null!==(o=t.flipVertical)&&void 0!==o?o:this.flipVertical,anchor:null!==(s=t.anchor)&&void 0!==s?s:this.anchor,opacity:null!==(a=t.opacity)&&void 0!==a?a:this._opacity});this._updateValues(),this.currentFrame<this.sprites.length&&(c=this.sprites[this.currentFrame]).draw(h),-1!==this.freezeFrame&&this.currentFrame>=this.sprites.length&&(c=this.sprites[m(this.freezeFrame,0,this.sprites.length-1)]).draw(h),c&&(this.drawWidth=c.drawWidth,this.drawHeight=c.drawHeight)},t.prototype.play=function(t,e){this.reset(),this._engine.playAnimation(this,t,e)},t}()));!function(t){t[t.ShortestPath=0]="ShortestPath",t[t.LongestPath=1]="LongestPath",t[t.Clockwise=2]="Clockwise",t[t.CounterClockwise=3]="CounterClockwise"}(ye||(ye={}));var Ae=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ee=function(){function t(t,e,n,i,r){this.actor=t,this.easingFcn=r,this._currentLerpTime=0,this._lerpDuration=1e3,this._lerpStart=new V(0,0),this._lerpEnd=new V(0,0),this._initialized=!1,this._stopped=!1,this._distance=0,this._lerpDuration=i,this._lerpEnd=new V(e,n)}return t.prototype._initialize=function(){this._lerpStart=new V(this.actor.pos.x,this.actor.pos.y),this._currentLerpTime=0,this._distance=this._lerpStart.distance(this._lerpEnd)},t.prototype.update=function(t){this._initialized||(this._initialize(),this._initialized=!0);var e=this.actor.pos.x,n=this.actor.pos.y;this._currentLerpTime<this._lerpDuration?(e=this._lerpEnd.x<this._lerpStart.x?this._lerpStart.x-(this.easingFcn(this._currentLerpTime,this._lerpEnd.x,this._lerpStart.x,this._lerpDuration)-this._lerpEnd.x):this.easingFcn(this._currentLerpTime,this._lerpStart.x,this._lerpEnd.x,this._lerpDuration),n=this._lerpEnd.y<this._lerpStart.y?this._lerpStart.y-(this.easingFcn(this._currentLerpTime,this._lerpEnd.y,this._lerpStart.y,this._lerpDuration)-this._lerpEnd.y):this.easingFcn(this._currentLerpTime,this._lerpStart.y,this._lerpEnd.y,this._lerpDuration),this.actor.pos.x=e,this.actor.pos.y=n,this._currentLerpTime+=t):(this.actor.pos.x=this._lerpEnd.x,this.actor.pos.y=this._lerpEnd.y)},t.prototype.isComplete=function(t){return this._stopped||new V(t.pos.x,t.pos.y).distance(this._lerpStart)>=this._distance},t.prototype.reset=function(){this._initialized=!1},t.prototype.stop=function(){this._stopped=!0},t}(),Se=function(){function t(t,e,n,i){this._started=!1,this._stopped=!1,this._actor=t,this._end=new V(e,n),this._speed=i}return t.prototype.update=function(t){this._started||(this._started=!0,this._start=new V(this._actor.pos.x,this._actor.pos.y),this._distance=this._start.distance(this._end),this._dir=this._end.sub(this._start).normalize());var e=this._dir.scale(this._speed);this._actor.vel.x=e.x,this._actor.vel.y=e.y,this.isComplete(this._actor)&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(t){return this._stopped||new V(t.pos.x,t.pos.y).distance(this._start)>=this._distance},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),Ce=function(){function t(t,e,n,i){if(this._started=!1,this._stopped=!1,this._actor=t,this._speed=i,this._offset=new V(e,n),i<=0)throw R.getInstance().error("Attempted to moveBy with speed less than or equal to zero : "+i),new Error("Speed must be greater than 0 pixels per second")}return t.prototype.update=function(t){this._started||(this._started=!0,this._start=new V(this._actor.pos.x,this._actor.pos.y),this._end=this._start.add(this._offset),this._distance=this._offset.size,this._dir=this._end.sub(this._start).normalize()),this._actor.vel=this._dir.scale(this._speed),this.isComplete(this._actor)&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(t){return this._stopped||t.pos.distance(this._start)>=this._distance},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),Oe=function(){function t(t,e,n){this._started=!1,this._stopped=!1,this._actor=t,this._actorToFollow=e,this._current=new V(this._actor.pos.x,this._actor.pos.y),this._end=new V(e.pos.x,e.pos.y),this._maximumDistance=void 0!==n?n:this._current.distance(this._end),this._speed=0}return t.prototype.update=function(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());var e=Math.sqrt(Math.pow(this._actorToFollow.vel.x,2)+Math.pow(this._actorToFollow.vel.y,2));if(0!==e&&(this._speed=e),this._current.x=this._actor.pos.x,this._current.y=this._actor.pos.y,this._end.x=this._actorToFollow.pos.x,this._end.y=this._actorToFollow.pos.y,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize(),this._distanceBetween>=this._maximumDistance){var n=this._dir.scale(this._speed);this._actor.vel.x=n.x,this._actor.vel.y=n.y}else this._actor.vel.x=0,this._actor.vel.y=0;this.isComplete()&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.isComplete=function(){return this._stopped},t.prototype.reset=function(){this._started=!1},t}(),Te=function(){function t(t,e,n){this._started=!1,this._stopped=!1,this._speedWasSpecified=!1,this._actor=t,this._actorToMeet=e,this._current=new V(this._actor.pos.x,this._actor.pos.y),this._end=new V(e.pos.x,e.pos.y),this._speed=n||0,void 0!==n&&(this._speedWasSpecified=!0)}return t.prototype.update=function(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());var e=Math.sqrt(Math.pow(this._actorToMeet.vel.x,2)+Math.pow(this._actorToMeet.vel.y,2));0===e||this._speedWasSpecified||(this._speed=e),this._current.x=this._actor.pos.x,this._current.y=this._actor.pos.y,this._end.x=this._actorToMeet.pos.x,this._end.y=this._actorToMeet.pos.y,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize();var n=this._dir.scale(this._speed);this._actor.vel.x=n.x,this._actor.vel.y=n.y,this.isComplete()&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(){return this._stopped||this._distanceBetween<=1},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),Be=function(){function t(t,e,n,i){this._started=!1,this._stopped=!1,this._actor=t,this._end=e,this._speed=n,this._rotationType=i||ye.ShortestPath}return t.prototype.update=function(t){if(!this._started){this._started=!0,this._start=this._actor.rotation;var e=Math.abs(this._end-this._start),n=y-e;switch(e>n?(this._shortDistance=n,this._longDistance=e):(this._shortDistance=e,this._longDistance=n),this._shortestPathIsPositive=(this._start-this._end+y)%y>=Math.PI,this._rotationType){case ye.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case ye.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case ye.Clockwise:this._direction=1,this._shortestPathIsPositive?this._distance=this._shortDistance:this._distance=this._longDistance;break;case ye.CounterClockwise:this._direction=-1,this._shortestPathIsPositive?this._distance=this._longDistance:this._distance=this._shortDistance}}this._actor.rx=this._direction*this._speed,this.isComplete()&&(this._actor.rotation=this._end,this._actor.rx=0,this._stopped=!0)},t.prototype.isComplete=function(){var t=Math.abs(this._actor.rotation-this._start);return this._stopped||t>=Math.abs(this._distance)},t.prototype.stop=function(){this._actor.rx=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),Me=function(){function t(t,e,n,i){this._started=!1,this._stopped=!1,this._actor=t,this._speed=n,this._offset=e,this._rotationType=i||ye.ShortestPath}return t.prototype.update=function(t){if(!this._started){this._started=!0,this._start=this._actor.rotation,this._end=this._start+this._offset;var e=Math.abs(this._end-this._start),n=y-e;switch(e>n?(this._shortDistance=n,this._longDistance=e):(this._shortDistance=e,this._longDistance=n),this._shortestPathIsPositive=(this._start-this._end+y)%y>=Math.PI,this._rotationType){case ye.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case ye.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case ye.Clockwise:this._direction=1,this._shortDistance>=0?this._distance=this._shortDistance:this._distance=this._longDistance;break;case ye.CounterClockwise:this._direction=-1,this._shortDistance<=0?this._distance=this._shortDistance:this._distance=this._longDistance}}this._actor.rx=this._direction*this._speed,this.isComplete()&&(this._actor.rotation=this._end,this._actor.rx=0,this._stopped=!0)},t.prototype.isComplete=function(){var t=Math.abs(this._actor.rotation-this._start);return this._stopped||t>=Math.abs(this._distance)},t.prototype.stop=function(){this._actor.rx=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),De=function(){function t(t,e,n,i,r){this._started=!1,this._stopped=!1,this._actor=t,this._endX=e,this._endY=n,this._speedX=i,this._speedY=r}return t.prototype.update=function(t){if(this._started||(this._started=!0,this._startX=this._actor.scale.x,this._startY=this._actor.scale.y,this._distanceX=Math.abs(this._endX-this._startX),this._distanceY=Math.abs(this._endY-this._startY)),Math.abs(this._actor.scale.x-this._startX)>=this._distanceX)this._actor.sx=0;else{var e=this._endY<this._startY?-1:1;this._actor.sx=this._speedX*e}if(Math.abs(this._actor.scale.y-this._startY)>=this._distanceY)this._actor.sy=0;else{var n=this._endY<this._startY?-1:1;this._actor.sy=this._speedY*n}this.isComplete()&&(this._actor.scale.x=this._endX,this._actor.scale.y=this._endY,this._actor.sx=0,this._actor.sy=0)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.scale.y-this._startX)>=this._distanceX&&Math.abs(this._actor.scale.y-this._startY)>=this._distanceY},t.prototype.stop=function(){this._actor.sx=0,this._actor.sy=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t=Ae([N({message:"ex.Action.ScaleTo will be removed in v0.25.0",alternateMethod:"Set width and hight directly"})],t)}(),ke=function(){function t(t,e,n,i){this._started=!1,this._stopped=!1,this._actor=t,this._offset=new V(e,n),this._speedX=this._speedY=i}return t.prototype.update=function(t){this._started||(this._started=!0,this._startScale=this._actor.scale.clone(),this._endScale=this._startScale.add(this._offset),this._distanceX=Math.abs(this._endScale.x-this._startScale.x),this._distanceY=Math.abs(this._endScale.y-this._startScale.y),this._directionX=this._endScale.x<this._startScale.x?-1:1,this._directionY=this._endScale.y<this._startScale.y?-1:1),this._actor.sx=this._speedX*this._directionX,this._actor.sy=this._speedY*this._directionY,this.isComplete()&&(this._actor.scale=this._endScale,this._actor.sx=0,this._actor.sy=0)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.scale.x-this._startScale.x)>=this._distanceX&&Math.abs(this._actor.scale.y-this._startScale.y)>=this._distanceY},t.prototype.stop=function(){this._actor.sx=0,this._actor.sy=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t=Ae([N({message:"ex.Action.ScaleBy will be removed in v0.25.0",alternateMethod:"Set width and hight directly"})],t)}(),Re=function(){function t(t,e){this._elapsedTime=0,this._started=!1,this._stopped=!1,this._actor=t,this._delay=e}return t.prototype.update=function(t){this._started||(this._started=!0),this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._elapsedTime+=t},t.prototype.isComplete=function(){return this._stopped||this._elapsedTime>=this._delay},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._elapsedTime=0,this._started=!1},t}(),je=function(){function t(t,e,n,i){void 0===i&&(i=1),this._timeVisible=0,this._timeNotVisible=0,this._elapsedTime=0,this._totalTime=0,this._stopped=!1,this._started=!1,this._actor=t,this._timeVisible=e,this._timeNotVisible=n,this._duration=(e+n)*i}return t.prototype.update=function(t){this._started||(this._started=!0),this._elapsedTime+=t,this._totalTime+=t,this._actor.visible&&this._elapsedTime>=this._timeVisible&&(this._actor.visible=!1,this._elapsedTime=0),!this._actor.visible&&this._elapsedTime>=this._timeNotVisible&&(this._actor.visible=!0,this._elapsedTime=0),this.isComplete()&&(this._actor.visible=!0)},t.prototype.isComplete=function(){return this._stopped||this._totalTime>=this._duration},t.prototype.stop=function(){this._actor.visible=!0,this._stopped=!0},t.prototype.reset=function(){this._started=!1,this._elapsedTime=0,this._totalTime=0},t}(),Fe=function(){function t(t,e,n){this._multiplier=1,this._started=!1,this._stopped=!1,this._actor=t,this._endOpacity=e,this._speed=n}return t.prototype.update=function(t){this._started||(this._started=!0,this._endOpacity<this._actor.opacity?this._multiplier=-1:this._multiplier=1),this._speed>0&&(this._actor.opacity+=this._multiplier*(Math.abs(this._actor.opacity-this._endOpacity)*t)/this._speed),this._speed-=t,this.isComplete()&&(this._actor.opacity=this._endOpacity),R.getInstance().debug("[Action fade] Actor opacity:",this._actor.opacity)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.opacity-this._endOpacity)<.05},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),Ie=function(){function t(t){this._stopped=!1,this._actor=t}return t.prototype.update=function(t){this._actor.actionQueue.clearActions(),this._actor.kill(),this._stopped=!0},t.prototype.isComplete=function(){return this._stopped},t.prototype.stop=function(){},t.prototype.reset=function(){},t}(),Le=function(){function t(t,e){this._method=null,this._actor=null,this._hasBeenCalled=!1,this._actor=t,this._method=e}return t.prototype.update=function(t){this._method.call(this._actor),this._hasBeenCalled=!0},t.prototype.isComplete=function(){return this._hasBeenCalled},t.prototype.reset=function(){this._hasBeenCalled=!1},t.prototype.stop=function(){this._hasBeenCalled=!0},t}(),ze=function(){function t(t,e,n){this._stopped=!1,this._actor=t,this._actionQueue=new Ue(t),this._repeat=e,this._originalRepeat=e;for(var i=n.length,r=0;r<i;r++)n[r].reset(),this._actionQueue.add(n[r])}return t.prototype.update=function(t){this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._actionQueue.hasNext()||(this._actionQueue.reset(),this._repeat--),this._actionQueue.update(t)},t.prototype.isComplete=function(){return this._stopped||this._repeat<=0},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._repeat=this._originalRepeat},t}(),He=function(){function t(t,e){this._stopped=!1,this._actor=t,this._actionQueue=new Ue(t);for(var n=e.length,i=0;i<n;i++)e[i].reset(),this._actionQueue.add(e[i])}return t.prototype.update=function(t){this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._stopped||(this._actionQueue.hasNext()||this._actionQueue.reset(),this._actionQueue.update(t))},t.prototype.isComplete=function(){return this._stopped},t.prototype.stop=function(){this._stopped=!0,this._actionQueue.clearActions()},t.prototype.reset=function(){},t}(),Ue=function(){function t(t){this._actions=[],this._completedActions=[],this._actor=t}return t.prototype.add=function(t){this._actions.push(t)},t.prototype.remove=function(t){var e=this._actions.indexOf(t);this._actions.splice(e,1)},t.prototype.clearActions=function(){this._actions.length=0,this._completedActions.length=0,this._currentAction&&this._currentAction.stop()},t.prototype.getActions=function(){return this._actions.concat(this._completedActions)},t.prototype.hasNext=function(){return this._actions.length>0},t.prototype.reset=function(){this._actions=this.getActions();for(var t=this._actions.length,e=0;e<t;e++)this._actions[e].reset();this._completedActions=[]},t.prototype.update=function(t){this._actions.length>0&&(this._currentAction=this._actions[0],this._currentAction.update(t),this._currentAction.isComplete(this._actor)&&this._completedActions.push(this._actions.shift()))},t}(),We=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ne=function(){function t(){}return t.CreateReversibleEasingFunction=function(t){return function(e,n,i,r){return i<n?n-(t(e,i,n,r)-i):t(e,n,i,r)}},t.CreateReversableEasingFunction=function(e){return t.CreateReversibleEasingFunction(e)},t.CreateVectorEasingFunction=function(t){return function(e,n,i,r){return new V(t(e,n.x,i.x,r),t(e,n.y,i.y,r))}},t.Linear=t.CreateReversibleEasingFunction((function(t,e,n,i){return(n-=e)*t/i+e})),t.EaseInQuad=t.CreateReversibleEasingFunction((function(t,e,n,i){return(n-=e)*(t/=i)*t+e})),t.EaseOutQuad=t.CreateReversibleEasingFunction((function(t,e,n,i){return-(n-=e)*(t/=i)*(t-2)+e})),t.EaseInOutQuad=t.CreateReversibleEasingFunction((function(t,e,n,i){return n-=e,(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e})),t.EaseInCubic=t.CreateReversibleEasingFunction((function(t,e,n,i){return(n-=e)*(t/=i)*t*t+e})),t.EaseOutCubic=t.CreateReversibleEasingFunction((function(t,e,n,i){return t/=i,(n-=e)*(--t*t*t+1)+e})),t.EaseInOutCubic=t.CreateReversibleEasingFunction((function(t,e,n,i){return n-=e,(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e})),We([N({message:"Alias for incorrect spelling used in older versions, will be removed in v0.25.0",alternateMethod:"CreateReversibleEasingFunction"})],t,"CreateReversableEasingFunction",null),t}(),qe=function(){function t(){this._actors=[],this._queues=[],null!==arguments&&(this._actors=Array.prototype.slice.call(arguments,0),this._queues=this._actors.map((function(t){return t.actionQueue})))}return t.prototype.clearActions=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].clearActions()},t.prototype.addActorToContext=function(t){this._actors.push(t),this._queues.push(t.actionQueue)},t.prototype.removeActorFromContext=function(t){var e=this._actors.indexOf(t);e>-1&&(this._actors.splice(e,1),this._queues.splice(e,1))},t.prototype.easeTo=function(t,e,n,i){void 0===i&&(i=Ne.Linear);for(var r=this._queues.length,o=0;o<r;o++)this._queues[o].add(new Ee(this._actors[o],t,e,n,i));return this},t.prototype.moveTo=function(t,e,n){for(var i=this._queues.length,r=0;r<i;r++)this._queues[r].add(new Se(this._actors[r],t,e,n));return this},t.prototype.moveBy=function(t,e,n){for(var i=this._queues.length,r=0;r<i;r++)this._queues[r].add(new Ce(this._actors[r],t,e,n));return this},t.prototype.rotateTo=function(t,e,n){for(var i=this._queues.length,r=0;r<i;r++)this._queues[r].add(new Be(this._actors[r],t,e,n));return this},t.prototype.rotateBy=function(t,e,n){for(var i=this._queues.length,r=0;r<i;r++)this._queues[r].add(new Me(this._actors[r],t,e,n));return this},t.prototype.scaleTo=function(t,e,n,i){for(var r=this._queues.length,o=0;o<r;o++)this._queues[o].add(new De(this._actors[o],t,e,n,i));return this},t.prototype.scaleBy=function(t,e,n){for(var i=this._queues.length,r=0;r<i;r++)this._queues[r].add(new ke(this._actors[r],t,e,n));return this},t.prototype.blink=function(t,e,n){void 0===n&&(n=1);for(var i=this._queues.length,r=0;r<i;r++)this._queues[r].add(new je(this._actors[r],t,e,n));return this},t.prototype.fade=function(t,e){for(var n=this._queues.length,i=0;i<n;i++)this._queues[i].add(new Fe(this._actors[i],t,e));return this},t.prototype.delay=function(t){for(var e=this._queues.length,n=0;n<e;n++)this._queues[n].add(new Re(this._actors[n],t));return this},t.prototype.die=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].add(new Ie(this._actors[e]));return this},t.prototype.callMethod=function(t){for(var e=this._queues.length,n=0;n<e;n++)this._queues[n].add(new Le(this._actors[n],t));return this},t.prototype.repeat=function(t){if(!t)return this.repeatForever(),this;for(var e=this._queues.length,n=0;n<e;n++)this._queues[n].add(new ze(this._actors[n],t,this._actors[n].actionQueue.getActions()));return this},t.prototype.repeatForever=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].add(new He(this._actors[e],this._actors[e].actionQueue.getActions()));return this},t.prototype.follow=function(t,e){for(var n=this._queues.length,i=0;i<n;i++)void 0===e?this._queues[i].add(new Oe(this._actors[i],t)):this._queues[i].add(new Oe(this._actors[i],t,e));return this},t.prototype.meet=function(t,e){for(var n=this._queues.length,i=0;i<n;i++)void 0===e?this._queues[i].add(new Te(this._actors[i],t)):this._queues[i].add(new Te(this._actors[i],t,e));return this},t.prototype.asPromise=function(){var t=this,e=this._queues.map((function(e,n){var i=new d;return e.add(new Le(t._actors[n],(function(){i.resolve()}))),i}));return d.join.apply(this,e)},t}(),Ve=function(){function t(){}return t.Box=function(t,e,n,i){return void 0===n&&(n=V.Half),void 0===i&&(i=V.Zero),new Zt({points:new Kt(-t*n.x,-e*n.y,t-t*n.x,e-e*n.y).getPoints(),offset:i})},t.Polygon=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=V.Zero),new Zt({points:t,offset:n,clockwiseWinding:e})},t.Circle=function(t,e){return void 0===e&&(e=V.Zero),new Xt({radius:t,offset:e})},t.Edge=function(t,e){return new Qt({begin:t,end:e})},t}(),Ge=function(){function t(t){var e=t.actor,n=t.collider;if(this.pos=new V(0,0),this.oldPos=new V(0,0),this.vel=new V(0,0),this.oldVel=new V(0,0),this.acc=new V(0,0),this.oldAcc=V.Zero,this.torque=0,this.motion=10,this.oldRotation=0,this.rotation=0,this.scale=V.One,this.oldScale=V.One,this.sx=0,this.sy=0,this.rx=0,this._geometryDirty=!1,this._totalMtv=V.Zero,!e&&!n)throw new Error("An actor or collider are required to create a body");this.actor=e,this.collider=!n&&e?this.useBoxCollider(e.width,e.height,e.anchor):n}return Object.defineProperty(t.prototype,"id",{get:function(){return this.actor?this.actor.id:-1},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t({actor:null,collider:this.collider.clone()})},Object.defineProperty(t.prototype,"active",{get:function(){return!!this.actor&&!this.actor.isKilled()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.pos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collider",{get:function(){return this._collider},set:function(t){t&&(this._collider=t,this._collider.body=this,this._wireColliderEventsToActor())},enumerable:!1,configurable:!0}),t.prototype.addMtv=function(t){this._totalMtv.addEqual(t)},t.prototype.applyMtv=function(){this.pos.addEqual(this._totalMtv),this._totalMtv.setTo(0,0)},t.prototype.markCollisionShapeDirty=function(){this._geometryDirty=!0},Object.defineProperty(t.prototype,"isColliderShapeDirty",{get:function(){return this._geometryDirty},enumerable:!1,configurable:!0}),t.prototype.captureOldTransform=function(){this.oldVel.setTo(this.vel.x,this.vel.y),this.oldPos.setTo(this.pos.x,this.pos.y),this.oldAcc.setTo(this.acc.x,this.acc.y),this.oldScale.setTo(this.scale.x,this.scale.y),this.oldRotation=this.rotation},t.prototype.integrate=function(t){var e=t/1e3,n=this.acc.clone();this.collider.type===ct.Active&&n.addEqual(st.acc),this.vel.addEqual(n.scale(e)),this.pos.addEqual(this.vel.scale(e)).addEqual(n.scale(.5*e*e)),this.rx+=this.torque*(1/this.collider.inertia)*e,this.rotation+=this.rx*e,this.scale.x+=this.sx*t/1e3,this.scale.y+=this.sy*t/1e3,this.scale.equals(this.oldScale)||(this._geometryDirty=!0),this.collider.update(),this._geometryDirty=!1},t.prototype.useBoxCollider=function(t,e,n,i){return void 0===n&&(n=V.Half),void 0===i&&(i=V.Zero),null==t&&(t=this.actor?this.actor.width:0),null==e&&(e=this.actor?this.actor.height:0),this.collider.shape=Ve.Box(t,e,n,i),this.collider},t.prototype.usePolygonCollider=function(t,e){return void 0===e&&(e=V.Zero),this.collider.shape=Ve.Polygon(t,!1,e),this.collider},t.prototype.useCircleCollider=function(t,e){return void 0===e&&(e=V.Zero),this.collider.shape=Ve.Circle(t,e),this.collider},t.prototype.useEdgeCollider=function(t,e){return this.collider.shape=Ve.Edge(t,e),this.collider},t.prototype._wireColliderEventsToActor=function(){var t=this;this.collider.clear(),this.collider.on("precollision",(function(e){t.actor&&t.actor.emit("precollision",new Mt(e.target.body.actor,e.other.body.actor,e.side,e.intersection))})),this.collider.on("postcollision",(function(e){t.actor&&t.actor.emit("postcollision",new Dt(e.target.body.actor,e.other.body.actor,e.side,e.intersection))})),this.collider.on("collisionstart",(function(e){t.actor&&t.actor.emit("collisionstart",new kt(e.target.body.actor,e.other.body.actor,e.pair))})),this.collider.on("collisionend",(function(e){t.actor&&t.actor.emit("collisionend",new Rt(e.target.body.actor,e.other.body.actor))}))},t}(),Xe=function(){function t(){}return t.prototype.update=function(t,e){var n=t.eventDispatcher;if(t.body.collider.type!==ct.PreventCollision&&e.currentScene&&e.currentScene.tileMaps)for(var i=0;i<e.currentScene.tileMaps.length;i++)for(var r=e.currentScene.tileMaps[i],o=void 0,s=p.None,a=2;(o=r.collides(t))&&!(a--<0);)s=Kt.getSideFromIntersection(o),n.emit("precollision",new Mt(t,null,s,o)),t.body.collider.type===ct.Active&&(t.pos.y+=o.y,t.pos.x+=o.x,n.emit("postcollision",new Dt(t,null,s,o)))},t}(),Qe=function(){function t(){this._topLeft=new V(0,0),this._topRight=new V(0,0),this._bottomLeft=new V(0,0),this._bottomRight=new V(0,0)}return t.prototype.isSpriteOffScreen=function(t,e){var n=t.currentDrawing.drawWidth,i=t.currentDrawing.drawHeight,r=t.rotation,o=t.center,s=t.getWorldPos();this._topLeft.x=s.x-n/2,this._topLeft.y=s.y-i/2,this._topLeft=this._topLeft.rotate(r,o),this._topRight.x=s.x+n/2,this._topRight.y=s.y-i/2,this._topRight=this._topRight.rotate(r,o),this._bottomLeft.x=s.x-n/2,this._bottomLeft.y=s.y+i/2,this._bottomLeft=this._bottomLeft.rotate(r,o),this._bottomRight.x=s.x+n/2,this._bottomRight.y=s.y+i/2,this._bottomRight=this._bottomRight.rotate(r,o);var a=e.worldToScreenCoordinates(this._topLeft),c=e.worldToScreenCoordinates(this._topRight),h=e.worldToScreenCoordinates(this._bottomLeft),u=e.worldToScreenCoordinates(this._bottomRight);this._xCoords=[],this._yCoords=[],this._xCoords.push(a.x,c.x,h.x,u.x),this._yCoords.push(a.y,c.y,h.y,u.y),this._xMin=Math.min.apply(null,this._xCoords),this._yMin=Math.min.apply(null,this._yCoords),this._xMax=Math.max.apply(null,this._xCoords),this._yMax=Math.max.apply(null,this._yCoords);var l=e.screenToWorldCoordinates(new V(this._xMin,this._yMin)),p=e.screenToWorldCoordinates(new V(this._xMax,this._yMax));this._xMinWorld=l.x,this._yMinWorld=l.y,this._xMaxWorld=p.x,this._yMaxWorld=p.y;var d=[new V(this._xMin,this._yMin),new V(this._xMax,this._yMin),new V(this._xMin,this._yMax),new V(this._xMax,this._yMax)];if(d[0].x<0&&d[1].x>e.canvas.clientWidth&&(d[0].y>0||d[2].y<e.canvas.clientHeight))return!1;if(d[0].y<0&&d[2].y>e.canvas.clientHeight&&(d[1].x>0||d[0].x<e.canvas.clientWidth))return!1;for(var f=0;f<d.length;f++)if(d[f].x>0&&d[f].y>0&&d[f].x<e.canvas.clientWidth&&d[f].y<e.canvas.clientHeight)return!1;return!0},t.prototype.debugDraw=function(t){t.beginPath(),t.strokeStyle=et.White.toString(),t.rect(this._xMinWorld,this._yMinWorld,this._xMaxWorld-this._xMinWorld,this._yMaxWorld-this._yMinWorld),t.stroke(),t.fillStyle=et.Red.toString(),t.beginPath(),t.arc(this._topLeft.x,this._topLeft.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=et.Green.toString(),t.beginPath(),t.arc(this._topRight.x,this._topRight.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=et.Blue.toString(),t.beginPath(),t.arc(this._bottomLeft.x,this._bottomLeft.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=et.Magenta.toString(),t.beginPath(),t.arc(this._bottomRight.x,this._bottomRight.y,5,0,2*Math.PI),t.closePath(),t.fill()},t}(),Ze=function(){function t(){this.cullingBox=new Qe}return t.prototype.update=function(t,e){var n=t.eventDispatcher,i=!0;null!=t.currentDrawing&&(i=this.cullingBox.isSpriteOffScreen(t,e));var r=!1;e&&e.currentScene&&e.currentScene.camera&&e.currentScene.camera.viewport&&(r=!e.currentScene.camera.viewport.intersect(t.body.collider.bounds)),t.isOffScreen?r&&i||(n.emit("enterviewport",new zt(t)),t.isOffScreen=!1):r&&i&&(n.emit("exitviewport",new Lt(t)),t.isOffScreen=!0)},t}(),Ke=function(){function t(){}return t.prototype.update=function(t,e){t.enableCapturePointer&&(t.isKilled()||e.input.pointers.checkAndUpdateActorUnderPointer(t))},t}();function Ye(t,e,n,i,r,o,s,a){void 0===e&&(e=et.Red),void 0===s&&(s=1),void 0===a&&(a="butt"),t.beginPath(),t.lineWidth=s,t.lineCap=a,t.strokeStyle=e.toString(),t.moveTo(n,i),t.lineTo(r,o),t.closePath(),t.stroke()}function Je(t,e,n){void 0===e&&(e=et.Red),t.beginPath(),t.strokeStyle=e.toString(),t.arc(n.x,n.y,5,0,2*Math.PI),t.closePath(),t.stroke()}function $e(t,e,n,i,r){void 0===r&&(r=1);var o=e?e.toString():"blue",s=i.scale(r);t.beginPath(),t.strokeStyle=o,t.moveTo(n.x,n.y),t.lineTo(n.x+s.x,n.y+s.y),t.closePath(),t.stroke()}function tn(t,e,n,i,r,o,s,a){var c;if(void 0===o&&(o=5),void 0===s&&(s=et.White),void 0===a&&(a=null),"number"==typeof o)c={tl:o,tr:o,br:o,bl:o};else{var h={tl:0,tr:0,br:0,bl:0};for(var u in h)if(h.hasOwnProperty(u)){var l=u;c[l]=o[l]||h[l]}}t.beginPath(),t.moveTo(e+c.tl,n),t.lineTo(e+i-c.tr,n),t.quadraticCurveTo(e+i,n,e+i,n+c.tr),t.lineTo(e+i,n+r-c.br),t.quadraticCurveTo(e+i,n+r,e+i-c.br,n+r),t.lineTo(e+c.bl,n+r),t.quadraticCurveTo(e,n+r,e,n+r-c.bl),t.lineTo(e,n+c.tl),t.quadraticCurveTo(e,n,e+c.tl,n),t.closePath(),a&&(t.fillStyle=a.toString(),t.fill()),s&&(t.strokeStyle=s.toString(),t.stroke())}function en(t,e,n,i,r,o){void 0===r&&(r=et.White),void 0===o&&(o=null),t.beginPath(),t.arc(e,n,i,0,2*Math.PI),t.closePath(),o&&(t.fillStyle=o.toString(),t.fill()),r&&(t.strokeStyle=r.toString(),t.stroke())}var nn=function(){function t(t,e,n){this._name=t,this._category=e,this._mask=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"category",{get:function(){return this._category},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!1,configurable:!0}),t.prototype.canCollide=function(t){return 0!=(this.category&t.mask)&&0!=(t.category&this.mask)},t.All=new t("Collide with all groups",-1,-1),t}(),rn=function(){function t(e,n){this.colliderA=e,this.colliderB=n,this.id=null,this.collision=null,this.id=t.calculatePairHash(e,n)}return t.canCollide=function(t,e){return!!t.group.canCollide(e.group)&&((t.type!==ct.Fixed||e.type!==ct.Fixed)&&(e.type!==ct.PreventCollision&&t.type!==ct.PreventCollision&&!(!t.active||!e.active)))},Object.defineProperty(t.prototype,"canCollide",{get:function(){var e=this.colliderA,n=this.colliderB;return t.canCollide(e,n)},enumerable:!1,configurable:!0}),t.prototype.collide=function(){this.collision=this.colliderA.collide(this.colliderB)},t.prototype.resolve=function(t){this.collision&&this.collision.resolve(t)},t.calculatePairHash=function(t,e){return t.id<e.id?"#"+t.id+"+"+e.id:"#"+e.id+"+"+t.id},t.prototype.debugDraw=function(t){this.collision&&(st.showContacts&&Je(t,et.Red,this.collision.point),st.showCollisionNormals&&$e(t,et.Cyan,this.collision.point,this.collision.normal,30))},t}();function on(t){return t instanceof sn}var sn=function(){function t(t){var e=t.body,n=t.type,i=t.group,r=t.shape,o=t.offset,s=t.useShapeInertia,a=void 0===s||s;this._events=new te(this),this.type=ct.PreventCollision,this.group=nn.All,this.mass=1,this.inertia=1e3,this.friction=.99,this.bounciness=.2,e&&e.collider&&!r?this._shape=e.collider.shape:(this._shape=r,this.body=e),this.useShapeInertia=a,this._shape.collider=this,this.type=n||this.type,this.group=i||this.group,this.offset=o||V.Zero}return t.prototype.clone=function(){return new t({body:null,type:this.type,shape:this._shape.clone(),group:this.group,offset:this.offset})},Object.defineProperty(t.prototype,"id",{get:function(){return this.body?this.body.id:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){this._shape=t,this._shape.collider=this,this.useShapeInertia&&(this.inertia=isNaN(this._shape.inertia)?this.inertia:this._shape.inertia)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.bounds.center},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.body.active},enumerable:!1,configurable:!0}),t.prototype.collide=function(t){return this.shape.collide(t.shape)},t.prototype.getClosestLineBetween=function(t){return this.shape.getClosestLineBetween(t.shape)},Object.defineProperty(t.prototype,"offset",{get:function(){return this.shape.offset.clone()},set:function(t){this.shape.offset=t.clone()},enumerable:!1,configurable:!0}),t.prototype.touching=function(t){var e=new rn(this,t);return e.collide(),!!e.collision},Object.defineProperty(t.prototype,"bounds",{get:function(){return this.shape?this.shape.bounds:this.body?(new Kt).translate(this.body.pos):new Kt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return this.shape?this.shape.localBounds:new Kt},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.shape&&this.shape.recalc()},t.prototype.emit=function(t,e){this._events.emit(t,e)},t.prototype.on=function(t,e){this._events.on(t,e)},t.prototype.off=function(t,e){this._events.off(t,e)},t.prototype.once=function(t,e){this._events.once(t,e)},t.prototype.clear=function(){this._events.clear()},t.prototype.debugDraw=function(t){st.showMotionVectors&&($e(t,et.Yellow,this.body.pos,this.body.acc.add(st.acc)),$e(t,et.Red,this.body.pos,this.body.vel),Je(t,et.Red,this.body.pos)),st.showBounds&&this.bounds.debugDraw(t,et.Yellow),st.showArea&&this.shape.debugDraw(t,et.Green)},t}(),an=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var cn=function(){function t(){}return t.prototype.clone=function(){var t,e=new this.constructor;for(var n in this)if(this.hasOwnProperty(n)){var i=this[n];(null==(t=i)?void 0:t.clone)&&"owner"!==n&&"clone"!==n?e[n]=i.clone():e[n]=i}return e},t}(),hn=function(t){function e(e,n){var i=t.call(this)||this;return i.type=e,i.value=n,i}return an(e,t),e}(cn),un=function(){function t(){this.observers=[]}return t.prototype.register=function(t){this.observers.push(t)},t.prototype.unregister=function(t){var e=this.observers.indexOf(t);-1!==e&&this.observers.splice(e,1)},t.prototype.notifyAll=function(t){this.observers.forEach((function(e){return e.notify(t)}))},t}(),ln=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pn=function(t){this.data=t,this.type="Component Added"};function dn(t){return!!t&&"Component Added"===t.type}var fn=function(t){this.data=t,this.type="Component Removed"};function yn(t){return!!t&&"Component Removed"===t.type}var gn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.id=e._ID++,n.active=!0,n._componentsToRemove=[],n._typesMemo=[],n._dirty=!0,n._handleChanges={defineProperty:function(t,e,i){return t[e]=i.value,n.changes.notifyAll(new pn({component:i.value,entity:n})),!0},deleteProperty:function(t,e){return e in t&&(n.changes.notifyAll(new fn({component:t[e],entity:n})),delete t[e],!0)}},n.components=new Proxy({},n._handleChanges),n.changes=new un,n._isInitialized=!1,n}return ln(e,t),e.prototype.kill=function(){this.active=!1},e.prototype.isKilled=function(){return!this.active},Object.defineProperty(e.prototype,"types",{get:function(){return this._dirty?this._typesMemo=Object.keys(this.components):this._typesMemo},enumerable:!1,configurable:!0}),e.prototype.clone=function(){for(var t=new e,n=0,i=this.types;n<i.length;n++){var r=i[n];t.addComponent(this.components[r].clone())}return t},e.prototype.addComponent=function(t,n){if(void 0===n&&(n=!1),t instanceof e)for(var i in t.components)this.addComponent(t.components[i].clone());else{if(this.components[t.type]&&!n)return this;if(this.components[t.type]&&n&&this.removeComponent(t),t.dependencies&&t.dependencies.length)for(var r=0,o=t.dependencies;r<o.length;r++){var s=o[r];this.addComponent(new s),this._dirty=!0}t.owner=this,this.components[t.type]=t,t.onAdd&&(this._dirty=!0,t.onAdd(this))}return this},e.prototype.removeComponent=function(t,e){return void 0===e&&(e=!1),e?"string"==typeof t?this._removeComponentByType(t):t instanceof cn&&this._removeComponentByType(t.type):this._componentsToRemove.push(t),this},e.prototype._removeComponentByType=function(t){this.components[t]&&(this.components[t].owner=null,this.components[t].onRemove&&this.components[t].onRemove(this),delete this.components[t],this._dirty=!0)},e.prototype.processRemoval=function(){for(var t=0,e=this._componentsToRemove;t<e.length;t++){var n=e[t],i="string"==typeof n?n:n.type;this._removeComponentByType(i)}this._componentsToRemove.length=0},e.prototype.has=function(t){return!!this.components[t]},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!1,configurable:!0}),e.prototype._initialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new jt(e,this)),this._isInitialized=!0)},e.prototype._preupdate=function(t,e){this.emit("preupdate",new mt(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new bt(t,e,this)),this.onPostUpdate(t,e)},e.prototype.onInitialize=function(t){},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e._ID=0,e}(ee),_n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vn=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};function mn(t){return t instanceof bn}var bn=function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return _n(e,t),e}(fe(function(t){function e(n,i,r,o,s){var a=t.call(this)||this;a.id=e.maxId++,a._height=0,a._width=0,a.isOffScreen=!1,a.visible=!0,a.opacity=1,a.previousOpacity=1,a.logger=R.getInstance(),a.scene=null,a.parent=null,a.children=[],a.frames={},a.currentDrawing=null,a._draggable=!1,a._dragging=!1,a._pointerDragStartHandler=function(){a._dragging=!0},a._pointerDragEndHandler=function(){a._dragging=!1},a._pointerDragMoveHandler=function(t){a._dragging&&(a.pos=t.pointer.lastWorldPos)},a._pointerDragLeaveHandler=function(t){a._dragging&&(a.pos=t.pointer.lastWorldPos)},a.traits=[],a.enableCapturePointer=!1,a.capturePointer={captureMoveEvents:!1,captureDragEvents:!1},a._zIndex=0,a._isKilled=!1,a._capturePointerEvents=["pointerup","pointerdown","pointermove","pointerenter","pointerleave","pointerdragstart","pointerdragend","pointerdragmove","pointerdragenter","pointerdragleave"],a._captureMoveEvents=["pointermove","pointerenter","pointerleave","pointerdragmove","pointerdragenter","pointerdragleave"],a._captureDragEvents=["pointerdragstart","pointerdragend","pointerdragmove","pointerdragenter","pointerdragleave"],a._initDefaults();var c=!0,h=ct.Passive;if(n&&"object"==typeof n){var u=n;u.pos?(n=u.pos?u.pos.x:0,i=u.pos?u.pos.y:0):(n=u.x||0,i=u.y||0),r=u.width,o=u.height,u.body&&(c=!1,a.body=u.body),u.anchor&&(a.anchor=u.anchor),u.collisionType&&(h=u.collisionType)}return a._width=r||0,a._height=o||0,c&&(a.body=new Ge({collider:new sn({type:h,shape:Ve.Box(a._width,a._height,a.anchor)})})),a.pos.x=n||0,a.pos.y=i||0,s&&(a.color=s,a.opacity=s.a),a.traits.push(new Xe),a.traits.push(new Ze),a.traits.push(new Ke),a.actionQueue=new Ue(a),a.actions=new qe(a),a}return _n(e,t),Object.defineProperty(e.prototype,"body",{get:function(){return this._body},set:function(t){this._body=t,this._body.actor=this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.body.pos},set:function(t){this.body.pos.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldPos",{get:function(){return this.body.oldPos},set:function(t){this.body.oldPos.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vel",{get:function(){return this.body.vel},set:function(t){this.body.vel.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldVel",{get:function(){return this.body.oldVel},set:function(t){this.body.oldVel.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"acc",{get:function(){return this.body.acc},set:function(t){this.body.acc.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldAcc",{get:function(){return this.body.oldAcc},set:function(t){this.body.oldAcc.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.body.rotation},set:function(t){this.body.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rx",{get:function(){return this.body.rx},set:function(t){this.body.rx=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.body.scale},set:function(t){this.body.scale=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldScale",{get:function(){return this.body.oldScale},set:function(t){this.body.oldScale=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sx",{get:function(){return this.body.sx},set:function(t){this.body.sx=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sy",{get:function(){return this.body.sy},set:function(t){this.body.sy=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(t){t&&(t&&!this._draggable?(this.on("pointerdragstart",this._pointerDragStartHandler),this.on("pointerdragend",this._pointerDragEndHandler),this.on("pointerdragmove",this._pointerDragMoveHandler),this.on("pointerdragleave",this._pointerDragLeaveHandler)):!t&&this._draggable&&(this.off("pointerdragstart",this._pointerDragStartHandler),this.off("pointerdragend",this._pointerDragEndHandler),this.off("pointerdragmove",this._pointerDragMoveHandler),this.off("pointerdragleave",this._pointerDragLeaveHandler)),this._draggable=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t.clone()},enumerable:!1,configurable:!0}),e.prototype.onInitialize=function(t){},e.prototype._initialize=function(e){t.prototype._initialize.call(this,e);for(var n=0,i=this.children;n<i.length;n++){i[n]._initialize(e)}},e.prototype._initDefaults=function(){this.anchor=bn.defaults.anchor.clone()},e.prototype._checkForPointerOptIn=function(t){if(t){var e=t.toLowerCase();-1!==this._capturePointerEvents.indexOf(e)&&(this.enableCapturePointer=!0,-1!==this._captureMoveEvents.indexOf(e)&&(this.capturePointer.captureMoveEvents=!0),-1!==this._captureDragEvents.indexOf(e)&&(this.capturePointer.captureDragEvents=!0))}},e.prototype.on=function(e,n){this._checkForPointerOptIn(e),t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){this._checkForPointerOptIn(e),t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype._prekill=function(e){t.prototype.emit.call(this,"prekill",new lt(this)),this.onPreKill(e)},e.prototype.onPreKill=function(t){},e.prototype._postkill=function(e){t.prototype.emit.call(this,"postkill",new pt(this)),this.onPostKill(e)},e.prototype.onPostKill=function(t){},e.prototype.kill=function(){this.scene?(this._prekill(this.scene),this.emit("kill",new ut(this)),this._isKilled=!0,this.scene.remove(this),this._postkill(this.scene)):this.logger.warn("Cannot kill actor, it was never added to the Scene")},e.prototype.unkill=function(){this._isKilled=!1},e.prototype.isKilled=function(){return this._isKilled},e.prototype.add=function(t){t.body.collider.type=ct.PreventCollision,S(t,this.children)&&(t.parent=this)},e.prototype.remove=function(t){C(t,this.children)&&(t.parent=null)},e.prototype.setDrawing=function(t){t=t.toString(),this.currentDrawing!==this.frames[t]&&(null!=this.frames[t]?(this.frames[t].reset(),this.currentDrawing=this.frames[t]):R.getInstance().error("the specified drawing key "+t+" does not exist"))},e.prototype.addDrawing=function(){2===arguments.length?(this.frames[arguments[0]]=arguments[1],this.currentDrawing||(this.currentDrawing=arguments[1])):(arguments[0]instanceof ve&&this.addDrawing("default",arguments[0]),arguments[0]instanceof be&&this.addDrawing("default",arguments[0].asSprite()))},Object.defineProperty(e.prototype,"z",{get:function(){return this.getZIndex()},set:function(t){this.setZIndex(t)},enumerable:!1,configurable:!0}),e.prototype.getZIndex=function(){return this._zIndex},e.prototype.setZIndex=function(t){this.scene.cleanupDrawTree(this),this._zIndex=t,this.scene.updateDrawTree(this)},Object.defineProperty(e.prototype,"center",{get:function(){return new V(this.pos.x+this.width/2-this.anchor.x*this.width,this.pos.y+this.height/2-this.anchor.y*this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width*this.getGlobalScale().x},set:function(t){this._width=t/this.scale.x,this.body.collider.shape=Ve.Box(this._width,this._height,this.anchor),this.body.markCollisionShapeDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height*this.getGlobalScale().y},set:function(t){this._height=t/this.scale.y,this.body.collider.shape=Ve.Box(this._width,this._height,this.anchor),this.body.markCollisionShapeDirty()},enumerable:!1,configurable:!0}),e.prototype.getWorldRotation=function(){return this.parent?this.rotation+this.parent.getWorldRotation():this.rotation},e.prototype.getWorldPos=function(){if(!this.parent)return this.pos.clone();var t=[],e=this;for(t.push(this);e.parent;)e=e.parent,t.push(e);var n=t.reduceRight((function(t,e){return e.parent?t+e.pos.x*e.getGlobalScale().x:t+e.pos.x}),0),i=t.reduceRight((function(t,e){return e.parent?t+e.pos.y*e.getGlobalScale().y:t+e.pos.y}),0),r=e.getWorldPos(),o=this.getWorldRotation();return new V(n,i).rotate(o,r)},e.prototype.getGlobalScale=function(){if(!this.parent)return new V(this.scale.x,this.scale.y);var t=this.parent.getGlobalScale();return new V(this.scale.x*t.x,this.scale.y*t.y)},e.prototype.contains=function(t,e,n){void 0===n&&(n=!1);var i=this.getWorldPos().sub(this.pos),r=this.body.collider.bounds.translate(i).contains(new V(t,e));return n?r||this.children.some((function(n){return n.contains(t,e,!0)})):r},e.prototype.within=function(t,e){return this.body.collider.shape.getClosestLineBetween(t.body.collider.shape).getLength()<=e},e.prototype.update=function(t,e){this._initialize(t),this._preupdate(t,e);var n=this.currentDrawing;n&&n instanceof Pe&&n.tick(e,t.stats.currFrame.id),this.actionQueue.update(e),this.color&&(this.color.a=this.opacity),0===this.opacity&&(this.visible=!1),this.body.captureOldTransform(),this.body.integrate(e);for(var i=0,r=this.traits;i<r.length;i++){r[i].update(this,t,e)}for(var o=0;o<this.children.length;o++)this.children[o].update(t,e);this._postupdate(t,e)},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype._preupdate=function(t,e){this.emit("preupdate",new mt(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new mt(t,e,this)),this.onPostUpdate(t,e)},e.prototype.draw=function(t,e){if(t.save(),t.translate(this.pos.x,this.pos.y),t.rotate(this.rotation),t.scale(this.scale.x,this.scale.y),t.save(),t.translate(-this._width*this.anchor.x,-this._height*this.anchor.y),this._predraw(t,e),this.currentDrawing){var n=this.currentDrawing,i=(this._width-n.width*n.scale.x)*this.anchor.x,r=(this._height-n.height*n.scale.y)*this.anchor.y;this.currentDrawing.draw({ctx:t,x:i,y:r,opacity:this.opacity})}else this.color&&this.body&&this.body.collider&&this.body.collider.shape&&this.body.collider.shape.draw(t,this.color,new V(this.width*this.anchor.x,this.height*this.anchor.y));t.restore();for(var o=0;o<this.children.length;o++)this.children[o].visible&&this.children[o].draw(t,e);this._postdraw(t,e),t.restore()},e.prototype.onPreDraw=function(t,e){},e.prototype.onPostDraw=function(t,e){},e.prototype._predraw=function(t,e){this.emit("predraw",new yt(t,e,this)),this.onPreDraw(t,e)},e.prototype._postdraw=function(t,e){this.emit("postdraw",new yt(t,e,this)),this.onPostDraw(t,e)},e.prototype.debugDraw=function(t){this.emit("predebugdraw",new _t(t,this)),this.body.collider.debugDraw(t);var e=this.body.collider.localBounds.translate(this.getWorldPos());e.debugDraw(t),t.fillText("id: "+this.id,e.left+3,e.top+10),t.fillStyle=et.Yellow.toString(),t.beginPath(),t.arc(this.getWorldPos().x,this.getWorldPos().y,3,0,2*Math.PI),t.closePath(),t.fill();for(var n=0;n<this.traits.length;n++)this.traits[n]instanceof Ze&&this.traits[n].cullingBox.debugDraw(t);t.strokeStyle=et.Yellow.toString(),t.beginPath();var i=Math.min(this.width,this.height);t.arc(this.getWorldPos().x,this.getWorldPos().y,i,0,2*Math.PI),t.closePath(),t.stroke();var r={"0 Pi":0,"Pi/2":Math.PI/2,Pi:Math.PI,"3/2 Pi":3*Math.PI/2},o=t.font;for(var s in r)t.fillStyle=et.Yellow.toString(),t.font="14px",t.textAlign="center",t.fillText(s,this.getWorldPos().x+Math.cos(r[s])*(i+10),this.getWorldPos().y+Math.sin(r[s])*(i+10));t.font=o;for(var a=0;a<this.children.length;a++)this.children[a].debugDraw(t);this.emit("postdebugdraw",new vt(t,this))},e.prototype.getAncestors=function(){for(var t,e=[this],n=this;t=n.parent;)n=t,e.push(n);return e.reverse()},e.defaults={anchor:V.Half},e.maxId=0,vn([N({message:"ex.Actor.sx will be removed in v0.25.0",alternateMethod:"Set width and height directly in constructor"})],e.prototype,"sx",null),vn([N({message:"ex.Actor.sy will be removed in v0.25.0",alternateMethod:"Set width and height directly in constructor"})],e.prototype,"sy",null),e}(gn))),wn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xn=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Pn=function(t){function e(e,n,i,r){var o=this;return(o="object"!=typeof e?t.call(this,e,n,i,r)||this:t.call(this,e)||this).traits=[],o.traits.push(new Ke),o.anchor.setTo(0,0),o.body.collider.type=ct.PreventCollision,o.body.collider.shape=Ve.Box(o.width,o.height,o.anchor),o.enableCapturePointer=!0,o}return wn(e,t),e.prototype._initialize=function(e){this._engine=e,t.prototype._initialize.call(this,e)},e.prototype.contains=function(e,n,i){if(void 0===i&&(i=!0),i)return t.prototype.contains.call(this,e,n);var r=this._engine.worldToScreenCoordinates(new V(e,n));return t.prototype.contains.call(this,r.x,r.y)},e}(bn),An=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wn(e,t),e=xn([N({message:"Will be removed in v0.25.0",alternateMethod:"ScreenElement"})],e)}(Pn),En=function(){function t(e,n,i,r){if(this.id=0,this.interval=10,this.repeats=!1,this.maxNumberOfRepeats=-1,this._elapsedTime=0,this._totalTimeAlive=0,this._paused=!1,this._numberOfTicks=0,this.complete=!1,this.scene=null,"function"!=typeof e){var o=e;e=o.fcn,n=o.interval,i=o.repeats,r=o.numberOfRepeats}if(r&&r>=0&&(this.maxNumberOfRepeats=r,!i))throw new Error("repeats must be set to true if numberOfRepeats is set");this.id=t.id++,this.interval=n||this.interval,this.repeats=i||this.repeats,this._callbacks=[],e&&this.on(e)}return t.prototype.on=function(t){this._callbacks.push(t)},t.prototype.off=function(t){var e=this._callbacks.indexOf(t);this._callbacks.splice(e,1)},t.prototype.update=function(t){var e=this;this._paused||(this._totalTimeAlive+=t,this._elapsedTime+=t,this.maxNumberOfRepeats>-1&&this._numberOfTicks>=this.maxNumberOfRepeats&&(this.complete=!0),!this.complete&&this._elapsedTime>=this.interval&&(this._callbacks.forEach((function(t){t.call(e)})),this._numberOfTicks++,this.repeats?this._elapsedTime=0:this.complete=!0))},t.prototype.reset=function(t,e){if(t&&t>=0&&(this.interval=t),this.maxNumberOfRepeats&&this.maxNumberOfRepeats>=0&&(this.maxNumberOfRepeats=e,!this.repeats))throw new Error("repeats must be set to true if numberOfRepeats is set");this.complete=!1,this._elapsedTime=0,this._numberOfTicks=0},Object.defineProperty(t.prototype,"timesRepeated",{get:function(){return this._numberOfTicks},enumerable:!1,configurable:!0}),t.prototype.getTimeRunning=function(){return this._totalTimeAlive},t.prototype.pause=function(){this._paused=!0},t.prototype.unpause=function(){this._paused=!1},t.prototype.cancel=function(){this.scene&&this.scene.cancelTimer(this)},t.id=0,t}(),Sn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cn=function(t){function e(e,n,i,r,o,s){return t.call(this,e,n,i,r,o,s)||this}return Sn(e,t),e}(fe(function(t){function e(e,n,i,r,o,s){var a=t.call(this)||this;if(a._collidingX=-1,a._collidingY=-1,a._onScreenXStart=0,a._onScreenXEnd=9999,a._onScreenYStart=0,a._onScreenYEnd=9999,a._spriteSheets={},a.logger=R.getInstance(),a.data=[],e&&"object"==typeof e){var c=e;e=c.x,n=c.y,i=c.cellWidth,r=c.cellHeight,o=c.rows,s=c.cols}a.x=e,a.y=n,a.cellWidth=i,a.cellHeight=r,a.rows=o,a.cols=s,a.data=new Array(o*s);for(var h=function(t){for(var c=function(o){var c;c=new Tn(t*i+e,o*r+n,i,r,t+o*s),a.data[t+o*s]=c},h=0;h<o;h++)c(h)},u=0;u<s;u++)h(u);return a}return Sn(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.registerSpriteSheet=function(t,e){this._spriteSheets[t]=e},e.prototype.collides=function(t){var e=t.pos.x+t.width,n=t.pos.y+t.height,i=t.body.collider.bounds,r=[];if(t.width<=0||t.height<=0)return null;for(var o=i.left;o<=e;o+=Math.min(t.width/2,this.cellWidth/2))for(var s=i.top;s<=n;s+=Math.min(t.height/2,this.cellHeight/2)){var a=this.getCellByPoint(o,s);if(a&&a.solid){var c=i.intersect(a.bounds),h=t.center.sub(a.center);c&&c.dot(h)>0&&r.push(c)}}return 0===r.length?null:r.reduce((function(t,e){var n=t.x,i=t.y;return Math.abs(t.x)<Math.abs(e.x)&&(n=e.x),Math.abs(t.y)<Math.abs(e.y)&&(i=e.y),new V(n,i)}))},e.prototype.getCellByIndex=function(t){return this.data[t]},e.prototype.getCell=function(t,e){return t<0||e<0||t>=this.cols||e>=this.rows?null:this.data[t+e*this.cols]},e.prototype.getCellByPoint=function(t,e){t=Math.floor((t-this.x)/this.cellWidth),e=Math.floor((e-this.y)/this.cellHeight);var n=this.getCell(t,e);return t>=0&&e>=0&&t<this.cols&&e<this.rows&&n?n:null},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype.update=function(t,e){this.onPreUpdate(t,e),this.emit("preupdate",new mt(t,e,this));var n=t.screenToWorldCoordinates(new V(0,0)),i=t.screenToWorldCoordinates(new V(t.canvas.clientWidth,t.canvas.clientHeight));this._onScreenXStart=Math.max(Math.floor((n.x-this.x)/this.cellWidth)-2,0),this._onScreenYStart=Math.max(Math.floor((n.y-this.y)/this.cellHeight)-2,0),this._onScreenXEnd=Math.max(Math.floor((i.x-this.x)/this.cellWidth)+2,0),this._onScreenYEnd=Math.max(Math.floor((i.y-this.y)/this.cellHeight)+2,0),this.onPostUpdate(t,e),this.emit("postupdate",new bt(t,e,this))},e.prototype.draw=function(t,e){this.emit("predraw",new yt(t,e,this)),t.save(),t.translate(this.x,this.y);for(var n,i,r,o=this._onScreenXStart,s=Math.min(this._onScreenXEnd,this.cols),a=this._onScreenYStart,c=Math.min(this._onScreenYEnd,this.rows);o<s;o++){for(;a<c;a++)for(i=0,r=(n=this.getCell(o,a).sprites.filter((function(t){return t.spriteId>-1}))).length;i<r;i++){var h=this._spriteSheets[n[i].spriteSheetKey];if(h){var u=h.getSprite(n[i].spriteId);u?u.draw(t,o*this.cellWidth,a*this.cellHeight):this.logger.warn("Sprite does not exist for id",n[i].spriteId,"in sprite sheet",n[i].spriteSheetKey,u,h)}else this.logger.warn("Sprite sheet",n[i].spriteSheetKey,"does not exist",h)}a=this._onScreenYStart}t.restore(),this.emit("postdraw",new gt(t,e,this))},e.prototype.debugDraw=function(t){var e=this.cols*this.cellWidth,n=this.rows*this.cellHeight;t.save(),t.strokeStyle=et.Red.toString();for(var i=0;i<this.cols+1;i++)t.beginPath(),t.moveTo(this.x+i*this.cellWidth,this.y),t.lineTo(this.x+i*this.cellWidth,this.y+n),t.stroke();for(var r=0;r<this.rows+1;r++)t.beginPath(),t.moveTo(this.x,this.y+r*this.cellHeight),t.lineTo(this.x+e,this.y+r*this.cellHeight),t.stroke();var o=et.Red;o.a=.3,this.data.filter((function(t){return t.solid})).forEach((function(e){t.fillStyle=o.toString(),t.fillRect(e.x,e.y,e.width,e.height)})),this._collidingY>-1&&this._collidingX>-1&&(t.fillStyle=et.Cyan.toString(),t.fillRect(this.x+this._collidingX*this.cellWidth,this.y+this._collidingY*this.cellHeight,this.cellWidth,this.cellHeight)),t.restore()},e}(ee))),On=function(t,e){this.spriteSheetKey=t,this.spriteId=e},Tn=function(t){function e(e,n,i,r,o,s,a){return t.call(this,e,n,i,r,o,s,a)||this}return Sn(e,t),e}(fe(function(){function t(t,e,n,i,r,o,s){if(void 0===o&&(o=!1),void 0===s&&(s=[]),this.solid=!1,this.sprites=[],t&&"object"==typeof t){var a=t;t=a.x,e=a.y,n=a.width,i=a.height,r=a.index,o=a.solid,s=a.sprites}this.x=t,this.y=e,this.width=n,this.height=i,this.index=r,this.solid=o,this.sprites=s,this._bounds=new Kt(this.x,this.y,this.x+this.width,this.y+this.height)}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this._bounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new V(this.x+this.width/2,this.y+this.height/2)},enumerable:!1,configurable:!0}),t.prototype.pushSprite=function(t){this.sprites.push(t)},t.prototype.removeSprite=function(t){var e;(e=this.sprites.indexOf(t))>-1&&this.sprites.splice(e,1)},t.prototype.clearSprites=function(){this.sprites.length=0},t}())),Bn=function(){function t(){}return t.create=function(){return this._INSTANCE||(window.AudioContext||window.webkitAudioContext)&&(this._INSTANCE=new window.AudioContext),this._INSTANCE},t._INSTANCE=null,t}();var Mn,Dn=function(){function t(){}return t.unlock=function(){var e=new d;if(t._unlocked||!Bn.create())return e.resolve(!0);var n=setTimeout((function(){R.getInstance().warn("Excalibur was unable to unlock the audio context, audio probably will not play in this browser."),e.resolve()}),200),i=Bn.create();return i.resume().then((function(){var r=i.createBuffer(1,1,22050),o=i.createBufferSource(),s=!1;o.buffer=r,o.connect(i.destination),o.onended=function(){return s=!0},o.noteOn?o.noteOn(0):o.start(0),setTimeout((function(){!function(t){return!!t.playbackState}(o)?(i.currentTime>0||s)&&(t._unlocked=!0):o.playbackState!==o.PLAYING_STATE&&o.playbackState!==o.FINISHED_STATE||(t._unlocked=!0)}),0),clearTimeout(n),e.state()===u.Pending&&e.resolve()}),(function(){e.state()===u.Pending&&e.reject(!1)})),e},t.isUnlocked=function(){return this._unlocked},t._unlocked=!1,t}(),kn=n(58),Rn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jn=function(t){function e(e){var n=t.call(this)||this;return n._resourceList=[],n._index=0,n._playButtonShown=!1,n._resourceCount=0,n._numLoaded=0,n._progressCounts={},n._totalCounts={},n.logo="data:image/png;base64,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",n.logoWidth=468,n.logoHeight=118,n.loadingBarColor=et.White,n.backgroundColor="#176BAA",n.suppressPlayButton=!1,n._playButtonStyles=kn.a.toString(),n.playButtonText="Play game",n.startButtonFactory=function(){var t=document.createElement("button");return t.id="excalibur-play",t.textContent=n.playButtonText,t.style.display="none",t},n.getData=function(){},n.setData=function(){},n.processData=function(){},n.onprogress=function(t){R.getInstance().debug("[ex.Loader] Loading "+(100*t.loaded/t.total).toFixed(0))},n.oncomplete=function(){},n.onerror=function(){},e&&n.addResources(e),n}return Rn(e,t),Object.defineProperty(e.prototype,"_image",{get:function(){return this._imageElement||(this._imageElement=new Image,this._imageElement.src=this.logo),this._imageElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playButtonRootElement",{get:function(){return this._playButtonRootElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playButtonElement",{get:function(){return this._playButtonElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_playButton",{get:function(){return this._playButtonRootElement||(this._playButtonRootElement=document.createElement("div"),this._playButtonRootElement.id="excalibur-play-root",this._playButtonRootElement.style.position="absolute",document.body.appendChild(this._playButtonRootElement)),this._styleBlock||(this._styleBlock=document.createElement("style"),this._styleBlock.textContent=this._playButtonStyles,document.head.appendChild(this._styleBlock)),this._playButtonElement||(this._playButtonElement=this.startButtonFactory(),this._playButtonRootElement.appendChild(this._playButtonElement)),this._playButtonElement},enumerable:!1,configurable:!0}),e.prototype.wireEngine=function(t){this._engine=t},e.prototype.addResource=function(t){var e=this._index++;this._resourceList.push(t),this._progressCounts[e]=0,this._totalCounts[e]=1,this._resourceCount++},e.prototype.addResources=function(t){for(var e=0,n=t.length;e<n;e++)this.addResource(t[e])},e.prototype.isLoaded=function(){return this._numLoaded===this._resourceCount},e.prototype.showPlayButton=function(){if(this.suppressPlayButton)return d.resolve();this._playButtonShown=!0,this._playButton.style.display="block";var t=new d;return this._playButton.addEventListener("click",(function(){return t.state()===u.Pending?t.resolve():t})),this._playButton.addEventListener("touchend",(function(){return t.state()===u.Pending?t.resolve():t})),this._playButton.addEventListener("pointerup",(function(){return t.state()===u.Pending?t.resolve():t})),t},e.prototype.hidePlayButton=function(){this._playButtonShown=!1,this._playButton.style.display="none"},e.prototype.dispose=function(){this._playButtonRootElement.parentElement&&(this._playButtonRootElement.removeChild(this._playButtonElement),document.body.removeChild(this._playButtonRootElement),document.head.removeChild(this._styleBlock),this._playButtonRootElement=null,this._playButtonElement=null,this._styleBlock=null)},e.prototype.load=function(){var t=this,e=new d;if(0===this._resourceList.length)return this.showPlayButton().then((function(){Dn.unlock().then((function(){t.hidePlayButton(),t.oncomplete.call(t),e.resolve(),t.dispose()}))})),e;return this._resourceList.forEach((function(n){t._engine&&n.wireEngine(t._engine),n.onprogress=function(e){t.updateResourceProgress(e.loaded,e.total)},n.oncomplete=n.onerror=function(){t.markResourceComplete(),t.isLoaded()&&setTimeout((function(){t.showPlayButton().then((function(){Dn.unlock().then((function(){t.hidePlayButton(),t.oncomplete.call(t),e.resolve(),t.dispose()}))}))}),200)}})),function t(e,n){e[n]&&e[n].load().then((function(){t(e,n+1)}))}(this._resourceList,0),e},e.prototype.updateResourceProgress=function(t,e){var n=t/e*(100/this._resourceCount)+100*this.progress;this.onprogress({loaded:n,total:100})},e.prototype.markResourceComplete=function(){this._numLoaded++},Object.defineProperty(e.prototype,"progress",{get:function(){return this._resourceCount>0?this._numLoaded/this._resourceCount:1},enumerable:!1,configurable:!0}),e.prototype.draw=function(t){var e=this._engine.canvasHeight/this._engine.pixelRatio,n=this._engine.canvasWidth/this._engine.pixelRatio;if(this._playButtonRootElement){var i=t.canvas.offsetLeft,r=t.canvas.offsetTop,o=this._playButton.clientWidth,s=this._playButton.clientHeight;this.playButtonPosition?(this._playButtonRootElement.style.left=this.playButtonPosition.x+"px",this._playButtonRootElement.style.top=this.playButtonPosition.y+"px"):(this._playButtonRootElement.style.left=i+n/2-o/2+"px",this._playButtonRootElement.style.top=r+e/2-s/2+100+"px")}t.fillStyle=this.backgroundColor,t.fillRect(0,0,n,e);var a=e/2,c=Math.min(this.logoWidth,.75*n),h=n/2-c/2;this.logoPosition&&(h=this.logoPosition.x,a=this.logoPosition.y);var u=Math.floor(c*(this.logoHeight/this.logoWidth)),l=this._engine.getAntialiasing();if(this._engine.setAntialiasing(!0),this.logoPosition?t.drawImage(this._image,0,0,this.logoWidth,this.logoHeight,h,a,c,u):t.drawImage(this._image,0,0,this.logoWidth,this.logoHeight,h,a-u-20,c,u),this.suppressPlayButton||!this._playButtonShown){var p=h,d=a;this.loadingBarPosition&&(p=this.loadingBarPosition.x,d=this.loadingBarPosition.y),t.lineWidth=2,tn(t,p,d,c,20,10,this.loadingBarColor);var f=c*this.progress-10;tn(t,p+5,d+5,f>10?f:10,10,5,null,this.loadingBarColor),this._engine.setAntialiasing(l)}else this._engine.setAntialiasing(l)},e.prototype.update=function(t,e){},e}(ee),Fn={webgl:"WebGL",webaudio:"WebAudio",gamepadapi:"Gamepad API"},In=function(){function t(){this._features=null,this.failedTests=[],this._criticalTests={canvasSupport:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},arrayBufferSupport:function(){var t=new XMLHttpRequest;t.open("GET","/");try{t.responseType="arraybuffer"}catch(t){return!1}return"arraybuffer"===t.responseType},dataUrlSupport:function(){return 0===document.createElement("canvas").toDataURL("image/png").indexOf("data:image/png")},objectUrlSupport:function(){return"URL"in window&&"revokeObjectURL"in URL&&"createObjectURL"in URL},rgbaSupport:function(){var t=document.createElement("a").style;return t.cssText="background-color:rgba(150,255,150,.5)",(""+t.backgroundColor).indexOf("rgba")>-1}},this._warningTest={webAudioSupport:function(){return!!(window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext)},webglSupport:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("webgl"))}},this._features=this._loadBrowserFeatures()}return t.prototype.getBrowserFeatures=function(){return null===this._features&&(this._features=this._loadBrowserFeatures()),this._features},t.prototype.logBrowserFeatures=function(){for(var t="%cSUPPORTED BROWSER FEATURES\n==========================%c\n",e=["font-weight: bold; color: navy","font-weight: normal; color: inherit"],n=this.getBrowserFeatures(),i=0,r=Object.keys(Fn);i<r.length;i++){var o=r[i];n[o]?(t+="(%câ%c)",e.push("font-weight: bold; color: green"),e.push("font-weight: normal; color: inherit")):(t+="(%câ%c)",e.push("font-weight: bold; color: red"),e.push("font-weight: normal; color: inherit")),t+=" "+Fn[o]+"\n"}e.unshift(t),console.log.apply(console,e)},t.prototype._loadBrowserFeatures=function(){var t=this;return{canvas:t._criticalTests.canvasSupport(),arraybuffer:t._criticalTests.arrayBufferSupport(),dataurl:t._criticalTests.dataUrlSupport(),objecturl:t._criticalTests.objectUrlSupport(),rgba:t._criticalTests.rgbaSupport(),webaudio:t._warningTest.webAudioSupport(),webgl:t._warningTest.webglSupport(),gamepadapi:!!navigator.getGamepads}},t.prototype.test=function(){var t=!1;for(var e in this._criticalTests)this._criticalTests[e].call(this)||(this.failedTests.push(e),R.getInstance().error("Critical browser feature missing, Excalibur requires:",e),t=!0);if(t)return!1;for(var n in this._warningTest)this._warningTest[n]()||R.getInstance().warn("Warning browser feature missing, Excalibur will have reduced performance:",n);return!0},t}(),Ln=function(){function t(t){this.parent=t,this.parent=t||null,this.body=null,this.bounds=new Kt,this.left=null,this.right=null,this.height=0}return t.prototype.isLeaf=function(){return!this.left&&!this.right},t}(),zn=function(){function t(t){void 0===t&&(t=new Kt(-Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)),this.worldBounds=t,this.root=null,this.nodes={}}return t.prototype._insert=function(t){if(null===this.root)return this.root=t,void(this.root.parent=null);for(var e=t.bounds,n=this.root;!n.isLeaf();){var i=n.left,r=n.right,o=n.bounds.getPerimeter(),s=n.bounds.combine(e).getPerimeter(),a=2*s,c=2*(s-o),h=0,u=e.combine(i.bounds),l=void 0;i.isLeaf()?h=u.getPerimeter()+c:(l=i.bounds.getPerimeter(),h=u.getPerimeter()-l+c);var p=0,d=e.combine(r.bounds);if(r.isLeaf()?p=d.getPerimeter()+c:(l=r.bounds.getPerimeter(),p=d.getPerimeter()-l+c),a<h&&a<p)break;n=h<p?i:r}var f=n.parent,y=new Ln(f);y.bounds=e.combine(n.bounds),y.height=n.height+1,null!==f?(f.left===n?f.left=y:f.right=y,y.left=n,y.right=t,n.parent=y,t.parent=y):(y.left=n,y.right=t,n.parent=y,t.parent=y,this.root=y);for(var g=t.parent;g;){if(!(g=this._balance(g)).left)throw new Error("Parent of current leaf cannot have a null left child"+g);if(!g.right)throw new Error("Parent of current leaf cannot have a null right child"+g);g.height=1+Math.max(g.left.height,g.right.height),g.bounds=g.left.bounds.combine(g.right.bounds),g=g.parent}},t.prototype._remove=function(t){if(t!==this.root){var e,n=t.parent,i=n.parent;if(e=n.left===t?n.right:n.left,i){i.left===n?i.left=e:i.right=e,e.parent=i;for(var r=i;r;)(r=this._balance(r)).bounds=r.left.bounds.combine(r.right.bounds),r.height=1+Math.max(r.left.height,r.right.height),r=r.parent}else this.root=e,e.parent=null}else this.root=null},t.prototype.trackBody=function(t){var e=new Ln;e.body=t,e.bounds=t.collider.bounds,e.bounds.left-=2,e.bounds.top-=2,e.bounds.right+=2,e.bounds.bottom+=2,this.nodes[t.id]=e,this._insert(e)},t.prototype.updateBody=function(t){var e=this.nodes[t.id];if(!e)return!1;var n=t.collider.bounds;if(!this.worldBounds.contains(n))return R.getInstance().warn("Collider with id "+t.id+" is outside the world bounds and will no longer be tracked for physics"),this.untrackBody(t),!1;if(e.bounds.contains(n))return!1;this._remove(e),n.left-=st.boundsPadding,n.top-=st.boundsPadding,n.right+=st.boundsPadding,n.bottom+=st.boundsPadding;var i=t.vel.x*st.dynamicTreeVelocityMultiplier,r=t.vel.y*st.dynamicTreeVelocityMultiplier;return i<0?n.left+=i:n.right+=i,r<0?n.top+=r:n.bottom+=r,e.bounds=n,this._insert(e),!0},t.prototype.untrackBody=function(t){var e=this.nodes[t.collider.id];e&&(this._remove(e),this.nodes[t.collider.id]=null,delete this.nodes[t.collider.id])},t.prototype._balance=function(t){if(null===t)throw new Error("Cannot balance at null node");if(t.isLeaf()||t.height<2)return t;var e=t.left,n=t.right,i=t,r=e,o=n,s=e.left,a=e.right,c=n.left,h=n.right,u=o.height-r.height;if(u>1)return o.left=i,o.parent=i.parent,i.parent=o,o.parent?o.parent.left===i?o.parent.left=o:o.parent.right=o:this.root=o,c.height>h.height?(o.right=c,i.right=h,h.parent=i,i.bounds=r.bounds.combine(h.bounds),o.bounds=i.bounds.combine(c.bounds),i.height=1+Math.max(r.height,h.height),o.height=1+Math.max(i.height,c.height)):(o.right=h,i.right=c,c.parent=i,i.bounds=r.bounds.combine(c.bounds),o.bounds=i.bounds.combine(h.bounds),i.height=1+Math.max(r.height,c.height),o.height=1+Math.max(i.height,h.height)),o;if(u<-1){if(r.left=i,r.parent=i.parent,i.parent=r,r.parent)if(r.parent.left===i)r.parent.left=r;else{if(r.parent.right!==i)throw"Error rotating Dynamic Tree";r.parent.right=r}else this.root=r;return s.height>a.height?(r.right=s,i.left=a,a.parent=i,i.bounds=o.bounds.combine(a.bounds),r.bounds=i.bounds.combine(s.bounds),i.height=1+Math.max(o.height,a.height),r.height=1+Math.max(i.height,s.height)):(r.right=a,i.left=s,s.parent=i,i.bounds=o.bounds.combine(s.bounds),r.bounds=i.bounds.combine(a.bounds),i.height=1+Math.max(o.height,s.height),r.height=1+Math.max(i.height,a.height)),r}return t},t.prototype.getHeight=function(){return null===this.root?0:this.root.height},t.prototype.query=function(t,e){var n=t.collider.bounds,i=function(r){if(r&&r.bounds.intersect(n)){if(!r.isLeaf()||r.body===t)return i(r.left)||i(r.right);if(e.call(t,r.body))return!0}return!1};i(this.root)},t.prototype.rayCastQuery=function(t,e,n){void 0===e&&(e=1/0);var i=function(r){if(r&&r.bounds.rayCast(t,e)){if(!r.isLeaf())return i(r.left)||i(r.right);if(n.call(t,r.body))return!0}return!1};i(this.root)},t.prototype.getNodes=function(){var t=function(e){return e?[e].concat(t(e.left),t(e.right)):[]};return t(this.root)},t.prototype.debugDraw=function(t){var e=function(n){n&&(n.isLeaf()?(t.lineWidth=1,t.strokeStyle="green"):(t.lineWidth=1,t.strokeStyle="white"),n.bounds.debugDraw(t),n.left&&e(n.left),n.right&&e(n.right))};e(this.root)},t}(),Hn=function(){function t(){this._dynamicCollisionTree=new zn,this._collisionHash={},this._collisionPairCache=[],this._lastFramePairs=[],this._lastFramePairsHash={}}return t.prototype.track=function(t){t?this._dynamicCollisionTree.trackBody(t):R.getInstance().warn("Cannot track null physics body")},t.prototype.untrack=function(t){t?this._dynamicCollisionTree.untrackBody(t):R.getInstance().warn("Cannot untrack a null physics body")},t.prototype._shouldGenerateCollisionPair=function(t,e){var n=rn.calculatePairHash(t,e);return!this._collisionHash[n]&&rn.canCollide(t,e)},t.prototype.broadphase=function(t,e,n){var i,r=this,o=e/1e3,s=t.map((function(t){return t.collider})).filter((function(t){return t.active&&t.type!==ct.PreventCollision}));this._collisionPairCache=[],this._collisionHash={};for(var a=0,c=s.length;a<c;a++)i=s[a],this._dynamicCollisionTree.query(i.body,(function(t){if(r._shouldGenerateCollisionPair(i,t.collider)){var e=new rn(i,t.collider);r._collisionHash[e.id]=!0,r._collisionPairCache.push(e)}return!1}));if(n&&(n.physics.pairs=this._collisionPairCache.length),st.checkForFastBodies)for(var h=function(t){if(t.type!==ct.Active)return"continue";var e=t.body.vel.size*o+.5*t.body.acc.size*o*o,i=Math.min(t.bounds.height,t.bounds.width);if(st.disableMinimumSpeedForFastBody||e>i/2){n&&n.physics.fastBodies++;var r,s=t.body.pos.sub(t.body.oldPos),a=t.shape.center,c=t.shape.getFurthestPoint(t.body.vel),h=c.sub(s),l=new G(h,t.body.vel);l.pos=l.pos.add(l.dir.scale(-2*st.surfaceEpsilon));var p=new V(1/0,1/0);if(u._dynamicCollisionTree.rayCastQuery(l,e+2*st.surfaceEpsilon,(function(n){if(t.body!==n&&n.collider.shape&&rn.canCollide(t,n.collider)){var i=n.collider.shape.rayCast(l,e+10*st.surfaceEpsilon);if(i){var o=i.sub(h);o.size<p.size&&(p=o,r=n)}}return!1})),r&&V.isValid(p)){var d=new rn(t,r.collider);u._collisionHash[d.id]||(u._collisionHash[d.id]=!0,u._collisionPairCache.push(d));var f=a.sub(c);t.body.pos=h.add(f).add(p).add(l.dir.scale(2*st.surfaceEpsilon)),t.shape.recalc(),n&&n.physics.fastBodyCollisions++}}},u=this,l=0,p=s;l<p.length;l++){h(p[l])}return this._collisionPairCache},t.prototype.narrowphase=function(t,e){for(var n=0;n<t.length;n++)t[n].collide(),e&&t[n].collision&&(e.physics.collisions++,e.physics.collidersHash[t[n].id]=t[n]);return t.filter((function(t){return t.collision}))},t.prototype.resolve=function(t,e,n){for(var i=0,r=t;i<r.length;i++){var o=r[i];o.resolve(n),o.collision&&(o.colliderA.body.applyMtv(),o.colliderB.body.applyMtv(),o.colliderA.body.integrate(e*st.collisionShift),o.colliderB.body.integrate(e*st.collisionShift))}return t.filter((function(t){return t.canCollide}))},t.prototype.runCollisionStartEnd=function(t){for(var e={},n=0,i=t;n<i.length;n++){if(e[(c=i[n]).id]=c,!this._lastFramePairsHash[c.id]){var r=c.colliderA,o=c.colliderB;r.emit("collisionstart",new kt(r,o,c)),o.emit("collisionstart",new kt(o,r,c))}}for(var s=0,a=this._lastFramePairs;s<a.length;s++){var c;if(!e[(c=a[s]).id]){r=c.colliderA,o=c.colliderB;r.emit("collisionend",new Rt(r,o)),o.emit("collisionend",new Rt(o,r))}}this._lastFramePairs=t,this._lastFramePairsHash=e},t.prototype.update=function(t){for(var e=0,n=t.length,i=0;i<n;i++)this._dynamicCollisionTree.updateBody(t[i])&&e++;return e},t.prototype.debugDraw=function(t){if(st.broadphaseDebug&&this._dynamicCollisionTree.debugDraw(t),st.showContacts||st.showCollisionNormals)for(var e=0,n=this._collisionPairCache;e<n.length;e++){n[e].debugDraw(t)}},t}(),Un=function(){function t(t){this._getComparable=t}return t.prototype.find=function(t){return this._find(this._root,t)},t.prototype._find=function(t,e){return null!=t&&(this._getComparable(e)===t.getKey()?t.getData().indexOf(e)>-1:this._getComparable(e)<t.getKey()?this._find(t.getLeft(),e):this._find(t.getRight(),e))},t.prototype.get=function(t){return this._get(this._root,t)},t.prototype._get=function(t,e){return null==t?[]:e===t.getKey()?t.getData():e<t.getKey()?this._get(t.getLeft(),e):this._get(t.getRight(),e)},t.prototype.add=function(t){return null==this._root?(this._root=new Wn(this._getComparable(t),[t],null,null),!0):this._insert(this._root,t)},t.prototype._insert=function(t,e){return null!=t&&(this._getComparable(e)===t.getKey()?!(t.getData().indexOf(e)>-1)&&(t.getData().push(e),!0):this._getComparable(e)<t.getKey()?null==t.getLeft()?(t.setLeft(new Wn(this._getComparable.call(e,e),[e],null,null)),!0):this._insert(t.getLeft(),e):null==t.getRight()?(t.setRight(new Wn(this._getComparable.call(e,e),[e],null,null)),!0):this._insert(t.getRight(),e))},t.prototype.removeByComparable=function(t){this._root=this._remove(this._root,t)},t.prototype._remove=function(t,e){if(null==t)return null;if(this._getComparable(e)!==t.getKey())return this._getComparable(e)<t.getKey()?(t.setLeft(this._remove(t.getLeft(),e)),t):(t.setRight(this._remove(t.getRight(),e)),t);var n=t.getData().indexOf(e);if(n>-1){if(t.getData().splice(n,1),0===t.getData().length){if(null==t.getLeft()&&null==t.getRight())return null;if(null==t.getLeft())return t.getRight();if(null==t.getRight())return t.getLeft();var i=this._findMinNode(t.getRight());return t.setKey(i.getKey()),t.setData(i.getData()),t.setRight(this._cleanup(t.getRight(),i)),t}return t}return null},t.prototype._cleanup=function(t,e){var n=e.getKey();if(null==t)return null;if(n===t.getKey()){if(null==t.getLeft()&&null==t.getRight())return null;if(null==t.getLeft())return t.getRight();if(null==t.getRight())return t.getLeft();var i=this._findMinNode(t.getRight());return t.setKey(i.getKey()),t.setData(i.getData()),t.setRight(this._cleanup(t.getRight(),i)),t}return e.getKey()<t.getKey()?(t.setLeft(this._cleanup(t.getLeft(),e)),t):(t.setRight(this._cleanup(t.getRight(),e)),t)},t.prototype._findMinNode=function(t){for(var e=t;null!=e.getLeft();)e=e.getLeft();return e},t.prototype.list=function(){var t=new Array;return this._list(this._root,t),t},t.prototype._list=function(t,e){null!=t&&(this._list(t.getLeft(),e),t.getData().forEach((function(t){e.push(t)})),this._list(t.getRight(),e))},t}(),Wn=function(){function t(t,e,n,i){this._key=t,this._data=e,this._left=n,this._right=i}return t.prototype.getKey=function(){return this._key},t.prototype.setKey=function(t){this._key=t},t.prototype.getData=function(){return this._data},t.prototype.setData=function(t){this._data=t},t.prototype.getLeft=function(){return this._left},t.prototype.setLeft=function(t){this._left=t},t.prototype.getRight=function(){return this._right},t.prototype.setRight=function(t){this._right=t},t}(),Nn=function(){function t(t){this._key=0,this._key=t}return t.prototype.getTheKey=function(){return this._key},t.prototype.setKey=function(t){this._key=t},t}(),qn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vn=function(){function t(t){this.camera=t}return t.prototype.lockToActor=function(t){this.camera.addStrategy(new Kn(t))},t.prototype.lockToActorAxis=function(t,e){this.camera.addStrategy(new Yn(t,e))},t.prototype.elasticToActor=function(t,e,n){this.camera.addStrategy(new Jn(t,e,n))},t.prototype.radiusAroundActor=function(t,e){this.camera.addStrategy(new $n(t,e))},t.prototype.limitCameraBounds=function(t){this.camera.addStrategy(new ti(t))},t}();!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(Mn||(Mn={}));var Gn,Xn,Qn,Zn,Kn=function(t){this.target=t,this.action=function(t,e,n,i){return t.center}},Yn=function(t,e){var n=this;this.target=t,this.axis=e,this.action=function(t,e,i,r){var o=t.center,s=e.getFocus();return n.axis===Mn.X?new V(o.x,s.y):new V(s.x,o.y)}},Jn=function(t,e,n){var i=this;this.target=t,this.cameraElasticity=e,this.cameraFriction=n,this.action=function(t,e,n,r){var o=t.center,s=e.getFocus(),a=e.vel.clone(),c=o.sub(s).scale(i.cameraElasticity),h=(a=a.add(c)).scale(-1).scale(i.cameraFriction);return a=a.add(h),s=s.add(a)}},$n=function(t,e){var n=this;this.target=t,this.radius=e,this.action=function(t,e,i,r){var o=t.center,s=e.getFocus(),a=o.sub(s),c=a.size;if(c>=n.radius){var h=c-n.radius;return s.add(a.normalize().scale(h))}return s}},ti=function(t){var e=this;this.target=t,this.boundSizeChecked=!1,this.action=function(t,n,i,r){var o=n.getFocus();return e.boundSizeChecked||((t.bottom-t.top<i.drawHeight||t.right-t.left<i.drawWidth)&&R.getInstance().warn("Camera bounds should not be smaller than the engine viewport"),e.boundSizeChecked=!0),o.x<t.left+i.halfDrawWidth?o.x=t.left+i.halfDrawWidth:o.x>t.right-i.halfDrawWidth&&(o.x=t.right-i.halfDrawWidth),o.y<t.top+i.halfDrawHeight?o.y=t.top+i.halfDrawHeight:o.y>t.bottom-i.halfDrawHeight&&(o.y=t.bottom-i.halfDrawHeight),o}},ei=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._cameraStrategies=[],e.strategy=new Vn(e),e.z=1,e.dz=0,e.az=0,e.rotation=0,e.rx=0,e.pos=V.Zero,e.vel=V.Zero,e.acc=V.Zero,e._cameraMoving=!1,e._currentLerpTime=0,e._lerpDuration=1e3,e._lerpStart=null,e._lerpEnd=null,e._isShaking=!1,e._shakeMagnitudeX=0,e._shakeMagnitudeY=0,e._shakeDuration=0,e._elapsedShakeTime=0,e._xShake=0,e._yShake=0,e._isZooming=!1,e._zoomStart=1,e._zoomEnd=1,e._currentZoomTime=0,e._zoomDuration=0,e._zoomEasing=Ne.EaseInOutCubic,e._easing=Ne.EaseInOutCubic,e._isInitialized=!1,e}return qn(e,t),Object.defineProperty(e.prototype,"angularVelocity",{get:function(){return this.rx},set:function(t){this.rx=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.pos.x},set:function(t){this._follow||this._cameraMoving||(this.pos.x=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.pos.y},set:function(t){this._follow||this._cameraMoving||(this.pos.y=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dx",{get:function(){return this.vel.x},set:function(t){this.vel.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dy",{get:function(){return this.vel.y},set:function(t){this.vel.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ax",{get:function(){return this.acc.x},set:function(t){this.acc.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ay",{get:function(){return this.acc.y},set:function(t){this.acc.y=t},enumerable:!1,configurable:!0}),e.prototype.getFocus=function(){return this.pos},e.prototype.move=function(t,e,n){if(void 0===n&&(n=Ne.EaseInOutCubic),"function"!=typeof n)throw"Please specify an EasingFunction";return this._follow?(new d).reject(t):(this._lerpPromise&&this._lerpPromise.state()===u.Pending&&this._lerpPromise.resolve(t),this._lerpPromise=new d,this._lerpStart=this.getFocus().clone(),this._lerpDuration=e,this._lerpEnd=t,this._currentLerpTime=0,this._cameraMoving=!0,this._easing=n,this._lerpPromise)},e.prototype.shake=function(t,e,n){this._isShaking=!0,this._shakeMagnitudeX=t,this._shakeMagnitudeY=e,this._shakeDuration=n},e.prototype.zoom=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=Ne.EaseInOutCubic),this._zoomPromise=new d,e?(this._isZooming=!0,this._zoomEasing=n,this._currentZoomTime=0,this._zoomDuration=e,this._zoomStart=this.z,this._zoomEnd=t):(this._isZooming=!1,this.z=t,this._zoomPromise.resolve(!0)),this._zoomPromise},e.prototype.getZoom=function(){return this.z},Object.defineProperty(e.prototype,"viewport",{get:function(){if(this._engine){var t=this._engine.halfDrawWidth,e=this._engine.halfDrawHeight;return new Kt(this.x-t,this.y-e,this.x+t,this.y+e)}return new Kt(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.addStrategy=function(t){this._cameraStrategies.push(t)},e.prototype.removeStrategy=function(t){C(t,this._cameraStrategies)},e.prototype.clearAllStrategies=function(){this._cameraStrategies.length=0},e.prototype._preupdate=function(t,e){this.emit("preupdate",new mt(t,e,this)),this.onPreUpdate(t,e)},e.prototype.onPreUpdate=function(t,e){},e.prototype._postupdate=function(t,e){this.emit("postupdate",new bt(t,e,this)),this.onPostUpdate(t,e)},e.prototype.onPostUpdate=function(t,e){},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!1,configurable:!0}),e.prototype._initialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new jt(e,this)),this._isInitialized=!0,this._engine=e)},e.prototype.onInitialize=function(t){},e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.update=function(t,e){if(this._initialize(t),this._preupdate(t,e),this.pos=this.pos.add(this.vel.scale(e/1e3)),this.z+=this.dz*e/1e3,this.vel=this.vel.add(this.acc.scale(e/1e3)),this.dz+=this.az*e/1e3,this.rotation+=this.angularVelocity*e/1e3,this._isZooming)if(this._currentZoomTime<this._zoomDuration){var n=(0,this._zoomEasing)(this._currentZoomTime,this._zoomStart,this._zoomEnd,this._zoomDuration);this.z=n,this._currentZoomTime+=e}else this._isZooming=!1,this.z=this._zoomEnd,this._currentZoomTime=0,this._zoomPromise.resolve(!0);if(this._cameraMoving)if(this._currentLerpTime<this._lerpDuration){var i=Ne.CreateVectorEasingFunction(this._easing)(this._currentLerpTime,this._lerpStart,this._lerpEnd,this._lerpDuration);this.pos=i,this._currentLerpTime+=e}else{this.pos=this._lerpEnd;var r=this._lerpEnd.clone();this._lerpStart=null,this._lerpEnd=null,this._currentLerpTime=0,this._cameraMoving=!1,this._lerpPromise.resolve(r)}this._isDoneShaking()?(this._isShaking=!1,this._elapsedShakeTime=0,this._shakeMagnitudeX=0,this._shakeMagnitudeY=0,this._shakeDuration=0,this._xShake=0,this._yShake=0):(this._elapsedShakeTime+=e,this._xShake=1+(Math.random()*this._shakeMagnitudeX|0),this._yShake=1+(Math.random()*this._shakeMagnitudeY|0));for(var o=0,s=this._cameraStrategies;o<s.length;o++){var a=s[o];this.pos=a.action.call(a,a.target,this,t,e)}this._postupdate(t,e)},e.prototype.draw=function(t){var e=this.getFocus(),n=t.canvas.width,i=t.canvas.height,r=this._engine?this._engine.pixelRatio:window.devicePixelRatio,o=this.getZoom(),s=n/o/r,a=i/o/r;t.scale(o,o),t.translate(-e.x+s/2+this._xShake,-e.y+a/2+this._yShake)},e.prototype.debugDraw=function(t){var e=this.getFocus();t.fillStyle="red",t.strokeStyle="white",t.lineWidth=3,t.beginPath(),t.arc(e.x,e.y,15,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.arc(e.x,e.y,5,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.setLineDash([5,15]),t.lineWidth=5,t.strokeStyle="white",t.strokeRect(this.viewport.left,this.viewport.top,this.viewport.width,this.viewport.height),t.closePath()},e.prototype._isDoneShaking=function(){return!this._isShaking||this._elapsedShakeTime>=this._shakeDuration},e}(ee),ni=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){t[t.Em=0]="Em",t[t.Rem=1]="Rem",t[t.Px=2]="Px",t[t.Pt=3]="Pt",t[t.Percent=4]="Percent"}(Gn||(Gn={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Start=3]="Start",t[t.End=4]="End"}(Xn||(Xn={})),function(t){t[t.Top=0]="Top",t[t.Hanging=1]="Hanging",t[t.Middle=2]="Middle",t[t.Alphabetic=3]="Alphabetic",t[t.Ideographic=4]="Ideographic",t[t.Bottom=5]="Bottom"}(Qn||(Qn={})),function(t){t[t.Normal=0]="Normal",t[t.Italic=1]="Italic",t[t.Oblique=2]="Oblique"}(Zn||(Zn={}));var ii=function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return ni(e,t),e}(fe(function(t){function e(e,n,i,r,o){var s=t.call(this,e&&"object"==typeof e?e:{pos:new V(n,i)})||this;s.bold=!1,s.fontSize=10,s.fontStyle=Zn.Normal,s.fontUnit=Gn.Px,s.textAlign=Xn.Left,s.baseAlign=Qn.Bottom,s.letterSpacing=0,s.caseInsensitive=!0;var a="";return e&&"object"==typeof e?(r=e.fontFamily,o=e.spriteFont,a=e.text):a=e,s.text=a||"",s.color=et.Black,s.spriteFont=o,s.body.collider.type=ct.PreventCollision,s.fontFamily=r||"sans-serif",s._textShadowOn=!1,s._shadowOffsetX=0,s._shadowOffsetY=0,s}return ni(e,t),e.prototype.getTextWidth=function(t){var e=t.font;t.font=this._fontString;var n=t.measureText(this.text).width;return t.font=e,n},e.prototype._lookupFontUnit=function(t){switch(t){case Gn.Em:return"em";case Gn.Rem:return"rem";case Gn.Pt:return"pt";case Gn.Px:return"px";case Gn.Percent:return"%";default:return"px"}},e.prototype._lookupTextAlign=function(t){switch(t){case Xn.Left:return"left";case Xn.Right:return"right";case Xn.Center:return"center";case Xn.End:return"end";case Xn.Start:default:return"start"}},e.prototype._lookupBaseAlign=function(t){switch(t){case Qn.Alphabetic:return"alphabetic";case Qn.Bottom:return"bottom";case Qn.Hanging:return"hanging";case Qn.Ideographic:return"ideographic";case Qn.Middle:return"middle";case Qn.Top:return"top";default:return"alphabetic"}},e.prototype._lookupFontStyle=function(t){var e=this.bold?" bold":"";switch(t){case Zn.Italic:return"italic"+e;case Zn.Normal:return"normal"+e;case Zn.Oblique:return"oblique"+e;default:return"normal"+e}},e.prototype.setTextShadow=function(t,e,n){this.spriteFont.setTextShadow(t,e,n)},e.prototype.useTextShadow=function(t){this.spriteFont.useTextShadow(t)},e.prototype.clearTextShadow=function(){this._textShadowOn=!1,this._shadowOffsetX=0,this._shadowOffsetY=0},e.prototype.update=function(e,n){t.prototype.update.call(this,e,n)},e.prototype.draw=function(e,n){e.save(),e.translate(this.pos.x,this.pos.y),e.scale(this.scale.x,this.scale.y),e.rotate(this.rotation),this._textShadowOn&&(e.save(),e.translate(this._shadowOffsetX,this._shadowOffsetY),this._fontDraw(e),e.restore()),this._fontDraw(e),t.prototype.draw.call(this,e,n),e.restore()},e.prototype._fontDraw=function(t){if(this.spriteFont)this.spriteFont.draw(t,this.text,0,0,{color:this.color.clone(),baseAlign:this.baseAlign,textAlign:this.textAlign,fontSize:this.fontSize,letterSpacing:this.letterSpacing,opacity:this.opacity});else{var e=t.textAlign,n=t.textBaseline;t.textAlign=this._lookupTextAlign(this.textAlign),t.textBaseline=this._lookupBaseAlign(this.baseAlign),this.color&&(this.color.a=this.opacity),t.fillStyle=this.color.toString(),t.font=this._fontString,this.maxWidth?t.fillText(this.text,0,0,this.maxWidth):t.fillText(this.text,0,0),t.textAlign=e,t.textBaseline=n}},Object.defineProperty(e.prototype,"_fontString",{get:function(){return this._lookupFontStyle(this.fontStyle)+" "+this.fontSize+this._lookupFontUnit(this.fontUnit)+" "+this.fontFamily},enumerable:!1,configurable:!0}),e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e)},e}(bn))),ri=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oi={pos:V.Zero,width:10,height:10,visible:!1,action:function(){},filter:function(){return!0},repeat:-1},si=function(t){function e(e){var n=t.call(this,e.pos.x,e.pos.y,e.width,e.height)||this;return n.action=function(){},n.filter=function(){return!0},n.repeat=-1,e=g({},oi,e),n.filter=e.filter||n.filter,n.repeat=e.repeat||n.repeat,n.action=e.action||n.action,e.target&&(n.target=e.target),n.visible=e.visible,n.body.collider.type=ct.Passive,n.eventDispatcher=new te(n),n.actionQueue=new Ue(n),n.on("collisionstart",(function(t){mn(t.other)&&n.filter(t.other)&&(n.emit("enter",new Ht(n,t.other)),n._dispatchAction(),0===n.repeat&&n.kill())})),n.on("collisionend",(function(t){mn(t.other)&&n.filter(t.other)&&n.emit("exit",new Ut(n,t.other))})),n}return ri(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,this.filter=function(e){return e===t}},enumerable:!1,configurable:!0}),e.prototype._initialize=function(e){t.prototype._initialize.call(this,e)},e.prototype._dispatchAction=function(){this.action.call(this),this.repeat--},e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e),e.save(),e.translate(this.pos.x,this.pos.y);var n=this.body.collider.bounds,i=this.getWorldPos();n.left=n.left-i.x,n.right=n.right-i.x,n.top=n.top-i.y,n.bottom=n.bottom-i.y,e.fillStyle=et.Violet.toString(),e.strokeStyle=et.Violet.toString(),e.fillText("Trigger",10,10),n.debugDraw(e),e.restore()},e}(bn);function ai(t){return t instanceof Pn}var ci,hi=function(t){return t.sort((function(t,e){return t.localeCompare(e)})).join("+")};!function(t){t.Update="update",t.Draw="draw"}(ci||(ci={}));var ui=function(){function t(){this.priority=0}return t.prototype.notify=function(t){},t}(),li=function(t){this.data=t,this.type="Entity Added"};function pi(t){return!!t&&"Entity Added"===t.type}var di=function(t){this.data=t,this.type="Entity Removed"};function fi(t){return!!t&&"Entity Removed"===t.type}var yi,gi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_i=function(t){function e(e){var n=t.call(this)||this;return n.types=e,n.entities=[],n}return gi(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return hi(this.types)},enumerable:!1,configurable:!0}),e.prototype.addEntity=function(t){!h.contains(this.entities,t)&&this.matches(t)&&(this.entities.push(t),this.notifyAll(new li(t)))},e.prototype.removeEntity=function(t){h.removeItemFromArray(t,this.entities)&&this.notifyAll(new di(t))},e.prototype.clear=function(){this.entities.length=0;for(var t=0,e=this.observers;t<e.length;t++){var n=e[t];this.unregister(n)}},e.prototype.matches=function(t){var e=[];e=t instanceof gn?t.types:t;for(var n=!0,i=0,r=this.types;i<r.length;i++){var o=r[i];if(!(n=n&&e.indexOf(o)>-1))return!1}return n},e}(un),vi=function(){function t(t){this.scene=t,this._queries={}}return t.prototype._addQuery=function(t){this._queries[hi(t.types)]=t;for(var e=0,n=this.scene.entityManager.entities;e<n.length;e++){var i=n[e];t.addEntity(i)}},t.prototype.maybeRemoveQuery=function(t){0===t.observers.length&&(t.clear(),delete this._queries[hi(t.types)])},t.prototype.addEntity=function(t){for(var e in this._queries)this._queries[e]&&this._queries[e].addEntity(t)},t.prototype.removeComponent=function(t,e){for(var n in this._queries)this._queries[n].matches(t.types.concat([e.type]))&&this._queries[n].removeEntity(t)},t.prototype.removeEntity=function(t){for(var e in this._queries)this._queries[e].entities.indexOf(t)>-1&&this._queries[e].removeEntity(t)},t.prototype.createQuery=function(t){var e=this.getQuery(t);if(e)return e;var n=new _i(t);return this._addQuery(n),n},t.prototype.getQuery=function(t){var e=hi(t);return this._queries[e]?this._queries[e]:null},t}(),mi=function(){function t(t){this._scene=t,this.entities=[],this._entityIndex={}}return t.prototype.notify=function(t){dn(t)&&this._scene.queryManager.addEntity(t.data.entity),yn(t)&&this._scene.queryManager.removeComponent(t.data.entity,t.data.component)},t.prototype.addEntity=function(t){t&&(this._entityIndex[t.id]=t,this.entities.push(t),this._scene.queryManager.addEntity(t),t.changes.register(this))},t.prototype.removeEntity=function(t){var e=0;e=t instanceof gn?t.id:t;var n=this._entityIndex[e];delete this._entityIndex[e],n&&(h.removeItemFromArray(n,this.entities),this._scene.queryManager.removeEntity(n),n.changes.unregister(this))},t.prototype.processRemovals=function(){for(var t=0,e=this.entities;t<e.length;t++){e[t].processRemoval()}},t.prototype.getById=function(t){return this._entityIndex[t]},t}(),bi=function(){function t(t){this._scene=t,this.systems=[]}return t.prototype.addSystem=function(t){if(!t.types||0===t.types.length)throw new Error("Attempted to add a System without any types");var e=this._scene.queryManager.createQuery(t.types);this.systems.push(t),this.systems.sort((function(t,e){return t.priority-e.priority})),e.register(t)},t.prototype.removeSystem=function(t){h.removeItemFromArray(t,this.systems);var e=this._scene.queryManager.getQuery(t.types);e&&(e.unregister(t),this._scene.queryManager.maybeRemoveQuery(e))},t.prototype.updateSystems=function(t,e,n){for(var i=this.systems.filter((function(e){return e.systemType===t})),r=0,o=i;r<o.length;r++){(c=o[r]).preupdate&&c.preupdate(e,n)}for(var s=0,a=i;s<a.length;s++){var c=a[s],h=this._scene.queryManager.getQuery(c.types).entities;c.update(h,n)}for(var u=0,l=i;u<l.length;u++){(c=l[u]).postupdate&&c.postupdate(e,n)}},t}(),wi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xi=function(t){function e(e){var n=t.call(this)||this;return n.actors=[],n.queryManager=new vi(n),n.entityManager=new mi(n),n.systemManager=new bi(n),n._bodies=[],n.triggers=[],n.tileMaps=[],n.screenElements=[],n._isInitialized=!1,n._sortedDrawingTree=new Un(bn.prototype.getZIndex),n._broadphase=new Hn,n._killQueue=[],n._triggerKillQueue=[],n._timers=[],n._cancelQueue=[],n._logger=R.getInstance(),n.camera=new ei,n._engine=e,e&&(n.camera.x=e.halfDrawWidth,n.camera.y=e.halfDrawHeight),n}return wi(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.onInitialize=function(t){},e.prototype.onActivate=function(t,e){},e.prototype.onDeactivate=function(t,e){},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype.onPreDraw=function(t,e){},e.prototype.onPostDraw=function(t,e){},e.prototype._initializeChildren=function(){for(var t=0,e=this.actors;t<e.length;t++){e[t]._initialize(this._engine)}},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!1,configurable:!0}),e.prototype._initialize=function(t){this.isInitialized||(this._engine=t,this.camera&&(this.camera.x=t.halfDrawWidth,this.camera.y=t.halfDrawHeight),this.onInitialize.call(this,t),this._initializeChildren(),this._logger.debug("Scene.onInitialize",this,t),this.eventDispatcher.emit("initialize",new jt(t,this)),this._isInitialized=!0)},e.prototype._activate=function(t,e){this._logger.debug("Scene.onActivate",this),this.onActivate(t,e)},e.prototype._deactivate=function(t,e){this._logger.debug("Scene.onDeactivate",this),this.onDeactivate(t,e)},e.prototype._preupdate=function(t,e){this.emit("preupdate",new mt(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new bt(t,e,this)),this.onPostUpdate(t,e)},e.prototype._predraw=function(t,e){this.emit("predraw",new yt(t,e,this)),this.onPreDraw(t,e)},e.prototype._postdraw=function(t,e){this.emit("postdraw",new gt(t,e,this)),this.onPostDraw(t,e)},e.prototype.update=function(t,e){var n,i;for(this._preupdate(t,e),this.systemManager.updateSystems(ci.Update,t,e),this.entityManager.processRemovals(),this.camera&&this.camera.update(t,e),n=0,i=this._cancelQueue.length;n<i;n++)this.removeTimer(this._cancelQueue[n]);this._cancelQueue.length=0;for(var r=0,o=this._timers;r<o.length;r++){o[r].update(e)}for(n=0,i=this.screenElements.length;n<i;n++)this.screenElements[n].update(t,e);for(n=0,i=this.tileMaps.length;n<i;n++)this.tileMaps[n].update(t,e);for(n=0,i=this.actors.length;n<i;n++)this.actors[n].update(t,e),this._bodies[n]=this.actors[n].body;for(n=0,i=this.triggers.length;n<i;n++)this.triggers[n].update(t,e);if(this._collectActorStats(t),t.input.pointers.dispatchPointerEvents(),this._broadphase&&st.enabled){var s=Date.now();this._broadphase.update(this._bodies,e);for(var a=this._broadphase.broadphase(this._bodies,e,t.stats.currFrame),c=Date.now(),h=Date.now(),u=st.collisionPasses,l=e/u;u>0;)a=this._broadphase.narrowphase(a,t.stats.currFrame),a=this._broadphase.resolve(a,l,st.collisionResolutionStrategy),this._broadphase.runCollisionStartEnd(a),u--;var p=Date.now();t.stats.currFrame.physics.broadphase=c-s,t.stats.currFrame.physics.narrowphase=p-h}t.stats.currFrame.actors.killed=this._killQueue.length+this._triggerKillQueue.length,this._processKillQueue(this._killQueue,this.actors),this._processKillQueue(this._triggerKillQueue,this.triggers),this._postupdate(t,e)},e.prototype._processKillQueue=function(t,e){for(var n,i=0,r=t;i<r.length;i++){var o=r[i];o.isKilled()&&(n=e.indexOf(o))>-1&&(this._sortedDrawingTree.removeByComparable(o),e.splice(n,1))}t.length=0},e.prototype.draw=function(t,e){var n,i;for(this._predraw(t,e),t.save(),this.camera&&this.camera.draw(t),this.systemManager.updateSystems(ci.Draw,this._engine,e),this.entityManager.processRemovals(),n=0,i=this.tileMaps.length;n<i;n++)this.tileMaps[n].draw(t,e);var r=this._sortedDrawingTree.list();for(n=0,i=r.length;n<i;n++)r[n].visible&&!r[n].isOffScreen&&r[n].draw(t,e);for(this._engine&&this._engine.isDebug&&(t.strokeStyle="yellow",this.debugDraw(t)),t.restore(),n=0,i=this.screenElements.length;n<i;n++)this.screenElements[n].visible&&this.screenElements[n].draw(t,e);if(this._engine&&this._engine.isDebug)for(n=0,i=this.screenElements.length;n<i;n++)this.screenElements[n].debugDraw(t);this._postdraw(t,e)},e.prototype.debugDraw=function(t){var e,n;for(this.emit("predebugdraw",new _t(t,this)),e=0,n=this.tileMaps.length;e<n;e++)this.tileMaps[e].debugDraw(t);for(e=0,n=this.actors.length;e<n;e++)this.actors[e].debugDraw(t);for(e=0,n=this.triggers.length;e<n;e++)this.triggers[e].debugDraw(t);this._broadphase.debugDraw(t,20),this.camera.debugDraw(t),this.emit("postdebugdraw",new vt(t,this))},e.prototype.contains=function(t){return this.actors.indexOf(t)>-1},e.prototype.add=function(t){t instanceof bn&&t.unkill(),t instanceof Pn?O(this.screenElements,t)||this.addScreenElement(t):t instanceof bn?O(this.actors,t)||this._addChild(t):t instanceof En?O(this._timers,t)||this.addTimer(t):t instanceof Cn&&(O(this.tileMaps,t)||this.addTileMap(t))},e.prototype.remove=function(t){t instanceof Pn?this.removeScreenElement(t):(t instanceof bn&&this._removeChild(t),t instanceof En&&this.removeTimer(t),t instanceof Cn&&this.removeTileMap(t))},e.prototype.addScreenElement=function(t){this.screenElements.push(t),t.scene=this},e.prototype.removeScreenElement=function(t){var e=this.screenElements.indexOf(t);e>-1&&this.screenElements.splice(e,1)},e.prototype._addChild=function(t){this._broadphase.track(t.body),t.scene=this,t instanceof si?this.triggers.push(t):this.actors.push(t),this._sortedDrawingTree.add(t)},e.prototype.addTileMap=function(t){this.tileMaps.push(t)},e.prototype.removeTileMap=function(t){var e=this.tileMaps.indexOf(t);e>-1&&this.tileMaps.splice(e,1)},e.prototype._removeChild=function(t){O(this.actors,t)&&(this._broadphase.untrack(t.body),t instanceof si?this._triggerKillQueue.push(t):(t.isKilled()||t.kill(),this._killQueue.push(t)),t.parent=null)},e.prototype.addTimer=function(t){return this._timers.push(t),t.scene=this,t},e.prototype.removeTimer=function(t){var e=this._timers.indexOf(t);return-1!==e&&this._timers.splice(e,1),t},e.prototype.cancelTimer=function(t){return this._cancelQueue.push(t),t},e.prototype.isTimerActive=function(t){return this._timers.indexOf(t)>-1&&!t.complete},e.prototype.cleanupDrawTree=function(t){this._sortedDrawingTree.removeByComparable(t)},e.prototype.updateDrawTree=function(t){this._sortedDrawingTree.add(t)},e.prototype.isActorInDrawTree=function(t){return this._sortedDrawingTree.find(t)},e.prototype.isCurrentScene=function(){return!!this._engine&&this._engine.currentScene===this},e.prototype._collectActorStats=function(t){for(var e=0,n=this.screenElements;e<n.length;e++){n[e];t.stats.currFrame.actors.ui++}for(var i=0,r=this.actors;i<r.length;i++){var o=r[i];t.stats.currFrame.actors.alive++;for(var s=0,a=o.children;s<a.length;s++){ai(a[s])?t.stats.currFrame.actors.ui++:t.stats.currFrame.actors.alive++}}},e}(ee);!function(t){t[t.Protanope=0]="Protanope",t[t.Deuteranope=1]="Deuteranope",t[t.Tritanope=2]="Tritanope"}(yi||(yi={}));var Pi,Ai=function(){function t(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=yi.Protanope),this.engine=t,this.simulate=e,this.colorMode=n,this._vertexShader="attribute vec2 a_position;attribute vec2 a_texCoord;uniform vec2 u_resolution;varying vec2 v_texCoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;}",this._fragmentShader="precision mediump float;uniform sampler2D u_image;varying vec2 v_texCoord;void main() {vec4 o =  texture2D(u_image, v_texCoord);float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);//MODE CODE//vec4 error;error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);error.a = 1.0;vec4 diff = o - error;vec4 correction;correction.r = 0.0;correction.g =  (diff.r * 0.7) + (diff.g * 1.0);correction.b =  (diff.r * 0.7) + (diff.b * 1.0);correction = o + correction;correction.a = o.a;//SIMULATE//}",this._internalCanvas=document.createElement("canvas"),this._internalCanvas.width=t.drawWidth,this._internalCanvas.height=t.drawHeight,this._gl=this._internalCanvas.getContext("webgl",{preserveDrawingBuffer:!0}),this._program=this._gl.createProgram();var i=this._getShader("Fragment",this._getFragmentShaderByMode(n)),r=this._getShader("Vertex",this._vertexShader);this._gl.attachShader(this._program,r),this._gl.attachShader(this._program,i),this._gl.linkProgram(this._program),this._gl.getProgramParameter(this._program,this._gl.LINK_STATUS)||R.getInstance().error("Unable to link shader program!"),this._gl.useProgram(this._program)}return t.prototype._getFragmentShaderByMode=function(t){var e="";return t===yi.Protanope?e="float l = 0.0 * L + 2.02344 * M + -2.52581 * S;float m = 0.0 * L + 1.0 * M + 0.0 * S;float s = 0.0 * L + 0.0 * M + 1.0 * S;":t===yi.Deuteranope?e="float l = 1.0 * L + 0.0 * M + 0.0 * S;float m = 0.494207 * L + 0.0 * M + 1.24827 * S;float s = 0.0 * L + 0.0 * M + 1.0 * S;":t===yi.Tritanope&&(e="float l = 1.0 * L + 0.0 * M + 0.0 * S;float m = 0.0 * L + 1.0 * M + 0.0 * S;float s = -0.395913 * L + 0.801109 * M + 0.0 * S;"),this.simulate?this._fragmentShader=this._fragmentShader.replace("//SIMULATE//","gl_FragColor = error.rgba;"):this._fragmentShader=this._fragmentShader.replace("//SIMULATE//","gl_FragColor = correction.rgba;"),this._fragmentShader.replace("//MODE CODE//",e)},t.prototype._setRectangle=function(t,e,n,i){var r=t,o=t+n,s=e,a=e+i;this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([r,s,o,s,r,a,r,a,o,s,o,a]),this._gl.STATIC_DRAW)},t.prototype._getShader=function(t,e){var n;return"Fragment"===t?n=this._gl.createShader(this._gl.FRAGMENT_SHADER):"Vertex"===t?n=this._gl.createShader(this._gl.VERTEX_SHADER):R.getInstance().error("Error unknown shader type",t),this._gl.shaderSource(n,e),this._gl.compileShader(n),this._gl.getShaderParameter(n,this._gl.COMPILE_STATUS)?n:(R.getInstance().error("Unable to compile shader!",this._gl.getShaderInfoLog(n)),null)},t.prototype.process=function(t,e){var n=this._gl.getAttribLocation(this._program,"a_position"),i=this._gl.getAttribLocation(this._program,"a_texCoord"),r=this._gl.createBuffer();this._gl.bindBuffer(this._gl.ARRAY_BUFFER,r),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),this._gl.STATIC_DRAW),this._gl.enableVertexAttribArray(i),this._gl.vertexAttribPointer(i,2,this._gl.FLOAT,!1,0,0);var o=this._gl.createTexture();this._gl.bindTexture(this._gl.TEXTURE_2D,o),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,1),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this._gl.RGBA,this._gl.UNSIGNED_BYTE,t);var s=this._gl.getUniformLocation(this._program,"u_resolution");this._gl.uniform2f(s,this._internalCanvas.width,this._internalCanvas.height);var a=this._gl.createBuffer();this._gl.bindBuffer(this._gl.ARRAY_BUFFER,a),this._gl.enableVertexAttribArray(n),this._gl.vertexAttribPointer(n,2,this._gl.FLOAT,!1,0,0),this._setRectangle(0,0,t.width,t.height),this._gl.drawArrays(this._gl.TRIANGLES,0,6);var c=new Uint8Array(t.width*t.height*4);this._gl.readPixels(0,0,t.width,t.height,this._gl.RGBA,this._gl.UNSIGNED_BYTE,c),t.data.set(c),e.putImageData(t,0,0)},t}(),Ei=function(){function t(t){this._engine=t}return t.prototype.correct=function(t){this._engine.postProcessors.push(new Ai(this._engine,!1,t))},t.prototype.simulate=function(t){this._engine.postProcessors.push(new Ai(this._engine,!0,t))},t}(),Si=function(t){this.stats={currFrame:new Ci,prevFrame:new Ci},this._engine=t,this.colorBlindMode=new Ei(this._engine)},Ci=function(){function t(){this._id=0,this._delta=0,this._fps=0,this._actorStats={alive:0,killed:0,ui:0,get remaining(){return this.alive-this.killed},get total(){return this.remaining+this.ui}},this._durationStats={update:0,draw:0,get total(){return this.update+this.draw}},this._physicsStats=new Oi}return t.prototype.reset=function(t){t?(this.id=t.id,this.delta=t.delta,this.fps=t.fps,this.actors.alive=t.actors.alive,this.actors.killed=t.actors.killed,this.actors.ui=t.actors.ui,this.duration.update=t.duration.update,this.duration.draw=t.duration.draw,this._physicsStats.reset(t.physics)):(this.id=this.delta=this.fps=0,this.actors.alive=this.actors.killed=this.actors.ui=0,this.duration.update=this.duration.draw=0,this._physicsStats.reset())},t.prototype.clone=function(){var e=new t;return e.reset(this),e},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delta",{get:function(){return this._delta},set:function(t){this._delta=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fps",{get:function(){return this._fps},set:function(t){this._fps=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actors",{get:function(){return this._actorStats},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._durationStats},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"physics",{get:function(){return this._physicsStats},enumerable:!1,configurable:!0}),t}(),Oi=function(){function t(){this._pairs=0,this._collisions=0,this._collidersHash={},this._fastBodies=0,this._fastBodyCollisions=0,this._broadphase=0,this._narrowphase=0}return t.prototype.reset=function(t){t?(this.pairs=t.pairs,this.collisions=t.collisions,this.collidersHash=t.collidersHash,this.fastBodies=t.fastBodies,this.fastBodyCollisions=t.fastBodyCollisions,this.broadphase=t.broadphase,this.narrowphase=t.narrowphase):(this.pairs=this.collisions=this.fastBodies=0,this.fastBodyCollisions=this.broadphase=this.narrowphase=0,this.collidersHash={})},t.prototype.clone=function(){var e=new t;return e.reset(this),e},Object.defineProperty(t.prototype,"pairs",{get:function(){return this._pairs},set:function(t){this._pairs=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collisions",{get:function(){return this._collisions},set:function(t){this._collisions=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collidersHash",{get:function(){return this._collidersHash},set:function(t){this._collidersHash=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fastBodies",{get:function(){return this._fastBodies},set:function(t){this._fastBodies=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fastBodyCollisions",{get:function(){return this._fastBodyCollisions},set:function(t){this._fastBodyCollisions=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"broadphase",{get:function(){return this._broadphase},set:function(t){this._broadphase=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"narrowphase",{get:function(){return this._narrowphase},set:function(t){this._narrowphase=t},enumerable:!1,configurable:!0}),t}(),Ti=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){t[t.Num1=97]="Num1",t[t.Num2=98]="Num2",t[t.Num3=99]="Num3",t[t.Num4=100]="Num4",t[t.Num5=101]="Num5",t[t.Num6=102]="Num6",t[t.Num7=103]="Num7",t[t.Num8=104]="Num8",t[t.Num9=105]="Num9",t[t.Num0=96]="Num0",t[t.Numlock=144]="Numlock",t[t.Semicolon=186]="Semicolon",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.Shift=16]="Shift",t[t.Alt=18]="Alt",t[t.Up=38]="Up",t[t.Down=40]="Down",t[t.Left=37]="Left",t[t.Right=39]="Right",t[t.Space=32]="Space",t[t.Esc=27]="Esc"}(Pi||(Pi={}));var Bi,Mi,Di=function(t){function e(e){var n=t.call(this)||this;return n.key=e,n}return Ti(e,t),e}(ht),ki=function(t){function e(){var e=t.call(this)||this;return e._keys=[],e._keysUp=[],e._keysDown=[],e}return Ti(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.init=function(t){var e=this;if(!t)try{var n=function(){};window.top.addEventListener("blur",n),window.top.removeEventListener("blur",n),t=window.top}catch(e){t=window,R.getInstance().warn("Failed to bind to keyboard events to top frame. If you are trying to embed Excalibur in a cross-origin iframe, keyboard events will not fire.")}t.addEventListener("blur",(function(){e._keys.length=0})),t.addEventListener("keyup",(function(t){var n=e._normalizeKeyCode(t.keyCode),i=e._keys.indexOf(n);e._keys.splice(i,1),e._keysUp.push(n);var r=new Di(n);e.eventDispatcher.emit("up",r),e.eventDispatcher.emit("release",r)})),t.addEventListener("keydown",(function(t){var n=e._normalizeKeyCode(t.keyCode);if(-1===e._keys.indexOf(n)){e._keys.push(n),e._keysDown.push(n);var i=new Di(n);e.eventDispatcher.emit("down",i),e.eventDispatcher.emit("press",i)}}))},e.prototype.update=function(){this._keysDown.length=0,this._keysUp.length=0;for(var t=0;t<this._keys.length;t++)this.eventDispatcher.emit("hold",new Di(this._keys[t]))},e.prototype.getKeys=function(){return this._keys},e.prototype.wasPressed=function(t){return this._keysDown.indexOf(t)>-1},e.prototype.isHeld=function(t){return this._keys.indexOf(t)>-1},e.prototype.wasReleased=function(t){return this._keysUp.indexOf(t)>-1},e.prototype._normalizeKeyCode=function(t){switch(t){case 59:return Pi.Semicolon;default:return t}},e}(ee),Ri=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ji=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};!function(t){t.Touch="Touch",t.Mouse="Mouse",t.Pen="Pen",t.Unknown="Unknown"}(Bi||(Bi={})),function(t){t.Canvas="Canvas",t.Document="Document"}(Mi||(Mi={}));var Fi,Ii,Li,zi=function(t){function e(){var n=t.call(this)||this;return n.id=e._MAX_ID++,n._isDown=!1,n._wasDown=!1,n._actorsUnderPointer={length:0},n._actors=[],n._actorsLastFrame=[],n._actorsNoLongerUnderPointer=[],n.lastPagePos=null,n.lastScreenPos=null,n.lastWorldPos=null,n.dragTarget=null,n.on("move",n._onPointerMove),n.on("down",n._onPointerDown),n.on("up",n._onPointerUp),n}return Ri(e,t),Object.defineProperty(e.prototype,"isDragging",{get:function(){return this._isDown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDragStart",{get:function(){return!this._wasDown&&this._isDown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDragEnd",{get:function(){return this._wasDown&&!this._isDown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasActorsUnderPointer",{get:function(){return!!this._actorsUnderPointer.length},enumerable:!1,configurable:!0}),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.update=function(){this._wasDown&&!this._isDown?this._wasDown=!1:!this._wasDown&&this._isDown&&(this._wasDown=!0),this._actorsLastFrame=ji(this._actors),this._actorsNoLongerUnderPointer=[]},e.prototype.addActorUnderPointer=function(t){this.isActorAliveUnderPointer(t)||(this._actorsUnderPointer[t.id]=t,this._actorsUnderPointer.length+=1,this._actors.push(t)),this._actors.sort((function(t,e){return t.z===e.z?t.id-e.id:t.z-e.z}))},e.prototype.removeActorUnderPointer=function(t){this.isActorAliveUnderPointer(t)&&(delete this._actorsUnderPointer[t.id],this._actorsUnderPointer.length-=1,C(t,this._actors),this._actorsNoLongerUnderPointer.push(t))},e.prototype.getActorsUnderPointer=function(){return this._actors},e.prototype.getActorsUnderPointerLastFrame=function(){return this._actorsLastFrame},e.prototype.getActorsForEvents=function(){return this._actors.concat(this._actorsLastFrame).filter((function(t,e,n){return n.indexOf(t)===e}))},e.prototype.checkActorUnderPointer=function(t){return!!this.lastWorldPos&&t.contains(this.lastWorldPos.x,this.lastWorldPos.y,!ai(t))},e.prototype.wasActorUnderPointer=function(t){return this._actorsLastFrame.indexOf(t)>-1},e.prototype.isActorAliveUnderPointer=function(t){return!(t.isKilled()||!t.scene||!this._actorsUnderPointer.hasOwnProperty(t.id.toString()))},e.prototype._onPointerMove=function(t){this.lastPagePos=new V(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new V(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new V(t.worldPos.x,t.worldPos.y)},e.prototype._onPointerDown=function(t){this.lastPagePos=new V(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new V(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new V(t.worldPos.x,t.worldPos.y),this._isDown=!0},e.prototype._onPointerUp=function(t){this._isDown=!1,this.dragTarget=null},e._MAX_ID=0,e}(ee),Hi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){t[t.NoButton=-1]="NoButton",t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Unknown=3]="Unknown"}(Fi||(Fi={})),function(t){t.Left="Left",t.Middle="Middle",t.Right="Right",t.Unknown="Unknown",t.NoButton="NoButton"}(Ii||(Ii={})),function(t){t.Pixel="Pixel",t.Line="Line",t.Page="Page"}(Li||(Li={}));var Ui=function(t){function e(e,n,i,r,o,s){var a=t.call(this)||this;return a.coordinates=e,a.pointer=n,a.index=i,a.pointerType=r,a.button=o,a.ev=s,a}return Hi(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldPos",{get:function(){return this.coordinates.worldPos.clone()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pagePos",{get:function(){return this.coordinates.pagePos.clone()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenPos",{get:function(){return this.coordinates.screenPos.clone()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.coordinates.worldPos.clone()},enumerable:!1,configurable:!0}),e.prototype.propagate=function(t){this.doAction(t),this.bubbles&&t.parent&&this.propagate(t.parent)},e.prototype.doAction=function(t){t&&(this._onActionStart(t),t.emit(this._name,this),this._onActionEnd(t))},e.prototype._onActionStart=function(t){},e.prototype._onActionEnd=function(t){},e}(ht),Wi=function(){function t(t){this._pointerEventType=t}return t.prototype.create=function(t,e,n,i,r,o){return new this._pointerEventType(t,e,n,i,r,o)},t}(),Ni=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hi(e,t),e}(Ui),qi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerup",e}return Hi(e,t),e.prototype._onActionEnd=function(t){this.pointer.isDragEnd&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragend",this)},e}(Ui),Vi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerdown",e}return Hi(e,t),e.prototype._onActionEnd=function(t){this.pointer.isDragStart&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragstart",this)},e}(Ui),Gi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointermove",e}return Hi(e,t),e.prototype.propagate=function(t){this.pointer.isActorAliveUnderPointer(t)&&(this.doAction(t),this.bubbles&&t.parent&&this.propagate(t.parent))},e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents&&this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragmove",this)},e}(Ui),Xi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerenter",e}return Hi(e,t),e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents},e.prototype._onActionEnd=function(t){this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragenter",this)},e}(Ui),Qi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerleave",e}return Hi(e,t),e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents},e.prototype._onActionEnd=function(t){this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragleave",this)},e}(Ui),Zi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointercancel",e}return Hi(e,t),e}(Ui),Ki=function(t){function e(e,n,i,r,o,s,a,c,h,u,l,p){var d=t.call(this)||this;return d.x=e,d.y=n,d.pageX=i,d.pageY=r,d.screenX=o,d.screenY=s,d.index=a,d.deltaX=c,d.deltaY=h,d.deltaZ=u,d.deltaMode=l,d.ev=p,d}return Hi(e,t),e}(ht);function Yi(t,e,n,i,r,o,s){var a;switch(t){case"up":a=new Wi(qi);break;case"down":a=new Wi(Vi);break;case"move":a=new Wi(Gi);break;case"cancel":a=new Wi(Zi);break;case"enter":a=new Wi(Xi);break;case"leave":a=new Wi(Qi)}return a.create(e,n,i,r,o,s)}var Ji,$i,tr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),er=function(t){function e(e){var n=t.call(this)||this;return n._pointerDown=[],n._pointerUp=[],n._pointerMove=[],n._pointerCancel=[],n._wheel=[],n._pointers=[],n._activePointers=[],n._engine=e,n._pointers.push(new zi),n._activePointers=[-1],n.primary=n._pointers[0],n}return tr(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.init=function(t){(t=t||this._engine.canvas).addEventListener("touchstart",this._handleTouchEvent("down",this._pointerDown)),t.addEventListener("touchend",this._handleTouchEvent("up",this._pointerUp)),t.addEventListener("touchmove",this._handleTouchEvent("move",this._pointerMove)),t.addEventListener("touchcancel",this._handleTouchEvent("cancel",this._pointerCancel)),window.PointerEvent?(this._engine.canvas.style.touchAction="none",t.addEventListener("pointerdown",this._handlePointerEvent("down",this._pointerDown)),t.addEventListener("pointerup",this._handlePointerEvent("up",this._pointerUp)),t.addEventListener("pointermove",this._handlePointerEvent("move",this._pointerMove)),t.addEventListener("pointercancel",this._handlePointerEvent("cancel",this._pointerCancel))):window.MSPointerEvent?(this._engine.canvas.style.msTouchAction="none",t.addEventListener("MSPointerDown",this._handlePointerEvent("down",this._pointerDown)),t.addEventListener("MSPointerUp",this._handlePointerEvent("up",this._pointerUp)),t.addEventListener("MSPointerMove",this._handlePointerEvent("move",this._pointerMove)),t.addEventListener("MSPointerCancel",this._handlePointerEvent("cancel",this._pointerCancel))):(t.addEventListener("mousedown",this._handleMouseEvent("down",this._pointerDown)),t.addEventListener("mouseup",this._handleMouseEvent("up",this._pointerUp)),t.addEventListener("mousemove",this._handleMouseEvent("move",this._pointerMove)));var e={passive:!(this._engine.pageScrollPreventionMode===or.All||this._engine.pageScrollPreventionMode===or.Canvas)};"onwheel"in document.createElement("div")?t.addEventListener("wheel",this._handleWheelEvent("wheel",this._wheel),e):void 0!==document.onmousewheel?t.addEventListener("mousewheel",this._handleWheelEvent("wheel",this._wheel),e):t.addEventListener("MozMousePixelScroll",this._handleWheelEvent("wheel",this._wheel),e)},e.prototype.triggerEvent=function(t,e,n,i,r){void 0===n&&(n=Fi.Left),void 0===i&&(i="mouse"),void 0===r&&(r=0);var o,s=0,a=0;e instanceof Z?(s=e.pagePos.x,a=e.pagePos.y,o=e):(s=e.x,a=e.y,o=new Z(e.clone(),e.clone(),e.clone()));var c={pageX:s,pageY:a,pointerId:r,pointerType:i,button:n,preventDefault:function(){}};switch(t){case"move":this._handlePointerEvent(t,this._pointerMove,o)(c);break;case"down":this._handlePointerEvent(t,this._pointerDown,o)(c);break;case"up":this._handlePointerEvent(t,this._pointerUp,o)(c);break;case"cancel":this._handlePointerEvent(t,this._pointerCancel,o)(c)}for(var h=0,u=this._engine.currentScene.actors;h<u.length;h++){var l=u[h],p=l.traits.filter((function(t){return t instanceof Ke}))[0];p&&p.update(l,this._engine,1)}this.dispatchPointerEvents(),this.update()},e.prototype.update=function(){this._pointerUp.length=0,this._pointerDown.length=0,this._pointerMove.length=0,this._pointerCancel.length=0,this._wheel.length=0;for(var t=0;t<this._pointers.length;t++)this._pointers[t].update()},e.prototype.at=function(t){if(t>=this._pointers.length)for(var e=this._pointers.length-1,n=t;e<n;e++)this._pointers.push(new zi),this._activePointers.push(-1);return this._pointers[t]},e.prototype.count=function(){return this._pointers.length},e.prototype.checkAndUpdateActorUnderPointer=function(t){for(var e=0,n=this._pointers;e<n.length;e++){var i=n[e];i.checkActorUnderPointer(t)?i.addActorUnderPointer(t):i.removeActorUnderPointer(t)}},e.prototype._dispatchWithBubble=function(t){for(var e=0,n=t;e<n.length;e++)for(var i=n[e],r=0,o=i.pointer.getActorsForEvents();r<o.length;r++){var s=o[r];if(i.propagate(s),!i.bubbles)break}},e.prototype._dispatchPointerLeaveEvents=function(){for(var t={},e=[],n=0,i=this._pointerMove;n<i.length;n++)for(var r=i[n],o=0,s=r.pointer.getActorsForEvents();o<s.length;o++){var a=s[o];if(!t[r.pointer.id+"+"+a.id]&&r.pointer.wasActorUnderPointer(a)&&!r.pointer.isActorAliveUnderPointer(a)){t[r.pointer.id+"+"+a.id]=r;var c=Yi("leave",new Z(r.worldPos,r.pagePos,r.screenPos),r.pointer,r.index,r.pointerType,r.button,r.ev);c.propagate(a),e.push(c)}}return e},e.prototype._dispatchPointerEnterEvents=function(){for(var t={},e=[],n=0,i=this._pointerMove;n<i.length;n++)for(var r=i[n],o=0,s=r.pointer.getActorsForEvents();o<s.length;o++){var a=s[o];if(!t[r.pointer.id]&&!r.pointer.wasActorUnderPointer(a)&&r.pointer.isActorAliveUnderPointer(a)){t[r.pointer.id]=r;var c=Yi("enter",new Z(r.worldPos,r.pagePos,r.screenPos),r.pointer,r.index,r.pointerType,r.button,r.ev);c.propagate(a),e.push(c),r.pointer.isDragging&&(r.pointer.dragTarget=a)}}return e},e.prototype.dispatchPointerEvents=function(){this._dispatchWithBubble(this._pointerDown),this._dispatchWithBubble(this._pointerUp),this._dispatchWithBubble(this._pointerMove),this._dispatchPointerLeaveEvents(),this._dispatchPointerEnterEvents(),this._dispatchWithBubble(this._pointerCancel);for(var t=0,e=this._wheel;t<e.length;t++)for(var n=e[t],i=0,r=this._pointers[n.index].getActorsUnderPointer();i<r.length;i++){var o=r[i];if(this._propagateWheelPointerEvent(o,n),!n.bubbles)break}},e.prototype._propagateWheelPointerEvent=function(t,e){t.emit("pointerwheel",e),e.bubbles&&t.parent&&this._propagateWheelPointerEvent(t.parent,e)},e.prototype._handleMouseEvent=function(t,e){var n=this;return function(i){i.preventDefault();var r=n.at(0),o=Z.fromPagePosition(i.pageX,i.pageY,n._engine),s=Yi(t,o,r,0,Bi.Mouse,n._nativeButtonToPointerButton(i.button),i);e.push(s),r.eventDispatcher.emit(t,s)}},e.prototype._handleTouchEvent=function(t,e){var n=this;return function(i){i.preventDefault();for(var r=0,o=i.changedTouches.length;r<o;r++){var s=n._pointers.length>1?n._getPointerIndex(i.changedTouches[r].identifier):0;if(-1!==s){var a=n.at(s),c=Z.fromPagePosition(i.changedTouches[r].pageX,i.changedTouches[r].pageY,n._engine),h=Yi(t,c,a,s,Bi.Touch,Ii.Unknown,i);e.push(h),a.eventDispatcher.emit(t,h),n._pointers.length>1&&("up"===t?n._activePointers[s]=-1:"down"===t&&(n._activePointers[s]=i.changedTouches[r].identifier))}}}},e.prototype._handlePointerEvent=function(t,e,n){var i=this;return function(r){r.preventDefault();var o=i._pointers.length>1?i._getPointerIndex(r.pointerId):0;if(-1!==o){var s=i.at(o),a=n||Z.fromPagePosition(r.pageX,r.pageY,i._engine),c=Yi(t,a,s,o,i._stringToPointerType(r.pointerType),i._nativeButtonToPointerButton(r.button),r);e.push(c),s.eventDispatcher.emit(t,c),i._pointers.length>1&&("up"===t?i._activePointers[o]=-1:"down"===t&&(i._activePointers[o]=r.pointerId))}}},e.prototype._handleWheelEvent=function(t,e){var n=this;return function(i){(n._engine.pageScrollPreventionMode===or.All||n._engine.pageScrollPreventionMode===or.Canvas&&i.target===n._engine.canvas)&&i.preventDefault();var r=i.pageX-E(n._engine.canvas).x,o=i.pageY-E(n._engine.canvas).y,s=n._engine.screenToWorldCoordinates(new V(r,o)),a=i.deltaX||-.025*i.wheelDeltaX||0,c=i.deltaY||-.025*i.wheelDeltaY||-.025*i.wheelDelta||i.detail||0,h=i.deltaZ||0,u=Li.Pixel;i.deltaMode&&(1===i.deltaMode?u=Li.Line:2===i.deltaMode&&(u=Li.Page));var l=new Ki(s.x,s.y,i.pageX,i.pageY,r,o,0,a,c,h,u,i);e.push(l),n.at(0).eventDispatcher.emit(t,l)}},e.prototype._getPointerIndex=function(t){var e;if((e=this._activePointers.indexOf(t))>-1)return e;for(var n=0;n<this._activePointers.length;n++)if(-1===this._activePointers[n])return n;return-1},e.prototype._nativeButtonToPointerButton=function(t){switch(t){case Fi.NoButton:return Ii.NoButton;case Fi.Left:return Ii.Left;case Fi.Middle:return Ii.Middle;case Fi.Right:return Ii.Right;case Fi.Unknown:return Ii.Unknown;default:return k(t)}},e.prototype._stringToPointerType=function(t){switch(t){case"touch":return Bi.Touch;case"mouse":return Bi.Mouse;case"pen":return Bi.Pen;default:return Bi.Unknown}},e}(ee),nr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ir=function(t){function e(){var e=t.call(this)||this;return e.enabled=!1,e.supported=!!navigator.getGamepads,e._gamePadTimeStamps=[0,0,0,0],e._oldPads=[],e._pads=[],e._initSuccess=!1,e._navigator=navigator,e._minimumConfiguration=null,e}return nr(e,t),e.prototype.init=function(){this.supported&&(this._initSuccess||(this._oldPads=this._clonePads(this._navigator.getGamepads()),this._oldPads.length&&this._oldPads[0]&&(this._initSuccess=!0)))},e.prototype.setMinimumGamepadConfiguration=function(t){this._enableAndUpdate(),this._minimumConfiguration=t},e.prototype._enableAndUpdate=function(){this.enabled||(this.enabled=!0,this.update())},e.prototype._isGamepadValid=function(t){if(!this._minimumConfiguration)return!0;if(!t)return!1;var e=t.axes.filter((function(t){return void 0!==typeof t})).length,n=t.buttons.filter((function(t){return void 0!==typeof t})).length;return e>=this._minimumConfiguration.axis&&n>=this._minimumConfiguration.buttons&&t.connected},e.prototype.on=function(e,n){this._enableAndUpdate(),t.prototype.on.call(this,e,n)},e.prototype.off=function(e,n){this._enableAndUpdate(),t.prototype.off.call(this,e,n)},e.prototype.update=function(){if(this.enabled&&this.supported){this.init();for(var t=this._navigator.getGamepads(),e=0;e<t.length;e++)if(t[e]){if(!this.at(e).connected&&this._isGamepadValid(t[e])&&this.eventDispatcher.emit("connect",new Pt(e,this.at(e))),this.at(e).connected=!0,!t[e].timestamp||t[e].timestamp!==this._gamePadTimeStamps[e]){this._gamePadTimeStamps[e]=t[e].timestamp,this.at(e).navigatorGamepad=t[e];var n=void 0,i=void 0,r=void 0,o=void 0,s=void 0;for(n in Ji)"number"==typeof(i=Ji[n])&&t[e].buttons[i]&&(s=t[e].buttons[i].value)!==this._oldPads[e].getButton(i)&&(t[e].buttons[i].pressed?(this.at(e).updateButton(i,s),this.at(e).eventDispatcher.emit("button",new Et(i,s,this.at(e)))):this.at(e).updateButton(i,0));for(r in $i)"number"==typeof(o=$i[r])&&(s=t[e].axes[o])!==this._oldPads[e].getAxes(o)&&(this.at(e).updateAxes(o,s),this.at(e).eventDispatcher.emit("axis",new St(o,s,this.at(e))));this._oldPads[e]=this._clonePad(t[e])}}else{var a=this.at(e);a.connected&&this.eventDispatcher.emit("disconnect",new At(e,a)),a.connected=!1}}},e.prototype.at=function(t){if(this._enableAndUpdate(),t>=this._pads.length)for(var e=this._pads.length-1,n=t;e<n;e++)this._pads.push(new rr),this._oldPads.push(new rr);return this._pads[t]},e.prototype.getValidGamepads=function(){this._enableAndUpdate();for(var t=[],e=0;e<this._pads.length;e++)this._isGamepadValid(this.at(e).navigatorGamepad)&&this.at(e).connected&&t.push(this.at(e));return t},e.prototype.count=function(){return this._pads.filter((function(t){return t.connected})).length},e.prototype._clonePads=function(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(this._clonePad(t[n]));return e},e.prototype._clonePad=function(t){var e,n,i=new rr;if(!t)return i;for(e=0,n=t.buttons.length;e<n;e++)t.buttons[e]&&i.updateButton(e,t.buttons[e].value);for(e=0,n=t.axes.length;e<n;e++)i.updateAxes(e,t.axes[e]);return i},e.MinAxisMoveThreshold=.05,e}(ee),rr=function(t){function e(){var e=t.call(this)||this;e.connected=!1,e._buttons=new Array(16),e._axes=new Array(4);for(var n=0;n<e._buttons.length;n++)e._buttons[n]=0;for(n=0;n<e._axes.length;n++)e._axes[n]=0;return e}return nr(e,t),e.prototype.isButtonPressed=function(t,e){return void 0===e&&(e=1),this._buttons[t]>=e},e.prototype.getButton=function(t){return this._buttons[t]},e.prototype.getAxes=function(t){var e=this._axes[t];return Math.abs(e)<ir.MinAxisMoveThreshold?0:e},e.prototype.updateButton=function(t,e){this._buttons[t]=e},e.prototype.updateAxes=function(t,e){this._axes[t]=e},e}(ee);!function(t){t[t.Face1=0]="Face1",t[t.Face2=1]="Face2",t[t.Face3=2]="Face3",t[t.Face4=3]="Face4",t[t.LeftBumper=4]="LeftBumper",t[t.RightBumper=5]="RightBumper",t[t.LeftTrigger=6]="LeftTrigger",t[t.RightTrigger=7]="RightTrigger",t[t.Select=8]="Select",t[t.Start=9]="Start",t[t.LeftStick=10]="LeftStick",t[t.RightStick=11]="RightStick",t[t.DpadUp=12]="DpadUp",t[t.DpadDown=13]="DpadDown",t[t.DpadLeft=14]="DpadLeft",t[t.DpadRight=15]="DpadRight"}(Ji||(Ji={})),function(t){t[t.LeftStickX=0]="LeftStickX",t[t.LeftStickY=1]="LeftStickY",t[t.RightStickX=2]="RightStickX",t[t.RightStickY=3]="RightStickY"}($i||($i={}));var or,sr=function(){function t(t){this.nativeComponent=t,this._paused=!1,this._nativeHandlers={}}return t.prototype.on=function(t,e){this._nativeHandlers[t]&&this.off(t,this._nativeHandlers[t]),this._nativeHandlers[t]=this._decorate(e),this.nativeComponent.addEventListener(t,this._nativeHandlers[t])},t.prototype.off=function(t,e){e||(e=this._nativeHandlers[t]),this.nativeComponent.removeEventListener(t,e),this._nativeHandlers[t]=null},t.prototype._decorate=function(t){var e=this;return function(n){e._paused||t(n)}},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.clear=function(){for(var t in this._nativeHandlers)this.off(t)},t}(),ar=function(){function t(t,e){this._windowGlobal=t,this._documentGlobal=e,this._windowComponent=new sr(this._windowGlobal),this._documentComponent=new sr(this._documentGlobal)}return Object.defineProperty(t.prototype,"window",{get:function(){return this._windowComponent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this._documentComponent},enumerable:!1,configurable:!0}),t.prototype.pause=function(){this.window.pause(),this.document.pause()},t.prototype.resume=function(){this.window.resume(),this.document.resume()},t.prototype.clear=function(){this.window.clear(),this.document.clear()},t}(),cr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hr=function(){return(hr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};l(),function(t){t[t.None=0]="None",t[t.Canvas=1]="Canvas",t[t.All=2]="All"}(or||(or={}));var ur,lr=function(t){function e(n){var i,r,o,s=t.call(this)||this;s._hasStarted=!1,s.postProcessors=[],s.scenes={},s._animations=[],s._suppressPlayButton=!1,s.pauseAudioWhenHidden=!0,s.isDebug=!1,s.debugColor=new et(255,255,255),s.enableCanvasTransparency=!0,s.onFatalException=function(t){R.getInstance().fatal(t)},s._timescale=1,s._isLoading=!1,s._isInitialized=!1,n=hr(hr({},e._DefaultEngineOptions),n),s.browser=new ar(window,document);var a=new In;if(!n.suppressMinimumBrowserFeatureDetection&&!(s._compatible=a.test())){var c=document.createElement("div");if(c.innerText="Sorry, your browser does not support all the features needed for Excalibur",document.body.appendChild(c),a.failedTests.forEach((function(t){var e=document.createElement("div");e.innerText="Browser feature missing "+t,document.body.appendChild(e)})),n.canvasElementId){var h=document.getElementById(n.canvasElementId);h&&h.parentElement.removeChild(h)}return s}s._compatible=!0,console.log&&!n.suppressConsoleBootMessage&&(console.log("%cPowered by Excalibur.js (v"+$r+")","background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;"),console.log("\n      /| ________________\nO|===|* >________________>\n      \\|"),console.log("Visit","http://excaliburjs.com","for more information")),n.suppressPlayButton&&(s._suppressPlayButton=!0),s._logger=R.getInstance(),s._logger.defaultLevel===M.Debug&&a.logBrowserFeatures(),s._logger.debug("Building engine..."),s.canvasElementId=n.canvasElementId,n.canvasElementId?(s._logger.debug("Using Canvas element specified: "+n.canvasElementId),s.canvas=document.getElementById(n.canvasElementId)):n.canvasElement?(s._logger.debug("Using Canvas element specified:",n.canvasElement),s.canvas=n.canvasElement):(s._logger.debug("Using generated canvas element"),s.canvas=document.createElement("canvas"));var u=null!==(i=n.displayMode)&&void 0!==i?i:Vt.Fixed;return n.width&&n.height||n.viewport?(void 0===n.displayMode&&(u=Vt.Fixed),s._logger.debug("Engine viewport is size "+n.width+" x "+n.height)):n.displayMode||(s._logger.debug("Engine viewport is fullscreen"),u=Vt.FullScreen),s.ctx=s.canvas.getContext("2d",{alpha:s.enableCanvasTransparency}),s.screen=new $t({canvas:s.canvas,context:s.ctx,antialiasing:null===(r=n.antialiasing)||void 0===r||r,browser:s.browser,viewport:null!==(o=n.viewport)&&void 0!==o?o:{width:n.width,height:n.height},resolution:n.resolution,displayMode:u,position:n.position,pixelRatio:n.suppressHiDPIScaling?1:null}),s.screen.applyResolutionAndViewport(),n.backgroundColor&&(s.backgroundColor=n.backgroundColor.clone()),s.enableCanvasTransparency=n.enableCanvasTransparency,s._loader=new jn,s.debug=new Si(s),s._initialize(n),s.rootScene=s.currentScene=new xi(s),s.addScene("root",s.rootScene),s.goToScene("root"),s}return cr(e,t),Object.defineProperty(e.prototype,"canvasWidth",{get:function(){return this.screen.canvasWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"halfCanvasWidth",{get:function(){return this.screen.halfCanvasWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasHeight",{get:function(){return this.screen.canvasHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"halfCanvasHeight",{get:function(){return this.screen.halfCanvasHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"drawWidth",{get:function(){return this.screen.drawWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"halfDrawWidth",{get:function(){return this.screen.halfDrawWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"drawHeight",{get:function(){return this.screen.drawHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"halfDrawHeight",{get:function(){return this.screen.halfDrawHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHiDpi",{get:function(){return this.screen.isHiDpi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stats",{get:function(){return this.debug.stats},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFullscreen",{get:function(){return this.screen.isFullScreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayMode",{get:function(){return this.screen.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this.screen.pixelRatio},enumerable:!1,configurable:!0}),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.getWorldBounds=function(){return this.screen.getWorldBounds()},Object.defineProperty(e.prototype,"timescale",{get:function(){return this._timescale},set:function(t){t<=0?R.getInstance().error("Cannot set engine.timescale to a value of 0 or less than 0."):this._timescale=t},enumerable:!1,configurable:!0}),e.prototype.playAnimation=function(t,e,n){this._animations.push(new pr(t,e,n))},e.prototype.addTileMap=function(t){this.currentScene.addTileMap(t)},e.prototype.removeTileMap=function(t){this.currentScene.removeTileMap(t)},e.prototype.addTimer=function(t){return this.currentScene.addTimer(t)},e.prototype.removeTimer=function(t){return this.currentScene.removeTimer(t)},e.prototype.addScene=function(t,e){this.scenes[t]&&this._logger.warn("Scene",t,"already exists overwriting"),this.scenes[t]=e},e.prototype.removeScene=function(t){if(t instanceof xi)for(var e in this.scenes)this.scenes.hasOwnProperty(e)&&this.scenes[e]===t&&delete this.scenes[e];"string"==typeof t&&delete this.scenes[t]},e.prototype.add=function(t){t instanceof Pn?this.currentScene.addScreenElement(t):(t instanceof bn&&this._addChild(t),t instanceof En&&this.addTimer(t),t instanceof Cn&&this.addTileMap(t),2===arguments.length&&this.addScene(arguments[0],arguments[1]))},e.prototype.remove=function(t){t instanceof Pn?this.currentScene.removeScreenElement(t):(t instanceof bn&&this._removeChild(t),t instanceof En&&this.removeTimer(t),t instanceof Cn&&this.removeTileMap(t),t instanceof xi&&this.removeScene(t),"string"==typeof t&&this.removeScene(t))},e.prototype._addChild=function(t){this.currentScene.add(t)},e.prototype._removeChild=function(t){this.currentScene.remove(t)},e.prototype.goToScene=function(t){if(this.scenes[t]){var e=this.currentScene,n=this.scenes[t];this._logger.debug("Going to scene:",t),this.currentScene.isInitialized&&(this.currentScene._deactivate.call(this.currentScene,[e,n]),this.currentScene.eventDispatcher.emit("deactivate",new It(n,this.currentScene))),this.currentScene=n,this.screen.setCurrentCamera(n.camera),this.currentScene._initialize(this),this.currentScene._activate.call(this.currentScene,[e,n]),this.currentScene.eventDispatcher.emit("activate",new Ft(e,this.currentScene))}else this._logger.error("Scene",t,"does not exist!")},e.prototype.screenToWorldCoordinates=function(t){return this.screen.screenToWorldCoordinates(t)},e.prototype.worldToScreenCoordinates=function(t){return this.screen.worldToScreenCoordinates(t)},e.prototype._initialize=function(t){var e,n,i=this;this.pageScrollPreventionMode=t.scrollPreventionMode,this.input={keyboard:new ki,pointers:new er(this),gamepads:new ir},this.input.keyboard.init(),this.input.pointers.init(t&&t.pointerScope===Mi.Document?document:this.canvas),this.input.gamepads.init(),void 0!==document.hidden?(e="hidden",n="visibilitychange"):"msHidden"in document?(e="msHidden",n="msvisibilitychange"):"webkitHidden"in document&&(e="webkitHidden",n="webkitvisibilitychange"),this.browser.document.on(n,(function(){document[e]?(i.eventDispatcher.emit("hidden",new Bt(i)),i._logger.debug("Window hidden")):(i.eventDispatcher.emit("visible",new Tt(i)),i._logger.debug("Window visible"))})),this.canvasElementId||t.canvasElement||document.body.appendChild(this.canvas)},e.prototype.onInitialize=function(t){},e.prototype.setAntialiasing=function(t){this.screen.antialiasing=t},e.prototype.getAntialiasing=function(){return this.screen.antialiasing},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!1,configurable:!0}),e.prototype._overrideInitialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new jt(e,this)),this._isInitialized=!0)},e.prototype._update=function(t){if(this._isLoading)return this._loader.update(this,t),this.input.keyboard.update(),this.input.pointers.update(),void this.input.gamepads.update();this._overrideInitialize(this),this._preupdate(t),this.currentScene.update(this,t),this._animations=this._animations.filter((function(t){return!t.animation.isDone()})),this.input.keyboard.update(),this.input.pointers.update(),this.input.gamepads.update(),this._postupdate(t)},e.prototype._preupdate=function(t){this.emit("preupdate",new mt(this,t,this)),this.onPreUpdate(this,t)},e.prototype.onPreUpdate=function(t,e){},e.prototype._postupdate=function(t){this.emit("postupdate",new bt(this,t,this)),this.onPostUpdate(this,t)},e.prototype.onPostUpdate=function(t,e){},e.prototype._draw=function(t){var e=this.ctx;if(this._predraw(e,t),this._isLoading)this._loader.draw(e,t);else{e.clearRect(0,0,this.canvasWidth,this.canvasHeight),e.fillStyle=this.backgroundColor.toString(),e.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.currentScene.draw(this.ctx,t);for(var n=0,i=this._animations.length;n<i;n++)this._animations[n].animation.draw(e,this._animations[n].x,this._animations[n].y);if(this.isDebug){this.ctx.font="Consolas",this.ctx.fillStyle=this.debugColor.toString();for(var r=this.input.keyboard.getKeys(),o=0;o<r.length;o++)this.ctx.fillText(r[o].toString()+" : "+(Pi[r[o]]?Pi[r[o]]:"Not Mapped"),100,10*o+10);this.ctx.fillText("FPS:"+this.stats.currFrame.fps.toFixed(2).toString(),10,10)}for(var s=0;s<this.postProcessors.length;s++)this.postProcessors[s].process(this.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight),this.ctx);this._postdraw(e,t)}},e.prototype._predraw=function(t,e){this.emit("predraw",new yt(t,e,this)),this.onPreDraw(t,e)},e.prototype.onPreDraw=function(t,e){},e.prototype._postdraw=function(t,e){this.emit("postdraw",new gt(t,e,this)),this.onPostDraw(t,e)},e.prototype.onPostDraw=function(t,e){},e.prototype.start=function(t){var n,i=this;return this._compatible?(this.screen.pushResolutionAndViewport(),this.screen.resolution=this.screen.viewport,this.screen.applyResolutionAndViewport(),t?(this._loader=t,this._loader.suppressPlayButton=this._suppressPlayButton||this._loader.suppressPlayButton,this._loader.wireEngine(this),n=this.load(this._loader)):n=d.resolve(),n.then((function(){i.screen.popResolutionAndViewport(),i.screen.applyResolutionAndViewport(),i.emit("start",new dt(i))})),this._hasStarted||(this._hasStarted=!0,this._logger.debug("Starting game..."),this.browser.resume(),e.createMainLoop(this,window.requestAnimationFrame,Date.now)(),this._logger.debug("Game started")),n):(new d).reject("Excalibur is incompatible with your browser")},e.createMainLoop=function(t,e,n){var i=n();return function r(){if(t._hasStarted)try{t._requestId=e(r),t.emit("preframe",new wt(t,t.stats.prevFrame));var o=n(),s=Math.floor(o-i)||1;s>200&&(s=1);var a=s*t.timescale,c=t.stats.prevFrame.id+1;t.stats.currFrame.reset(),t.stats.currFrame.id=c,t.stats.currFrame.delta=a,t.stats.currFrame.fps=1/(a/1e3);var h=n();t._update(a);var u=n();t._draw(a);var l=n();t.stats.currFrame.duration.update=u-h,t.stats.currFrame.duration.draw=l-u,i=o,t.emit("postframe",new xt(t,t.stats.currFrame)),t.stats.prevFrame.reset(t.stats.currFrame)}catch(e){window.cancelAnimationFrame(t._requestId),t.stop(),t.onFatalException(e)}}},e.prototype.stop=function(){this._hasStarted&&(this.emit("stop",new ft(this)),this.browser.pause(),this._hasStarted=!1,this._logger.debug("Game stopped"))},e.prototype.isPaused=function(){return!this._hasStarted},e.prototype.screenshot=function(){var t=new Image,e=this.canvas.toDataURL("image/png");return t.src=e,t},e.prototype.load=function(t){var e=this,n=new d;return this._isLoading=!0,t.load().then((function(){e._suppressPlayButton?setTimeout((function(){e._isLoading=!1,n.resolve()}),500):(e._isLoading=!1,n.resolve())})),n},e._DefaultEngineOptions={width:0,height:0,enableCanvasTransparency:!0,canvasElementId:"",canvasElement:void 0,pointerScope:Mi.Document,suppressConsoleBootMessage:null,suppressMinimumBrowserFeatureDetection:null,suppressHiDPIScaling:null,suppressPlayButton:null,scrollPreventionMode:or.Canvas,backgroundColor:et.fromHex("#2185d0")},e}(ee),pr=function(t,e,n){this.animation=t,this.x=e,this.y=n},dr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fr=function(t){function e(e,n){void 0===n&&(n="MediaEvent");var i=t.call(this)||this;return i.target=e,i._name=n,i}return dr(e,t),Object.defineProperty(e.prototype,"bubbles",{get:function(){return!1},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_path",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),e.prototype.stopPropagation=function(){},e.prototype.action=function(){},e.prototype.propagate=function(){},e.prototype.layPath=function(t){},e}(ht),yr=function(t){function e(e,n){var i=t.call(this,e,"NativeSoundEvent")||this;return i.track=n,i}return dr(e,t),e}(fr),gr=function(t){function e(e,n){var i=t.call(this,e,"NativeSoundProcessedEvent")||this;return i.processedData=n,i.data=i.processedData,i}return dr(e,t),e}(fr),_r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle"}(ur||(ur={}));var vr=function(t){function e(e,n,i,r,o,s,a,c,h,u){return t.call(this,e,n,i,r,o,s,a,c,h,u)||this}return _r(e,t),e}(fe(function(){function t(t,e,n,i,r,o,s,a,c,h){this.position=new V(0,0),this.velocity=new V(0,0),this.acceleration=new V(0,0),this.particleRotationalVelocity=0,this.currentRotation=0,this.focus=null,this.focusAccel=0,this.opacity=1,this.beginColor=et.White,this.endColor=et.White,this.life=300,this.fadeFlag=!1,this._rRate=1,this._gRate=1,this._bRate=1,this._aRate=0,this._currentColor=et.White,this.emitter=null,this.particleSize=5,this.particleSprite=null,this.sizeRate=0,this.elapsedMultiplier=0;var u=t;if(u&&!(t instanceof mr)){var l=t;u=l.emitter,e=l.life,n=l.opacity,r=l.endColor,i=l.beginColor,o=l.position,s=l.velocity,a=l.acceleration,c=l.startSize,h=l.endSize}this.emitter=u,this.life=e||this.life,this.opacity=n||this.opacity,this.endColor=r||this.endColor.clone(),this.beginColor=i||this.beginColor.clone(),this._currentColor=this.beginColor.clone(),this.position=o||this.position,this.velocity=s||this.velocity,this.acceleration=a||this.acceleration,this._rRate=(this.endColor.r-this.beginColor.r)/this.life,this._gRate=(this.endColor.g-this.beginColor.g)/this.life,this._bRate=(this.endColor.b-this.beginColor.b)/this.life,this._aRate=this.opacity/this.life,this.startSize=c||0,this.endSize=h||0,this.endSize>0&&this.startSize>0&&(this.sizeRate=(this.endSize-this.startSize)/this.life,this.particleSize=this.startSize)}return t.prototype.kill=function(){this.emitter.removeParticle(this)},t.prototype.update=function(t){if(this.life=this.life-t,this.elapsedMultiplier=this.elapsedMultiplier+t,this.life<0&&this.kill(),this.fadeFlag&&(this.opacity=m(this._aRate*this.life,1e-4,1)),this.startSize>0&&this.endSize>0&&(this.particleSize=m(this.sizeRate*t+this.particleSize,Math.min(this.startSize,this.endSize),Math.max(this.startSize,this.endSize))),this._currentColor.r=m(this._currentColor.r+this._rRate*t,0,255),this._currentColor.g=m(this._currentColor.g+this._gRate*t,0,255),this._currentColor.b=m(this._currentColor.b+this._bRate*t,0,255),this._currentColor.a=m(this.opacity,1e-4,1),this.focus){var e=this.focus.sub(this.position).normalize().scale(this.focusAccel).scale(t/1e3);this.velocity=this.velocity.add(e)}else this.velocity=this.velocity.add(this.acceleration.scale(t/1e3));this.position=this.position.add(this.velocity.scale(t/1e3)),this.particleRotationalVelocity&&(this.currentRotation=(this.currentRotation+this.particleRotationalVelocity*t/1e3)%(2*Math.PI))},t.prototype.draw=function(t){if(this.particleSprite)return this.particleSprite.rotation=this.currentRotation,this.particleSprite.scale.setTo(this.particleSize,this.particleSize),void this.particleSprite.draw(t,this.position.x,this.position.y);this._currentColor.a=m(this.opacity,1e-4,1),t.fillStyle=this._currentColor.toString(),t.beginPath(),t.arc(this.position.x,this.position.y,this.particleSize,0,2*Math.PI),t.fill(),t.closePath()},t}())),mr=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return _r(e,t),e}(fe(function(t){function e(e,n,i,r){var o=t.call(this,"number"==typeof e?{pos:new V(e,n),width:i,height:r}:e)||this;o.numParticles=0,o.isEmitting=!0,o.particles=null,o.deadParticles=null,o.minVel=0,o.maxVel=0,o.acceleration=new V(0,0),o.minAngle=0,o.maxAngle=0,o.emitRate=1,o.particleLife=2e3,o.opacity=1,o.fadeFlag=!1,o.focus=null,o.focusAccel=1,o.startSize=null,o.endSize=null,o.minSize=5,o.maxSize=5,o.beginColor=et.White,o.endColor=et.White,o.particleSprite=null,o.emitterType=ur.Rectangle,o.radius=0,o.particleRotationalVelocity=0,o.randomRotation=!1,o._particlesToEmit=0,o.body.collider.type=ct.PreventCollision,o.particles=new D,o.deadParticles=new D,o.random=new f;for(var s=0;s<o.traits.length;s++)o.traits[s]instanceof Ze&&o.traits.splice(s,1);return o}return _r(e,t),e.prototype.removeParticle=function(t){this.deadParticles.push(t)},e.prototype.emitParticles=function(t){for(var e=0;e<t;e++)this.particles.push(this._createParticle())},e.prototype.clearParticles=function(){this.particles.clear()},e.prototype._createParticle=function(){var t=0,e=0,n=b(this.minAngle,this.maxAngle,this.random),i=b(this.minVel,this.maxVel,this.random),r=this.startSize||b(this.minSize,this.maxSize,this.random),o=i*Math.cos(n),s=i*Math.sin(n);if(this.emitterType===ur.Rectangle)t=b(this.pos.x,this.pos.x+this.width,this.random),e=b(this.pos.y,this.pos.y+this.height,this.random);else if(this.emitterType===ur.Circle){var a=b(0,this.radius,this.random);t=a*Math.cos(n)+this.pos.x,e=a*Math.sin(n)+this.pos.y}var c=new vr(this,this.particleLife,this.opacity,this.beginColor,this.endColor,new V(t,e),new V(o,s),this.acceleration,this.startSize,this.endSize);return c.fadeFlag=this.fadeFlag,c.particleSize=r,this.particleSprite&&(c.particleSprite=this.particleSprite),c.particleRotationalVelocity=this.particleRotationalVelocity,this.randomRotation&&(c.currentRotation=b(0,2*Math.PI,this.random)),this.focus&&(c.focus=this.focus.add(new V(this.pos.x,this.pos.y)),c.focusAccel=this.focusAccel),c},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),this.isEmitting&&(this._particlesToEmit+=this.emitRate*(n/1e3),this._particlesToEmit>1&&(this.emitParticles(Math.floor(this._particlesToEmit)),this._particlesToEmit=this._particlesToEmit-Math.floor(this._particlesToEmit))),this.particles.forEach((function(t){return t.update(n)})),this.deadParticles.forEach((function(t){return i.particles.removeElement(t)})),this.deadParticles.clear()},e.prototype.draw=function(t){this.particles.forEach((function(e){return e.draw(t)}))},e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e),e.fillStyle=et.Black.toString(),e.fillText("Particles: "+this.particles.count(),this.pos.x,this.pos.y+20),this.focus&&(e.fillRect(this.focus.x+this.pos.x,this.focus.y+this.pos.y,3,3),Ye(e,et.Yellow,this.focus.x+this.pos.x,this.focus.y+this.pos.y,this.center.x,this.center.y),e.fillText("Focus",this.focus.x+this.pos.x,this.focus.y+this.pos.y))},e}(bn))),br={Actions:o},wr=function(){function t(){}return t.create=function(t,e){if(this._currentGroup>this._MAX_GROUPS)throw new Error("Cannot have more than "+this._MAX_GROUPS+" collision groups");if(this._groups.get(t))throw new Error("Collision group "+t+" already exists");var n=new nn(t,this._currentBit,void 0!==e?e:~this._currentBit);return this._currentBit=this._currentBit<<1|0,this._currentGroup++,this._groups.set(t,n),n},Object.defineProperty(t,"groups",{get:function(){return Array.from(this._groups.values())},enumerable:!1,configurable:!0}),t.groupByName=function(t){return this._groups.get(t)},t.reset=function(){this._groups=new Map,this._currentBit=this._STARTING_BIT,this._currentGroup=1},t._STARTING_BIT=1,t._MAX_GROUPS=32,t._currentGroup=1,t._currentBit=t._STARTING_BIT,t._groups=new Map,t}(),xr=function(){return(xr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Pr=function(){function t(t){this.lineWidth=5,this.filled=!1,this._points=[],this.anchor=V.Zero,this.offset=V.Zero,this.rotation=0,this.scale=V.One,this.opacity=1,this._points=t;var e=this._points.reduce((function(t,e){return Math.min(t,e.x)}),0),n=this._points.reduce((function(t,e){return Math.max(t,e.x)}),0);this.drawWidth=n-e;var i=this._points.reduce((function(t,e){return Math.min(t,e.y)}),0),r=this._points.reduce((function(t,e){return Math.max(t,e.y)}),0);this.drawHeight=r-i,this.height=this.drawHeight,this.width=this.drawWidth}return t.prototype.addEffect=function(){},t.prototype.removeEffect=function(){},t.prototype.clearEffects=function(){},t.prototype.reset=function(){},t.prototype.draw=function(t,e,n){t instanceof CanvasRenderingContext2D?this._drawWithOptions({ctx:t,x:e,y:n}):this._drawWithOptions(t)},t.prototype._drawWithOptions=function(t){var e,n,i,r,o,s,a,c,h=xr(xr({},t),{rotation:null!==(e=t.rotation)&&void 0!==e?e:this.rotation,drawWidth:null!==(n=t.drawWidth)&&void 0!==n?n:this.drawWidth,drawHeight:null!==(i=t.drawHeight)&&void 0!==i?i:this.drawHeight,flipHorizontal:null!==(r=t.flipHorizontal)&&void 0!==r?r:this.flipHorizontal,flipVertical:null!==(o=t.flipVertical)&&void 0!==o?o:this.flipVertical,anchor:null!==(s=t.anchor)&&void 0!==s?s:this.anchor,offset:null!==(a=t.offset)&&void 0!==a?a:this.offset,opacity:null!==(c=t.opacity)&&void 0!==c?c:this.opacity}),u=h.ctx,l=h.x,p=h.y,d=h.rotation,f=h.drawWidth,y=h.drawHeight,g=h.anchor,_=h.offset,v=h.opacity,m=h.flipHorizontal,b=h.flipVertical,w=f*g.x+_.x+l,x=y*g.y+_.y+p;u.save(),u.translate(w,x),u.scale(this.scale.x,this.scale.y),u.rotate(d),u.beginPath(),u.lineWidth=this.lineWidth;var P=this._points[0];u.moveTo(P.x,P.y);for(var A=0,E=this._points.length;A<E;A++)u.lineTo(this._points[A].x,this._points[A].y);u.lineTo(P.x,P.y),u.closePath(),this.filled&&(u.fillStyle=this.fillColor.toString(),u.fill()),u.strokeStyle=this.lineColor.toString(),m&&(u.translate(f,0),u.scale(-1,1)),b&&(u.translate(0,y),u.scale(1,-1));var S=u.globalAlpha;u.globalAlpha=null!=v?v:1,u.stroke(),u.globalAlpha=S,u.restore()},t}(),Ar=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Er=function(t){function e(e,n,i,r,o,s){return t.call(this,e,n,i,r,o,s)||this}return Ar(e,t),e}(fe(function(){function t(t,e,n,i,r,o){var s=this;this.sprites=[],this.image=null,this.columns=0,this.rows=0,this.spWidth=0,this.spHeight=0,this.spacing=0;var a=!1;if(t instanceof Array?this.sprites=t:(!t||t instanceof be?(this.image=t,this.columns=e,this.rows=n,this.spWidth=i,this.spHeight=r,this.spacing=o||0):(this.columns=t.columns,this.rows=t.rows,this.spWidth=t.spWidth,this.spHeight=t.spHeight,this.image=t.image,this.spacing=t.spacing||0),this.sprites=new Array(this.columns*this.rows),a=!0),this.image instanceof be){var c=!1,h=!1;if(this.image.loaded.then((function(t){c=s.spWidth*s.columns>t.naturalWidth,h=s.spHeight*s.rows>t.naturalHeight})),c)throw new RangeError("SpriteSheet specified is wider, "+this.columns+" cols x "+this.spWidth+" pixels > "+this.image.image.naturalWidth+" pixels than image width");if(h)throw new RangeError("SpriteSheet specified is taller, "+this.rows+" rows x "+this.spHeight+" pixels > "+this.image.image.naturalHeight+" pixels than image height")}if(a)for(var u=0;u<this.rows;u++)for(var l=0;l<this.columns;l++)this.sprites[l+u*this.columns]=new ve(this.image,l*this.spWidth+this.spacing*l+this.spacing,u*this.spHeight+this.spacing*u+this.spacing,this.spWidth,this.spHeight)}return t.prototype.getAnimationByIndices=function(t,e,n){var i=this,r=e.map((function(t){return i.sprites[t]}));return r=r.map((function(t){return t.clone()})),new Pe(t,r,n)},t.prototype.getAnimationBetween=function(t,e,n,i){var r=this.sprites.slice(e,n);return r=r.map((function(t){return t.clone()})),new Pe(t,r,i)},t.prototype.getAnimationForAll=function(t,e){var n=this.sprites.map((function(t){return t.clone()}));return new Pe(t,n,e)},t.prototype.getSprite=function(t){if(t>=0&&t<this.sprites.length)return this.sprites[t];throw new Error("Invalid index: "+t)},t.prototype.getAnimationByCoords=function(t,e,n){for(var i=0,r=0,o=new Array(e.length),s=0;s<e.length;s++){var a=e[s];a.image=a.image||this.image,i=Math.max(i,a.drawWidth),r=Math.max(r,a.drawHeight),o[s]=new ve(a)}var c=new Pe(t,o,n);return c.drawWidth=i,c.drawHeight=r,c},t}())),Sr=function(t){function e(e,n,i,r,o,s,a,c){return t.call(this,e,n,i,r,o,s,a,c)||this}return Ar(e,t),e}(fe(function(t){function e(e,n,i,r,o,s,a,c){var h=t.call(this,e instanceof be?{image:e,spWidth:s,spHeight:a,rows:o,columns:r,spacing:c||0}:e)||this;return h._currentColor=et.Black,h._currentOpacity=1,h._sprites={},h._textShadowOn=!1,h._textShadowDirty=!0,h._textShadowColor=et.Black,h._textShadowSprites={},h._shadowOffsetX=5,h._shadowOffsetY=5,!e||e instanceof be||(n=e.alphabet,i=e.caseInsensitive),h._alphabet=n,h._caseInsensitive=i,h._sprites=h.getTextSprites(),h}return Ar(e,t),e.prototype.getTextSprites=function(){for(var t={},e=0;e<this._alphabet.length;e++){var n=this._alphabet[e];this._caseInsensitive&&(n=n.toLowerCase()),t[n]=this.sprites[e].clone()}return t},e.prototype.setTextShadow=function(t,e,n){for(var i in this._textShadowOn=!0,this._shadowOffsetX=t,this._shadowOffsetY=e,this._textShadowColor=n.clone(),this._textShadowDirty=!0,this._sprites)this._textShadowSprites[i]=this._sprites[i].clone()},e.prototype.useTextShadow=function(t){this._textShadowOn=t,t&&this.setTextShadow(5,5,this._textShadowColor)},e.prototype.draw=function(t,e,n,i,r){if(r=this._parseOptions(r),this._currentColor.toString()!==r.color.toString()||this._currentOpacity!==r.opacity)for(var o in this._currentOpacity=r.opacity,this._currentColor=r.color,this._sprites)this._sprites[o].clearEffects(),this._sprites[o].fill(r.color),this._sprites[o].opacity(r.opacity);if(this._textShadowOn&&this._textShadowDirty&&this._textShadowColor){for(var s in this._textShadowSprites)this._textShadowSprites[s].clearEffects(),this._textShadowSprites[s].addEffect(new pe(this._textShadowColor.clone()));this._textShadowDirty=!1}var a=this.sprites[0],c=a.drawHeight,h=r.fontSize/c,u=e.length*a.drawWidth*h+e.length*r.letterSpacing,l=n;r.textAlign===Xn.Left||r.textAlign===Xn.Start?l=n:r.textAlign===Xn.Right||r.textAlign===Xn.End?l=n-u:r.textAlign===Xn.Center&&(l=n-u/2);var p=i-c*h;r.baseAlign===Qn.Top||r.baseAlign===Qn.Hanging?p=i:r.baseAlign===Qn.Ideographic||r.baseAlign===Qn.Bottom||r.baseAlign===Qn.Alphabetic?p=i-c*h:r.baseAlign===Qn.Middle&&(p=i-c*h/2);for(var d=0;d<e.length;d++){var f=e[d];this._caseInsensitive&&(f=f.toLowerCase());try{this._textShadowOn&&(this._textShadowSprites[f].scale.x=h,this._textShadowSprites[f].scale.y=h,this._textShadowSprites[f].draw(t,l+this._shadowOffsetX,p+this._shadowOffsetY));var y=this._sprites[f];y.scale.x=h,y.scale.y=h,y.draw(t,l,p),l+=y.drawWidth+r.letterSpacing}catch(t){R.getInstance().error("SpriteFont Error drawing char "+f)}}},e.prototype._parseOptions=function(t){return{fontSize:t.fontSize||10,letterSpacing:t.letterSpacing||0,color:t.color||et.Black,textAlign:void 0===typeof t.textAlign?Xn.Left:t.textAlign,baseAlign:void 0===typeof t.baseAlign?Qn.Bottom:t.baseAlign,maxWidth:t.maxWidth||-1,opacity:t.opacity||0}},e}(Er))),Cr=function(){function t(){}return t.type={any:"",blob:"blob",json:"json",text:"text",document:"document",arraybuffer:"arraybuffer"},t}();function Or(t){return!!t._initialize}function Tr(t){return!!t.onInitialize}function Br(t){return!!t._preupdate}function Mr(t){return!!t.onPreUpdate}function Dr(t){return!!t.onPostUpdate}function kr(t){return!!t.onPostUpdate}function Rr(t){return!!t.onPreDraw}function jr(t){return!!t.onPostDraw}function Fr(t,e,n){return e+t*(n-e)}function Ir(t){return t*t*t*(t*(6*t-15)+10)}var Lr=function(){function t(t){this._perm=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this._p=new Uint8Array(512),this._defaultPerlinOptions={octaves:1,frequency:1,amplitude:1,persistance:.5},t=g({},this._defaultPerlinOptions,t),this.persistance=t.persistance,this.amplitude=t.amplitude,this.frequency=t.frequency,this.octaves=t.octaves,t.seed?this._random=new f(t.seed):this._random=new f,this._perm=this._random.shuffle(this._perm);for(var e=0;e<512;e++)this._p[e]=255&this._perm[e%256]}return t.prototype.noise=function(){for(var t=this.amplitude,e=this.frequency,n=0,i=0,r=0;r<this.octaves;r++){switch(arguments.length){case 1:n+=this._noise1d(arguments[0]*e)*t;break;case 2:n+=this._noise2d(arguments[0]*e,arguments[1]*e)*t;break;case 3:n+=this._noise3d(arguments[0]*e,arguments[1]*e,arguments[2]*e)*t;break;default:throw new Error("Invalid arguments for perlin noise")}i+=t,t*=this.persistance,e*=2}return n/i},t.prototype.sequence=function(t,e){e||(e=1/t);for(var n=new Array(t),i=0;i<t;i++)n[i]=this.noise(i*e);return n},t.prototype.grid=function(t,e,n){n||(n=1/Math.min(t,e));for(var i=new Array(t*e),r=0;r<e;r++)for(var o=0;o<t;o++)i[o+r*t]=this.noise(o*n,r*n);return i},t.prototype._gradient3d=function(t,e,n,i){var r=15&t,o=r<8?e:n,s=r<4?n:12===r||14===r?e:i;return(0==(1&r)?o:-o)+(0==(2&r)?s:-s)},t.prototype._gradient2d=function(t,e,n){var i=0==(1&t)?e:n;return 0==(2&t)?-i:i},t.prototype._gradient1d=function(t,e){return 0==(1&t)?-e:e},t.prototype._noise1d=function(t){var e=255&Math.floor(t);return(Fr(Ir(t-=Math.floor(t)),this._gradient1d(this._p[e],t),this._gradient1d(this._p[e+1],t-1))+1)/2},t.prototype._noise2d=function(t,e){var n=255&Math.floor(t),i=255&Math.floor(e);t-=Math.floor(t),e-=Math.floor(e);var r=Ir(t),o=Ir(e),s=this._p[n]+i,a=this._p[n+1]+i;return(Fr(o,Fr(r,this._gradient2d(this._p[s],t,e),this._gradient2d(this._p[a],t-1,e)),Fr(r,this._gradient2d(this._p[s+1],t,e-1),this._gradient2d(this._p[a+1],t-1,e-1)))+1)/2},t.prototype._noise3d=function(t,e,n){var i=255&Math.floor(t),r=255&Math.floor(e),o=255&Math.floor(n);t-=Math.floor(t),e-=Math.floor(e),n-=Math.floor(n);var s=Ir(t),a=Ir(e),c=Ir(n),h=this._p[i]+r,u=this._p[i+1]+r,l=this._p[h]+o,p=this._p[u]+o,d=this._p[h+1]+o,f=this._p[u+1]+o;return(Fr(c,Fr(a,Fr(s,this._gradient3d(this._p[l],t,e,n),this._gradient3d(this._p[p],t-1,e,n)),Fr(s,this._gradient3d(this._p[d],t,e-1,n),this._gradient3d(this._p[f],t-1,e-1,n))),Fr(a,Fr(s,this._gradient3d(this._p[l+1],t,e,n-1),this._gradient3d(this._p[p+1],t-1,e,n-1)),Fr(s,this._gradient3d(this._p[d+1],t,e-1,n-1),this._gradient3d(this._p[f+1],t-1,e-1,n-1))))+1)/2},t}(),zr=function(){function t(t,e){this.generator=t,this.colorFcn=e,e||(this.colorFcn=function(t){return t<125?et.Black:et.White})}return t.prototype.image=function(t,e){var n=document.createElement("img"),i=document.createElement("canvas");i.width=t,i.height=e;var r=i.getContext("2d");return this.draw(r,0,0,t,e),n.src=i.toDataURL(),n},t.prototype.draw=function(t,e,n,i,r){for(var o=this.generator.grid(i,r),s=t.getImageData(e,n,i,r),a=0;a<r;a++)for(var c=0;c<i;c++){var h=o[c+i*a],u=255&Math.floor(255*h),l=4*(c+a*s.width),p=this.colorFcn(u);s.data[l]=p.r,s.data[l+1]=p.g,s.data[l+2]=p.b,s.data[l+3]=Math.floor(255*p.a)}t.putImageData(s,e,n)},t}(),Hr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ur=function(){function t(){}return t.create=function(t){return t instanceof AudioBuffer?new Nr(t):new Wr(t)},t}(),Wr=function(){function t(t){this._src=t,this._volume=1,this._duration=void 0,this._loop=!1,this._isPlaying=!1,this._isPaused=!1}return Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._instance&&(this._instance.loop=t,this._wireUpOnEnded())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=m(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},set:function(t){this._duration=t},enumerable:!1,configurable:!0}),t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.pause=function(){this._isPlaying&&(this._isPaused=!0,this._isPlaying=!1)},t.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this._isPaused=!1)},t.prototype.play=function(){return this._isPaused&&this._resumePlayBack(),this._isPlaying||this._startPlayBack(),this._playingPromise},t.prototype._startPlayBack=function(){this._isPlaying=!0,this._isPaused=!1,this._playingPromise=new d},t.prototype._resumePlayBack=function(){this._isPaused&&(this._isPaused=!1,this._isPlaying=!0)},t.prototype._wireUpOnEnded=function(){var t=this;this.loop||(this._instance.onended=function(){return t._handleOnEnded()})},t.prototype._handleOnEnded=function(){},t}(),Nr=function(t){function e(e){var n=t.call(this,e)||this;return n._audioContext=Bn.create(),n._volumeNode=n._audioContext.createGain(),n._currentOffset=0,n._createNewBufferSource(),n}return Hr(e,t),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){t=m(t,0,1),this._volume=t,this._isPlaying&&this._volumeNode.gain.setTargetAtTime?this._volumeNode.gain.setTargetAtTime(t,this._audioContext.currentTime,.1):this._volumeNode.gain.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_playbackRate",{get:function(){return this._instance?1/(this._instance.playbackRate.value||1):null},enumerable:!1,configurable:!0}),e.prototype.pause=function(){t.prototype.pause.call(this),this._instance.stop(0),this._setPauseOffset()},e.prototype.stop=function(){t.prototype.stop.call(this),this._currentOffset=0,this._instance.stop(0),this._instance.onended||this._handleOnEnded()},e.prototype._startPlayBack=function(){t.prototype._startPlayBack.call(this),this._instance||this._createNewBufferSource(),this._rememberStartTime(),this._volumeNode.connect(this._audioContext.destination),this._instance.start(0,0),this._currentOffset=0,this._playingPromise=new d,this._wireUpOnEnded()},e.prototype._resumePlayBack=function(){t.prototype._resumePlayBack.call(this),this._instance.onended=null,this._createNewBufferSource();var e=this._playbackRate*this._src.duration,n=this._currentOffset%e;this._rememberStartTime(-1e3*n),this._instance.start(0,n),this._wireUpOnEnded()},e.prototype._handleOnEnded=function(){this._isPaused||(this._isPlaying=!1,this._playingPromise.resolve(!0))},e.prototype._rememberStartTime=function(t){this._startTime=(new Date).getTime()+(0|t)},e.prototype._setPauseOffset=function(){this._currentOffset=((new Date).getTime()-this._startTime)*this._playbackRate/1e3},e.prototype._createNewBufferSource=function(){this._instance=this._audioContext.createBufferSource(),this._instance.buffer=this._src,this._instance.loop=this.loop,this._instance.playbackRate.setValueAtTime(1,0),this._instance.connect(this._volumeNode)},e}(Wr);function qr(t){try{var e=new Audio,n=t.match(/.*\.([A-Za-z0-9]+)$/)[1];return!!e.canPlayType("audio/"+n)}catch(t){return R.getInstance().warn("Cannot determine audio support, assuming no support for the Audio Tag",t),!1}}var Vr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gr=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.call(this,"","")||this;i._loop=!1,i._volume=1,i._duration=void 0,i._isStopped=!1,i._isPaused=!1,i._tracks=[],i._wasPlayingOnHidden=!1,i._processedData=new d,i._audioContext=Bn.create(),i._detectResponseType();for(var r=0,o=e;r<o.length;r++){var s=o[r];if(qr(s)){i.path=s;break}}return i.path||(i.logger.warn("This browser does not support any of the audio files specified:",e.join(", ")),i.logger.warn("Attempting to use",e[0]),i.path=e[0]),i}return Vr(e,t),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t;for(var e=0,n=this._tracks;e<n.length;e++){n[e].loop=this._loop}this.logger.debug("Set loop for all instances of sound",this.path,"to",this._loop)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t;for(var e=0,n=this._tracks;e<n.length;e++){n[e].volume=this._volume}this.emit("volumechange",new yr(this)),this.logger.debug("Set loop for all instances of sound",this.path,"to",this._volume)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instances",{get:function(){return this._tracks},enumerable:!1,configurable:!0}),e.prototype.wireEngine=function(t){var e=this;t&&(this._engine=t,this._engine.on("hidden",(function(){t.pauseAudioWhenHidden&&e.isPlaying()&&(e._wasPlayingOnHidden=!0,e.pause())})),this._engine.on("visible",(function(){t.pauseAudioWhenHidden&&e._wasPlayingOnHidden&&(e.play(),e._wasPlayingOnHidden=!1)})),this._engine.on("start",(function(){e._isStopped=!1})),this._engine.on("stop",(function(){e.stop(),e._isStopped=!0})))},e.prototype.instanceCount=function(){return this._tracks.length},e.prototype.isPlaying=function(){return this._tracks.some((function(t){return t.isPlaying()}))},e.prototype.play=function(t){return this.isLoaded()?this._isStopped?(this.logger.warn("Cannot start playing. Engine is in a stopped state."),d.resolve(!1)):(this.volume=t||this.volume,this._isPaused?this._resumePlayback():this._startPlayback()):(this.logger.warn("Cannot start playing. Resource",this.path,"is not loaded yet"),d.resolve(!0))},e.prototype.pause=function(){if(this.isPlaying()){for(var t=0,e=this._tracks;t<e.length;t++){e[t].pause()}this._isPaused=!0,this.emit("pause",new yr(this)),this.logger.debug("Paused all instances of sound",this.path)}},e.prototype.stop=function(){for(var t=0,e=this._tracks;t<e.length;t++){e[t].stop()}this.emit("stop",new yr(this)),this._isPaused=!1,this._tracks.length=0,this.logger.debug("Stopped all instances of sound",this.path)},e.prototype.setData=function(t){this.emit("emptied",new yr(this)),this.data=t,this._processedData=new d},e.prototype.processData=function(t){var e=this;return(t instanceof ArrayBuffer?this._processArrayBufferData(t):this._processBlobData(t)).then((function(t){return e._setProcessedData(t)}))},e.prototype.getTrackId=function(t){return this._tracks.indexOf(t)},e.prototype._resumePlayback=function(){if(this._isPaused){for(var t=[],e=0,n=this._tracks;e<n.length;e++){var i=n[e];t.push(i.play())}return this._isPaused=!1,this.emit("resume",new yr(this)),this.logger.debug("Resuming paused instances for sound",this.path,this._tracks),d.join(t)}return d.resolve(!0)},e.prototype._startPlayback=function(){var t=this,e=this._createNewTrack(),n=new d;return e.then((function(e){e.play().then((function(i){return t.emit("playbackend",new yr(t,e)),t._tracks.splice(t.getTrackId(e),1),n.resolve(i),i})),t.emit("playbackstart",new yr(t,e)),t.logger.debug("Playing new instance for sound",t.path)})),n},e.prototype._processArrayBufferData=function(t){var e=this,n=new d;return this._audioContext.decodeAudioData(t,(function(t){n.resolve(t)}),(function(){e.logger.error("Unable to decode  this browser may not fully support this format, or the file may be corrupt, if this is an mp3 try removing id3 tags and album art from the file."),n.resolve(void 0)})),n},e.prototype._processBlobData=function(e){return(new d).resolve(t.prototype.processData.call(this,e))},e.prototype._setProcessedData=function(t){this._processedData.resolve(t),this._duration="object"==typeof t?t.duration:void 0,this.emit("processed",new gr(this,t))},e.prototype._createNewTrack=function(){var t=this,e=new d;return 0!==this._processedData.state()&&this.processData(this.data),this._processedData.then((function(n){return e.resolve(t._getTrackInstance(n)),n}),(function(e){t.logger.error(e,"Cannot create AudioInstance due to wrong processed data.")})),e},e.prototype._getTrackInstance=function(t){var e=Ur.create(t);return e.loop=this.loop,e.volume=this.volume,e.duration=this.duration,this._tracks.push(e),e},e.prototype._detectResponseType=function(){window.AudioContext?this.responseType=Cr.type.arraybuffer:this.responseType=Cr.type.blob},e}(ie),Xr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qr=function(t){function e(e,n,i){void 0===n&&(n=et.Magenta),void 0===i&&(i=!0);var r=t.call(this,e,"arraybuffer",i)||this;return r.path=e,r.color=n,r.bustCache=i,r.loaded=new d,r._isLoaded=!1,r._stream=null,r._gif=null,r._texture=[],r._animation=null,r._transparentColor=null,r._transparentColor=n,r}return Xr(e,t),e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.load=function(){var e=this,n=new d;return t.prototype.load.call(this).then((function(){e._stream=new Yr(e.getData()),e._gif=new Jr(e._stream,e._transparentColor);for(var t=[],i=0;i<e._gif.images.length;i++){var r=new be(e._gif.images[i].src,!1);e._texture.push(r),t.push(r.load())}d.join(t).then((function(){e._isLoaded=!0,n.resolve(e._texture)}))}),(function(){n.reject("Error loading texture.")})),n},e.prototype.asSprite=function(t){return void 0===t&&(t=0),this._texture[t].asSprite()},e.prototype.asSpriteSheet=function(){var t=this._texture.map((function(t){return t.asSprite()}));return new Er(t)},e.prototype.asAnimation=function(t,e){var n=this.asSpriteSheet();return this._animation=n.getAnimationForAll(t,e),this._animation},Object.defineProperty(e.prototype,"readCheckBytes",{get:function(){return this._gif.checkBytes},enumerable:!1,configurable:!0}),e}(ie),Zr=function(t){return t.reduce((function(t,e){return 2*t+e}),0)},Kr=function(t){for(var e=[],n=7;n>=0;n--)e.push(!!(t&1<<n));return e},Yr=function(t){var e=this;if(this.data=null,this.len=0,this.position=0,this.readByte=function(){if(e.position>=e.data.byteLength)throw new Error("Attempted to read past end of stream.");return e.data[e.position++]},this.readBytes=function(t){for(var n=[],i=0;i<t;i++)n.push(e.readByte());return n},this.read=function(t){for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e.readByte());return n},this.readUnsigned=function(){var t=e.readBytes(2);return(t[1]<<8)+t[0]},this.data=new Uint8Array(t),this.len=this.data.byteLength,0===this.len)throw new Error("No data loaded from file")},Jr=function(t,e){var n=this;void 0===e&&(e=et.Magenta),this._st=null,this._handler={},this._transparentColor=null,this.frames=[],this.images=[],this.globalColorTable=[],this.checkBytes=[],this.parseColorTable=function(t){for(var e=[],i=0;i<t;i++){var r="#"+n._st.readBytes(3).map((function(t){var e=t.toString(16);return 1===e.length?"0"+e:e})).join("");e.push(r)}return e},this.readSubBlocks=function(){var t,e;e="";do{t=n._st.readByte(),e+=n._st.read(t)}while(0!==t);return e},this.parseHeader=function(){var t={sig:null,ver:null,width:null,height:null,colorRes:null,globalColorTableSize:null,gctFlag:null,sorted:null,globalColorTable:[],bgColor:null,pixelAspectRatio:null};if(t.sig=n._st.read(3),t.ver=n._st.read(3),"GIF"!==t.sig)throw new Error("Not a GIF file.");t.width=n._st.readUnsigned(),t.height=n._st.readUnsigned();var e=Kr(n._st.readByte());t.gctFlag=e.shift(),t.colorRes=Zr(e.splice(0,3)),t.sorted=e.shift(),t.globalColorTableSize=Zr(e.splice(0,3)),t.bgColor=n._st.readByte(),t.pixelAspectRatio=n._st.readByte(),t.gctFlag&&(t.globalColorTable=n.parseColorTable(1<<t.globalColorTableSize+1),n.globalColorTable=t.globalColorTable),n._handler.hdr&&n._handler.hdr(t)&&n.checkBytes.push(n._handler.hdr)},this.parseExt=function(t){switch(t.label=n._st.readByte(),t.label){case 249:t.extType="gce",function(t){n.checkBytes.push(n._st.readByte());var e=Kr(n._st.readByte());t.reserved=e.splice(0,3),t.disposalMethod=Zr(e.splice(0,3)),t.userInput=e.shift(),t.transparencyGiven=e.shift(),t.delayTime=n._st.readUnsigned(),t.transparencyIndex=n._st.readByte(),t.terminator=n._st.readByte(),n._handler.gce&&n._handler.gce(t)&&n.checkBytes.push(n._handler.gce)}(t);break;case 254:t.extType="com",function(t){t.comment=n.readSubBlocks(),n._handler.com&&n._handler.com(t)&&n.checkBytes.push(n._handler.com)}(t);break;case 1:t.extType="pte",function(t){n.checkBytes.push(n._st.readByte()),t.ptHeader=n._st.readBytes(12),t.ptData=n.readSubBlocks(),n._handler.pte&&n._handler.pte(t)&&n.checkBytes.push(n._handler.pte)}(t);break;case 255:t.extType="app",function(t){switch(n.checkBytes.push(n._st.readByte()),t.identifier=n._st.read(8),t.authCode=n._st.read(3),t.identifier){case"NETSCAPE":!function(t){n.checkBytes.push(n._st.readByte()),t.unknown=n._st.readByte(),t.iterations=n._st.readUnsigned(),t.terminator=n._st.readByte(),n._handler.app&&n._handler.app.NETSCAPE&&n._handler.app.NETSCAPE(t)&&n.checkBytes.push(n._handler.app)}(t);break;default:!function(t){t.appData=n.readSubBlocks(),n._handler.app&&n._handler.app[t.identifier]&&n._handler.app[t.identifier](t)&&n.checkBytes.push(n._handler.app[t.identifier])}(t)}}(t);break;default:t.extType="unknown",function(t){t.data=n.readSubBlocks(),n._handler.unknown&&n._handler.unknown(t)&&n.checkBytes.push(n._handler.unknown)}(t)}},this.parseImg=function(t){t.leftPos=n._st.readUnsigned(),t.topPos=n._st.readUnsigned(),t.width=n._st.readUnsigned(),t.height=n._st.readUnsigned();var e=Kr(n._st.readByte());t.lctFlag=e.shift(),t.interlaced=e.shift(),t.sorted=e.shift(),t.reserved=e.splice(0,2),t.lctSize=Zr(e.splice(0,3)),t.lctFlag&&(t.lct=n.parseColorTable(1<<t.lctSize+1)),t.lzwMinCodeSize=n._st.readByte();var i=n.readSubBlocks();t.pixels=function(t,e){for(var n,i,r=0,o=function(t){for(var n=0,i=0;i<t;i++)e.charCodeAt(r>>3)&1<<(7&r)&&(n|=1<<i),r++;return n},s=[],a=1<<t,c=a+1,h=t+1,u=[],l=function(){u=[],h=t+1;for(var e=0;e<a;e++)u[e]=[e];u[a]=[],u[c]=null};;)if(i=n,(n=o(h))!==a){if(n===c)break;if(n<u.length)i!==a&&u.push(u[i].concat(u[n][0]));else{if(n!==u.length)throw new Error("Invalid LZW code.");u.push(u[i].concat(u[i][0]))}s.push.apply(s,u[n]),u.length===1<<h&&h<12&&h++}else l();return s}(t.lzwMinCodeSize,i),t.interlaced&&(t.pixels=function(t,e){for(var n=new Array(t.length),i=t.length/e,r=function(i,r){var o=t.slice(r*e,(r+1)*e);n.splice.apply(n,[i*e,e].concat(o))},o=[0,4,2,1],s=[8,8,4,2],a=0,c=0;c<4;c++)for(var h=o[c];h<i;h+=s[c])r(h,a),a++;return n}(t.pixels,t.width)),n.frames.push(t),n.arrayToImage(t),n._handler.img&&n._handler.img(t)&&n.checkBytes.push(n._handler)},this.parseBlock=function(){var t={sentinel:n._st.readByte(),type:""};switch(String.fromCharCode(t.sentinel)){case"!":t.type="ext",n.parseExt(t);break;case",":t.type="img",n.parseImg(t);break;case";":t.type="eof",n._handler.eof&&n._handler.eof(t)&&n.checkBytes.push(n._handler.eof);break;default:throw new Error("Unknown block: 0x"+t.sentinel.toString(16))}"eof"!==t.type&&n.parseBlock()},this.arrayToImage=function(t){var e=0,i=document.createElement("canvas");i.id=e.toString(),i.width=t.width,i.height=t.height,e++;for(var r=i.getContext("2d"),o=0,s=0,a=0;a<t.pixels.length;a++)s%t.width==0&&(o++,s=0),n.globalColorTable[t.pixels[a]]===n._transparentColor.toHex()?r.fillStyle="rgba(0, 0, 0, 0)":r.fillStyle=n.globalColorTable[t.pixels[a]],r.fillRect(s,o,1,1),s++;var c=new Image;c.src=i.toDataURL(),n.images.push(c)},this._st=t,this._handler={},this._transparentColor=e,this.parseHeader(),this.parseBlock()},$r="0.24.5";l()}])}));
//# sourceMappingURL=excalibur.min.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGNhbGlidXItd2VicGFjay8uL25vZGVfbW9kdWxlcy9leGNhbGlidXIvZGlzdC9leGNhbGlidXIubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQWlELG9CQUFvQixDQUFtRyxDQUFDLG9CQUFvQixtQkFBbUIsU0FBUyxjQUFjLDRCQUE0QixZQUFZLHFCQUFxQiwyREFBMkQsdUNBQXVDLHFDQUFxQyxvQkFBb0IsRUFBRSxpQkFBaUIsNEZBQTRGLGVBQWUsd0NBQXdDLFNBQVMsRUFBRSxtQkFBbUIsOEJBQThCLHFEQUFxRCwwQkFBMEIsNkNBQTZDLHNCQUFzQiw2REFBNkQsWUFBWSxlQUFlLFNBQVMsaUJBQWlCLGlDQUFpQyxpQkFBaUIsWUFBWSxVQUFVLHNCQUFzQixtQkFBbUIsaURBQWlELG1CQUFtQixrQkFBa0IsNkRBQTZELHdCQUF3Qiw2Q0FBNkMsdUJBQXVCLFdBQVcsd0JBQXdCLGlHQUFpRywrQkFBK0IsT0FBTyxpREFBaUQsaUJBQWlCLG9HQUFvRyxzQkFBc0IsK0RBQStELGlCQUFpQixzREFBc0QsZUFBZSxTQUFTLHdCQUF3QixzQkFBc0IsUUFBUSxFQUFFLG1GQUFtRixnQ0FBZ0Msa0JBQWtCLE9BQU8sV0FBVyxTQUFTLG9CQUFvQix1QkFBdUIsSUFBSSxpQkFBaUIsdUJBQXVCLHNCQUFzQix1Q0FBdUMsZUFBZSxzQkFBc0IsSUFBSSxZQUFZLFNBQVMsV0FBVyxpQkFBaUIsYUFBYSxrQkFBa0IsMkJBQTJCLDhLQUE4SyxtQkFBbUIsaUJBQWlCLFlBQVksc0JBQXNCLHFCQUFxQixlQUFlLHNCQUFzQix3REFBd0QsZUFBZSxRQUFRLGdCQUFnQix3QkFBd0Isb0JBQW9CLGlCQUFpQiw0REFBNEQsd0JBQXdCLDZCQUE2QixnQkFBZ0IsVUFBVSxtRUFBbUUscUNBQXFDLGlCQUFpQixhQUFhLFdBQVcsd0JBQXdCLFlBQVks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Q0FBcUMsVUFBVSw4QkFBOEIsU0FBUywyQkFBMkIsU0FBUyw0QkFBNEIsU0FBUyxrQ0FBa0MsU0FBUyx5Q0FBeUMsU0FBUywyQkFBMkIsU0FBUyx5Q0FBeUMsVUFBVSw0QkFBNEIsVUFBVSxpREFBaUQsVUFBVSxxREFBcUQsVUFBVSw4Q0FBOEMsVUFBVSxpREFBaUQsVUFBVSxpREFBaUQsVUFBVSw4QkFBOEIsVUFBVSw2QkFBNkIsVUFBVSxvQ0FBb0MsVUFBVSw2QkFBNkIsVUFBVSxrQ0FBa0MsVUFBVSxvQ0FBb0MsVUFBVSx1Q0FBdUMsVUFBVSxrQ0FBa0MsVUFBVSx3Q0FBd0MsVUFBVSxpREFBaUQsVUFBVSxrQ0FBa0MsVUFBVSxpQ0FBaUMsVUFBVSxpQ0FBaUMsVUFBVSxvQ0FBb0MsVUFBVSxxQ0FBcUMsVUFBVSxzQ0FBc0MsVUFBVSxxQ0FBcUMsVUFBVSxvQ0FBb0MsVUFBVSxxQ0FBcUMsVUFBVSx5Q0FBeUMsVUFBVSwwQ0FBMEMsVUFBVSxzQ0FBc0MsVUFBVSx1Q0FBdUMsVUFBVSxxQ0FBcUMsVUFBVSxzQ0FBc0MsVUFBVSwyQ0FBMkMsVUFBVSw4Q0FBOEMsVUFBVSwwQ0FBMEMsVUFBVSx3Q0FBd0MsVUFBVSxzQ0FBc0MsVUFBVSx3Q0FBd0MsVUFBVSxvQ0FBb0MsVUFBVSxtQ0FBbUMsVUFBVSx5Q0FBeUMsVUFBVSwwQ0FBMEMsVUFBVSwyQ0FBMkMsVUFBVSx5Q0FBeUMsVUFBVSx1Q0FBdUMsVUFBVSxxQ0FBcUMsVUFBVSx1Q0FBdUMsVUFBVSx5Q0FBeUMsVUFBVSwwQ0FBMEMsVUFBVSx5Q0FBeUMsVUFBVSx3Q0FBd0MsVUFBVSw2QkFBNkIsVUFBVSxpQ0FBaUMsVUFBVSxnQ0FBZ0MsVUFBVSxpQ0FBaUMsVUFBVSxpQ0FBaUMsVUFBVSw4QkFBOEIsVUFBVSxnQ0FBZ0MsVUFBVSx1Q0FBdUMsVUFBVSxtQ0FBbUMsVUFBVSxtREFBbUQsU0FBUywwQ0FBMEMsU0FBUyxrQ0FBa0MsU0FBUywrQkFBK0IsVUFBVSxvQ0FBb0MsU0FBUywrQkFBK0IsU0FBUyw2QkFBNkIsVUFBVSwrQkFBK0IsVUFBVSw0QkFBNEIsVUFBVSxrQ0FBa0MsVUFBVSw2QkFBNkIsVUFBVSwrQkFBK0IsVUFBVSxxQ0FBcUMsVUFBVSwrQkFBK0IsVUFBVSxxQ0FBcUMsVUFBVSxvQ0FBb0MsVUFBVSwrQkFBK0IsU0FBUyxnQ0FBZ0MsVUFBVSw0QkFBNEIsVUFBVSxrQ0FBa0MsVUFBVSxnQ0FBZ0MsVUFBVSxtQ0FBbUMsVUFBVSw4QkFBOEIsVUFBVSx3Q0FBd0MsVUFBVSwwQ0FBMEMsVUFBVSxtQ0FBbUMsVUFBVSw0Q0FBNEMsVUFBVSxzQ0FBc0MsVUFBVSw2Q0FBNkMsVUFBVSxnQ0FBZ0MsVUFBVSxtQ0FBbUMsVUFBVSxzREFBc0QsVUFBVSw0QkFBNEIsVUFBVSw0QkFBNEIsVUFBVSxxQ0FBcUMsVUFBVSw0QkFBNEIsU0FBUyw2QkFBNkIsVUFBVSxpQ0FBaUMsVUFBVSw2QkFBNkIsVUFBVSwrQkFBK0IsVUFBVSw4QkFBOEIsVUFBVSxtQ0FBbUMsVUFBVSxrQ0FBa0MsVUFBVSwrQkFBK0IsU0FBUyxrQ0FBa0MsVUFBVSxzQ0FBc0MsVUFBVSx1Q0FBdUMsVUFBVSxxQ0FBcUMsVUFBVSxzQ0FBc0MsVUFBVSxzQ0FBc0MsVUFBVSx1Q0FBdUMsVUFBVSxrQ0FBa0MsVUFBVSxtQ0FBbUMsVUFBVSx1Q0FBdUMsVUFBVSxzQ0FBc0MsVUFBVSw4QkFBOEIsU0FBUyxzQ0FBc0MsVUFBVSwyQ0FBMkMsVUFBVSxnQ0FBZ0MsVUFBVSw2QkFBNkIsVUFBVSwyQ0FBMkMsVUFBVSw0Q0FBNEMsVUFBVSxxQ0FBcUMsVUFBVSx3Q0FBd0MsVUFBVSwrQkFBK0IsVUFBVSwyQkFBMkIsVUFBVSw4QkFBOEIsVUFBVSxnQ0FBZ0MsVUFBVSxpQ0FBaUMsVUFBVSxvQ0FBb0MsVUFBVSxzQ0FBc0MsVUFBVSx3Q0FBd0MsVUFBVSx3Q0FBd0MsVUFBVSwwQ0FBMEMsVUFBVSw4QkFBOEIsVUFBVSxxQ0FBcUMsVUFBVSw2QkFBNkIsVUFBVSxvQ0FBb0MsVUFBVSxrQ0FBa0MsVUFBVSw4QkFBOEIsVUFBVSxtQ0FBbUMsVUFBVSwyQ0FBMkMsVUFBVSxxQ0FBcUMsVUFBVSw0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LE1BQU0scUJBQXFCLDJKQUEySixLQUFLLElBQUksTUFBTSx3Q0FBd0MsMEdBQTBHLEtBQUssMkJBQTJCLHdIQUF3SCwyQkFBMkIsME1BQTBNLHdCQUF3Qix1QkFBdUIsOEJBQThCLGdCQUFnQixJQUFJLCtDQUErQyxTQUFTLDJDQUEyQyxXQUFXLFlBQVksSUFBSSxhQUFhLG9CQUFvQixzQkFBc0IsZUFBZSxrREFBa0QsS0FBSyxxREFBcUQsNkJBQTZCLGdEQUFnRCxTQUFTLFNBQVMsMkRBQTJELDJEQUEyRCwyQkFBMkIsb0NBQW9DLGlDQUFpQyxJQUFJLG1CQUFtQixJQUFJLG1CQUFtQixTQUFTLHdIQUF3SCw0QkFBNEIsT0FBTyxtQ0FBbUMsd0NBQXdDLG1DQUFtQyxNQUFNLG1DQUFtQyxNQUFNLE1BQU0sb0ZBQW9GLE1BQU0scUVBQXFFLCtCQUErQiwrQkFBK0IsMkNBQTJDLHdEQUF3RCx5Q0FBeUMsa0JBQWtCLDZMQUE2TCxnQkFBZ0IscUNBQXFDLDRCQUE0QiwrREFBK0QsYUFBYSxJQUFJLEdBQUc7QUFDeGlqVSx5QyIsImZpbGUiOiJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19leGNhbGlidXJfZGlzdF9leGNhbGlidXJfbWluX2pzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXHJcbiAqIGV4Y2FsaWJ1ciAtIDAuMjQuNSAtIDIwMjAtOS04XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9leGNhbGlidXJqcy9FeGNhbGlidXJcclxuICogQ29weXJpZ2h0IChjKSAyMDIwIEV4Y2FsaWJ1ci5qcyA8aHR0cHM6Ly9naXRodWIuY29tL2V4Y2FsaWJ1cmpzL0V4Y2FsaWJ1ci9ncmFwaHMvY29udHJpYnV0b3JzPlxyXG4gKiBMaWNlbnNlZCBCU0QtMi1DbGF1c2VcclxuICogQHByZXNlcnZlXHJcbiAqL1xyXG4hZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmV4PWUoKTp0LmV4PWUoKX0od2luZG93LChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT17fTtmdW5jdGlvbiBuKGkpe2lmKGVbaV0pcmV0dXJuIGVbaV0uZXhwb3J0czt2YXIgcj1lW2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxuKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBuLm09dCxuLmM9ZSxuLmQ9ZnVuY3Rpb24odCxlLGkpe24ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciByIGluIHQpbi5kKGkscixmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLHIpKTtyZXR1cm4gaX0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIlwiLG4obi5zPTEzOSl9KFtmdW5jdGlvbih0LGUsbil7dmFyIGk9big1KSxyPW4oNDgpLmYsbz1uKDE2KSxzPW4oNDkpLGE9bigzMCksYz1uKDc5KSxoPW4oODMpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHUsbCxwLGQsZj10LnRhcmdldCx5PXQuZ2xvYmFsLGc9dC5zdGF0O2lmKG49eT9pOmc/aVtmXXx8YShmLHt9KTooaVtmXXx8e30pLnByb3RvdHlwZSlmb3IodSBpbiBlKXtpZihwPWVbdV0sbD10Lm5vVGFyZ2V0R2V0PyhkPXIobix1KSkmJmQudmFsdWU6blt1XSwhaCh5P3U6ZisoZz9cIi5cIjpcIiNcIikrdSx0LmZvcmNlZCkmJnZvaWQgMCE9PWwpe2lmKHR5cGVvZiBwPT10eXBlb2YgbCljb250aW51ZTtjKHAsbCl9KHQuc2hhbXx8bCYmbC5zaGFtKSYmbyhwLFwic2hhbVwiLCEwKSxzKG4sdSxwLHQpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDUpLHI9big0NSksbz1uKDgpLHM9big0NiksYT1uKDUyKSxjPW4oODYpLGg9cihcIndrc1wiKSx1PWkuU3ltYm9sLGw9Yz91OnUmJnUud2l0aG91dFNldHRlcnx8czt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8oaCx0KXx8KGEmJm8odSx0KT9oW3RdPXVbdF06aFt0XT1sKFwiU3ltYm9sLlwiK3QpKSxoW3RdfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTEpLHI9big0KSxvPW4oOCkscz1PYmplY3QuZGVmaW5lUHJvcGVydHksYT17fSxjPWZ1bmN0aW9uKHQpe3Rocm93IHR9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKG8oYSx0KSlyZXR1cm4gYVt0XTtlfHwoZT17fSk7dmFyIG49W11bdF0saD0hIW8oZSxcIkFDQ0VTU09SU1wiKSYmZS5BQ0NFU1NPUlMsdT1vKGUsMCk/ZVswXTpjLGw9byhlLDEpP2VbMV06dm9pZCAwO3JldHVybiBhW3RdPSEhbiYmIXIoKGZ1bmN0aW9uKCl7aWYoaCYmIWkpcmV0dXJuITA7dmFyIHQ9e2xlbmd0aDotMX07aD9zKHQsMSx7ZW51bWVyYWJsZTohMCxnZXQ6Y30pOnRbMV09MSxuLmNhbGwodCx1LGwpfSkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTUpLHI9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/cihpKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2godCl7cmV0dXJuITB9fX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5NYXRoPT1NYXRoJiZ0fTt0LmV4cG9ydHM9bihcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyl8fG4oXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8bihcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZil8fG4oXCJvYmplY3RcIj09dHlwZW9mIGUmJmUpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9KS5jYWxsKHRoaXMsbig3NykpfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigyOCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoaSh0KSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigxMSkscj1uKDQzKSxvPW4oMTcpLHM9bigzMSksYT1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPWk/YTpmdW5jdGlvbih0LGUsbil7aWYobyh0KSxlPXMoZSwhMCksbyhuKSxyKXRyeXtyZXR1cm4gYSh0LGUsbil9Y2F0Y2godCl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm5cInZhbHVlXCJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W11bdF07cmV0dXJuISFuJiZpKChmdW5jdGlvbigpe24uY2FsbChudWxsLGV8fGZ1bmN0aW9uKCl7dGhyb3cgMX0sMSl9KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big0KTt0LmV4cG9ydHM9IWkoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMSkscj1uKDUzKSxvPW4oOSkscz1pKFwidW5zY29wYWJsZXNcIiksYT1BcnJheS5wcm90b3R5cGU7bnVsbD09YVtzXSYmby5mKGEscyx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnIobnVsbCl9KSx0LmV4cG9ydHM9ZnVuY3Rpb24odCl7YVtzXVt0XT0hMH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDI2KSxyPW4oMjgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaShyKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDQwKSxyPW4oMjYpLG89big2KSxzPW4oMyksYT1uKDIzKSxjPVtdLnB1c2gsaD1mdW5jdGlvbih0KXt2YXIgZT0xPT10LG49Mj09dCxoPTM9PXQsdT00PT10LGw9Nj09dCxwPTU9PXR8fGw7cmV0dXJuIGZ1bmN0aW9uKGQsZix5LGcpe2Zvcih2YXIgXyx2LG09byhkKSxiPXIobSksdz1pKGYseSwzKSx4PXMoYi5sZW5ndGgpLFA9MCxBPWd8fGEsRT1lP0EoZCx4KTpuP0EoZCwwKTp2b2lkIDA7eD5QO1ArKylpZigocHx8UCBpbiBiKSYmKHY9dyhfPWJbUF0sUCxtKSx0KSlpZihlKUVbUF09djtlbHNlIGlmKHYpc3dpdGNoKHQpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIF87Y2FzZSA2OnJldHVybiBQO2Nhc2UgMjpjLmNhbGwoRSxfKX1lbHNlIGlmKHUpcmV0dXJuITE7cmV0dXJuIGw/LTE6aHx8dT91OkV9fTt0LmV4cG9ydHM9e2ZvckVhY2g6aCgwKSxtYXA6aCgxKSxmaWx0ZXI6aCgyKSxzb21lOmgoMyksZXZlcnk6aCg0KSxmaW5kOmgoNSksZmluZEluZGV4OmgoNil9fSxmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxpPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/aTpuKSh0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDExKSxyPW4oOSksbz1uKDI1KTt0LmV4cG9ydHM9aT9mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZih0LGUsbygxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighaSh0KSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKHQpK1wiIGlzIG5vdCBhbiBvYmplY3RcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigzNSk7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiQXJyYXlcIj09aSh0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDE1KSxyPU1hdGgubWF4LG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49aSh0KTtyZXR1cm4gbjwwP3IobitlLDApOm8obixlKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihTdHJpbmcodCkrXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigzMSkscj1uKDkpLG89bigyNSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcz1pKGUpO3MgaW4gdD9yLmYodCxzLG8oMCxuKSk6dFtzXT1ufX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNykscj1uKDE4KSxvPW4oMSkoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiByKHQpJiYoXCJmdW5jdGlvblwiIT10eXBlb2Yobj10LmNvbnN0cnVjdG9yKXx8biE9PUFycmF5JiYhcihuLnByb3RvdHlwZSk/aShuKSYmbnVsbD09PShuPW5bb10pJiYobj12b2lkIDApOm49dm9pZCAwKSxuZXcodm9pZCAwPT09bj9BcnJheTpuKSgwPT09ZT8wOmUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNCkscj1uKDEpLG89big1NSkscz1yKFwic3BlY2llc1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8+PTUxfHwhaSgoZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4oZS5jb25zdHJ1Y3Rvcj17fSlbc109ZnVuY3Rpb24oKXtyZXR1cm57Zm9vOjF9fSwxIT09ZVt0XShCb29sZWFuKS5mb299KSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDQpLHI9bigzNSksbz1cIlwiLnNwbGl0O3QuZXhwb3J0cz1pKChmdW5jdGlvbigpe3JldHVybiFPYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKHQpe3JldHVyblwiU3RyaW5nXCI9PXIodCk/by5jYWxsKHQsXCJcIik6T2JqZWN0KHQpfTpPYmplY3R9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDM2KSxyPW4oNSksbz1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6dm9pZCAwfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP28oaVt0XSl8fG8oclt0XSk6aVt0XSYmaVt0XVtlXXx8clt0XSYmclt0XVtlXX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gXCIrdCk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIGkscixvLHM9big3NiksYT1uKDUpLGM9big3KSxoPW4oMTYpLHU9big4KSxsPW4oMzIpLHA9bigzNCksZD1hLldlYWtNYXA7aWYocyl7dmFyIGY9bmV3IGQseT1mLmdldCxnPWYuaGFzLF89Zi5zZXQ7aT1mdW5jdGlvbih0LGUpe3JldHVybiBfLmNhbGwoZix0LGUpLGV9LHI9ZnVuY3Rpb24odCl7cmV0dXJuIHkuY2FsbChmLHQpfHx7fX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gZy5jYWxsKGYsdCl9fWVsc2V7dmFyIHY9bChcInN0YXRlXCIpO3Bbdl09ITAsaT1mdW5jdGlvbih0LGUpe3JldHVybiBoKHQsdixlKSxlfSxyPWZ1bmN0aW9uKHQpe3JldHVybiB1KHQsdik/dFt2XTp7fX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gdSh0LHYpfX10LmV4cG9ydHM9e3NldDppLGdldDpyLGhhczpvLGVuZm9yY2U6ZnVuY3Rpb24odCl7cmV0dXJuIG8odCk/cih0KTppKHQse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuO2lmKCFjKGUpfHwobj1yKGUpKS50eXBlIT09dCl0aHJvdyBUeXBlRXJyb3IoXCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsIFwiK3QrXCIgcmVxdWlyZWRcIik7cmV0dXJuIG59fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDUpLHI9bigxNik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dHJ5e3IoaSx0LGUpfWNhdGNoKG4pe2lbdF09ZX1yZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFpKHQpKXJldHVybiB0O3ZhciBuLHI7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIWkocj1uLmNhbGwodCkpKXJldHVybiByO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIWkocj1uLmNhbGwodCkpKXJldHVybiByO2lmKCFlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhaShyPW4uY2FsbCh0KSkpcmV0dXJuIHI7dGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNDUpLHI9big0Niksbz1pKFwia2V5c1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG9bdF18fChvW3RdPXIodCkpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ITF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNSk7dC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDEzKSxyPW4oMyksbz1uKDE5KSxzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4scyl7dmFyIGEsYz1pKGUpLGg9cihjLmxlbmd0aCksdT1vKHMsaCk7aWYodCYmbiE9bil7Zm9yKDtoPnU7KWlmKChhPWNbdSsrXSkhPWEpcmV0dXJuITB9ZWxzZSBmb3IoO2g+dTt1KyspaWYoKHR8fHUgaW4gYykmJmNbdV09PT1uKXJldHVybiB0fHx1fHwwO3JldHVybiF0JiYtMX19O3QuZXhwb3J0cz17aW5jbHVkZXM6cyghMCksaW5kZXhPZjpzKCExKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVtcImNvbnN0cnVjdG9yXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwiaXNQcm90b3R5cGVPZlwiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcInRvTG9jYWxlU3RyaW5nXCIsXCJ0b1N0cmluZ1wiLFwidmFsdWVPZlwiXX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oOCkscj1uKDYpLG89bigzMikscz1uKDg1KSxhPW8oXCJJRV9QUk9UT1wiKSxjPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPXM/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0PXIodCksaSh0LGEpP3RbYV06XCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb25zdHJ1Y3RvciYmdCBpbnN0YW5jZW9mIHQuY29uc3RydWN0b3I/dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6dCBpbnN0YW5jZW9mIE9iamVjdD9jOm51bGx9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigyMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihpKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKG4pe2Nhc2UgMDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsKGUpfTtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0LmNhbGwoZSxuKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLGkpe3JldHVybiB0LmNhbGwoZSxuLGkpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gdC5jYWxsKGUsbixpLHIpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNDIpLHI9RnVuY3Rpb24udG9TdHJpbmc7XCJmdW5jdGlvblwiIT10eXBlb2YgaS5pbnNwZWN0U291cmNlJiYoaS5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiByLmNhbGwodCl9KSx0LmV4cG9ydHM9aS5pbnNwZWN0U291cmNlfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big1KSxyPW4oMzApLG89aVtcIl9fY29yZS1qc19zaGFyZWRfX1wiXXx8cihcIl9fY29yZS1qc19zaGFyZWRfX1wiLHt9KTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTEpLHI9big0KSxvPW4oNDQpO3QuZXhwb3J0cz0haSYmIXIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvKFwiZGl2XCIpLFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big1KSxyPW4oNyksbz1pLmRvY3VtZW50LHM9cihvKSYmcihvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcz9vLmNyZWF0ZUVsZW1lbnQodCk6e319fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigzMykscj1uKDQyKTsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJbdF18fChyW3RdPXZvaWQgMCE9PWU/ZTp7fSl9KShcInZlcnNpb25zXCIsW10pLnB1c2goe3ZlcnNpb246XCIzLjYuNVwiLG1vZGU6aT9cInB1cmVcIjpcImdsb2JhbFwiLGNvcHlyaWdodDpcIsKpIDIwMjAgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSlcIn0pfSxmdW5jdGlvbih0LGUpe3ZhciBuPTAsaT1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIlN5bWJvbChcIitTdHJpbmcodm9pZCAwPT09dD9cIlwiOnQpK1wiKV9cIisoKytuK2kpLnRvU3RyaW5nKDM2KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApLHI9big4NCksbz1uKDM5KSxzPW4oOTApLGE9big1NCksYz1uKDE2KSxoPW4oNDkpLHU9bigxKSxsPW4oMzMpLHA9bigyMCksZD1uKDUxKSxmPWQuSXRlcmF0b3JQcm90b3R5cGUseT1kLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsZz11KFwiaXRlcmF0b3JcIiksXz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sdSxkLHYsbSl7cihuLGUsdSk7dmFyIGIsdyx4LFA9ZnVuY3Rpb24odCl7aWYodD09PWQmJk8pcmV0dXJuIE87aWYoIXkmJnQgaW4gUylyZXR1cm4gU1t0XTtzd2l0Y2godCl7Y2FzZVwia2V5c1wiOmNhc2VcInZhbHVlc1wiOmNhc2VcImVudHJpZXNcIjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMpfX0sQT1lK1wiIEl0ZXJhdG9yXCIsRT0hMSxTPXQucHJvdG90eXBlLEM9U1tnXXx8U1tcIkBAaXRlcmF0b3JcIl18fGQmJlNbZF0sTz0heSYmQ3x8UChkKSxUPVwiQXJyYXlcIj09ZSYmUy5lbnRyaWVzfHxDO2lmKFQmJihiPW8oVC5jYWxsKG5ldyB0KSksZiE9PU9iamVjdC5wcm90b3R5cGUmJmIubmV4dCYmKGx8fG8oYik9PT1mfHwocz9zKGIsZik6XCJmdW5jdGlvblwiIT10eXBlb2YgYltnXSYmYyhiLGcsXykpLGEoYixBLCEwLCEwKSxsJiYocFtBXT1fKSkpLFwidmFsdWVzXCI9PWQmJkMmJlwidmFsdWVzXCIhPT1DLm5hbWUmJihFPSEwLE89ZnVuY3Rpb24oKXtyZXR1cm4gQy5jYWxsKHRoaXMpfSksbCYmIW18fFNbZ109PT1PfHxjKFMsZyxPKSxwW2VdPU8sZClpZih3PXt2YWx1ZXM6UChcInZhbHVlc1wiKSxrZXlzOnY/TzpQKFwia2V5c1wiKSxlbnRyaWVzOlAoXCJlbnRyaWVzXCIpfSxtKWZvcih4IGluIHcpIXkmJiFFJiZ4IGluIFN8fGgoUyx4LHdbeF0pO2Vsc2UgaSh7dGFyZ2V0OmUscHJvdG86ITAsZm9yY2VkOnl8fEV9LHcpO3JldHVybiB3fX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTEpLHI9big3OCksbz1uKDI1KSxzPW4oMTMpLGE9bigzMSksYz1uKDgpLGg9big0MyksdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2UuZj1pP3U6ZnVuY3Rpb24odCxlKXtpZih0PXModCksZT1hKGUsITApLGgpdHJ5e3JldHVybiB1KHQsZSl9Y2F0Y2godCl7fWlmKGModCxlKSlyZXR1cm4gbyghci5mLmNhbGwodCxlKSx0W2VdKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDUpLHI9bigxNiksbz1uKDgpLHM9bigzMCksYT1uKDQxKSxjPW4oMjkpLGg9Yy5nZXQsdT1jLmVuZm9yY2UsbD1TdHJpbmcoU3RyaW5nKS5zcGxpdChcIlN0cmluZ1wiKTsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGEpe3ZhciBjPSEhYSYmISFhLnVuc2FmZSxoPSEhYSYmISFhLmVudW1lcmFibGUscD0hIWEmJiEhYS5ub1RhcmdldEdldDtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYoXCJzdHJpbmdcIiE9dHlwZW9mIGV8fG8obixcIm5hbWVcIil8fHIobixcIm5hbWVcIixlKSx1KG4pLnNvdXJjZT1sLmpvaW4oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpcIlwiKSksdCE9PWk/KGM/IXAmJnRbZV0mJihoPSEwKTpkZWxldGUgdFtlXSxoP3RbZV09bjpyKHQsZSxuKSk6aD90W2VdPW46cyhlLG4pfSkoRnVuY3Rpb24ucHJvdG90eXBlLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzJiZoKHRoaXMpLnNvdXJjZXx8YSh0aGlzKX0pKX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oOCkscj1uKDEzKSxvPW4oMzcpLmluZGV4T2Yscz1uKDM0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixhPXIodCksYz0wLGg9W107Zm9yKG4gaW4gYSkhaShzLG4pJiZpKGEsbikmJmgucHVzaChuKTtmb3IoO2UubGVuZ3RoPmM7KWkoYSxuPWVbYysrXSkmJih+byhoLG4pfHxoLnB1c2gobikpO3JldHVybiBofX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHIsbyxzPW4oMzkpLGE9bigxNiksYz1uKDgpLGg9bigxKSx1PW4oMzMpLGw9aChcIml0ZXJhdG9yXCIpLHA9ITE7W10ua2V5cyYmKFwibmV4dFwiaW4obz1bXS5rZXlzKCkpPyhyPXMocyhvKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmKGk9cik6cD0hMCksbnVsbD09aSYmKGk9e30pLHV8fGMoaSxsKXx8YShpLGwsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksdC5leHBvcnRzPXtJdGVyYXRvclByb3RvdHlwZTppLEJVR0dZX1NBRkFSSV9JVEVSQVRPUlM6cH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDQpO3QuZXhwb3J0cz0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFpKChmdW5jdGlvbigpe3JldHVybiFTdHJpbmcoU3ltYm9sKCkpfSkpfSxmdW5jdGlvbih0LGUsbil7dmFyIGkscj1uKDE3KSxvPW4oODcpLHM9bigzOCksYT1uKDM0KSxjPW4oODkpLGg9big0NCksdT1uKDMyKSxsPXUoXCJJRV9QUk9UT1wiKSxwPWZ1bmN0aW9uKCl7fSxkPWZ1bmN0aW9uKHQpe3JldHVyblwiPHNjcmlwdD5cIit0K1wiPFxcL3NjcmlwdD5cIn0sZj1mdW5jdGlvbigpe3RyeXtpPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoXCJodG1sZmlsZVwiKX1jYXRjaCh0KXt9dmFyIHQsZTtmPWk/ZnVuY3Rpb24odCl7dC53cml0ZShkKFwiXCIpKSx0LmNsb3NlKCk7dmFyIGU9dC5wYXJlbnRXaW5kb3cuT2JqZWN0O3JldHVybiB0PW51bGwsZX0oaSk6KChlPWgoXCJpZnJhbWVcIikpLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsYy5hcHBlbmRDaGlsZChlKSxlLnNyYz1TdHJpbmcoXCJqYXZhc2NyaXB0OlwiKSwodD1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSx0LndyaXRlKGQoXCJkb2N1bWVudC5GPU9iamVjdFwiKSksdC5jbG9zZSgpLHQuRik7Zm9yKHZhciBuPXMubGVuZ3RoO24tLTspZGVsZXRlIGYucHJvdG90eXBlW3Nbbl1dO3JldHVybiBmKCl9O2FbbF09ITAsdC5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG51bGwhPT10PyhwLnByb3RvdHlwZT1yKHQpLG49bmV3IHAscC5wcm90b3R5cGU9bnVsbCxuW2xdPXQpOm49ZigpLHZvaWQgMD09PWU/bjpvKG4sZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big5KS5mLHI9big4KSxvPW4oMSkoXCJ0b1N0cmluZ1RhZ1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QmJiFyKHQ9bj90OnQucHJvdG90eXBlLG8pJiZpKHQsbyx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOmV9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG89big1KSxzPW4oMTAzKSxhPW8ucHJvY2VzcyxjPWEmJmEudmVyc2lvbnMsaD1jJiZjLnY4O2g/cj0oaT1oLnNwbGl0KFwiLlwiKSlbMF0raVsxXTpzJiYoIShpPXMubWF0Y2goL0VkZ2VcXC8oXFxkKykvKSl8fGlbMV0+PTc0KSYmKGk9cy5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLykpJiYocj1pWzFdKSx0LmV4cG9ydHM9ciYmK3J9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDE4KSxyPW4oMyksbz1uKDQwKSxzPWZ1bmN0aW9uKHQsZSxuLGEsYyxoLHUsbCl7Zm9yKHZhciBwLGQ9YyxmPTAseT0hIXUmJm8odSxsLDMpO2Y8YTspe2lmKGYgaW4gbil7aWYocD15P3kobltmXSxmLGUpOm5bZl0saD4wJiZpKHApKWQ9cyh0LGUscCxyKHAubGVuZ3RoKSxkLGgtMSktMTtlbHNle2lmKGQ+PTkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgVHlwZUVycm9yKFwiRXhjZWVkIHRoZSBhY2NlcHRhYmxlIGFycmF5IGxlbmd0aFwiKTt0W2RdPXB9ZCsrfWYrK31yZXR1cm4gZH07dC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDIxKSxyPW4oNiksbz1uKDI2KSxzPW4oMyksYT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLGEsYyl7aShuKTt2YXIgaD1yKGUpLHU9byhoKSxsPXMoaC5sZW5ndGgpLHA9dD9sLTE6MCxkPXQ/LTE6MTtpZihhPDIpZm9yKDs7KXtpZihwIGluIHUpe2M9dVtwXSxwKz1kO2JyZWFrfWlmKHArPWQsdD9wPDA6bDw9cCl0aHJvdyBUeXBlRXJyb3IoXCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpfWZvcig7dD9wPj0wOmw+cDtwKz1kKXAgaW4gdSYmKGM9bihjLHVbcF0scCxoKSk7cmV0dXJuIGN9fTt0LmV4cG9ydHM9e2xlZnQ6YSghMSkscmlnaHQ6YSghMCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9big1OSkscj1uLm4oaSkoKSghMCk7ci5wdXNoKFt0LmksXCIvKiBCdXR0b25zIHN0eWxlcyBzdGFydCAqL1xcblxcbmJ1dHRvbiNleGNhbGlidXItcGxheSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiA5OTk7XFxuICBib3JkZXItcmFkaXVzOiA2cHg7XFxuICBib3JkZXI6IG5vbmU7XFxuICAvKmJvcmRlcjogM3B4IHNvbGlkO1xcbiAgICBib3JkZXItY29sb3I6IHdoaXRlO1xcbiAgICBib3gtc2hhZG93OiAwIDAgMTBweCAjY2NjOyovXFxuICBwYWRkaW5nOiAxcmVtIDEuNXJlbSAxcmVtIDRyZW07XFxuICBtYXJnaW46IDA7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBiYWNrZ3JvdW5kOiAjMDBiMjMzO1xcbiAgY29sb3I6ICNmZmZmZmY7XFxuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogMnJlbTtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAyNTBtcyBlYXNlLWluLW91dCwgdHJhbnNmb3JtIDE1MG1zIGVhc2U7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxuXFxuICAtd2Via2l0LWFuaW1hdGlvbjogZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4gMjAwbXM7IC8qIFNhZmFyaSwgQ2hyb21lIGFuZCBPcGVyYSA+IDEyLjEgKi9cXG4gIC1tb3otYW5pbWF0aW9uOiBleGNhbGlidXItYnV0dG9uLWZhZGVpbiAyMDBtczsgLyogRmlyZWZveCA8IDE2ICovXFxuICAtbXMtYW5pbWF0aW9uOiBleGNhbGlidXItYnV0dG9uLWZhZGVpbiAyMDBtczsgLyogSW50ZXJuZXQgRXhwbG9yZXIgKi9cXG4gIC1vLWFuaW1hdGlvbjogZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4gMjAwbXM7IC8qIE9wZXJhIDwgMTIuMSAqL1xcbiAgYW5pbWF0aW9uOiBleGNhbGlidXItYnV0dG9uLWZhZGVpbiAyMDBtcztcXG59XFxuXFxuLypcXG5idXR0b24jZXhjYWxpYnVyLXBsYXkge1xcbiAgZGlzcGxheTogbm9uZTtcXG59Ki9cXG5cXG5idXR0b24jZXhjYWxpYnVyLXBsYXk6YWZ0ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY29udGVudDogJyc7XFxuICBib3JkZXI6IDhweCBzb2xpZDtcXG4gIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgd2hpdGU7XFxuICBsZWZ0OiAzNXB4O1xcbiAgdG9wOiAyNHB4O1xcbiAgd2lkdGg6IDA7XFxuICBoZWlnaHQ6IDA7XFxufVxcblxcbmJ1dHRvbiNleGNhbGlidXItcGxheTpiZWZvcmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY29udGVudDogJyc7XFxuICBib3JkZXI6IDNweCBzb2xpZDtcXG4gIGxlZnQ6IDE5cHg7XFxuICB0b3A6IDE0cHg7XFxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xcbiAgd2lkdGg6IDMwcHg7XFxuICBoZWlnaHQ6IDMwcHg7XFxufVxcblxcbmJ1dHRvbiNleGNhbGlidXItcGxheTpob3ZlcixcXG5idXR0b24jZXhjYWxpYnVyLXBsYXk6Zm9jdXMge1xcbiAgYmFja2dyb3VuZDogIzAwOTgyYztcXG59XFxuXFxuYnV0dG9uI2V4Y2FsaWJ1ci1wbGF5OmZvY3VzIHtcXG4gIG91dGxpbmU6IDFweCBzb2xpZCAjZmZmO1xcbiAgb3V0bGluZS1vZmZzZXQ6IC00cHg7XFxufVxcblxcbmJ1dHRvbiNleGNhbGlidXItcGxheTphY3RpdmUge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgwLjk5KTtcXG59XFxuXFxuQGtleWZyYW1lcyBleGNhbGlidXItYnV0dG9uLWZhZGVpbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXFxuLyogRmlyZWZveCA8IDE2ICovXFxuQC1tb3ota2V5ZnJhbWVzIGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5cXG4vKiBTYWZhcmksIENocm9tZSBhbmQgT3BlcmEgPiAxMi4xICovXFxuQC13ZWJraXQta2V5ZnJhbWVzIGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5cXG4vKiBJbnRlcm5ldCBFeHBsb3JlciAqL1xcbkAtbXMta2V5ZnJhbWVzIGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5cXG4vKiBPcGVyYSA8IDEyLjEgKi9cXG5ALW8ta2V5ZnJhbWVzIGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5cIixcIlwiLHt2ZXJzaW9uOjMsc291cmNlczpbXCJ3ZWJwYWNrOi8vTG9hZGVyLmNzc1wiXSxuYW1lczpbXSxtYXBwaW5nczpcIkFBQUEseUJBQXlCOztBQUV6QjtFQUNFLHFCQUFxQjtFQUNyQixrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1o7OytCQUU2QjtFQUM3Qiw4QkFBOEI7RUFDOUIsU0FBUztFQUNULHFCQUFxQjtFQUNyQixtQkFBbUI7RUFDbkIsY0FBYztFQUNkLHVCQUF1QjtFQUN2QixlQUFlO0VBQ2YsY0FBYztFQUNkLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsOERBQThEO0VBQzlELHdCQUF3QjtFQUN4QixxQkFBcUI7O0VBRXJCLGdEQUFnRCxFQUFFLG9DQUFvQztFQUN0Riw2Q0FBNkMsRUFBRSxpQkFBaUI7RUFDaEUsNENBQTRDLEVBQUUsc0JBQXNCO0VBQ3BFLDJDQUEyQyxFQUFFLGlCQUFpQjtFQUM5RCx3Q0FBd0M7QUFDMUM7O0FBRUE7OztFQUdFOztBQUVGO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxpQkFBaUI7RUFDakIsdURBQXVEO0VBQ3ZELFVBQVU7RUFDVixTQUFTO0VBQ1QsUUFBUTtFQUNSLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLFVBQVU7RUFDVixTQUFTO0VBQ1QsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7O0VBRUUsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsdUJBQXVCO0VBQ3ZCLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFO0lBQ0UsVUFBVTtFQUNaO0VBQ0E7SUFDRSxVQUFVO0VBQ1o7QUFDRjs7QUFFQSxpQkFBaUI7QUFDakI7RUFDRTtJQUNFLFVBQVU7RUFDWjtFQUNBO0lBQ0UsVUFBVTtFQUNaO0FBQ0Y7O0FBRUEsb0NBQW9DO0FBQ3BDO0VBQ0U7SUFDRSxVQUFVO0VBQ1o7RUFDQTtJQUNFLFVBQVU7RUFDWjtBQUNGOztBQUVBLHNCQUFzQjtBQUN0QjtFQUNFO0lBQ0UsVUFBVTtFQUNaO0VBQ0E7SUFDRSxVQUFVO0VBQ1o7QUFDRjs7QUFFQSxpQkFBaUI7QUFDakI7RUFDRTtJQUNFLFVBQVU7RUFDWjtFQUNBO0lBQ0UsVUFBVTtFQUNaO0FBQ0ZcIixzb3VyY2VzQ29udGVudDpbXCIvKiBCdXR0b25zIHN0eWxlcyBzdGFydCAqL1xcblxcbmJ1dHRvbiNleGNhbGlidXItcGxheSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiA5OTk7XFxuICBib3JkZXItcmFkaXVzOiA2cHg7XFxuICBib3JkZXI6IG5vbmU7XFxuICAvKmJvcmRlcjogM3B4IHNvbGlkO1xcbiAgICBib3JkZXItY29sb3I6IHdoaXRlO1xcbiAgICBib3gtc2hhZG93OiAwIDAgMTBweCAjY2NjOyovXFxuICBwYWRkaW5nOiAxcmVtIDEuNXJlbSAxcmVtIDRyZW07XFxuICBtYXJnaW46IDA7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBiYWNrZ3JvdW5kOiAjMDBiMjMzO1xcbiAgY29sb3I6ICNmZmZmZmY7XFxuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogMnJlbTtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAyNTBtcyBlYXNlLWluLW91dCwgdHJhbnNmb3JtIDE1MG1zIGVhc2U7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxuXFxuICAtd2Via2l0LWFuaW1hdGlvbjogZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4gMjAwbXM7IC8qIFNhZmFyaSwgQ2hyb21lIGFuZCBPcGVyYSA+IDEyLjEgKi9cXG4gIC1tb3otYW5pbWF0aW9uOiBleGNhbGlidXItYnV0dG9uLWZhZGVpbiAyMDBtczsgLyogRmlyZWZveCA8IDE2ICovXFxuICAtbXMtYW5pbWF0aW9uOiBleGNhbGlidXItYnV0dG9uLWZhZGVpbiAyMDBtczsgLyogSW50ZXJuZXQgRXhwbG9yZXIgKi9cXG4gIC1vLWFuaW1hdGlvbjogZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4gMjAwbXM7IC8qIE9wZXJhIDwgMTIuMSAqL1xcbiAgYW5pbWF0aW9uOiBleGNhbGlidXItYnV0dG9uLWZhZGVpbiAyMDBtcztcXG59XFxuXFxuLypcXG5idXR0b24jZXhjYWxpYnVyLXBsYXkge1xcbiAgZGlzcGxheTogbm9uZTtcXG59Ki9cXG5cXG5idXR0b24jZXhjYWxpYnVyLXBsYXk6YWZ0ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY29udGVudDogJyc7XFxuICBib3JkZXI6IDhweCBzb2xpZDtcXG4gIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgd2hpdGU7XFxuICBsZWZ0OiAzNXB4O1xcbiAgdG9wOiAyNHB4O1xcbiAgd2lkdGg6IDA7XFxuICBoZWlnaHQ6IDA7XFxufVxcblxcbmJ1dHRvbiNleGNhbGlidXItcGxheTpiZWZvcmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY29udGVudDogJyc7XFxuICBib3JkZXI6IDNweCBzb2xpZDtcXG4gIGxlZnQ6IDE5cHg7XFxuICB0b3A6IDE0cHg7XFxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xcbiAgd2lkdGg6IDMwcHg7XFxuICBoZWlnaHQ6IDMwcHg7XFxufVxcblxcbmJ1dHRvbiNleGNhbGlidXItcGxheTpob3ZlcixcXG5idXR0b24jZXhjYWxpYnVyLXBsYXk6Zm9jdXMge1xcbiAgYmFja2dyb3VuZDogIzAwOTgyYztcXG59XFxuXFxuYnV0dG9uI2V4Y2FsaWJ1ci1wbGF5OmZvY3VzIHtcXG4gIG91dGxpbmU6IDFweCBzb2xpZCAjZmZmO1xcbiAgb3V0bGluZS1vZmZzZXQ6IC00cHg7XFxufVxcblxcbmJ1dHRvbiNleGNhbGlidXItcGxheTphY3RpdmUge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgwLjk5KTtcXG59XFxuXFxuQGtleWZyYW1lcyBleGNhbGlidXItYnV0dG9uLWZhZGVpbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXFxuLyogRmlyZWZveCA8IDE2ICovXFxuQC1tb3ota2V5ZnJhbWVzIGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5cXG4vKiBTYWZhcmksIENocm9tZSBhbmQgT3BlcmEgPiAxMi4xICovXFxuQC13ZWJraXQta2V5ZnJhbWVzIGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5cXG4vKiBJbnRlcm5ldCBFeHBsb3JlciAqL1xcbkAtbXMta2V5ZnJhbWVzIGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5cXG4vKiBPcGVyYSA8IDEyLjEgKi9cXG5ALW8ta2V5ZnJhbWVzIGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5cIl0sc291cmNlUm9vdDpcIlwifV0pLGUuYT1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRbMV18fFwiXCIsaT10WzNdO2lmKCFpKXJldHVybiBuO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciByPShzPWksYT1idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzKSkpKSxjPVwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGEpLFwiLyojIFwiLmNvbmNhdChjLFwiICovXCIpKSxvPWkuc291cmNlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoaS5zb3VyY2VSb290fHxcIlwiKS5jb25jYXQodCxcIiAqL1wiKX0pKTtyZXR1cm5bbl0uY29uY2F0KG8pLmNvbmNhdChbcl0pLmpvaW4oXCJcXG5cIil9dmFyIHMsYSxjO3JldHVybltuXS5qb2luKFwiXFxuXCIpfShlLHQpO3JldHVybiBlWzJdP1wiQG1lZGlhIFwiLmNvbmNhdChlWzJdLFwiIHtcIikuY29uY2F0KG4sXCJ9XCIpOm59KSkuam9pbihcIlwiKX0sZS5pPWZ1bmN0aW9uKHQsbixpKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9W1tudWxsLHQsXCJcIl1dKTt2YXIgcj17fTtpZihpKWZvcih2YXIgbz0wO288dGhpcy5sZW5ndGg7bysrKXt2YXIgcz10aGlzW29dWzBdO251bGwhPXMmJihyW3NdPSEwKX1mb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIGM9W10uY29uY2F0KHRbYV0pO2kmJnJbY1swXV18fChuJiYoY1syXT9jWzJdPVwiXCIuY29uY2F0KG4sXCIgYW5kIFwiKS5jb25jYXQoY1syXSk6Y1syXT1uKSxlLnB1c2goYykpfX0sZX19LCwsLCwsLCwsLCwsLCxmdW5jdGlvbih0LGUsbil7big3NCksbig5MiksbigxMDApLG4oMTAxKSxuKDEwMiksbigxMDQpLG4oMTA2KSxuKDEwNyksbigxMDkpLG4oMTEwKSxuKDExMSksbigxMTIpLG4oMTEzKSxuKDExNCksbigxMTYpLG4oMTE3KSxuKDExOCksbigxMTkpLG4oMTIwKSxuKDEyMiksbigxMjMpLG4oMTI0KSxuKDEyNSksbigxMjYpLG4oMTI3KSxuKDEyOCksbigxMjkpLG4oMTMxKSxuKDEzMiksbigxMzMpO3ZhciBpPW4oMzYpO3QuZXhwb3J0cz1pLkFycmF5fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9big3NSkuY2hhckF0LHI9bigyOSksbz1uKDQ3KSxzPXIuc2V0LGE9ci5nZXR0ZXJGb3IoXCJTdHJpbmcgSXRlcmF0b3JcIik7byhTdHJpbmcsXCJTdHJpbmdcIiwoZnVuY3Rpb24odCl7cyh0aGlzLHt0eXBlOlwiU3RyaW5nIEl0ZXJhdG9yXCIsc3RyaW5nOlN0cmluZyh0KSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgdCxlPWEodGhpcyksbj1lLnN0cmluZyxyPWUuaW5kZXg7cmV0dXJuIHI+PW4ubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9aShuLHIpLGUuaW5kZXgrPXQubGVuZ3RoLHt2YWx1ZTp0LGRvbmU6ITF9KX0pKX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTUpLHI9bigyOCksbz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgbyxzLGE9U3RyaW5nKHIoZSkpLGM9aShuKSxoPWEubGVuZ3RoO3JldHVybiBjPDB8fGM+PWg/dD9cIlwiOnZvaWQgMDoobz1hLmNoYXJDb2RlQXQoYykpPDU1Mjk2fHxvPjU2MzE5fHxjKzE9PT1ofHwocz1hLmNoYXJDb2RlQXQoYysxKSk8NTYzMjB8fHM+NTczNDM/dD9hLmNoYXJBdChjKTpvOnQ/YS5zbGljZShjLGMrMik6cy01NjMyMCsoby01NTI5Njw8MTApKzY1NTM2fX07dC5leHBvcnRzPXtjb2RlQXQ6byghMSksY2hhckF0Om8oITApfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNSkscj1uKDQxKSxvPWkuV2Vha01hcDt0LmV4cG9ydHM9XCJmdW5jdGlvblwiPT10eXBlb2YgbyYmL25hdGl2ZSBjb2RlLy50ZXN0KHIobykpfSxmdW5jdGlvbih0LGUpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKHQpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isbz1yJiYhaS5jYWxsKHsxOjJ9LDEpO2UuZj1vP2Z1bmN0aW9uKHQpe3ZhciBlPXIodGhpcyx0KTtyZXR1cm4hIWUmJmUuZW51bWVyYWJsZX06aX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oOCkscj1uKDgwKSxvPW4oNDgpLHM9big5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49cihlKSxhPXMuZixjPW8uZixoPTA7aDxuLmxlbmd0aDtoKyspe3ZhciB1PW5baF07aSh0LHUpfHxhKHQsdSxjKGUsdSkpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDI3KSxyPW4oODEpLG89big4Mikscz1uKDE3KTt0LmV4cG9ydHM9aShcIlJlZmxlY3RcIixcIm93bktleXNcIil8fGZ1bmN0aW9uKHQpe3ZhciBlPXIuZihzKHQpKSxuPW8uZjtyZXR1cm4gbj9lLmNvbmNhdChuKHQpKTplfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNTApLHI9bigzOCkuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIik7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gaSh0LHIpfX0sZnVuY3Rpb24odCxlKXtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNCkscj0vI3xcXC5wcm90b3R5cGVcXC4vLG89ZnVuY3Rpb24odCxlKXt2YXIgbj1hW3ModCldO3JldHVybiBuPT1ofHxuIT1jJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgZT9pKGUpOiEhZSl9LHM9by5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKHIsXCIuXCIpLnRvTG93ZXJDYXNlKCl9LGE9by5kYXRhPXt9LGM9by5OQVRJVkU9XCJOXCIsaD1vLlBPTFlGSUxMPVwiUFwiO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9big1MSkuSXRlcmF0b3JQcm90b3R5cGUscj1uKDUzKSxvPW4oMjUpLHM9big1NCksYT1uKDIwKSxjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGg9ZStcIiBJdGVyYXRvclwiO3JldHVybiB0LnByb3RvdHlwZT1yKGkse25leHQ6bygxLG4pfSkscyh0LGgsITEsITApLGFbaF09Yyx0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNCk7dC5leHBvcnRzPSFpKChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyB0KSE9PXQucHJvdG90eXBlfSkpfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big1Mik7dC5leHBvcnRzPWkmJiFTeW1ib2wuc2hhbSYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTEpLHI9big5KSxvPW4oMTcpLHM9big4OCk7dC5leHBvcnRzPWk/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtvKHQpO2Zvcih2YXIgbixpPXMoZSksYT1pLmxlbmd0aCxjPTA7YT5jOylyLmYodCxuPWlbYysrXSxlW25dKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDUwKSxyPW4oMzgpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7cmV0dXJuIGkodCxyKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDI3KTt0LmV4cG9ydHM9aShcImRvY3VtZW50XCIsXCJkb2N1bWVudEVsZW1lbnRcIil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDE3KSxyPW4oOTEpO3QuZXhwb3J0cz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fChcIl9fcHJvdG9fX1wiaW57fT9mdW5jdGlvbigpe3ZhciB0LGU9ITEsbj17fTt0cnl7KHQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLFwiX19wcm90b19fXCIpLnNldCkuY2FsbChuLFtdKSxlPW4gaW5zdGFuY2VvZiBBcnJheX1jYXRjaCh0KXt9cmV0dXJuIGZ1bmN0aW9uKG4sbyl7cmV0dXJuIGkobikscihvKSxlP3QuY2FsbChuLG8pOm4uX19wcm90b19fPW8sbn19KCk6dm9pZCAwKX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFpKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBzZXQgXCIrU3RyaW5nKHQpK1wiIGFzIGEgcHJvdG90eXBlXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMCkscj1uKDkzKTtpKHt0YXJnZXQ6XCJBcnJheVwiLHN0YXQ6ITAsZm9yY2VkOiFuKDk5KSgoZnVuY3Rpb24odCl7QXJyYXkuZnJvbSh0KX0pKX0se2Zyb206cn0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9big0MCkscj1uKDYpLG89big5NCkscz1uKDk1KSxhPW4oMyksYz1uKDIyKSxoPW4oOTYpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLHUsbCxwLGQsZj1yKHQpLHk9XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LGc9YXJndW1lbnRzLmxlbmd0aCxfPWc+MT9hcmd1bWVudHNbMV06dm9pZCAwLHY9dm9pZCAwIT09XyxtPWgoZiksYj0wO2lmKHYmJihfPWkoXyxnPjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksbnVsbD09bXx8eT09QXJyYXkmJnMobSkpZm9yKG49bmV3IHkoZT1hKGYubGVuZ3RoKSk7ZT5iO2IrKylkPXY/XyhmW2JdLGIpOmZbYl0sYyhuLGIsZCk7ZWxzZSBmb3IocD0obD1tLmNhbGwoZikpLm5leHQsbj1uZXcgeTshKHU9cC5jYWxsKGwpKS5kb25lO2IrKylkPXY/byhsLF8sW3UudmFsdWUsYl0sITApOnUudmFsdWUsYyhuLGIsZCk7cmV0dXJuIG4ubGVuZ3RoPWIsbn19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDE3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scil7dHJ5e3JldHVybiByP2UoaShuKVswXSxuWzFdKTplKG4pfWNhdGNoKGUpe3ZhciBvPXQucmV0dXJuO3Rocm93IHZvaWQgMCE9PW8mJmkoby5jYWxsKHQpKSxlfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDEpLHI9bigyMCksbz1pKFwiaXRlcmF0b3JcIikscz1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYoci5BcnJheT09PXR8fHNbb109PT10KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDk3KSxyPW4oMjApLG89bigxKShcIml0ZXJhdG9yXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihudWxsIT10KXJldHVybiB0W29dfHx0W1wiQEBpdGVyYXRvclwiXXx8cltpKHQpXX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDk4KSxyPW4oMzUpLG89bigxKShcInRvU3RyaW5nVGFnXCIpLHM9XCJBcmd1bWVudHNcIj09cihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO3QuZXhwb3J0cz1pP3I6ZnVuY3Rpb24odCl7dmFyIGUsbixpO3JldHVybiB2b2lkIDA9PT10P1wiVW5kZWZpbmVkXCI6bnVsbD09PXQ/XCJOdWxsXCI6XCJzdHJpbmdcIj09dHlwZW9mKG49ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2godCl7fX0oZT1PYmplY3QodCksbykpP246cz9yKGUpOlwiT2JqZWN0XCI9PShpPXIoZSkpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNhbGxlZT9cIkFyZ3VtZW50c1wiOml9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9e307aVtuKDEpKFwidG9TdHJpbmdUYWdcIildPVwielwiLHQuZXhwb3J0cz1cIltvYmplY3Qgel1cIj09PVN0cmluZyhpKX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMSkoXCJpdGVyYXRvclwiKSxyPSExO3RyeXt2YXIgbz0wLHM9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohIW8rK319LHJldHVybjpmdW5jdGlvbigpe3I9ITB9fTtzW2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20ocywoZnVuY3Rpb24oKXt0aHJvdyAyfSkpfWNhdGNoKHQpe310LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighZSYmIXIpcmV0dXJuITE7dmFyIG49ITE7dHJ5e3ZhciBvPXt9O29baV09ZnVuY3Rpb24oKXtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fX19LHQobyl9Y2F0Y2godCl7fXJldHVybiBufX0sZnVuY3Rpb24odCxlLG4pe24oMCkoe3RhcmdldDpcIkFycmF5XCIsc3RhdDohMH0se2lzQXJyYXk6bigxOCl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDQpLG89bigyMik7aSh7dGFyZ2V0OlwiQXJyYXlcIixzdGF0OiEwLGZvcmNlZDpyKChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIShBcnJheS5vZi5jYWxsKHQpaW5zdGFuY2VvZiB0KX0pKX0se29mOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3KFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSkoZSk7ZT50OylvKG4sdCxhcmd1bWVudHNbdCsrXSk7cmV0dXJuIG4ubGVuZ3RoPWUsbn19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDQpLG89bigxOCkscz1uKDcpLGE9big2KSxjPW4oMyksaD1uKDIyKSx1PW4oMjMpLGw9bigyNCkscD1uKDEpLGQ9big1NSksZj1wKFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpLHk9ZD49NTF8fCFyKChmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0W2ZdPSExLHQuY29uY2F0KClbMF0hPT10fSkpLGc9bChcImNvbmNhdFwiKSxfPWZ1bmN0aW9uKHQpe2lmKCFzKHQpKXJldHVybiExO3ZhciBlPXRbZl07cmV0dXJuIHZvaWQgMCE9PWU/ISFlOm8odCl9O2koe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiF5fHwhZ30se2NvbmNhdDpmdW5jdGlvbih0KXt2YXIgZSxuLGkscixvLHM9YSh0aGlzKSxsPXUocywwKSxwPTA7Zm9yKGU9LTEsaT1hcmd1bWVudHMubGVuZ3RoO2U8aTtlKyspaWYobz0tMT09PWU/czphcmd1bWVudHNbZV0sXyhvKSl7aWYocCsocj1jKG8ubGVuZ3RoKSk+OTAwNzE5OTI1NDc0MDk5MSl0aHJvdyBUeXBlRXJyb3IoXCJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWRcIik7Zm9yKG49MDtuPHI7bisrLHArKyluIGluIG8mJmgobCxwLG9bbl0pfWVsc2V7aWYocD49OTAwNzE5OTI1NDc0MDk5MSl0aHJvdyBUeXBlRXJyb3IoXCJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWRcIik7aChsLHArKyxvKX1yZXR1cm4gbC5sZW5ndGg9cCxsfX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigyNyk7dC5leHBvcnRzPWkoXCJuYXZpZ2F0b3JcIixcInVzZXJBZ2VudFwiKXx8XCJcIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMCkscj1uKDEwNSksbz1uKDEyKTtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwfSx7Y29weVdpdGhpbjpyfSksbyhcImNvcHlXaXRoaW5cIil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDYpLHI9bigxOSksbz1uKDMpLHM9TWF0aC5taW47dC5leHBvcnRzPVtdLmNvcHlXaXRoaW58fGZ1bmN0aW9uKHQsZSl7dmFyIG49aSh0aGlzKSxhPW8obi5sZW5ndGgpLGM9cih0LGEpLGg9cihlLGEpLHU9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsbD1zKCh2b2lkIDA9PT11P2E6cih1LGEpKS1oLGEtYykscD0xO2ZvcihoPGMmJmM8aCtsJiYocD0tMSxoKz1sLTEsYys9bC0xKTtsLS0gPjA7KWggaW4gbj9uW2NdPW5baF06ZGVsZXRlIG5bY10sYys9cCxoKz1wO3JldHVybiBufX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDE0KS5ldmVyeSxvPW4oMTApLHM9bigyKSxhPW8oXCJldmVyeVwiKSxjPXMoXCJldmVyeVwiKTtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohYXx8IWN9LHtldmVyeTpmdW5jdGlvbih0KXtyZXR1cm4gcih0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigwKSxyPW4oMTA4KSxvPW4oMTIpO2koe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITB9LHtmaWxsOnJ9KSxvKFwiZmlsbFwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oNikscj1uKDE5KSxvPW4oMyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1pKHRoaXMpLG49byhlLmxlbmd0aCkscz1hcmd1bWVudHMubGVuZ3RoLGE9cihzPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxuKSxjPXM+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGg9dm9pZCAwPT09Yz9uOnIoYyxuKTtoPmE7KWVbYSsrXT10O3JldHVybiBlfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDE0KS5maWx0ZXIsbz1uKDI0KSxzPW4oMiksYT1vKFwiZmlsdGVyXCIpLGM9cyhcImZpbHRlclwiKTtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohYXx8IWN9LHtmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDE0KS5maW5kLG89bigxMikscz1uKDIpLGE9ITAsYz1zKFwiZmluZFwiKTtcImZpbmRcImluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7YT0hMX0pKSxpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDphfHwhY30se2ZpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKFwiZmluZFwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDE0KS5maW5kSW5kZXgsbz1uKDEyKSxzPW4oMiksYT0hMCxjPXMoXCJmaW5kSW5kZXhcIik7XCJmaW5kSW5kZXhcImluW10mJkFycmF5KDEpLmZpbmRJbmRleCgoZnVuY3Rpb24oKXthPSExfSkpLGkoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOmF8fCFjfSx7ZmluZEluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbyhcImZpbmRJbmRleFwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDU2KSxvPW4oNikscz1uKDMpLGE9bigxNSksYz1uKDIzKTtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwfSx7ZmxhdDpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCxlPW8odGhpcyksbj1zKGUubGVuZ3RoKSxpPWMoZSwwKTtyZXR1cm4gaS5sZW5ndGg9cihpLGUsZSxuLDAsdm9pZCAwPT09dD8xOmEodCkpLGl9fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApLHI9big1Niksbz1uKDYpLHM9bigzKSxhPW4oMjEpLGM9bigyMyk7aSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMH0se2ZsYXRNYXA6ZnVuY3Rpb24odCl7dmFyIGUsbj1vKHRoaXMpLGk9cyhuLmxlbmd0aCk7cmV0dXJuIGEodCksKGU9YyhuLDApKS5sZW5ndGg9cihlLG4sbixpLDAsMSx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKSxlfX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKSxyPW4oMTE1KTtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpbXS5mb3JFYWNoIT1yfSx7Zm9yRWFjaDpyfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDE0KS5mb3JFYWNoLHI9bigxMCksbz1uKDIpLHM9cihcImZvckVhY2hcIiksYT1vKFwiZm9yRWFjaFwiKTt0LmV4cG9ydHM9cyYmYT9bXS5mb3JFYWNoOmZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKSxyPW4oMzcpLmluY2x1ZGVzLG89bigxMik7aSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IW4oMikoXCJpbmRleE9mXCIse0FDQ0VTU09SUzohMCwxOjB9KX0se2luY2x1ZGVzOmZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbyhcImluY2x1ZGVzXCIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKSxyPW4oMzcpLmluZGV4T2Ysbz1uKDEwKSxzPW4oMiksYT1bXS5pbmRleE9mLGM9ISFhJiYxL1sxXS5pbmRleE9mKDEsLTApPDAsaD1vKFwiaW5kZXhPZlwiKSx1PXMoXCJpbmRleE9mXCIse0FDQ0VTU09SUzohMCwxOjB9KTtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpjfHwhaHx8IXV9LHtpbmRleE9mOmZ1bmN0aW9uKHQpe3JldHVybiBjP2EuYXBwbHkodGhpcyxhcmd1bWVudHMpfHwwOnIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMTMpLHI9bigxMiksbz1uKDIwKSxzPW4oMjkpLGE9big0NyksYz1zLnNldCxoPXMuZ2V0dGVyRm9yKFwiQXJyYXkgSXRlcmF0b3JcIik7dC5leHBvcnRzPWEoQXJyYXksXCJBcnJheVwiLChmdW5jdGlvbih0LGUpe2ModGhpcyx7dHlwZTpcIkFycmF5IEl0ZXJhdG9yXCIsdGFyZ2V0OmkodCksaW5kZXg6MCxraW5kOmV9KX0pLChmdW5jdGlvbigpe3ZhciB0PWgodGhpcyksZT10LnRhcmdldCxuPXQua2luZCxpPXQuaW5kZXgrKztyZXR1cm4hZXx8aT49ZS5sZW5ndGg/KHQudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KTpcImtleXNcIj09bj97dmFsdWU6aSxkb25lOiExfTpcInZhbHVlc1wiPT1uP3t2YWx1ZTplW2ldLGRvbmU6ITF9Ont2YWx1ZTpbaSxlW2ldXSxkb25lOiExfX0pLFwidmFsdWVzXCIpLG8uQXJndW1lbnRzPW8uQXJyYXkscihcImtleXNcIikscihcInZhbHVlc1wiKSxyKFwiZW50cmllc1wiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDI2KSxvPW4oMTMpLHM9bigxMCksYT1bXS5qb2luLGM9ciE9T2JqZWN0LGg9cyhcImpvaW5cIixcIixcIik7aSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6Y3x8IWh9LHtqb2luOmZ1bmN0aW9uKHQpe3JldHVybiBhLmNhbGwobyh0aGlzKSx2b2lkIDA9PT10P1wiLFwiOnQpfX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigwKSxyPW4oMTIxKTtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpyIT09W10ubGFzdEluZGV4T2Z9LHtsYXN0SW5kZXhPZjpyfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDEzKSxyPW4oMTUpLG89bigzKSxzPW4oMTApLGE9bigyKSxjPU1hdGgubWluLGg9W10ubGFzdEluZGV4T2YsdT0hIWgmJjEvWzFdLmxhc3RJbmRleE9mKDEsLTApPDAsbD1zKFwibGFzdEluZGV4T2ZcIikscD1hKFwiaW5kZXhPZlwiLHtBQ0NFU1NPUlM6ITAsMTowfSksZD11fHwhbHx8IXA7dC5leHBvcnRzPWQ/ZnVuY3Rpb24odCl7aWYodSlyZXR1cm4gaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA7dmFyIGU9aSh0aGlzKSxuPW8oZS5sZW5ndGgpLHM9bi0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihzPWMocyxyKGFyZ3VtZW50c1sxXSkpKSxzPDAmJihzPW4rcyk7cz49MDtzLS0paWYocyBpbiBlJiZlW3NdPT09dClyZXR1cm4gc3x8MDtyZXR1cm4tMX06aH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDE0KS5tYXAsbz1uKDI0KSxzPW4oMiksYT1vKFwibWFwXCIpLGM9cyhcIm1hcFwiKTtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohYXx8IWN9LHttYXA6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDU3KS5sZWZ0LG89bigxMCkscz1uKDIpLGE9byhcInJlZHVjZVwiKSxjPXMoXCJyZWR1Y2VcIix7MTowfSk7aSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWF8fCFjfSx7cmVkdWNlOmZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDU3KS5yaWdodCxvPW4oMTApLHM9bigyKSxhPW8oXCJyZWR1Y2VSaWdodFwiKSxjPXMoXCJyZWR1Y2VcIix7MTowfSk7aSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWF8fCFjfSx7cmVkdWNlUmlnaHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGgsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKSxyPW4oMTgpLG89W10ucmV2ZXJzZSxzPVsxLDJdO2koe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOlN0cmluZyhzKT09PVN0cmluZyhzLnJldmVyc2UoKSl9LHtyZXZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcykmJih0aGlzLmxlbmd0aD10aGlzLmxlbmd0aCksby5jYWxsKHRoaXMpfX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKSxyPW4oNyksbz1uKDE4KSxzPW4oMTkpLGE9bigzKSxjPW4oMTMpLGg9bigyMiksdT1uKDEpLGw9bigyNCkscD1uKDIpLGQ9bChcInNsaWNlXCIpLGY9cChcInNsaWNlXCIse0FDQ0VTU09SUzohMCwwOjAsMToyfSkseT11KFwic3BlY2llc1wiKSxnPVtdLnNsaWNlLF89TWF0aC5tYXg7aSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWR8fCFmfSx7c2xpY2U6ZnVuY3Rpb24odCxlKXt2YXIgbixpLHUsbD1jKHRoaXMpLHA9YShsLmxlbmd0aCksZD1zKHQscCksZj1zKHZvaWQgMD09PWU/cDplLHApO2lmKG8obCkmJihcImZ1bmN0aW9uXCIhPXR5cGVvZihuPWwuY29uc3RydWN0b3IpfHxuIT09QXJyYXkmJiFvKG4ucHJvdG90eXBlKT9yKG4pJiZudWxsPT09KG49blt5XSkmJihuPXZvaWQgMCk6bj12b2lkIDAsbj09PUFycmF5fHx2b2lkIDA9PT1uKSlyZXR1cm4gZy5jYWxsKGwsZCxmKTtmb3IoaT1uZXcodm9pZCAwPT09bj9BcnJheTpuKShfKGYtZCwwKSksdT0wO2Q8ZjtkKyssdSsrKWQgaW4gbCYmaChpLHUsbFtkXSk7cmV0dXJuIGkubGVuZ3RoPXUsaX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCkscj1uKDE0KS5zb21lLG89bigxMCkscz1uKDIpLGE9byhcInNvbWVcIiksYz1zKFwic29tZVwiKTtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohYXx8IWN9LHtzb21lOmZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApLHI9bigyMSksbz1uKDYpLHM9big0KSxhPW4oMTApLGM9W10saD1jLnNvcnQsdT1zKChmdW5jdGlvbigpe2Muc29ydCh2b2lkIDApfSkpLGw9cygoZnVuY3Rpb24oKXtjLnNvcnQobnVsbCl9KSkscD1hKFwic29ydFwiKTtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDp1fHwhbHx8IXB9LHtzb3J0OmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10P2guY2FsbChvKHRoaXMpKTpoLmNhbGwobyh0aGlzKSxyKHQpKX19KX0sZnVuY3Rpb24odCxlLG4pe24oMTMwKShcIkFycmF5XCIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigyNykscj1uKDkpLG89bigxKSxzPW4oMTEpLGE9byhcInNwZWNpZXNcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPWkodCksbj1yLmY7cyYmZSYmIWVbYV0mJm4oZSxhLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKSxyPW4oMTkpLG89bigxNSkscz1uKDMpLGE9big2KSxjPW4oMjMpLGg9bigyMiksdT1uKDI0KSxsPW4oMikscD11KFwic3BsaWNlXCIpLGQ9bChcInNwbGljZVwiLHtBQ0NFU1NPUlM6ITAsMDowLDE6Mn0pLGY9TWF0aC5tYXgseT1NYXRoLm1pbjtpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohcHx8IWR9LHtzcGxpY2U6ZnVuY3Rpb24odCxlKXt2YXIgbixpLHUsbCxwLGQsZz1hKHRoaXMpLF89cyhnLmxlbmd0aCksdj1yKHQsXyksbT1hcmd1bWVudHMubGVuZ3RoO2lmKDA9PT1tP249aT0wOjE9PT1tPyhuPTAsaT1fLXYpOihuPW0tMixpPXkoZihvKGUpLDApLF8tdikpLF8rbi1pPjkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgVHlwZUVycm9yKFwiTWF4aW11bSBhbGxvd2VkIGxlbmd0aCBleGNlZWRlZFwiKTtmb3IodT1jKGcsaSksbD0wO2w8aTtsKyspKHA9ditsKWluIGcmJmgodSxsLGdbcF0pO2lmKHUubGVuZ3RoPWksbjxpKXtmb3IobD12O2w8Xy1pO2wrKylkPWwrbiwocD1sK2kpaW4gZz9nW2RdPWdbcF06ZGVsZXRlIGdbZF07Zm9yKGw9XztsPl8taStuO2wtLSlkZWxldGUgZ1tsLTFdfWVsc2UgaWYobj5pKWZvcihsPV8taTtsPnY7bC0tKWQ9bCtuLTEsKHA9bCtpLTEpaW4gZz9nW2RdPWdbcF06ZGVsZXRlIGdbZF07Zm9yKGw9MDtsPG47bCsrKWdbbCt2XT1hcmd1bWVudHNbbCsyXTtyZXR1cm4gZy5sZW5ndGg9Xy1pK24sdX19KX0sZnVuY3Rpb24odCxlLG4pe24oMTIpKFwiZmxhdFwiKX0sZnVuY3Rpb24odCxlLG4pe24oMTIpKFwiZmxhdE1hcFwiKX0sZnVuY3Rpb24odCxlLG4pe24oMTM1KSxuKDEzNyksbigxMzgpO3ZhciBpPW4oMzYpO3QuZXhwb3J0cz1pLkZ1bmN0aW9ufSxmdW5jdGlvbih0LGUsbil7bigwKSh7dGFyZ2V0OlwiRnVuY3Rpb25cIixwcm90bzohMH0se2JpbmQ6bigxMzYpfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDIxKSxyPW4oNyksbz1bXS5zbGljZSxzPXt9LGE9ZnVuY3Rpb24odCxlLG4pe2lmKCEoZSBpbiBzKSl7Zm9yKHZhciBpPVtdLHI9MDtyPGU7cisrKWlbcl09XCJhW1wiK3IrXCJdXCI7c1tlXT1GdW5jdGlvbihcIkMsYVwiLFwicmV0dXJuIG5ldyBDKFwiK2kuam9pbihcIixcIikrXCIpXCIpfXJldHVybiBzW2VdKHQsbil9O3QuZXhwb3J0cz1GdW5jdGlvbi5iaW5kfHxmdW5jdGlvbih0KXt2YXIgZT1pKHRoaXMpLG49by5jYWxsKGFyZ3VtZW50cywxKSxzPWZ1bmN0aW9uKCl7dmFyIGk9bi5jb25jYXQoby5jYWxsKGFyZ3VtZW50cykpO3JldHVybiB0aGlzIGluc3RhbmNlb2Ygcz9hKGUsaS5sZW5ndGgsaSk6ZS5hcHBseSh0LGkpfTtyZXR1cm4gcihlLnByb3RvdHlwZSkmJihzLnByb3RvdHlwZT1lLnByb3RvdHlwZSksc319LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDExKSxyPW4oOSkuZixvPUZ1bmN0aW9uLnByb3RvdHlwZSxzPW8udG9TdHJpbmcsYT0vXlxccypmdW5jdGlvbiAoW14gKF0qKS87IWl8fFwibmFtZVwiaW4gb3x8cihvLFwibmFtZVwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBzLmNhbGwodGhpcykubWF0Y2goYSlbMV19Y2F0Y2godCl7cmV0dXJuXCJcIn19fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDcpLHI9big5KSxvPW4oMzkpLHM9bigxKShcImhhc0luc3RhbmNlXCIpLGE9RnVuY3Rpb24ucHJvdG90eXBlO3MgaW4gYXx8ci5mKGEscyx7dmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpc3x8IWkodCkpcmV0dXJuITE7aWYoIWkodGhpcy5wcm90b3R5cGUpKXJldHVybiB0IGluc3RhbmNlb2YgdGhpcztmb3IoO3Q9byh0KTspaWYodGhpcy5wcm90b3R5cGU9PT10KXJldHVybiEwO3JldHVybiExfX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiRVhfVkVSU0lPTlwiLChmdW5jdGlvbigpe3JldHVybiAkcn0pKSxuLmQoZSxcIlNjcm9sbFByZXZlbnRpb25Nb2RlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG9yfSkpLG4uZChlLFwiRW5naW5lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxyfSkpLG4uZChlLFwiRGlzcGxheU1vZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVnR9KSksbi5kKGUsXCJSZXNvbHV0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp0fSkpLG4uZChlLFwiU2NyZWVuXCIsKGZ1bmN0aW9uKCl7cmV0dXJuICR0fSkpLG4uZChlLFwiQWN0b3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYm59KSksbi5kKGUsXCJDb2xsaXNpb25UeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN0fSkpLG4uZChlLFwiVmVjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZ9KSksbi5kKGUsXCJSYXlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR30pKSxuLmQoZSxcIkxpbmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWH0pKSxuLmQoZSxcIlByb2plY3Rpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gUX0pKSxuLmQoZSxcIkdsb2JhbENvb3JkaW5hdGVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFp9KSksbi5kKGUsXCJ2ZWNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS30pKSxuLmQoZSxcIlN0cmF0ZWd5Q29udGFpbmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZufSkpLG4uZChlLFwiQXhpc1wiLChmdW5jdGlvbigpe3JldHVybiBNbn0pKSxuLmQoZSxcIkxvY2tDYW1lcmFUb0FjdG9yU3RyYXRlZ3lcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS259KSksbi5kKGUsXCJMb2NrQ2FtZXJhVG9BY3RvckF4aXNTdHJhdGVneVwiLChmdW5jdGlvbigpe3JldHVybiBZbn0pKSxuLmQoZSxcIkVsYXN0aWNUb0FjdG9yU3RyYXRlZ3lcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSm59KSksbi5kKGUsXCJSYWRpdXNBcm91bmRBY3RvclN0cmF0ZWd5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuICRufSkpLG4uZChlLFwiTGltaXRDYW1lcmFCb3VuZHNTdHJhdGVneVwiLChmdW5jdGlvbigpe3JldHVybiB0aX0pKSxuLmQoZSxcIkNhbWVyYVwiLChmdW5jdGlvbigpe3JldHVybiBlaX0pKSxuLmQoZSxcIkNsYXNzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGVlfSkpLG4uZChlLFwiQ29uZmlndXJhYmxlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZlfSkpLG4uZChlLFwiRGVidWdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gU2l9KSksbi5kKGUsXCJGcmFtZVN0YXRzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIENpfSkpLG4uZChlLFwiUGh5c2ljc1N0YXRzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9pfSkpLG4uZChlLFwiRXZlbnREaXNwYXRjaGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRlfSkpLG4uZChlLFwiTWVkaWFFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBmcn0pKSxuLmQoZSxcIk5hdGl2ZVNvdW5kRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4geXJ9KSksbi5kKGUsXCJOYXRpdmVTb3VuZFByb2Nlc3NlZEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGdyfSkpLG4uZChlLFwiRXZlbnRUeXBlc1wiLChmdW5jdGlvbigpe3JldHVybiBvdH0pKSxuLmQoZSxcIkdhbWVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBodH0pKSxuLmQoZSxcIktpbGxFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiB1dH0pKSxuLmQoZSxcIlByZUtpbGxFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBsdH0pKSxuLmQoZSxcIlBvc3RLaWxsRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcHR9KSksbi5kKGUsXCJHYW1lU3RhcnRFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBkdH0pKSxuLmQoZSxcIkdhbWVTdG9wRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZnR9KSksbi5kKGUsXCJQcmVEcmF3RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4geXR9KSksbi5kKGUsXCJQb3N0RHJhd0V2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd0fSkpLG4uZChlLFwiUHJlRGVidWdEcmF3RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX3R9KSksbi5kKGUsXCJQb3N0RGVidWdEcmF3RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdnR9KSksbi5kKGUsXCJQcmVVcGRhdGVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBtdH0pKSxuLmQoZSxcIlBvc3RVcGRhdGVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBidH0pKSxuLmQoZSxcIlByZUZyYW1lRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd3R9KSksbi5kKGUsXCJQb3N0RnJhbWVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiB4dH0pKSxuLmQoZSxcIkdhbWVwYWRDb25uZWN0RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUHR9KSksbi5kKGUsXCJHYW1lcGFkRGlzY29ubmVjdEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF0fSkpLG4uZChlLFwiR2FtZXBhZEJ1dHRvbkV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV0fSkpLG4uZChlLFwiR2FtZXBhZEF4aXNFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBTdH0pKSxuLmQoZSxcIlN1YnNjcmliZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN0fSkpLG4uZChlLFwiVW5zdWJzY3JpYmVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBPdH0pKSxuLmQoZSxcIlZpc2libGVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBUdH0pKSxuLmQoZSxcIkhpZGRlbkV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ0fSkpLG4uZChlLFwiUHJlQ29sbGlzaW9uRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTXR9KSksbi5kKGUsXCJQb3N0Q29sbGlzaW9uRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRHR9KSksbi5kKGUsXCJDb2xsaXNpb25TdGFydEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt0fSkpLG4uZChlLFwiQ29sbGlzaW9uRW5kRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUnR9KSksbi5kKGUsXCJJbml0aWFsaXplRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4ganR9KSksbi5kKGUsXCJBY3RpdmF0ZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZ0fSkpLG4uZChlLFwiRGVhY3RpdmF0ZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl0fSkpLG4uZChlLFwiRXhpdFZpZXdQb3J0RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTHR9KSksbi5kKGUsXCJFbnRlclZpZXdQb3J0RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4genR9KSksbi5kKGUsXCJFbnRlclRyaWdnZXJFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBIdH0pKSxuLmQoZSxcIkV4aXRUcmlnZ2VyRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVXR9KSksbi5kKGUsXCJMYWJlbFwiLChmdW5jdGlvbigpe3JldHVybiBpaX0pKSxuLmQoZSxcIkZvbnRTdHlsZVwiLChmdW5jdGlvbigpe3JldHVybiBabn0pKSxuLmQoZSxcIkZvbnRVbml0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEdufSkpLG4uZChlLFwiVGV4dEFsaWduXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFhufSkpLG4uZChlLFwiQmFzZUFsaWduXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFFufSkpLG4uZChlLFwiTG9hZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGpufSkpLG4uZChlLFwiUGFydGljbGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdnJ9KSksbi5kKGUsXCJQYXJ0aWNsZUVtaXR0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbXJ9KSksbi5kKGUsXCJFbWl0dGVyVHlwZVwiLChmdW5jdGlvbigpe3JldHVybiB1cn0pKSxuLmQoZSxcIkNvbGxpc2lvblJlc29sdXRpb25TdHJhdGVneVwiLChmdW5jdGlvbigpe3JldHVybiBZfSkpLG4uZChlLFwiQnJvYWRwaGFzZVN0cmF0ZWd5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp9KSksbi5kKGUsXCJJbnRlZ3JhdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuICR9KSksbi5kKGUsXCJQaHlzaWNzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN0fSkpLG4uZChlLFwiUHJvbWlzZVN0YXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsXCJQcm9taXNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKGUsXCJTY2VuZVwiLChmdW5jdGlvbigpe3JldHVybiB4aX0pKSxuLmQoZSxcIlRpbGVNYXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ259KSksbi5kKGUsXCJDZWxsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFRufSkpLG4uZChlLFwiVGlsZVNwcml0ZVwiLChmdW5jdGlvbigpe3JldHVybiBPbn0pKSxuLmQoZSxcIlRpbWVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEVufSkpLG4uZChlLFwiVHJpZ2dlclwiLChmdW5jdGlvbigpe3JldHVybiBzaX0pKSxuLmQoZSxcIlNjcmVlbkVsZW1lbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUG59KSksbi5kKGUsXCJVSUFjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEFufSkpLG4uZChlLFwiQWN0aW9uQ29udGV4dFwiLChmdW5jdGlvbigpe3JldHVybiBxZX0pKSxuLmQoZSxcIlJvdGF0aW9uVHlwZVwiLChmdW5jdGlvbigpe3JldHVybiB5ZX0pKSxuLmQoZSxcIkFjdGlvbnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSxcIkludGVybmFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJyfSkpLG4uZChlLFwiQm9keVwiLChmdW5jdGlvbigpe3JldHVybiBHZX0pKSxuLmQoZSxcImlzQ29sbGlkZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb259KSksbi5kKGUsXCJDb2xsaWRlclwiLChmdW5jdGlvbigpe3JldHVybiBzbn0pKSxuLmQoZSxcIkJvdW5kaW5nQm94XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEt0fSkpLG4uZChlLFwiQ2lyY2xlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFh0fSkpLG4uZChlLFwiQ29sbGlzaW9uQ29udGFjdFwiLChmdW5jdGlvbigpe3JldHVybiBXdH0pKSxuLmQoZSxcIkNvbGxpc2lvbkp1bXBUYWJsZVwiLChmdW5jdGlvbigpe3JldHVybiBOdH0pKSxuLmQoZSxcIkNsb3Nlc3RMaW5lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHF0fSkpLG4uZChlLFwiQ2xvc2VzdExpbmVKdW1wVGFibGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR3R9KSksbi5kKGUsXCJDb2xsaXNpb25Hcm91cFwiLChmdW5jdGlvbigpe3JldHVybiBubn0pKSxuLmQoZSxcIkNvbGxpc2lvbkdyb3VwTWFuYWdlclwiLChmdW5jdGlvbigpe3JldHVybiB3cn0pKSxuLmQoZSxcIlRyZWVOb2RlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExufSkpLG4uZChlLFwiRHluYW1pY1RyZWVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gem59KSksbi5kKGUsXCJEeW5hbWljVHJlZUNvbGxpc2lvbkJyb2FkcGhhc2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSG59KSksbi5kKGUsXCJFZGdlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF0fSkpLG4uZChlLFwiUGFpclwiLChmdW5jdGlvbigpe3JldHVybiBybn0pKSxuLmQoZSxcIkNvbnZleFBvbHlnb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gWnR9KSksbi5kKGUsXCJTaWRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksbi5kKGUsXCJTaGFwZVwiLChmdW5jdGlvbigpe3JldHVybiBWZX0pKSxuLmQoZSxcIkFuaW1hdGlvblwiLChmdW5jdGlvbigpe3JldHVybiBQZX0pKSxuLmQoZSxcIkNvbG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGV0fSkpLG4uZChlLFwiUG9seWdvblwiLChmdW5jdGlvbigpe3JldHVybiBQcn0pKSxuLmQoZSxcIlNwcml0ZVwiLChmdW5jdGlvbigpe3JldHVybiB2ZX0pKSxuLmQoZSxcIlNwcml0ZVNoZWV0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEVyfSkpLG4uZChlLFwiU3ByaXRlRm9udFwiLChmdW5jdGlvbigpe3JldHVybiBTcn0pKSxuLmQoZSxcIkVmZmVjdHNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSxcIkV4UmVzcG9uc2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ3J9KSksbi5kKGUsXCJoYXNfaW5pdGlhbGl6ZVwiLChmdW5jdGlvbigpe3JldHVybiBPcn0pKSxuLmQoZSxcImhhc09uSW5pdGlhbGl6ZVwiLChmdW5jdGlvbigpe3JldHVybiBUcn0pKSxuLmQoZSxcImhhc19wcmV1cGRhdGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQnJ9KSksbi5kKGUsXCJoYXNPblByZVVwZGF0ZVwiLChmdW5jdGlvbigpe3JldHVybiBNcn0pKSxuLmQoZSxcImhhc19wb3N0dXBkYXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIERyfSkpLG4uZChlLFwiaGFzT25Qb3N0VXBkYXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGtyfSkpLG4uZChlLFwiaGFzUHJlRHJhd1wiLChmdW5jdGlvbigpe3JldHVybiBScn0pKSxuLmQoZSxcImhhc1Bvc3REcmF3XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGpyfSkpLG4uZChlLFwiUGVybGluR2VuZXJhdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExyfSkpLG4uZChlLFwiUGVybGluRHJhd2VyMkRcIiwoZnVuY3Rpb24oKXtyZXR1cm4genJ9KSksbi5kKGUsXCJSYW5kb21cIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQoZSxcIkNvbG9yQmxpbmRuZXNzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHlpfSkpLG4uZChlLFwiQ29sb3JCbGluZENvcnJlY3RvclwiLChmdW5jdGlvbigpe3JldHVybiBBaX0pKSxuLmQoZSxcIlJlc291cmNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGllfSkpLG4uZChlLFwiU291bmRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR3J9KSksbi5kKGUsXCJBdWRpb0NvbnRleHRGYWN0b3J5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJufSkpLG4uZChlLFwiQXVkaW9JbnN0YW5jZUZhY3RvcnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVXJ9KSksbi5kKGUsXCJBdWRpb0luc3RhbmNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFdyfSkpLG4uZChlLFwiV2ViQXVkaW9JbnN0YW5jZVwiLChmdW5jdGlvbigpe3JldHVybiBOcn0pKSxuLmQoZSxcIlRleHR1cmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYmV9KSksbi5kKGUsXCJHaWZcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUXJ9KSksbi5kKGUsXCJTdHJlYW1cIiwoZnVuY3Rpb24oKXtyZXR1cm4gWXJ9KSksbi5kKGUsXCJQYXJzZUdpZlwiLChmdW5jdGlvbigpe3JldHVybiBKcn0pKSxuLmQoZSxcIkNvbXBvbmVudFwiLChmdW5jdGlvbigpe3JldHVybiBjbn0pKSxuLmQoZSxcIlRhZ0NvbXBvbmVudFwiLChmdW5jdGlvbigpe3JldHVybiBobn0pKSxuLmQoZSxcIkFkZGVkQ29tcG9uZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHBufSkpLG4uZChlLFwiaXNBZGRlZENvbXBvbmVudFwiLChmdW5jdGlvbigpe3JldHVybiBkbn0pKSxuLmQoZSxcIlJlbW92ZWRDb21wb25lbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZm59KSksbi5kKGUsXCJpc1JlbW92ZWRDb21wb25lbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4geW59KSksbi5kKGUsXCJFbnRpdHlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ259KSksbi5kKGUsXCJFbnRpdHlNYW5hZ2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG1pfSkpLG4uZChlLFwiUXVlcnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX2l9KSksbi5kKGUsXCJRdWVyeU1hbmFnZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdml9KSksbi5kKGUsXCJTeXN0ZW1UeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGNpfSkpLG4uZChlLFwiU3lzdGVtXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHVpfSkpLG4uZChlLFwiQWRkZWRFbnRpdHlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbGl9KSksbi5kKGUsXCJpc0FkZGVkU3lzdGVtRW50aXR5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHBpfSkpLG4uZChlLFwiUmVtb3ZlZEVudGl0eVwiLChmdW5jdGlvbigpe3JldHVybiBkaX0pKSxuLmQoZSxcImlzUmVtb3ZlU3lzdGVtRW50aXR5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZpfSkpLG4uZChlLFwiU3lzdGVtTWFuYWdlclwiLChmdW5jdGlvbigpe3JldHVybiBiaX0pKSxuLmQoZSxcIkV2ZW50c1wiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLFwiSW5wdXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSxcIlRyYWl0c1wiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLFwiVXRpbFwiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChlLFwiQnJvd3NlckNvbXBvbmVudFwiLChmdW5jdGlvbigpe3JldHVybiBzcn0pKSxuLmQoZSxcIkJyb3dzZXJFdmVudHNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYXJ9KSksbi5kKGUsXCJtYXhNZXNzYWdlc1wiLChmdW5jdGlvbigpe3JldHVybiB6fSkpLG4uZChlLFwicmVzZXRPYnNvbGV0ZUNvdW50ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKSxuLmQoZSxcIm9ic29sZXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksbi5kKGUsXCJEZXRlY3RvclwiLChmdW5jdGlvbigpe3JldHVybiBJbn0pKSxuLmQoZSxcIkN1bGxpbmdCb3hcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUWV9KSksbi5kKGUsXCJFYXNpbmdGdW5jdGlvbnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTmV9KSksbi5kKGUsXCJMb2dMZXZlbFwiLChmdW5jdGlvbigpe3JldHVybiBNfSkpLG4uZChlLFwiTG9nZ2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksbi5kKGUsXCJDb25zb2xlQXBwZW5kZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gan0pKSxuLmQoZSxcIlNjcmVlbkFwcGVuZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZ9KSksbi5kKGUsXCJTb3J0ZWRMaXN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFVufSkpLG4uZChlLFwiQmluYXJ5VHJlZU5vZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gV259KSksbi5kKGUsXCJNb2NrZWRFbGVtZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE5ufSkpO3ZhciBpPXt9O24ucihpKSxuLmQoaSxcIkV2ZW50VHlwZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb3R9KSksbi5kKGksXCJHYW1lRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaHR9KSksbi5kKGksXCJLaWxsRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdXR9KSksbi5kKGksXCJQcmVLaWxsRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbHR9KSksbi5kKGksXCJQb3N0S2lsbEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB0fSkpLG4uZChpLFwiR2FtZVN0YXJ0RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZHR9KSksbi5kKGksXCJHYW1lU3RvcEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ0fSkpLG4uZChpLFwiUHJlRHJhd0V2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl0fSkpLG4uZChpLFwiUG9zdERyYXdFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBndH0pKSxuLmQoaSxcIlByZURlYnVnRHJhd0V2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF90fSkpLG4uZChpLFwiUG9zdERlYnVnRHJhd0V2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ0fSkpLG4uZChpLFwiUHJlVXBkYXRlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbXR9KSksbi5kKGksXCJQb3N0VXBkYXRlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYnR9KSksbi5kKGksXCJQcmVGcmFtZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd0fSkpLG4uZChpLFwiUG9zdEZyYW1lRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4geHR9KSksbi5kKGksXCJHYW1lcGFkQ29ubmVjdEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFB0fSkpLG4uZChpLFwiR2FtZXBhZERpc2Nvbm5lY3RFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBBdH0pKSxuLmQoaSxcIkdhbWVwYWRCdXR0b25FdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBFdH0pKSxuLmQoaSxcIkdhbWVwYWRBeGlzRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gU3R9KSksbi5kKGksXCJTdWJzY3JpYmVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBDdH0pKSxuLmQoaSxcIlVuc3Vic2NyaWJlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT3R9KSksbi5kKGksXCJWaXNpYmxlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVHR9KSksbi5kKGksXCJIaWRkZW5FdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBCdH0pKSxuLmQoaSxcIlByZUNvbGxpc2lvbkV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE10fSkpLG4uZChpLFwiUG9zdENvbGxpc2lvbkV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER0fSkpLG4uZChpLFwiQ29sbGlzaW9uU3RhcnRFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBrdH0pKSxuLmQoaSxcIkNvbGxpc2lvbkVuZEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ0fSkpLG4uZChpLFwiSW5pdGlhbGl6ZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp0fSkpLG4uZChpLFwiQWN0aXZhdGVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBGdH0pKSxuLmQoaSxcIkRlYWN0aXZhdGVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBJdH0pKSxuLmQoaSxcIkV4aXRWaWV3UG9ydEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx0fSkpLG4uZChpLFwiRW50ZXJWaWV3UG9ydEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHp0fSkpLG4uZChpLFwiRW50ZXJUcmlnZ2VyRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSHR9KSksbi5kKGksXCJFeGl0VHJpZ2dlckV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV0fSkpO3ZhciByPXt9O24ucihyKSxuLmQocixcIkdyYXlzY2FsZVwiLChmdW5jdGlvbigpe3JldHVybiByZX0pKSxuLmQocixcIkludmVydFwiLChmdW5jdGlvbigpe3JldHVybiBvZX0pKSxuLmQocixcIk9wYWNpdHlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc2V9KSksbi5kKHIsXCJDb2xvcml6ZVwiLChmdW5jdGlvbigpe3JldHVybiBhZX0pKSxuLmQocixcIkxpZ2h0ZW5cIiwoZnVuY3Rpb24oKXtyZXR1cm4gY2V9KSksbi5kKHIsXCJEYXJrZW5cIiwoZnVuY3Rpb24oKXtyZXR1cm4gaGV9KSksbi5kKHIsXCJTYXR1cmF0ZVwiLChmdW5jdGlvbigpe3JldHVybiB1ZX0pKSxuLmQocixcIkRlc2F0dXJhdGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbGV9KSksbi5kKHIsXCJGaWxsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHBlfSkpO3ZhciBvPXt9O24ucihvKSxuLmQobyxcIkVhc2VUb1wiLChmdW5jdGlvbigpe3JldHVybiBFZX0pKSxuLmQobyxcIk1vdmVUb1wiLChmdW5jdGlvbigpe3JldHVybiBTZX0pKSxuLmQobyxcIk1vdmVCeVwiLChmdW5jdGlvbigpe3JldHVybiBDZX0pKSxuLmQobyxcIkZvbGxvd1wiLChmdW5jdGlvbigpe3JldHVybiBPZX0pKSxuLmQobyxcIk1lZXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVGV9KSksbi5kKG8sXCJSb3RhdGVUb1wiLChmdW5jdGlvbigpe3JldHVybiBCZX0pKSxuLmQobyxcIlJvdGF0ZUJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE1lfSkpLG4uZChvLFwiU2NhbGVUb1wiLChmdW5jdGlvbigpe3JldHVybiBEZX0pKSxuLmQobyxcIlNjYWxlQnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4ga2V9KSksbi5kKG8sXCJEZWxheVwiLChmdW5jdGlvbigpe3JldHVybiBSZX0pKSxuLmQobyxcIkJsaW5rXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGplfSkpLG4uZChvLFwiRmFkZVwiLChmdW5jdGlvbigpe3JldHVybiBGZX0pKSxuLmQobyxcIkRpZVwiLChmdW5jdGlvbigpe3JldHVybiBJZX0pKSxuLmQobyxcIkNhbGxNZXRob2RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTGV9KSksbi5kKG8sXCJSZXBlYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gemV9KSksbi5kKG8sXCJSZXBlYXRGb3JldmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlfSkpLG4uZChvLFwiQWN0aW9uUXVldWVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVWV9KSk7dmFyIHM9e307bi5yKHMpLG4uZChzLFwibGluZVwiLChmdW5jdGlvbigpe3JldHVybiBZZX0pKSxuLmQocyxcInBvaW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEplfSkpLG4uZChzLFwidmVjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuICRlfSkpLG4uZChzLFwicm91bmRSZWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRufSkpLG4uZChzLFwiY2lyY2xlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGVufSkpO3ZhciBhPXt9O24ucihhKSxuLmQoYSxcIkdhbWVwYWRzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGlyfSkpLG4uZChhLFwiR2FtZXBhZFwiLChmdW5jdGlvbigpe3JldHVybiBycn0pKSxuLmQoYSxcIkJ1dHRvbnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSml9KSksbi5kKGEsXCJBeGVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuICRpfSkpLG4uZChhLFwiUG9pbnRlclR5cGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQml9KSksbi5kKGEsXCJQb2ludGVyU2NvcGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTWl9KSksbi5kKGEsXCJQb2ludGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHppfSkpLG4uZChhLFwiUG9pbnRlcnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZXJ9KSksbi5kKGEsXCJOYXRpdmVQb2ludGVyQnV0dG9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZpfSkpLG4uZChhLFwiUG9pbnRlckJ1dHRvblwiLChmdW5jdGlvbigpe3JldHVybiBJaX0pKSxuLmQoYSxcIldoZWVsRGVsdGFNb2RlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExpfSkpLG4uZChhLFwiUG9pbnRlckV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFVpfSkpLG4uZChhLFwiUG9pbnRlckV2ZW50RmFjdG9yeVwiLChmdW5jdGlvbigpe3JldHVybiBXaX0pKSxuLmQoYSxcIlBvaW50ZXJEcmFnRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTml9KSksbi5kKGEsXCJQb2ludGVyVXBFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBxaX0pKSxuLmQoYSxcIlBvaW50ZXJEb3duRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVml9KSksbi5kKGEsXCJQb2ludGVyTW92ZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEdpfSkpLG4uZChhLFwiUG9pbnRlckVudGVyRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWGl9KSksbi5kKGEsXCJQb2ludGVyTGVhdmVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBRaX0pKSxuLmQoYSxcIlBvaW50ZXJDYW5jZWxFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBaaX0pKSxuLmQoYSxcIldoZWVsRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS2l9KSksbi5kKGEsXCJjcmVhdGVQb2ludGVyRXZlbnRCeU5hbWVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWWl9KSksbi5kKGEsXCJLZXlzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFBpfSkpLG4uZChhLFwiS2V5RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRGl9KSksbi5kKGEsXCJLZXlib2FyZFwiLChmdW5jdGlvbigpe3JldHVybiBraX0pKTt2YXIgYz17fTtuLnIoYyksbi5kKGMsXCJDYXB0dXJlUG9pbnRlclwiLChmdW5jdGlvbigpe3JldHVybiBLZX0pKSxuLmQoYyxcIk9mZnNjcmVlbkN1bGxpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWmV9KSksbi5kKGMsXCJUaWxlTWFwQ29sbGlzaW9uRGV0ZWN0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFhlfSkpO3ZhciBoPXt9O24ucihoKSxuLmQoaCxcIlR3b1BJXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSksbi5kKGgsXCJleHRlbmRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxuLmQoaCxcImJhc2U2NEVuY29kZVwiLChmdW5jdGlvbigpe3JldHVybiBffSkpLG4uZChoLFwibnVsbGlzaFwiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZChoLFwiY2xhbXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKSxuLmQoaCxcInJhbmRvbUluUmFuZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKSxuLmQoaCxcInJhbmRvbUludEluUmFuZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd30pKSxuLmQoaCxcImNhbm9uaWNhbGl6ZUFuZ2xlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKGgsXCJ0b0RlZ3JlZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSxuLmQoaCxcInRvUmFkaWFuc1wiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZChoLFwiZ2V0UG9zaXRpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxuLmQoaCxcImFkZEl0ZW1Ub0FycmF5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKGgsXCJyZW1vdmVJdGVtRnJvbUFycmF5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksbi5kKGgsXCJjb250YWluc1wiLChmdW5jdGlvbigpe3JldHVybiBPfSkpLG4uZChoLFwiZ2V0T3Bwb3NpdGVTaWRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSksbi5kKGgsXCJnZXRTaWRlRnJvbURpcmVjdGlvblwiLChmdW5jdGlvbigpe3JldHVybiBCfSkpLG4uZChoLFwiQ29sbGVjdGlvblwiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZChoLFwiZmFpbFwiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLG4uZChoLFwiRHJhd1V0aWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgdTtuKDczKSxuKDEzNCk7ZnVuY3Rpb24gbCgpe1widW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3cmJih3aW5kb3c9e2F1ZGlvQ29udGV4dDpmdW5jdGlvbigpe319KSxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT13aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbih0KXt3aW5kb3cuc2V0SW50ZXJ2YWwodCwxZTMvNjApfSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPXdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe30pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHdpbmRvdy5BdWRpb0NvbnRleHR8fCh3aW5kb3cuQXVkaW9Db250ZXh0PXdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHR8fHdpbmRvdy5tb3pBdWRpb0NvbnRleHR8fHdpbmRvdy5tc0F1ZGlvQ29udGV4dHx8d2luZG93Lm9BdWRpb0NvbnRleHQpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwod2luZG93LmRldmljZVBpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW98fDEpfSFmdW5jdGlvbih0KXt0W3QuUmVzb2x2ZWQ9MF09XCJSZXNvbHZlZFwiLHRbdC5SZWplY3RlZD0xXT1cIlJlamVjdGVkXCIsdFt0LlBlbmRpbmc9Ml09XCJQZW5kaW5nXCJ9KHV8fCh1PXt9KSk7dmFyIHAsZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9zdGF0ZT11LlBlbmRpbmcsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrcz1bXSx0aGlzLl9yZWplY3RDYWxsYmFjaz1mdW5jdGlvbigpe319cmV0dXJuIHQucmVzb2x2ZT1mdW5jdGlvbihlKXtyZXR1cm4obmV3IHQpLnJlc29sdmUoZSl9LHQucmVqZWN0PWZ1bmN0aW9uKGUpe3JldHVybihuZXcgdCkucmVqZWN0KGUpfSx0LmpvaW49ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZihhcmd1bWVudHMubGVuZ3RoPjAmJiFBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpZm9yKHZhciBuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMF09YXJndW1lbnRzW25dO2Vsc2UgMT09PWFyZ3VtZW50cy5sZW5ndGgmJkFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSYmKGU9YXJndW1lbnRzWzBdKTt2YXIgaT1uZXcgdDtpZighZXx8IWUubGVuZ3RoKXJldHVybiBpLnJlc29sdmUoKTt2YXIgcj1lLmxlbmd0aCxvPTAscz0wLGE9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC50aGVuKChmdW5jdGlvbigpeyhvKz0xKT09PXI/aS5yZXNvbHZlKCk6bytzK2EubGVuZ3RoPT09ciYmaS5yZWplY3QoYSl9KSwoZnVuY3Rpb24oKXtvKyhzKz0xKSthLmxlbmd0aD09PXImJmkucmVqZWN0KGEpfSkpLmVycm9yKChmdW5jdGlvbih0KXthLnB1c2godCksYS5sZW5ndGgrbytzPT09ciYmaS5yZWplY3QoYSl9KSl9KSksaX0sdC5wcm90b3R5cGUudGhlbj1mdW5jdGlvbih0LGUpe2lmKHQmJih0aGlzLl9zdWNjZXNzQ2FsbGJhY2tzLnB1c2godCksdGhpcy5zdGF0ZSgpPT09dS5SZXNvbHZlZCkpdHJ5e3QuY2FsbCh0aGlzLHRoaXMuX3ZhbHVlKX1jYXRjaCh0KXt0aGlzLl9oYW5kbGVFcnJvcih0KX1pZihlJiYodGhpcy5fcmVqZWN0Q2FsbGJhY2s9ZSx0aGlzLnN0YXRlKCk9PT11LlJlamVjdGVkKSl0cnl7ZS5jYWxsKHRoaXMsdGhpcy5fdmFsdWUpfWNhdGNoKHQpe3RoaXMuX2hhbmRsZUVycm9yKHQpfXJldHVybiB0aGlzfSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmKHRoaXMuX2Vycm9yQ2FsbGJhY2s9dCksdGhpc30sdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXMuX3N0YXRlIT09dS5QZW5kaW5nKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB0aGF0IGlzIG5vdCBpbiBhIHBlbmRpbmcgc3RhdGUhXCIpO3RoaXMuX3ZhbHVlPXQ7dHJ5e3RoaXMuX3N0YXRlPXUuUmVzb2x2ZWQsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmNhbGwoZSxlLl92YWx1ZSl9KSl9Y2F0Y2godCl7dGhpcy5faGFuZGxlRXJyb3IodCl9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnJlamVjdD1mdW5jdGlvbih0KXtpZih0aGlzLl9zdGF0ZSE9PXUuUGVuZGluZyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVqZWN0IGEgcHJvbWlzZSB0aGF0IGlzIG5vdCBpbiBhIHBlbmRpbmcgc3RhdGUhXCIpO3RoaXMuX3ZhbHVlPXQ7dHJ5e3RoaXMuX3N0YXRlPXUuUmVqZWN0ZWQsdGhpcy5fcmVqZWN0Q2FsbGJhY2suY2FsbCh0aGlzLHRoaXMuX3ZhbHVlKX1jYXRjaCh0KXt0aGlzLl9oYW5kbGVFcnJvcih0KX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGV9LHQucHJvdG90eXBlLl9oYW5kbGVFcnJvcj1mdW5jdGlvbih0KXtpZighdGhpcy5fZXJyb3JDYWxsYmFjayl0aHJvdyB0O3RoaXMuX2Vycm9yQ2FsbGJhY2suY2FsbCh0aGlzLHQpfSx0fSgpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuc2VlZD10LHRoaXMuX2xvd2VyTWFzaz0yMTQ3NDgzNjQ3LHRoaXMuX3VwcGVyTWFzaz0yMTQ3NDgzNjQ4LHRoaXMuX3c9MzIsdGhpcy5fbj02MjQsdGhpcy5fbT0zOTcsdGhpcy5fYT0yNTY3NDgzNjE1LHRoaXMuX3U9MTEsdGhpcy5fcz03LHRoaXMuX2I9MjYzNjkyODY0MCx0aGlzLl90PTE1LHRoaXMuX2M9NDAyMjczMDc1Mix0aGlzLl9sPTE4LHRoaXMuX2Y9MTgxMjQzMzI1Myx0aGlzLl9tdD1uZXcgQXJyYXkodGhpcy5fbiksdGhpcy5fbXRbMF09KHR8fERhdGUubm93KCkpPj4+MDtmb3IodmFyIGU9MTtlPHRoaXMuX247ZSsrKXt2YXIgbj10aGlzLl9tdFtlLTFdXnRoaXMuX210W2UtMV0+Pj50aGlzLl93LTI7dGhpcy5fbXRbZV09KHRoaXMuX2YqKCg0Mjk0OTAxNzYwJm4pPj4+MTYpPDwxNikrdGhpcy5fZiooNjU1MzUmbikrZT4+PjB9dGhpcy5faW5kZXg9dGhpcy5fbn1yZXR1cm4gdC5wcm90b3R5cGUuX3R3aXN0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVswLHRoaXMuX2FdLGU9MCxuPTA7bjx0aGlzLl9uLXRoaXMuX207bisrKWU9dGhpcy5fbXRbbl0mdGhpcy5fdXBwZXJNYXNrfHRoaXMuX210W24rMV0mdGhpcy5fbG93ZXJNYXNrLHRoaXMuX210W25dPXRoaXMuX210W24rdGhpcy5fbV1eZT4+PjFeNDI5NDk2NzI5NSZ0WzEmZV07Zm9yKDtuPHRoaXMuX24tMTtuKyspZT10aGlzLl9tdFtuXSZ0aGlzLl91cHBlck1hc2t8dGhpcy5fbXRbbisxXSZ0aGlzLl9sb3dlck1hc2ssdGhpcy5fbXRbbl09dGhpcy5fbXRbbisodGhpcy5fbS10aGlzLl9uKV1eZT4+PjFeNDI5NDk2NzI5NSZ0WzEmZV07ZT10aGlzLl9tdFt0aGlzLl9uLTFdJnRoaXMuX3VwcGVyTWFza3x0aGlzLl9tdFswXSZ0aGlzLl9sb3dlck1hc2ssdGhpcy5fbXRbdGhpcy5fbi0xXT10aGlzLl9tdFt0aGlzLl9tLTFdXmU+Pj4xXjQyOTQ5NjcyOTUmdFsxJmVdLHRoaXMuX2luZGV4PTB9LHQucHJvdG90eXBlLm5leHRJbnQ9ZnVuY3Rpb24oKXt0aGlzLl9pbmRleD49dGhpcy5fbiYmdGhpcy5fdHdpc3QoKTt2YXIgdD10aGlzLl9tdFt0aGlzLl9pbmRleCsrXTtyZXR1cm4gdF49dD4+PnRoaXMuX3UsdF49dDw8dGhpcy5fcyZ0aGlzLl9iLHRePXQ8PHRoaXMuX3QmdGhpcy5fYywodF49dD4+PnRoaXMuX2wpPj4+MH0sdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5leHRJbnQoKSooMS80Mjk0OTY3Mjk2KX0sdC5wcm90b3R5cGUuZmxvYXRpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZS10KSp0aGlzLm5leHQoKSt0fSx0LnByb3RvdHlwZS5pbnRlZ2VyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguZmxvb3IoKGUtdCsxKSp0aGlzLm5leHQoKSt0KX0sdC5wcm90b3R5cGUuYm9vbD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9LjUpLHRoaXMubmV4dCgpPD10fSx0LnByb3RvdHlwZS5waWNrT25lPWZ1bmN0aW9uKHQpe3JldHVybiB0W3RoaXMuaW50ZWdlcigwLHQubGVuZ3RoLTEpXX0sdC5wcm90b3R5cGUucGlja1NldD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPSExKSxuP3RoaXMuX3BpY2tTZXRXaXRoRHVwbGljYXRlcyh0LGUpOnRoaXMuX3BpY2tTZXRXaXRob3V0RHVwbGljYXRlcyh0LGUpfSx0LnByb3RvdHlwZS5fcGlja1NldFdpdGhvdXREdXBsaWNhdGVzPWZ1bmN0aW9uKHQsZSl7aWYoZT50Lmxlbmd0aHx8ZTwwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHBpY2ssIG11c3QgcGljayBhIHZhbHVlIDAgPCBuIDw9IGxlbmd0aFwiKTtpZihlPT09dC5sZW5ndGgpcmV0dXJuIHQ7Zm9yKHZhciBuPW5ldyBBcnJheShlKSxpPTAscj10LnNsaWNlKDApO2k8ZTspe3ZhciBvPXRoaXMuaW50ZWdlcigwLHIubGVuZ3RoLTEpO25baSsrXT1yW29dLHIuc3BsaWNlKG8sMSl9cmV0dXJuIG59LHQucHJvdG90eXBlLl9waWNrU2V0V2l0aER1cGxpY2F0ZXM9ZnVuY3Rpb24odCxlKXtpZihlPDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBudW1iZXIgb2YgZWxlbWVudHMgdG8gcGljaywgbXVzdCBwaWNrIGEgdmFsdWUgMCA8PSBuIDwgTUFYX0lOVFwiKTtmb3IodmFyIG49bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKW5baV09dGhpcy5waWNrT25lKHQpO3JldHVybiBufSx0LnByb3RvdHlwZS5zaHVmZmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNsaWNlKDApLG49bnVsbCxpPTA7aTxlLmxlbmd0aC0yO2krKyl7dmFyIHI9dGhpcy5pbnRlZ2VyKGksZS5sZW5ndGgtMSk7bj1lW2ldLGVbaV09ZVtyXSxlW3JdPW59cmV0dXJuIGV9LHQucHJvdG90eXBlLnJhbmdlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWlbcl09dGhpcy5pbnRlZ2VyKGUsbik7cmV0dXJuIGl9LHQucHJvdG90eXBlLmQ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZWdlcigxLDQpfSx0LnByb3RvdHlwZS5kNj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVnZXIoMSw2KX0sdC5wcm90b3R5cGUuZDg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlZ2VyKDEsOCl9LHQucHJvdG90eXBlLmQxMD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVnZXIoMSwxMCl9LHQucHJvdG90eXBlLmQxMj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVnZXIoMSwxMil9LHQucHJvdG90eXBlLmQyMD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVnZXIoMSwyMCl9LHR9KCk7IWZ1bmN0aW9uKHQpe3QuTm9uZT1cIk5vbmVcIix0LlRvcD1cIlRvcFwiLHQuQm90dG9tPVwiQm90dG9tXCIsdC5MZWZ0PVwiTGVmdFwiLHQuUmlnaHQ9XCJSaWdodFwifShwfHwocD17fSkpO3ZhciB5PTIqTWF0aC5QSTtmdW5jdGlvbiBnKCl7dmFyIHQ9e30sZT0hMSxuPTAsaT1hcmd1bWVudHMubGVuZ3RoO1wiW29iamVjdCBCb29sZWFuXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50c1swXSkmJihlPWFyZ3VtZW50c1swXSxuKyspO3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5hc3NpZ24sbz1udWxsO2ZvcihvPXI/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbihuKXtmb3IodmFyIGkgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixpKSYmKGUmJlwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobltpXSk/dFtpXT1nKCEwLHRbaV0sbltpXSk6dFtpXT1uW2ldKX07bjxpO24rKyl7dmFyIHM9YXJndW1lbnRzW25dO3I/byh0LHMpOm8ocyl9cmV0dXJuIHR9ZnVuY3Rpb24gXyh0KXtmb3IodmFyIGU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLG49XCJcIixpPTA7aTx0Lmxlbmd0aDspe3ZhciByPTI1NSZ0LmNoYXJDb2RlQXQoaSsrKSxvPTI1NSZ0LmNoYXJDb2RlQXQoaSsrKSxzPTI1NSZ0LmNoYXJDb2RlQXQoaSsrKSxhPXI+PjIsYz0oMyZyKTw8NHxvPj40LGg9dm9pZCAwLHU9dm9pZCAwO2lzTmFOKG8pP2g9dT02NDooaD0oMTUmbyk8PDJ8cz4+Nix1PWlzTmFOKHMpPzY0OjYzJnMpLG4rPWUuY2hhckF0KGEpK2UuY2hhckF0KGMpK2UuY2hhckF0KGgpK2UuY2hhckF0KHUpfXJldHVybiBufWZ1bmN0aW9uIHYodCxlKXtyZXR1cm4gbnVsbCE9dD90OmV9ZnVuY3Rpb24gbSh0LGUsbil7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGUsdCksbil9ZnVuY3Rpb24gYih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPW5ldyBmKSxuP24uZmxvYXRpbmcodCxlKTp0K01hdGgucmFuZG9tKCkqKGUtdCl9ZnVuY3Rpb24gdyh0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPW5ldyBmKSxuP24uaW50ZWdlcih0LGUpOk1hdGgucm91bmQoYih0LGUpKX1mdW5jdGlvbiB4KHQpe3ZhciBlPXQ7aWYodD55KWZvcig7ZT55OyllLT15O2lmKHQ8MClmb3IoO2U8MDspZSs9eTtyZXR1cm4gZX1mdW5jdGlvbiBQKHQpe3JldHVybiAxODAvTWF0aC5QSSp0fWZ1bmN0aW9uIEEodCl7cmV0dXJuIHQvMTgwKk1hdGguUEl9ZnVuY3Rpb24gRSh0KXt2YXIgZT0wLG49MCxpPWZ1bmN0aW9uKHQpe2UrPXQub2Zmc2V0TGVmdCx0Lm9mZnNldFBhcmVudCYmaSh0Lm9mZnNldFBhcmVudCl9LHI9ZnVuY3Rpb24odCl7bis9dC5vZmZzZXRUb3AsdC5vZmZzZXRQYXJlbnQmJnIodC5vZmZzZXRQYXJlbnQpfTtyZXR1cm4gaSh0KSxyKHQpLG5ldyBWKGUsbil9ZnVuY3Rpb24gUyh0LGUpe3JldHVybi0xPT09ZS5pbmRleE9mKHQpJiYoZS5wdXNoKHQpLCEwKX1mdW5jdGlvbiBDKHQsZSl7dmFyIG47cmV0dXJuKG49ZS5pbmRleE9mKHQpKT4tMSYmKGUuc3BsaWNlKG4sMSksITApfWZ1bmN0aW9uIE8odCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBUKHQpe3JldHVybiB0PT09cC5Ub3A/cC5Cb3R0b206dD09PXAuQm90dG9tP3AuVG9wOnQ9PT1wLkxlZnQ/cC5SaWdodDp0PT09cC5SaWdodD9wLkxlZnQ6cC5Ob25lfWZ1bmN0aW9uIEIodCl7Zm9yKHZhciBlPVtWLkxlZnQsVi5SaWdodCxWLlVwLFYuRG93bl0sbj1bcC5MZWZ0LHAuUmlnaHQscC5Ub3AscC5Cb3R0b21dLGk9LU51bWJlci5NQVhfVkFMVUUscj0tMSxvPTA7bzxlLmxlbmd0aDtvKyspZVtvXS5kb3QodCk+aSYmKGk9ZVtvXS5kb3QodCkscj1vKTtyZXR1cm4gbltyXX12YXIgTSxEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2b2lkIDA9PT1lJiYoZT10LkRlZmF1bHRTaXplKSx0aGlzLl9pbnRlcm5hbEFycmF5PW51bGwsdGhpcy5fZW5kUG9pbnRlcj0wLHRoaXMuX2ludGVybmFsQXJyYXk9bmV3IEFycmF5KGUpfXJldHVybiB0LnByb3RvdHlwZS5fcmVzaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTIqdGhpcy5faW50ZXJuYWxBcnJheS5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj10aGlzLmNvdW50KCksaT0wO2k8bjtpKyspZVtpXT10aGlzLl9pbnRlcm5hbEFycmF5W2ldO2RlbGV0ZSB0aGlzLl9pbnRlcm5hbEFycmF5LHRoaXMuX2ludGVybmFsQXJyYXk9ZX0sdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZW5kUG9pbnRlcj09PXRoaXMuX2ludGVybmFsQXJyYXkubGVuZ3RoJiZ0aGlzLl9yZXNpemUoKSx0aGlzLl9pbnRlcm5hbEFycmF5W3RoaXMuX2VuZFBvaW50ZXIrK109dH0sdC5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZFBvaW50ZXI9dGhpcy5fZW5kUG9pbnRlci0xPDA/MDp0aGlzLl9lbmRQb2ludGVyLTEsdGhpcy5faW50ZXJuYWxBcnJheVt0aGlzLl9lbmRQb2ludGVyXX0sdC5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5kUG9pbnRlcn0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9lbmRQb2ludGVyPTB9LHQucHJvdG90eXBlLmludGVybmFsU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFycmF5Lmxlbmd0aH0sdC5wcm90b3R5cGUuZWxlbWVudEF0PWZ1bmN0aW9uKHQpe2lmKHQ+PXRoaXMuY291bnQoKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGluZGV4IFwiK3QpO3JldHVybiB0aGlzLl9pbnRlcm5hbEFycmF5W3RdfSx0LnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD49dGhpcy5jb3VudCgpJiZ0aGlzLl9yZXNpemUoKSx0aGlzLl9pbnRlcm5hbEFycmF5W3RdPWV9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvdW50KCk7aWYoMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXIgXCIrdCk7Zm9yKHZhciBuPXRoaXMuX2ludGVybmFsQXJyYXlbdF0saT10O2k8ZTtpKyspdGhpcy5faW50ZXJuYWxBcnJheVtpXT10aGlzLl9pbnRlcm5hbEFycmF5W2krMV07cmV0dXJuIHRoaXMuX2VuZFBvaW50ZXItLSxufSx0LnByb3RvdHlwZS5yZW1vdmVFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2ludGVybmFsQXJyYXkuaW5kZXhPZih0KTt0aGlzLnJlbW92ZShlKX0sdC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFycmF5LnNsaWNlKDAsdGhpcy5fZW5kUG9pbnRlcil9LHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmNvdW50KCk7ZTxuO2UrKyl0LmNhbGwodGhpcyx0aGlzLl9pbnRlcm5hbEFycmF5W2VdLGUpfSx0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuY291bnQoKSxuPTA7bjxlO24rKyl0aGlzLl9pbnRlcm5hbEFycmF5W25dPXQuY2FsbCh0aGlzLHRoaXMuX2ludGVybmFsQXJyYXlbbl0sbil9LHQuRGVmYXVsdFNpemU9MjAwLHR9KCk7ZnVuY3Rpb24gayh0KXt0aHJvdyBuZXcgRXJyb3IodCl9IWZ1bmN0aW9uKHQpe3RbdC5EZWJ1Zz0wXT1cIkRlYnVnXCIsdFt0LkluZm89MV09XCJJbmZvXCIsdFt0Lldhcm49Ml09XCJXYXJuXCIsdFt0LkVycm9yPTNdPVwiRXJyb3JcIix0W3QuRmF0YWw9NF09XCJGYXRhbFwifShNfHwoTT17fSkpO3ZhciBSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2lmKHRoaXMuX2FwcGVuZGVycz1bXSx0aGlzLmRlZmF1bHRMZXZlbD1NLkluZm8sdC5faW5zdGFuY2UpdGhyb3cgbmV3IEVycm9yKFwiTG9nZ2VyIGlzIGEgc2luZ2xldG9uXCIpO3JldHVybiB0Ll9pbnN0YW5jZT10aGlzLHQuX2luc3RhbmNlLmFkZEFwcGVuZGVyKG5ldyBqKSx0Ll9pbnN0YW5jZX1yZXR1cm4gdC5nZXRJbnN0YW5jZT1mdW5jdGlvbigpe3JldHVybiBudWxsPT10Ll9pbnN0YW5jZSYmKHQuX2luc3RhbmNlPW5ldyB0KSx0Ll9pbnN0YW5jZX0sdC5wcm90b3R5cGUuYWRkQXBwZW5kZXI9ZnVuY3Rpb24odCl7dGhpcy5fYXBwZW5kZXJzLnB1c2godCl9LHQucHJvdG90eXBlLmNsZWFyQXBwZW5kZXJzPWZ1bmN0aW9uKCl7dGhpcy5fYXBwZW5kZXJzLmxlbmd0aD0wfSx0LnByb3RvdHlwZS5fbG9nPWZ1bmN0aW9uKHQsZSl7bnVsbD09dCYmKHQ9dGhpcy5kZWZhdWx0TGV2ZWwpO2Zvcih2YXIgbj10aGlzLl9hcHBlbmRlcnMubGVuZ3RoLGk9MDtpPG47aSsrKXQ+PXRoaXMuZGVmYXVsdExldmVsJiZ0aGlzLl9hcHBlbmRlcnNbaV0ubG9nKHQsZSl9LHQucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZyhNLkRlYnVnLHQpfSx0LnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZyhNLkluZm8sdCl9LHQucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nKE0uV2Fybix0KX0sdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nKE0uRXJyb3IsdCl9LHQucHJvdG90eXBlLmZhdGFsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZyhNLkZhdGFsLHQpfSx0Ll9pbnN0YW5jZT1udWxsLHR9KCksaj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmxvZz1mdW5jdGlvbih0LGUpe2lmKGNvbnNvbGV8fGNvbnNvbGUubG9nfHwhY29uc29sZS53YXJufHwhY29uc29sZS5lcnJvcil7dmFyIG49W107bi51bnNoaWZ0LmFwcGx5KG4sZSksbi51bnNoaWZ0KFwiW1wiK01bdF0rXCJdIDogXCIpLHQ8TS5XYXJuP2NvbnNvbGUubG9nLmFwcGx5P2NvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsbik6Y29uc29sZS5sb2cobi5qb2luKFwiIFwiKSk6dDxNLkVycm9yP2NvbnNvbGUud2Fybi5hcHBseT9jb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxuKTpjb25zb2xlLndhcm4obi5qb2luKFwiIFwiKSk6Y29uc29sZS5lcnJvci5hcHBseT9jb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsbik6Y29uc29sZS5lcnJvcihuLmpvaW4oXCIgXCIpKX19LHR9KCksRj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9tZXNzYWdlcz1bXSx0aGlzLl9jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLl9jYW52YXMud2lkdGg9dHx8d2luZG93LmlubmVyV2lkdGgsdGhpcy5fY2FudmFzLmhlaWdodD1lfHx3aW5kb3cuaW5uZXJIZWlnaHQsdGhpcy5fY2FudmFzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLl9jdHg9dGhpcy5fY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2NhbnZhcyl9cmV0dXJuIHQucHJvdG90eXBlLmxvZz1mdW5jdGlvbih0LGUpe3ZhciBuPWUuam9pbihcIixcIik7dGhpcy5fY3R4LmNsZWFyUmVjdCgwLDAsdGhpcy5fY2FudmFzLndpZHRoLHRoaXMuX2NhbnZhcy5oZWlnaHQpLHRoaXMuX21lc3NhZ2VzLnVuc2hpZnQoXCJbXCIrTVt0XStcIl0gOiBcIituKTtmb3IodmFyIGk9MTAscj0xLG89MDtvPHRoaXMuX21lc3NhZ2VzLmxlbmd0aDtvKyspdGhpcy5fY3R4LmZpbGxTdHlsZT1cInJnYmEoMjU1LDI1NSwyNTUsXCIrci50b0ZpeGVkKDIpK1wiKVwiLHRoaXMuX2N0eC5maWxsVGV4dCh0aGlzLl9tZXNzYWdlc1tvXSwyMDAsaSksaSs9MTAscj1yPjA/ci0uMDU6MH0sdH0oKSxJPWZ1bmN0aW9uKCl7cmV0dXJuKEk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKylmb3IodmFyIHIgaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxMPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQrPWFyZ3VtZW50c1tlXS5sZW5ndGg7dmFyIGk9QXJyYXkodCkscj0wO2ZvcihlPTA7ZTxuO2UrKylmb3IodmFyIG89YXJndW1lbnRzW2VdLHM9MCxhPW8ubGVuZ3RoO3M8YTtzKysscisrKWlbcl09b1tzXTtyZXR1cm4gaX0sej01LEg9e30sVT1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiBIKUhbdF09MH0sVz1mdW5jdGlvbih0LGUpe0hbdF08eiYmKFIuZ2V0SW5zdGFuY2UoKS53YXJuKHQpLGNvbnNvbGUudHJhY2UmJmUuc2hvd1N0YWNrVHJhY2UmJmNvbnNvbGUudHJhY2UoKSksSFt0XSsrfTtmdW5jdGlvbiBOKHQpe3JldHVybiB0PWcoe30se21lc3NhZ2U6XCJUaGlzIGZlYXR1cmUgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSB2ZXJzaW9ucyBvZiBFeGNhbGlidXIuXCIsYWx0ZXJuYXRlTWV0aG9kOm51bGwsc2hvd1N0YWNrVHJhY2s6ITF9LHQpLGZ1bmN0aW9uKGUsbixpKXtpZihpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBpLnZhbHVlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBpLmdldCYmXCJmdW5jdGlvblwiIT10eXBlb2YgaS5zZXQpdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiT25seSBjbGFzc2VzL2Z1bmN0aW9ucy9nZXR0ZXJzL3NldHRlcnMgY2FuIGJlIG1hcmtlZCBhcyBvYnNvbGV0ZVwiKTt2YXIgcj0oZS5uYW1lfHxcIlwiKSsoZS5uYW1lJiZuP1wiLlwiOlwiXCIpKyhufHxcIlwiKStcIiBpcyBtYXJrZWQgb2Jzb2xldGU6IFwiK3QubWVzc2FnZSsodC5hbHRlcm5hdGVNZXRob2Q/XCIgVXNlIFwiK3QuYWx0ZXJuYXRlTWV0aG9kK1wiIGluc3RlYWRcIjpcIlwiKTtIW3JdfHwoSFtyXT0wKTt2YXIgbz1pP0koe30saSk6ZTtpZighaSl7dmFyIHM9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBXKHIsdCksbmV3KG8uYmluZC5hcHBseShvLEwoW3ZvaWQgMF0sZSkpKX07cmV0dXJuIHMucHJvdG90eXBlPW8ucHJvdG90eXBlLHN9cmV0dXJuIGkmJmkudmFsdWU/KG8udmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gVyhyLHQpLGkudmFsdWUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvKTooaSYmaS5nZXQmJihvLmdldD1mdW5jdGlvbigpe3JldHVybiBXKHIsdCksaS5nZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksaSYmaS5zZXQmJihvLnNldD1mdW5jdGlvbigpe3JldHVybiBXKHIsdCksaS5zZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksbyl9fXZhciBxPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLGkpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKHI9dFthXSkmJihzPShvPDM/cihzKTpvPjM/cihlLG4scyk6cihlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMueD10LHRoaXMueT1lfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlplcm9cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KDAsMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJPbmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KDEsMSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJIYWxmXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdCguNSwuNSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJVcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoMCwtMSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJEb3duXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdCgwLDEpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiTGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoLTEsMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJSaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoMSwwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LmZyb21BbmdsZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoTWF0aC5jb3MoZSksTWF0aC5zaW4oZSkpfSx0LmlzVmFsaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJighaXNOYU4odC54KSYmIWlzTmFOKHQueSkmJih0LnghPT0xLzAmJnQueSE9PTEvMCYmdC54IT09LTEvMCYmdC55IT09LTEvMCkpfSx0LmRpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0LngtZS54LDIpK01hdGgucG93KHQueS1lLnksMikpfSx0LnByb3RvdHlwZS5zZXRUbz1mdW5jdGlvbih0LGUpe3RoaXMueD10LHRoaXMueT1lfSx0LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9LjAwMSksTWF0aC5hYnModGhpcy54LXQueCk8PWUmJk1hdGguYWJzKHRoaXMueS10LnkpPD1lfSx0LnByb3RvdHlwZS5kaXN0YW5jZT1mdW5jdGlvbihlKXtyZXR1cm4gZXx8KGU9dC5aZXJvKSxNYXRoLnNxcnQoTWF0aC5wb3codGhpcy54LWUueCwyKStNYXRoLnBvdyh0aGlzLnktZS55LDIpKX0sdC5wcm90b3R5cGUubWFnbml0dWRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzdGFuY2UoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXN0YW5jZSgpfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub3JtYWxpemUoKS5zY2FsZSh0KTt0aGlzLng9ZS54LHRoaXMueT1lLnl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kaXN0YW5jZSgpO3JldHVybiBlPjA/bmV3IHQodGhpcy54L2UsdGhpcy55L2UpOm5ldyB0KDAsMSl9LHQucHJvdG90eXBlLmF2ZXJhZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWRkKHQpLnNjYWxlKC41KX0sdC5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0P25ldyB0KHRoaXMueCplLngsdGhpcy55KmUueSk6bmV3IHQodGhpcy54KmUsdGhpcy55KmUpfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KHRoaXMueCtlLngsdGhpcy55K2UueSl9LHQucHJvdG90eXBlLnN1Yj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQodGhpcy54LWUueCx0aGlzLnktZS55KX0sdC5wcm90b3R5cGUuYWRkRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXN9LHQucHJvdG90eXBlLnN1YkVxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzfSx0LnByb3RvdHlwZS5zY2FsZUVxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9LHQucHJvdG90eXBlLmRvdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54KnQueCt0aGlzLnkqdC55fSx0LnByb3RvdHlwZS5jcm9zcz1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQ/dGhpcy54KmUueS10aGlzLnkqZS54OlwibnVtYmVyXCI9PXR5cGVvZiBlP25ldyB0KGUqdGhpcy55LC1lKnRoaXMueCk6dm9pZCAwfSx0LnByb3RvdHlwZS5wZXJwZW5kaWN1bGFyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMueSwtdGhpcy54KX0sdC5wcm90b3R5cGUubm9ybWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVycGVuZGljdWxhcigpLm5vcm1hbGl6ZSgpfSx0LnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY2FsZSgtMSl9LHQucHJvdG90eXBlLnRvQW5nbGU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksdGhpcy54KX0sdC5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKGUsbil7bnx8KG49bmV3IHQoMCwwKSk7dmFyIGk9TWF0aC5zaW4oZSkscj1NYXRoLmNvcyhlKTtyZXR1cm4gbmV3IHQocioodGhpcy54LW4ueCktaSoodGhpcy55LW4ueSkrbi54LGkqKHRoaXMueC1uLngpK3IqKHRoaXMueS1uLnkpK24ueSl9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMueCx0aGlzLnkpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiKFwiK3RoaXMueCtcIiwgXCIrdGhpcy55K1wiKVwifSxxKFtOKHttZXNzYWdlOlwid2lsbCBiZSByZW1vdmVkIGluIGZhdm91ciBvZiBgLnNpemVgIGluIHZlcnNpb24gMC4yNS4wXCJ9KV0sdC5wcm90b3R5cGUsXCJtYWduaXR1ZGVcIixudWxsKSx0fSgpLEc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5wb3M9dCx0aGlzLmRpcj1lLm5vcm1hbGl6ZSgpfXJldHVybiB0LnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dC5iZWdpbi5zdWIodGhpcy5wb3MpO2lmKDA9PT10aGlzLmRpci5jcm9zcyh0LmdldFNsb3BlKCkpJiYwIT09ZS5jcm9zcyh0aGlzLmRpcikpcmV0dXJuLTE7dmFyIG49dGhpcy5kaXIuY3Jvc3ModC5nZXRTbG9wZSgpKTtpZigwPT09bilyZXR1cm4tMTt2YXIgaT1lLmNyb3NzKHQuZ2V0U2xvcGUoKSkvbjtpZihpPj0wKXt2YXIgcj1lLmNyb3NzKHRoaXMuZGlyKS9uL3QuZ2V0TGVuZ3RoKCk7aWYocj49MCYmcjw9MSlyZXR1cm4gaX1yZXR1cm4tMX0sdC5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucG9zLmFkZCh0aGlzLmRpci5zY2FsZSh0KSl9LHR9KCksWD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmJlZ2luPXQsdGhpcy5lbmQ9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwic2xvcGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuZW5kLnktdGhpcy5iZWdpbi55KS8odGhpcy5lbmQueC10aGlzLmJlZ2luLngpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImludGVyY2VwdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iZWdpbi55LXRoaXMuc2xvcGUqdGhpcy5iZWdpbi54fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLm5vcm1hbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZC5zdWIodGhpcy5iZWdpbikubm9ybWFsKCl9LHQucHJvdG90eXBlLmdldFNsb3BlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iZWdpbixlPXRoaXMuZW5kLG49dC5kaXN0YW5jZShlKTtyZXR1cm4gZS5zdWIodCkuc2NhbGUoMS9uKX0sdC5wcm90b3R5cGUuZ2V0RWRnZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYmVnaW47cmV0dXJuIHRoaXMuZW5kLnN1Yih0KX0sdC5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iZWdpbixlPXRoaXMuZW5kO3JldHVybiB0LmRpc3RhbmNlKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJtaWRwb2ludFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iZWdpbi5hZGQodGhpcy5lbmQpLnNjYWxlKC41KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5mbGlwPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMuZW5kLHRoaXMuYmVnaW4pfSx0LnByb3RvdHlwZS5kaXN0YW5jZVRvUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC54LG49dC55LGk9dGhpcy5nZXRMZW5ndGgoKSxyPXRoaXMuZW5kLnktdGhpcy5iZWdpbi55LG89dGhpcy5lbmQueC10aGlzLmJlZ2luLng7cmV0dXJuIE1hdGguYWJzKHIqZS1vKm4rdGhpcy5lbmQueCp0aGlzLmJlZ2luLnktdGhpcy5lbmQueSp0aGlzLmJlZ2luLngpL2l9LHQucHJvdG90eXBlLmZpbmRWZWN0b3JUb1BvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYmVnaW4uc3ViKHQpLG49dGhpcy5nZXRTbG9wZSgpO3JldHVybiBlLnN1YihuLnNjYWxlKGUuZG90KG4pKSl9LHQucHJvdG90eXBlLmZpbmRQb2ludD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PWUmJihlPW51bGwpO3ZhciBuPXRoaXMuc2xvcGUsaT10aGlzLmludGVyY2VwdDtpZihudWxsIT09dClyZXR1cm4gbmV3IFYodCxuKnQraSk7aWYobnVsbCE9PWUpcmV0dXJuIG5ldyBWKChlLWkpL24sZSk7dGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcHJvdmlkZSBhbiBYIG9yIGEgWSB2YWx1ZVwiKX0sdC5wcm90b3R5cGUuaGFzUG9pbnQ9ZnVuY3Rpb24oKXt2YXIgdCxlPTA7aWYoXCJudW1iZXJcIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmXCJudW1iZXJcIj09dHlwZW9mIGFyZ3VtZW50c1sxXSl0PW5ldyBWKGFyZ3VtZW50c1swXSxhcmd1bWVudHNbMV0pLGU9YXJndW1lbnRzWzJdfHwwO2Vsc2V7aWYoIShhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFYpKXRocm93XCJDb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBhcmd1bWVudHMgZm9yIFZlY3Rvci5oYXNQb2ludFwiO3Q9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdfHwwfXZhciBuPXQueC10aGlzLmJlZ2luLngsaT10LnktdGhpcy5iZWdpbi55LHI9dGhpcy5lbmQueC10aGlzLmJlZ2luLngsbz10aGlzLmVuZC55LXRoaXMuYmVnaW4ueSxzPW4qby1pKnI7cmV0dXJuIShNYXRoLmFicyhzKT5lKSYmKE1hdGguYWJzKHIpPj1NYXRoLmFicyhvKT9yPjA/dGhpcy5iZWdpbi54PD10LngmJnQueDw9dGhpcy5lbmQueDp0aGlzLmVuZC54PD10LngmJnQueDw9dGhpcy5iZWdpbi54Om8+MD90aGlzLmJlZ2luLnk8PXQueSYmdC55PD10aGlzLmVuZC55OnRoaXMuZW5kLnk8PXQueSYmdC55PD10aGlzLmJlZ2luLnkpfSx0fSgpLFE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5taW49dCx0aGlzLm1heD1lfXJldHVybiB0LnByb3RvdHlwZS5vdmVybGFwcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tYXg+dC5taW4mJnQubWF4PnRoaXMubWlufSx0LnByb3RvdHlwZS5nZXRPdmVybGFwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm92ZXJsYXBzKHQpP3RoaXMubWF4PnQubWF4P3QubWF4LXRoaXMubWluOnRoaXMubWF4LXQubWluOjB9LHR9KCksWj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMud29ybGRQb3M9dCx0aGlzLnBhZ2VQb3M9ZSx0aGlzLnNjcmVlblBvcz1ufXJldHVybiB0LmZyb21QYWdlUG9zaXRpb249ZnVuY3Rpb24oZSxuLGkpe3ZhciByLG8scyxhOzM9PT1hcmd1bWVudHMubGVuZ3RoPyhzPW5ldyBWKHI9ZSxvPW4pLGE9aSk6KHI9KHM9ZSkueCxvPXMueSxhPW4pO3ZhciBjPXItRShhLmNhbnZhcykueCxoPW8tRShhLmNhbnZhcykueSx1PW5ldyBWKGMsaCksbD1hLnNjcmVlblRvV29ybGRDb29yZGluYXRlcyh1KTtyZXR1cm4gbmV3IHQobCxzLHUpfSx0fSgpO2Z1bmN0aW9uIEsodCxlKXtyZXR1cm4gbmV3IFYodCxlKX12YXIgWSxKLCQsdHQ9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4saSk7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkocj10W2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKGUsbixzKTpyKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9LGV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXt0aGlzLnI9dCx0aGlzLmc9ZSx0aGlzLmI9bix0aGlzLmE9bnVsbCE9aT9pOjF9cmV0dXJuIHQuZnJvbVJHQj1mdW5jdGlvbihlLG4saSxyKXtyZXR1cm4gbmV3IHQoZSxuLGkscil9LHQuZnJvbUhleD1mdW5jdGlvbihlKXt2YXIgbjtpZihuPWUubWF0Y2goL14jPyhbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSk/JC9pKSl7dmFyIGk9cGFyc2VJbnQoblsxXSwxNikscj1wYXJzZUludChuWzJdLDE2KSxvPXBhcnNlSW50KG5bM10sMTYpLHM9MTtyZXR1cm4gbls0XSYmKHM9cGFyc2VJbnQobls0XSwxNikvMjU1KSxuZXcgdChpLHIsbyxzKX10aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhleCBzdHJpbmc6IFwiK2UpfSx0LmZyb21IU0w9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTEpLG5ldyBudCh0LGUsbixpKS50b1JHQkEoKX0sdC5wcm90b3R5cGUubGlnaHRlbj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSk7dmFyIGU9bnQuZnJvbVJHQkEodGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hKTtyZXR1cm4gZS5sKz0oMS1lLmwpKnQsZS50b1JHQkEoKX0sdC5wcm90b3R5cGUuZGFya2VuPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKTt2YXIgZT1udC5mcm9tUkdCQSh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpO3JldHVybiBlLmwtPWUubCp0LGUudG9SR0JBKCl9LHQucHJvdG90eXBlLnNhdHVyYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKTt2YXIgZT1udC5mcm9tUkdCQSh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpO3JldHVybiBlLnMrPWUucyp0LGUudG9SR0JBKCl9LHQucHJvdG90eXBlLmRlc2F0dXJhdGU9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpO3ZhciBlPW50LmZyb21SR0JBKHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSk7cmV0dXJuIGUucy09ZS5zKnQsZS50b1JHQkEoKX0sdC5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KGUuci8yNTUqdGhpcy5yLzI1NSoyNTUsZS5nLzI1NSp0aGlzLmcvMjU1KjI1NSxlLmIvMjU1KnRoaXMuYi8yNTUqMjU1LGUuYSp0aGlzLmEpfSx0LnByb3RvdHlwZS5tdWxpdGlwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubXVsdGlwbHkodCl9LHQucHJvdG90eXBlLnNjcmVlbj1mdW5jdGlvbih0KXt2YXIgZT10LmludmVydCgpLG49dC5pbnZlcnQoKTtyZXR1cm4gZS5tdWx0aXBseShuKS5pbnZlcnQoKX0sdC5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KDI1NS10aGlzLnIsMjU1LXRoaXMuZywyNTUtdGhpcy5iLDEtdGhpcy5hKX0sdC5wcm90b3R5cGUuYXZlcmFnZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoKGUucit0aGlzLnIpLzIsKGUuZyt0aGlzLmcpLzIsKGUuYit0aGlzLmIpLzIsKGUuYSt0aGlzLmEpLzIpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbih0KXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9XCJyZ2JcIiksdCl7Y2FzZVwicmdiXCI6cmV0dXJuIHRoaXMudG9SR0JBKCk7Y2FzZVwiaHNsXCI6cmV0dXJuIHRoaXMudG9IU0xBKCk7Y2FzZVwiaGV4XCI6cmV0dXJuIHRoaXMudG9IZXgoKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQ29sb3IgZm9ybWF0XCIpfX0sdC5wcm90b3R5cGUuX2NvbXBvbmVudFRvSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpO3JldHVybiAxPT09ZS5sZW5ndGg/XCIwXCIrZTplfSx0LnByb3RvdHlwZS50b0hleD1mdW5jdGlvbigpe3JldHVyblwiI1wiK3RoaXMuX2NvbXBvbmVudFRvSGV4KHRoaXMucikrdGhpcy5fY29tcG9uZW50VG9IZXgodGhpcy5nKSt0aGlzLl9jb21wb25lbnRUb0hleCh0aGlzLmIpfSx0LnByb3RvdHlwZS50b1JHQkE9ZnVuY3Rpb24oKXt2YXIgdD1TdHJpbmcodGhpcy5yLnRvRml4ZWQoMCkpK1wiLCBcIitTdHJpbmcodGhpcy5nLnRvRml4ZWQoMCkpK1wiLCBcIitTdHJpbmcodGhpcy5iLnRvRml4ZWQoMCkpO3JldHVybiB2b2lkIDAhPT10aGlzLmF8fG51bGwhPT10aGlzLmE/XCJyZ2JhKFwiK3QrXCIsIFwiK1N0cmluZyh0aGlzLmEpK1wiKVwiOlwicmdiKFwiK3QrXCIpXCJ9LHQucHJvdG90eXBlLnRvSFNMQT1mdW5jdGlvbigpe3JldHVybiBudC5mcm9tUkdCQSh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpLnRvU3RyaW5nKCl9LHQucHJvdG90eXBlLmZpbGxTdHlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvU3RyaW5nKCl9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiQmxhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiMwMDAwMDBcIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJXaGl0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiI0ZGRkZGRlwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkdyYXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiM4MDgwODBcIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJMaWdodEdyYXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNEM0QzRDNcIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJEYXJrR3JheVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiI0E5QTlBOVwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlllbGxvd1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiI0ZGRkYwMFwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIk9yYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiI0ZGQTUwMFwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlJlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiI0ZGMDAwMFwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlZlcm1pbGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiI0ZGNUIzMVwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlZlcm1pbGxpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuVmVybWlsaW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiUm9zZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiI0ZGMDA3RlwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIk1hZ2VudGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNGRjAwRkZcIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJWaW9sZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiM3RjAwRkZcIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJCbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjMDAwMEZGXCIpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiQXp1cmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiMwMDdGRkZcIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJDeWFuXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjMDBGRkZGXCIpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiVmlyaWRpYW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiM1OTk3OEZcIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJHcmVlblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiIzAwRkYwMFwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkNoYXJ0cmV1c2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiM3RkZGMDBcIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJUcmFuc3BhcmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiI0ZGRkZGRjAwXCIpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHR0KFtOKHttZXNzYWdlOlwiQWxpYXMgZm9yIGluY29ycmVjdCBzcGVsbGluZyB1c2VkIGluIG9sZGVyIHZlcnNpb25zLCB1c2UgbXVsdGlwbHkgaW5zdGVhZCwgd2lsbCBiZSByZW1vdmVkIGluIHYwLjI1LjBcIn0pXSx0LnByb3RvdHlwZSxcIm11bGl0aXBseVwiLG51bGwpLHR0KFtOKHttZXNzYWdlOlwiQWxpYXMgZm9yIGluY29ycmVjdCBzcGVsbGluZyB1c2VkIGluIG9sZGVyIHZlcnNpb25zXCIsYWx0ZXJuYXRlTWV0aG9kOlwiVmVybWlsaW9uXCJ9KV0sdCxcIlZlcm1pbGxpb25cIixudWxsKSx0fSgpLG50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXt0aGlzLmg9dCx0aGlzLnM9ZSx0aGlzLmw9bix0aGlzLmE9aX1yZXR1cm4gdC5odWUycmdiPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbjwwJiYobis9MSksbj4xJiYobi09MSksbjwxLzY/dCs2KihlLXQpKm46bjwuNT9lOm48Mi8zP3QrKGUtdCkqKDIvMy1uKSo2OnR9LHQuZnJvbVJHQkE9ZnVuY3Rpb24oZSxuLGkscil7ZS89MjU1LG4vPTI1NSxpLz0yNTU7dmFyIG8scyxhPU1hdGgubWF4KGUsbixpKSxjPU1hdGgubWluKGUsbixpKSxoPShhK2MpLzI7aWYoYT09PWMpbz1zPTA7ZWxzZXt2YXIgdT1hLWM7c3dpdGNoKHM9aD4uNT91LygyLWEtYyk6dS8oYStjKSxhKXtjYXNlIGU6bz0obi1pKS91KyhuPGk/NjowKTticmVhaztjYXNlIG46bz0oaS1lKS91KzI7YnJlYWs7Y2FzZSBpOm89KGUtbikvdSs0fW8vPTZ9cmV0dXJuIG5ldyB0KG8scyxoLHIpfSx0LnByb3RvdHlwZS50b1JHQkE9ZnVuY3Rpb24oKXt2YXIgZSxuLGk7aWYoMD09PXRoaXMucyllPW49aT10aGlzLmw7ZWxzZXt2YXIgcj10aGlzLmw8LjU/dGhpcy5sKigxK3RoaXMucyk6dGhpcy5sK3RoaXMucy10aGlzLmwqdGhpcy5zLG89Mip0aGlzLmwtcjtlPXQuaHVlMnJnYihvLHIsdGhpcy5oKzEvMyksbj10Lmh1ZTJyZ2IobyxyLHRoaXMuaCksaT10Lmh1ZTJyZ2IobyxyLHRoaXMuaC0xLzMpfXJldHVybiBuZXcgZXQoMjU1KmUsMjU1Km4sMjU1KmksdGhpcy5hKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cImhzbGEoXCIrdGhpcy5oLnRvRml4ZWQoMCkrXCIsIFwiK3RoaXMucy50b0ZpeGVkKDApK1wiLCBcIit0aGlzLmwudG9GaXhlZCgwKStcIiwgXCIrdGhpcy5hLnRvRml4ZWQoMCkrXCIpXCJ9LHR9KCksaXQ9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4saSk7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkocj10W2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKGUsbixzKTpyKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9OyFmdW5jdGlvbih0KXt0W3QuQm94PTBdPVwiQm94XCIsdFt0LlJpZ2lkQm9keT0xXT1cIlJpZ2lkQm9keVwifShZfHwoWT17fSkpLGZ1bmN0aW9uKHQpe3RbdC5OYWl2ZT0wXT1cIk5haXZlXCIsdFt0LkR5bmFtaWNBQUJCVHJlZT0xXT1cIkR5bmFtaWNBQUJCVHJlZVwifShKfHwoSj17fSkpLGZ1bmN0aW9uKHQpe3RbdC5FdWxlcj0wXT1cIkV1bGVyXCJ9KCR8fCgkPXt9KSk7dmFyIHJ0LG90LHN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC51c2VCb3hQaHlzaWNzPWZ1bmN0aW9uKCl7dC5jb2xsaXNpb25SZXNvbHV0aW9uU3RyYXRlZ3k9WS5Cb3h9LHQudXNlUmlnaWRCb2R5UGh5c2ljcz1mdW5jdGlvbigpe3QuY29sbGlzaW9uUmVzb2x1dGlvblN0cmF0ZWd5PVkuUmlnaWRCb2R5fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImR5bmFtaWNUcmVlVmVsb2NpdHlNdWx0aXBseWVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmR5bmFtaWNUcmVlVmVsb2NpdHlNdWx0aXBsaWVyfSxzZXQ6ZnVuY3Rpb24oZSl7dC5keW5hbWljVHJlZVZlbG9jaXR5TXVsdGlwbGllcj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQuYWNjPW5ldyBWKDAsMCksdC5lbmFibGVkPSEwLHQuY29sbGlzaW9uUGFzc2VzPTUsdC5icm9hZHBoYXNlU3RyYXRlZ3k9Si5EeW5hbWljQUFCQlRyZWUsdC5icm9hZHBoYXNlRGVidWc9ITEsdC5zaG93Q29sbGlzaW9uTm9ybWFscz0hMSx0LnNob3dNb3Rpb25WZWN0b3JzPSExLHQuc2hvd0JvdW5kcz0hMSx0LnNob3dBcmVhPSExLHQuc2hvd0NvbnRhY3RzPSExLHQuc2hvd05vcm1hbHM9ITEsdC5jb2xsaXNpb25SZXNvbHV0aW9uU3RyYXRlZ3k9WS5Cb3gsdC5kZWZhdWx0TWFzcz0xMCx0LmludGVncmF0b3I9JC5FdWxlcix0LmludGVncmF0aW9uU3RlcHM9MSx0LmFsbG93UmlnaWRCb2R5Um90YXRpb249ITAsdC5jb2xsaXNpb25TaGlmdD0uMDAxLHQuZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGxpZXI9Mix0LmJvdW5kc1BhZGRpbmc9NSx0LnN1cmZhY2VFcHNpbG9uPS4xLHQuY2hlY2tGb3JGYXN0Qm9kaWVzPSEwLHQuZGlzYWJsZU1pbmltdW1TcGVlZEZvckZhc3RCb2R5PSExLGl0KFtOKHttZXNzYWdlOlwiQWxpYXMgZm9yIGluY29ycmVjdCBzcGVsbGluZyB1c2VkIGluIG9sZGVyIHZlcnNpb25zLCB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuMjUuMFwiLGFsdGVybmF0ZU1ldGhvZDpcImR5bmFtaWNUcmVlVmVsb2NpdHlNdWx0aXBsaWVyXCJ9KV0sdCxcImR5bmFtaWNUcmVlVmVsb2NpdHlNdWx0aXBseWVyXCIsbnVsbCksdH0oKSxhdD0ocnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4ocnQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fXJ0KHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7IWZ1bmN0aW9uKHQpe3QuS2lsbD1cImtpbGxcIix0LlByZUtpbGw9XCJwcmVraWxsXCIsdC5Qb3N0S2lsbD1cInBvc3RraWxsXCIsdC5QcmVEcmF3PVwicHJlZHJhd1wiLHQuUG9zdERyYXc9XCJwb3N0ZHJhd1wiLHQuUHJlRGVidWdEcmF3PVwicHJlZGVidWdkcmF3XCIsdC5Qb3N0RGVidWdEcmF3PVwicG9zdGRlYnVnZHJhd1wiLHQuUHJlVXBkYXRlPVwicHJldXBkYXRlXCIsdC5Qb3N0VXBkYXRlPVwicG9zdHVwZGF0ZVwiLHQuUHJlRnJhbWU9XCJwcmVmcmFtZVwiLHQuUG9zdEZyYW1lPVwicG9zdGZyYW1lXCIsdC5QcmVDb2xsaXNpb249XCJwcmVjb2xsaXNpb25cIix0LkNvbGxpc2lvblN0YXJ0PVwiY29sbGlzaW9uc3RhcnRcIix0LkNvbGxpc2lvbkVuZD1cImNvbGxpc2lvbmVuZFwiLHQuUG9zdENvbGxpc2lvbj1cInBvc3Rjb2xsaXNpb25cIix0LkluaXRpYWxpemU9XCJpbml0aWFsaXplXCIsdC5BY3RpdmF0ZT1cImFjdGl2YXRlXCIsdC5EZWFjdGl2YXRlPVwiZGVhY3RpdmF0ZVwiLHQuRXhpdFZpZXdwb3J0PVwiZXhpdHZpZXdwb3J0XCIsdC5FbnRlclZpZXdwb3J0PVwiZW50ZXJ2aWV3cG9ydFwiLHQuRXhpdFRyaWdnZXI9XCJleGl0XCIsdC5FbnRlclRyaWdnZXI9XCJlbnRlclwiLHQuQ29ubmVjdD1cImNvbm5lY3RcIix0LkRpc2Nvbm5lY3Q9XCJkaXNjb25uZWN0XCIsdC5CdXR0b249XCJidXR0b25cIix0LkF4aXM9XCJheGlzXCIsdC5TdWJzY3JpYmU9XCJzdWJzY3JpYmVcIix0LlVuc3Vic2NyaWJlPVwidW5zdWJzY3JpYmVcIix0LlZpc2libGU9XCJ2aXNpYmxlXCIsdC5IaWRkZW49XCJoaWRkZW5cIix0LlN0YXJ0PVwic3RhcnRcIix0LlN0b3A9XCJzdG9wXCIsdC5Qb2ludGVyVXA9XCJwb2ludGVydXBcIix0LlBvaW50ZXJEb3duPVwicG9pbnRlcmRvd25cIix0LlBvaW50ZXJNb3ZlPVwicG9pbnRlcm1vdmVcIix0LlBvaW50ZXJFbnRlcj1cInBvaW50ZXJlbnRlclwiLHQuUG9pbnRlckxlYXZlPVwicG9pbnRlcmxlYXZlXCIsdC5Qb2ludGVyQ2FuY2VsPVwicG9pbnRlcmNhbmNlbFwiLHQuUG9pbnRlcldoZWVsPVwicG9pbnRlcndoZWVsXCIsdC5VcD1cInVwXCIsdC5Eb3duPVwiZG93blwiLHQuTW92ZT1cIm1vdmVcIix0LkVudGVyPVwiZW50ZXJcIix0LkxlYXZlPVwibGVhdmVcIix0LkNhbmNlbD1cImNhbmNlbFwiLHQuV2hlZWw9XCJ3aGVlbFwiLHQuUHJlc3M9XCJwcmVzc1wiLHQuUmVsZWFzZT1cInJlbGVhc2VcIix0LkhvbGQ9XCJob2xkXCIsdC5Qb2ludGVyRHJhZ1N0YXJ0PVwicG9pbnRlcmRyYWdzdGFydFwiLHQuUG9pbnRlckRyYWdFbmQ9XCJwb2ludGVyZHJhZ2VuZFwiLHQuUG9pbnRlckRyYWdFbnRlcj1cInBvaW50ZXJkcmFnZW50ZXJcIix0LlBvaW50ZXJEcmFnTGVhdmU9XCJwb2ludGVyZHJhZ2xlYXZlXCIsdC5Qb2ludGVyRHJhZ01vdmU9XCJwb2ludGVyZHJhZ21vdmVcIn0ob3R8fChvdD17fSkpO3ZhciBjdCxodD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9idWJibGVzPSEwfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJidWJibGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWJibGVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYnViYmxlcz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMuYnViYmxlcz0hMX0sdH0oKSx1dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50YXJnZXQ9ZSxufXJldHVybiBhdChlLHQpLGV9KGh0KSxsdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50YXJnZXQ9ZSxufXJldHVybiBhdChlLHQpLGV9KGh0KSxwdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50YXJnZXQ9ZSxufXJldHVybiBhdChlLHQpLGV9KGh0KSxkdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50YXJnZXQ9ZSxufXJldHVybiBhdChlLHQpLGV9KGh0KSxmdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50YXJnZXQ9ZSxufXJldHVybiBhdChlLHQpLGV9KGh0KSx5dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuY3R4PWUsci5kZWx0YT1uLHIudGFyZ2V0PWkscn1yZXR1cm4gYXQoZSx0KSxlfShodCksZ3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmN0eD1lLHIuZGVsdGE9bixyLnRhcmdldD1pLHJ9cmV0dXJuIGF0KGUsdCksZX0oaHQpLF90PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkuY3R4PWUsaS50YXJnZXQ9bixpfXJldHVybiBhdChlLHQpLGV9KGh0KSx2dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmN0eD1lLGkudGFyZ2V0PW4saX1yZXR1cm4gYXQoZSx0KSxlfShodCksbXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmVuZ2luZT1lLHIuZGVsdGE9bixyLnRhcmdldD1pLHJ9cmV0dXJuIGF0KGUsdCksZX0oaHQpLGJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5lbmdpbmU9ZSxyLmRlbHRhPW4sci50YXJnZXQ9aSxyfXJldHVybiBhdChlLHQpLGV9KGh0KSx3dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmVuZ2luZT1lLGkucHJldlN0YXRzPW4saS50YXJnZXQ9ZSxpfXJldHVybiBhdChlLHQpLGV9KGh0KSx4dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmVuZ2luZT1lLGkuc3RhdHM9bixpLnRhcmdldD1lLGl9cmV0dXJuIGF0KGUsdCksZX0oaHQpLFB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkuaW5kZXg9ZSxpLmdhbWVwYWQ9bixpLnRhcmdldD1uLGl9cmV0dXJuIGF0KGUsdCksZX0oaHQpLEF0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkuaW5kZXg9ZSxpLmdhbWVwYWQ9bixpLnRhcmdldD1uLGl9cmV0dXJuIGF0KGUsdCksZX0oaHQpLEV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5idXR0b249ZSxyLnZhbHVlPW4sci50YXJnZXQ9aSxyfXJldHVybiBhdChlLHQpLGV9KGh0KSxTdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuYXhpcz1lLHIudmFsdWU9bixyLnRhcmdldD1pLHJ9cmV0dXJuIGF0KGUsdCksZX0oaHQpLEN0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkudG9waWM9ZSxpLmhhbmRsZXI9bixpfXJldHVybiBhdChlLHQpLGV9KGh0KSxPdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRvcGljPWUsaS5oYW5kbGVyPW4saX1yZXR1cm4gYXQoZSx0KSxlfShodCksVHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udGFyZ2V0PWUsbn1yZXR1cm4gYXQoZSx0KSxlfShodCksQnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udGFyZ2V0PWUsbn1yZXR1cm4gYXQoZSx0KSxlfShodCksTXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXt2YXIgbz10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8ub3RoZXI9bixvLnNpZGU9aSxvLmludGVyc2VjdGlvbj1yLG8udGFyZ2V0PWUsb31yZXR1cm4gYXQoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhY3RvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YXJnZXR9LHNldDpmdW5jdGlvbih0KXt0aGlzLnRhcmdldD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KGh0KSxEdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIpe3ZhciBvPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5vdGhlcj1uLG8uc2lkZT1pLG8uaW50ZXJzZWN0aW9uPXIsby50YXJnZXQ9ZSxvfXJldHVybiBhdChlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhcmdldH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudGFyZ2V0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZX0oaHQpLGt0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5vdGhlcj1uLHIucGFpcj1pLHIudGFyZ2V0PWUscn1yZXR1cm4gYXQoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhY3RvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YXJnZXR9LHNldDpmdW5jdGlvbih0KXt0aGlzLnRhcmdldD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KGh0KSxSdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLm90aGVyPW4saS50YXJnZXQ9ZSxpfXJldHVybiBhdChlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhcmdldH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudGFyZ2V0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZX0oaHQpLGp0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkuZW5naW5lPWUsaS50YXJnZXQ9bixpfXJldHVybiBhdChlLHQpLGV9KGh0KSxGdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLm9sZFNjZW5lPWUsaS50YXJnZXQ9bixpfXJldHVybiBhdChlLHQpLGV9KGh0KSxJdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLm5ld1NjZW5lPWUsaS50YXJnZXQ9bixpfXJldHVybiBhdChlLHQpLGV9KGh0KSxMdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50YXJnZXQ9ZSxufXJldHVybiBhdChlLHQpLGV9KGh0KSx6dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50YXJnZXQ9ZSxufXJldHVybiBhdChlLHQpLGV9KGh0KSxIdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGkuYWN0b3I9bixpfXJldHVybiBhdChlLHQpLGV9KGh0KSxVdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGkuYWN0b3I9bixpfXJldHVybiBhdChlLHQpLGV9KGh0KTshZnVuY3Rpb24odCl7dC5QcmV2ZW50Q29sbGlzaW9uPVwiUHJldmVudENvbGxpc2lvblwiLHQuUGFzc2l2ZT1cIlBhc3NpdmVcIix0LkFjdGl2ZT1cIkFjdGl2ZVwiLHQuRml4ZWQ9XCJGaXhlZFwifShjdHx8KGN0PXt9KSk7dmFyIFd0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpLHIpe3RoaXMuY29sbGlkZXJBPXQsdGhpcy5jb2xsaWRlckI9ZSx0aGlzLm10dj1uLHRoaXMucG9pbnQ9aSx0aGlzLm5vcm1hbD1yfXJldHVybiB0LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe2lmKHQ9PT1ZLlJpZ2lkQm9keSl0aGlzLl9yZXNvbHZlUmlnaWRCb2R5Q29sbGlzaW9uKCk7ZWxzZXtpZih0IT09WS5Cb3gpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb2xsaXNpb24gcmVzb2x1dGlvbiBzdHJhdGVneVwiKTt0aGlzLl9yZXNvbHZlQm94Q29sbGlzaW9uKCl9fSx0LnByb3RvdHlwZS5fYXBwbHlCb3hJbXB1bHNlPWZ1bmN0aW9uKHQsZSxuKXtpZih0LnR5cGU9PT1jdC5BY3RpdmUmJmUudHlwZSE9PWN0LlBhc3NpdmUpe3QudHlwZT09PWN0LkFjdGl2ZSYmZS50eXBlPT09Y3QuQWN0aXZlJiYobj1uLnNjYWxlKC41KSksdC5ib2R5LnBvcy55Kz1uLnksdC5ib2R5LnBvcy54Kz1uLng7dmFyIGk9bi5ub3JtYWxpemUoKTtpZihpLmRvdCh0LmJvZHkudmVsKTwwKXt2YXIgcj1pLnNjYWxlKGkuZG90KHQuYm9keS52ZWwubmVnYXRlKCkpKTt0LmJvZHkudmVsPXQuYm9keS52ZWwuYWRkKHIpfXQuZW1pdChcInBvc3Rjb2xsaXNpb25cIixuZXcgRHQodCxlLEIobiksbikpfX0sdC5wcm90b3R5cGUuX3Jlc29sdmVCb3hDb2xsaXNpb249ZnVuY3Rpb24oKXt2YXIgdD1CKHRoaXMubXR2KSxlPXRoaXMubXR2Lm5lZ2F0ZSgpO3RoaXMuY29sbGlkZXJBLmVtaXQoXCJwcmVjb2xsaXNpb25cIixuZXcgTXQodGhpcy5jb2xsaWRlckEsdGhpcy5jb2xsaWRlckIsdCxlKSksdGhpcy5jb2xsaWRlckIuZW1pdChcInByZWNvbGxpc2lvblwiLG5ldyBNdCh0aGlzLmNvbGxpZGVyQix0aGlzLmNvbGxpZGVyQSxUKHQpLGUubmVnYXRlKCkpKSx0aGlzLl9hcHBseUJveEltcHVsc2UodGhpcy5jb2xsaWRlckEsdGhpcy5jb2xsaWRlckIsZSksdGhpcy5fYXBwbHlCb3hJbXB1bHNlKHRoaXMuY29sbGlkZXJCLHRoaXMuY29sbGlkZXJBLGUubmVnYXRlKCkpfSx0LnByb3RvdHlwZS5fcmVzb2x2ZVJpZ2lkQm9keUNvbGxpc2lvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sbGlkZXJBLmJvZHksZT10aGlzLmNvbGxpZGVyQi5ib2R5LG49dGhpcy5tdHYsaT10aGlzLm5vcm1hbDtpZih0IT09ZSl7dmFyIHI9Qih0aGlzLm10dik7aWYodGhpcy5jb2xsaWRlckEuZW1pdChcInByZWNvbGxpc2lvblwiLG5ldyBNdCh0aGlzLmNvbGxpZGVyQSx0aGlzLmNvbGxpZGVyQixyLHRoaXMubXR2KSksdGhpcy5jb2xsaWRlckIuZW1pdChcInByZWNvbGxpc2lvblwiLG5ldyBNdCh0aGlzLmNvbGxpZGVyQix0aGlzLmNvbGxpZGVyQSxUKHIpLHRoaXMubXR2Lm5lZ2F0ZSgpKSksdGhpcy5jb2xsaWRlckEudHlwZSE9PWN0LlBhc3NpdmUmJnRoaXMuY29sbGlkZXJCLnR5cGUhPT1jdC5QYXNzaXZlKXt2YXIgbz10aGlzLmNvbGxpZGVyQS50eXBlPT09Y3QuRml4ZWQ/MDoxL3RoaXMuY29sbGlkZXJBLm1hc3Mscz10aGlzLmNvbGxpZGVyQi50eXBlPT09Y3QuRml4ZWQ/MDoxL3RoaXMuY29sbGlkZXJCLm1hc3MsYT10aGlzLmNvbGxpZGVyQS50eXBlPT09Y3QuRml4ZWQ/MDoxL3RoaXMuY29sbGlkZXJBLmluZXJ0aWEsYz10aGlzLmNvbGxpZGVyQi50eXBlPT09Y3QuRml4ZWQ/MDoxL3RoaXMuY29sbGlkZXJCLmluZXJ0aWEsaD1NYXRoLm1pbih0aGlzLmNvbGxpZGVyQS5ib3VuY2luZXNzLHRoaXMuY29sbGlkZXJCLmJvdW5jaW5lc3MpLHU9TWF0aC5taW4odGhpcy5jb2xsaWRlckEuZnJpY3Rpb24sdGhpcy5jb2xsaWRlckIuZnJpY3Rpb24pLGw9KGk9aS5ub3JtYWxpemUoKSkubm9ybWFsKCkubm9ybWFsaXplKCkscD10aGlzLnBvaW50LnN1Yih0aGlzLmNvbGxpZGVyQS5jZW50ZXIpLGQ9dGhpcy5wb2ludC5zdWIodGhpcy5jb2xsaWRlckIuY2VudGVyKSxmPWUudmVsLmFkZChkLmNyb3NzKC1lLnJ4KSkuc3ViKHQudmVsLnN1YihwLmNyb3NzKHQucngpKSkseT1mLmRvdChpKSxnPWYuZG90KGwpLF89cC5kb3QobCksdj1wLmRvdChpKSxtPWQuZG90KGwpLGI9ZC5kb3QoaSk7aWYoISh5PjApKXt2YXIgdz0tKDEraCkqeS8obytzK2EqXypfK2MqbSptKTtpZih0aGlzLmNvbGxpZGVyQS50eXBlPT09Y3QuRml4ZWQ/KGUudmVsPWUudmVsLmFkZChpLnNjYWxlKHcqcykpLHN0LmFsbG93UmlnaWRCb2R5Um90YXRpb24mJihlLnJ4LT13KmMqLWQuY3Jvc3MoaSkpLGUuYWRkTXR2KG4pKTp0aGlzLmNvbGxpZGVyQi50eXBlPT09Y3QuRml4ZWQ/KHQudmVsPXQudmVsLnN1YihpLnNjYWxlKHcqbykpLHN0LmFsbG93UmlnaWRCb2R5Um90YXRpb24mJih0LnJ4Kz13KmEqLXAuY3Jvc3MoaSkpLHQuYWRkTXR2KG4ubmVnYXRlKCkpKTooZS52ZWw9ZS52ZWwuYWRkKGkuc2NhbGUodypzKSksdC52ZWw9dC52ZWwuc3ViKGkuc2NhbGUodypvKSksc3QuYWxsb3dSaWdpZEJvZHlSb3RhdGlvbiYmKGUucngtPXcqYyotZC5jcm9zcyhpKSx0LnJ4Kz13KmEqLXAuY3Jvc3MoaSkpLGUuYWRkTXR2KG4uc2NhbGUoLjUpKSx0LmFkZE10dihuLnNjYWxlKC0uNSkpKSx1JiZnKXt2YXIgeD1mLnN1YihpLnNjYWxlKGYuZG90KGkpKSkubm9ybWFsaXplKCksUD1mLmRvdCh4KS8obytzK3YqdiphK2IqYipjKSxBPW5ldyBWKDAsMCk7QT1NYXRoLmFicyhQKTw9dyp1P3guc2NhbGUoUCkubmVnYXRlKCk6eC5zY2FsZSgtdyp1KSx0aGlzLmNvbGxpZGVyQS50eXBlPT09Y3QuRml4ZWQ/KGUudmVsPWUudmVsLmFkZChBLnNjYWxlKHMpKSxzdC5hbGxvd1JpZ2lkQm9keVJvdGF0aW9uJiYoZS5yeCs9QS5kb3QoeCkqYypkLmNyb3NzKHgpKSk6dGhpcy5jb2xsaWRlckIudHlwZT09PWN0LkZpeGVkPyh0LnZlbD10LnZlbC5zdWIoQS5zY2FsZShvKSksc3QuYWxsb3dSaWdpZEJvZHlSb3RhdGlvbiYmKHQucngtPUEuZG90KHgpKmEqcC5jcm9zcyh4KSkpOihlLnZlbD1lLnZlbC5hZGQoQS5zY2FsZShzKSksdC52ZWw9dC52ZWwuc3ViKEEuc2NhbGUobykpLHN0LmFsbG93UmlnaWRCb2R5Um90YXRpb24mJihlLnJ4Kz1BLmRvdCh4KSpjKmQuY3Jvc3MoeCksdC5yeC09QS5kb3QoeCkqYSpwLmNyb3NzKHgpKSl9dGhpcy5jb2xsaWRlckEuZW1pdChcInBvc3Rjb2xsaXNpb25cIixuZXcgRHQodGhpcy5jb2xsaWRlckEsdGhpcy5jb2xsaWRlckIscix0aGlzLm10dikpLHRoaXMuY29sbGlkZXJCLmVtaXQoXCJwb3N0Y29sbGlzaW9uXCIsbmV3IER0KHRoaXMuY29sbGlkZXJCLHRoaXMuY29sbGlkZXJBLFQociksdGhpcy5tdHYubmVnYXRlKCkpKX19fX0sdH0oKSxOdD17Q29sbGlkZUNpcmNsZUNpcmNsZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQucmFkaXVzK2UucmFkaXVzLGk9dC53b3JsZFBvcyxyPWUud29ybGRQb3M7aWYoaS5kaXN0YW5jZShyKT5uKXJldHVybiBudWxsO3ZhciBvPXIuc3ViKGkpLm5vcm1hbGl6ZSgpLHM9by5zY2FsZShuLXIuZGlzdGFuY2UoaSkpLGE9dC5nZXRGdXJ0aGVzdFBvaW50KG8pO3JldHVybiBuZXcgV3QodC5jb2xsaWRlcixlLmNvbGxpZGVyLHMsYSxvKX0sQ29sbGlkZUNpcmNsZVBvbHlnb246ZnVuY3Rpb24odCxlKXt2YXIgbj10LnRlc3RTZXBhcmF0aW5nQXhpc1RoZW9yZW0oZSk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGk9bi5kb3QoZS5jZW50ZXIuc3ViKHQuY2VudGVyKSk7bj1pPDA/bi5uZWdhdGUoKTpuO3ZhciByPVtdLG89ZS5nZXRGdXJ0aGVzdFBvaW50KG4ubmVnYXRlKCkpLHM9dC5nZXRGdXJ0aGVzdFBvaW50KG4pO3JldHVybiB0LmNvbnRhaW5zKG8pJiZyLnB1c2gobyksZS5jb250YWlucyhzKSYmci5wdXNoKHMpLDA9PT1yLmxlbmd0aD9udWxsOm5ldyBXdCh0LmNvbGxpZGVyLGUuY29sbGlkZXIsbiwyPT09ci5sZW5ndGg/clswXS5hdmVyYWdlKHJbMV0pOnJbMF0sbi5ub3JtYWxpemUoKSl9LENvbGxpZGVDaXJjbGVFZGdlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jZW50ZXIsaT1lLmVuZC5zdWIoZS5iZWdpbikscj1pLmRvdChlLmVuZC5zdWIobikpLG89aS5kb3Qobi5zdWIoZS5iZWdpbikpO2lmKG88PTApe3ZhciBzPWUuYmVnaW4uc3ViKG4pLGE9cy5kb3Qocyk7cmV0dXJuIGE+dC5yYWRpdXMqdC5yYWRpdXM/bnVsbDpuZXcgV3QodC5jb2xsaWRlcixlLmNvbGxpZGVyLHMubm9ybWFsaXplKCkuc2NhbGUodC5yYWRpdXMtTWF0aC5zcXJ0KGEpKSxlLmJlZ2luLHMubm9ybWFsaXplKCkpfWlmKHI8PTApe3ZhciBjPWUuZW5kLnN1YihuKSxoPWMuZG90KGMpO3JldHVybiBoPnQucmFkaXVzKnQucmFkaXVzP251bGw6bmV3IFd0KHQuY29sbGlkZXIsZS5jb2xsaWRlcixjLm5vcm1hbGl6ZSgpLnNjYWxlKHQucmFkaXVzLU1hdGguc3FydChoKSksZS5lbmQsYy5ub3JtYWxpemUoKSl9dmFyIHU9aS5kb3QoaSksbD1lLmJlZ2luLnNjYWxlKHIpLmFkZChlLmVuZC5zY2FsZShvKSkuc2NhbGUoMS91KSxwPW4uc3ViKGwpLGQ9cC5kb3QocCk7aWYoZD50LnJhZGl1cyp0LnJhZGl1cylyZXR1cm4gbnVsbDt2YXIgZj1pLnBlcnBlbmRpY3VsYXIoKTtmLmRvdChuLnN1YihlLmJlZ2luKSk8MCYmKGYueD0tZi54LGYueT0tZi55KTt2YXIgeT0oZj1mLm5vcm1hbGl6ZSgpKS5zY2FsZShNYXRoLmFicyh0LnJhZGl1cy1NYXRoLnNxcnQoZCkpKTtyZXR1cm4gbmV3IFd0KHQuY29sbGlkZXIsZS5jb2xsaWRlcix5Lm5lZ2F0ZSgpLGwsZi5uZWdhdGUoKSl9LENvbGxpZGVFZGdlRWRnZTpmdW5jdGlvbigpe3JldHVybiBudWxsfSxDb2xsaWRlUG9seWdvbkVkZ2U6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmVuZC5zdWIoZS5iZWdpbikubm9ybWFsKCk7aWYodC5jb250YWlucyhlLmJlZ2luKSl7dmFyIGk9dC5nZXRDbG9zZXN0RmFjZShlLmJlZ2luKSxyPWkuZGlzdGFuY2Usbz1pLmZhY2U7aWYocilyZXR1cm4gbmV3IFd0KHQuY29sbGlkZXIsZS5jb2xsaWRlcixyLm5lZ2F0ZSgpLGUuYmVnaW4uYWRkKHIubmVnYXRlKCkpLG8ubm9ybWFsKCkubmVnYXRlKCkpfWlmKHQuY29udGFpbnMoZS5lbmQpKXt2YXIgcz10LmdldENsb3Nlc3RGYWNlKGUuZW5kKTtyPXMuZGlzdGFuY2Usbz1zLmZhY2U7aWYocilyZXR1cm4gbmV3IFd0KHQuY29sbGlkZXIsZS5jb2xsaWRlcixyLm5lZ2F0ZSgpLGUuZW5kLmFkZChyLm5lZ2F0ZSgpKSxvLm5vcm1hbCgpLm5lZ2F0ZSgpKX12YXIgYT10LmNlbnRlcixjPWUuY2VudGVyLnN1YihhKS5ub3JtYWxpemUoKSxoPW5ldyBadCh7Y29sbGlkZXI6ZS5jb2xsaWRlcixwb2ludHM6W2UuYmVnaW4sZS5lbmQsZS5lbmQuYWRkKGMuc2NhbGUoMzApKSxlLmJlZ2luLmFkZChjLnNjYWxlKDMwKSldfSksdT10LnRlc3RTZXBhcmF0aW5nQXhpc1RoZW9yZW0oaCk7cmV0dXJuIHU/KG49bi5kb3QoYyk8MD9uLm5lZ2F0ZSgpOm4sdT11LmRvdChjKTwwP3UubmVnYXRlKCk6dSxuZXcgV3QodC5jb2xsaWRlcixlLmNvbGxpZGVyLHUsdC5nZXRGdXJ0aGVzdFBvaW50KG4pLG4pKTpudWxsfSxDb2xsaWRlUG9seWdvblBvbHlnb246ZnVuY3Rpb24odCxlKXt2YXIgbj10LnRlc3RTZXBhcmF0aW5nQXhpc1RoZW9yZW0oZSk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGk9bi5kb3QoZS5jZW50ZXIuc3ViKHQuY2VudGVyKSk7bj1pPDA/bi5uZWdhdGUoKTpuO3ZhciByPVtdLG89dC5nZXRGdXJ0aGVzdFBvaW50KG4pLHM9ZS5nZXRGdXJ0aGVzdFBvaW50KG4ubmVnYXRlKCkpO2UuY29udGFpbnMobykmJnIucHVzaChvKSx0LmNvbnRhaW5zKHMpJiZyLnB1c2gocyksMD09PXIubGVuZ3RoJiZyLnB1c2gocyk7dmFyIGE9Mj09PXIubGVuZ3RoP3JbMF0uYWRkKHJbMV0pLnNjYWxlKC41KTpyWzBdO3JldHVybiBuZXcgV3QodC5jb2xsaWRlcixlLmNvbGxpZGVyLG4sYSxuLm5vcm1hbGl6ZSgpKX19O2Z1bmN0aW9uIHF0KHQsZSxuLGkpe3ZhciByPXQuc3ViKG4pLG89ZS5kb3QoZSkscz1lLmRvdChpKSxhPWkuZG90KGkpLGM9ZS5kb3QociksaD1pLmRvdChyKSx1PW8qYS1zKnMsbD11LHA9dTtpZigwPT09dXx8dTw9LjAxKXt2YXIgZD1jL3M7cmV0dXJuIG5ldyBYKHQsbi5hZGQoaS5zY2FsZShkKSkpfXZhciBmPXMqaC1hKmMseT1vKmgtcypjO3JldHVybiBmPDA/KGY9MCx5PWgscD1hKTpmPmwmJihmPWwseT1oK3MscD1hKSx5PDA/KHk9MCwtYzwwP2Y9MDotYz5vP2Y9bDooZj0tYyxsPW8pKTp5PnAmJih5PXAsLWMrczwwP2Y9MDotYytzPm8/Zj1sOihmPS1jK3MsbD1vKSksZj1NYXRoLmFicyhmKTwuMDAxPzA6Zi9sLHk9TWF0aC5hYnMoeSk8LjAwMT8wOnkvcCxuZXcgWCh0LmFkZChlLnNjYWxlKGYpKSxuLmFkZChpLnNjYWxlKHkpKSl9dmFyIFZ0LEd0PXtQb2x5Z29uUG9seWdvbkNsb3Nlc3RMaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS53b3JsZFBvcyxpPW4uc3ViKHQud29ybGRQb3MpLHI9aS5uZWdhdGUoKSxvPW5ldyBHKHQud29ybGRQb3MsaSkscz1uZXcgRyhuLHIpLGE9dC5yYXlDYXN0KG8pLmFkZChvLmRpci5zY2FsZSguMSkpLGM9ZS5yYXlDYXN0KHMpLmFkZChzLmRpci5zY2FsZSguMSkpLGg9dC5nZXRDbG9zZXN0RmFjZShhKSx1PWUuZ2V0Q2xvc2VzdEZhY2UoYyk7cmV0dXJuIHF0KGguZmFjZS5iZWdpbixoLmZhY2UuZ2V0RWRnZSgpLHUuZmFjZS5iZWdpbix1LmZhY2UuZ2V0RWRnZSgpKX0sUG9seWdvbkVkZ2VDbG9zZXN0TGluZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUud29ybGRQb3Muc3ViKHQud29ybGRQb3MpLGk9bmV3IEcodC53b3JsZFBvcyxuKSxyPXQucmF5Q2FzdChpKS5hZGQoaS5kaXIuc2NhbGUoLjEpKSxvPXQuZ2V0Q2xvc2VzdEZhY2Uocikscz1vLmZhY2UuYmVnaW4sYT1vLmZhY2UuZ2V0RWRnZSgpLGM9ZS5hc0xpbmUoKTtyZXR1cm4gcXQocyxhLGMuYmVnaW4sYy5nZXRFZGdlKCkpfSxQb2x5Z29uQ2lyY2xlQ2xvc2VzdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLndvcmxkUG9zLGk9bi5zdWIodC53b3JsZFBvcykscj1uZXcgRyh0LndvcmxkUG9zLGkubm9ybWFsaXplKCkpLG89dC5yYXlDYXN0KHIpLmFkZChyLmRpci5zY2FsZSguMSkpLHM9dC5nZXRDbG9zZXN0RmFjZShvKSxhPXMuZmFjZS5iZWdpbixjPXMuZmFjZS5nZXRFZGdlKCksaD0oYy54KihuLngtYS54KStjLnkqKG4ueS1hLnkpKS8oYy54KmMueCtjLnkqYy55KTtoPjE/aD0xOmg8MCYmKGg9MCk7dmFyIHU9TWF0aC5zcXJ0KE1hdGgucG93KGEueCtjLngqaC1uLngsMikrTWF0aC5wb3coYS55K2MueSpoLW4ueSwyKSktZS5yYWRpdXMsbD0oYS54K2MueCpoLW4ueCkqZS5yYWRpdXMvKGUucmFkaXVzK3UpLHA9KGEueStjLnkqaC1uLnkpKmUucmFkaXVzLyhlLnJhZGl1cyt1KTtyZXR1cm4gbmV3IFgoYy5zY2FsZShoKS5hZGQoYSksbmV3IFYobi54K2wsbi55K3ApKX0sQ2lyY2xlQ2lyY2xlQ2xvc2VzdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLndvcmxkUG9zLnN1Yih0LndvcmxkUG9zKSxpPXQud29ybGRQb3Muc3ViKGUud29ybGRQb3MpLHI9bmV3IEcodC53b3JsZFBvcyxuKSxvPW5ldyBHKGUud29ybGRQb3MsaSkscz10LnJheUNhc3QociksYT1lLnJheUNhc3Qobyk7cmV0dXJuIG5ldyBYKHMsYSl9LENpcmNsZUVkZ2VDbG9zZXN0TGluZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQud29ybGRQb3MsaT1lLmFzTGluZSgpLHI9aS5iZWdpbixvPWkuZ2V0RWRnZSgpLHM9KG8ueCoobi54LXIueCkrby55KihuLnktci55KSkvKG8ueCpvLngrby55Km8ueSk7cz4xP3M9MTpzPDAmJihzPTApO3ZhciBhPU1hdGguc3FydChNYXRoLnBvdyhyLngrby54KnMtbi54LDIpK01hdGgucG93KHIueStvLnkqcy1uLnksMikpLXQucmFkaXVzLGM9KHIueCtvLngqcy1uLngpKnQucmFkaXVzLyh0LnJhZGl1cythKSxoPShyLnkrby55KnMtbi55KSp0LnJhZGl1cy8odC5yYWRpdXMrYSk7cmV0dXJuIG5ldyBYKG8uc2NhbGUocykuYWRkKHIpLG5ldyBWKG4ueCtjLG4ueStoKSl9LEVkZ2VFZGdlQ2xvc2VzdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmFzTGluZSgpLGk9bi5iZWdpbixyPW4uZ2V0RWRnZSgpLG89ZS5hc0xpbmUoKTtyZXR1cm4gcXQoaSxyLG8uYmVnaW4sby5nZXRFZGdlKCkpfX0sWHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMub2Zmc2V0PVYuWmVybyx0aGlzLm9mZnNldD10Lm9mZnNldHx8Vi5aZXJvLHRoaXMucmFkaXVzPXQucmFkaXVzfHwwLHRoaXMuY29sbGlkZXI9dC5jb2xsaWRlcnx8bnVsbH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwid29ybGRQb3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGlkZXImJnRoaXMuY29sbGlkZXIuYm9keT90aGlzLmNvbGxpZGVyLmJvZHkucG9zLmFkZCh0aGlzLm9mZnNldCk6dGhpcy5vZmZzZXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoe29mZnNldDp0aGlzLm9mZnNldC5jbG9uZSgpLHJhZGl1czp0aGlzLnJhZGl1cyxjb2xsaWRlcjpudWxsfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xsaWRlciYmdGhpcy5jb2xsaWRlci5ib2R5P3RoaXMub2Zmc2V0LmFkZCh0aGlzLmNvbGxpZGVyLmJvZHkucG9zKTp0aGlzLm9mZnNldH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9mZnNldDtyZXR1cm4gdGhpcy5jb2xsaWRlciYmdGhpcy5jb2xsaWRlci5ib2R5JiYoZT10aGlzLmNvbGxpZGVyLmJvZHkucG9zKSxlLmRpc3RhbmNlKHQpPD10aGlzLnJhZGl1c30sdC5wcm90b3R5cGUucmF5Q2FzdD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTEvMCk7dmFyIG49dGhpcy5jZW50ZXIsaT10LmRpcixyPXQucG9zLG89TWF0aC5zcXJ0KE1hdGgucG93KGkuZG90KHIuc3ViKG4pKSwyKS1NYXRoLnBvdyhyLnN1YihuKS5kaXN0YW5jZSgpLDIpK01hdGgucG93KHRoaXMucmFkaXVzLDIpKTtpZihvPDApcmV0dXJuIG51bGw7dmFyIHM9MDtpZigwPT09bylyZXR1cm4ocz0taS5kb3Qoci5zdWIobikpKT4wJiZzPGU/dC5nZXRQb2ludChzKTpudWxsO3ZhciBhPS1pLmRvdChyLnN1YihuKSkrbyxjPS1pLmRvdChyLnN1YihuKSktbyxoPVtdO2E+PTAmJmgucHVzaChhKSxjPj0wJiZoLnB1c2goYyk7dmFyIHU9TWF0aC5taW4uYXBwbHkoTWF0aCxoKTtyZXR1cm4gdTw9ZT90LmdldFBvaW50KHUpOm51bGx9LHQucHJvdG90eXBlLmdldENsb3Nlc3RMaW5lQmV0d2Vlbj1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4gR3QuQ2lyY2xlQ2lyY2xlQ2xvc2VzdExpbmUodGhpcyxlKTtpZihlIGluc3RhbmNlb2YgWnQpcmV0dXJuIEd0LlBvbHlnb25DaXJjbGVDbG9zZXN0TGluZShlLHRoaXMpLmZsaXAoKTtpZihlIGluc3RhbmNlb2YgUXQpcmV0dXJuIEd0LkNpcmNsZUVkZ2VDbG9zZXN0TGluZSh0aGlzLGUpLmZsaXAoKTt0aHJvdyBuZXcgRXJyb3IoXCJQb2x5Z29uIGNvdWxkIG5vdCBjb2xsaWRlIHdpdGggdW5rbm93biBDb2xsaXNpb25TaGFwZSBcIit0eXBlb2YgZSl9LHQucHJvdG90eXBlLmNvbGxpZGU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHQpcmV0dXJuIE50LkNvbGxpZGVDaXJjbGVDaXJjbGUodGhpcyxlKTtpZihlIGluc3RhbmNlb2YgWnQpcmV0dXJuIE50LkNvbGxpZGVDaXJjbGVQb2x5Z29uKHRoaXMsZSk7aWYoZSBpbnN0YW5jZW9mIFF0KXJldHVybiBOdC5Db2xsaWRlQ2lyY2xlRWRnZSh0aGlzLGUpO3Rocm93IG5ldyBFcnJvcihcIkNpcmNsZSBjb3VsZCBub3QgY29sbGlkZSB3aXRoIHVua25vd24gQ29sbGlzaW9uU2hhcGUgXCIrdHlwZW9mIGUpfSx0LnByb3RvdHlwZS5nZXRGdXJ0aGVzdFBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNlbnRlci5hZGQodC5ub3JtYWxpemUoKS5zY2FsZSh0aGlzLnJhZGl1cykpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJib3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9Vi5aZXJvO3JldHVybiB0aGlzLmNvbGxpZGVyJiZ0aGlzLmNvbGxpZGVyLmJvZHkmJih0PXRoaXMuY29sbGlkZXIuYm9keS5wb3MpLG5ldyBLdCh0aGlzLm9mZnNldC54K3QueC10aGlzLnJhZGl1cyx0aGlzLm9mZnNldC55K3QueS10aGlzLnJhZGl1cyx0aGlzLm9mZnNldC54K3QueCt0aGlzLnJhZGl1cyx0aGlzLm9mZnNldC55K3QueSt0aGlzLnJhZGl1cyl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9jYWxCb3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBLdCh0aGlzLm9mZnNldC54LXRoaXMucmFkaXVzLHRoaXMub2Zmc2V0LnktdGhpcy5yYWRpdXMsdGhpcy5vZmZzZXQueCt0aGlzLnJhZGl1cyx0aGlzLm9mZnNldC55K3RoaXMucmFkaXVzKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJheGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImluZXJ0aWFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5tYXNzOnN0LmRlZmF1bHRNYXNzKSp0aGlzLnJhZGl1cyp0aGlzLnJhZGl1cy8yfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRlc3RTZXBhcmF0aW5nQXhpc1RoZW9yZW09ZnVuY3Rpb24odCl7dmFyIGU9dC5heGVzLG49dC5jZW50ZXIsaT10LmdldEZ1cnRoZXN0UG9pbnQodGhpcy5vZmZzZXQuc3ViKG4pKTtlLnB1c2godGhpcy5vZmZzZXQuc3ViKGkpLm5vcm1hbGl6ZSgpKTtmb3IodmFyIHI9TnVtYmVyLk1BWF9WQUxVRSxvPW51bGwscz0tMSxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBjPXQucHJvamVjdChlW2FdKSxoPXRoaXMucHJvamVjdChlW2FdKSx1PWMuZ2V0T3ZlcmxhcChoKTtpZih1PD0wKXJldHVybiBudWxsO3U8ciYmKHI9dSxvPWVbYV0scz1hKX1yZXR1cm4gczwwP251bGw6by5ub3JtYWxpemUoKS5zY2FsZShyKX0sdC5wcm90b3R5cGUucmVjYWxjPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49dGhpcy5jZW50ZXIuZG90KHQpO3JldHVybiBlLnB1c2gobiksZS5wdXNoKG4rdGhpcy5yYWRpdXMpLGUucHVzaChuLXRoaXMucmFkaXVzKSxuZXcgUShNYXRoLm1pbi5hcHBseShNYXRoLGUpLE1hdGgubWF4LmFwcGx5KE1hdGgsZSkpfSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT1ldC5HcmVlbiksdm9pZCAwPT09biYmKG49Vi5aZXJvKTt2YXIgaT1uLmFkZCh0aGlzLm9mZnNldCk7dC5iZWdpblBhdGgoKSx0LmZpbGxTdHlsZT1lLnRvU3RyaW5nKCksdC5hcmMoaS54LGkueSx0aGlzLnJhZGl1cywwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0LmZpbGwoKX0sdC5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ZXQuR3JlZW4pO3ZhciBuPXRoaXMuY29sbGlkZXIuYm9keSxpPW4/bi5wb3MuYWRkKHRoaXMub2Zmc2V0KTp0aGlzLm9mZnNldCxyPW4/bi5yb3RhdGlvbjowO3QuYmVnaW5QYXRoKCksdC5zdHJva2VTdHlsZT1lLnRvU3RyaW5nKCksdC5hcmMoaS54LGkueSx0aGlzLnJhZGl1cywwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0LnN0cm9rZSgpLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8oaS54LGkueSksdC5saW5lVG8oTWF0aC5jb3MocikqdGhpcy5yYWRpdXMraS54LE1hdGguc2luKHIpKnRoaXMucmFkaXVzK2kueSksdC5jbG9zZVBhdGgoKSx0LnN0cm9rZSgpfSx0fSgpLFF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmJlZ2luPXQuYmVnaW58fFYuWmVybyx0aGlzLmVuZD10LmVuZHx8Vi5aZXJvLHRoaXMuY29sbGlkZXI9dC5jb2xsaWRlcnx8bnVsbCx0aGlzLm9mZnNldD10aGlzLmNlbnRlcn1yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoe2JlZ2luOnRoaXMuYmVnaW4uY2xvbmUoKSxlbmQ6dGhpcy5lbmQuY2xvbmUoKSxjb2xsaWRlcjpudWxsfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIndvcmxkUG9zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbGxpZGVyJiZ0aGlzLmNvbGxpZGVyLmJvZHk/dGhpcy5jb2xsaWRlci5ib2R5LnBvcy5hZGQodGhpcy5vZmZzZXQpOnRoaXMub2Zmc2V0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iZWdpbi5hdmVyYWdlKHRoaXMuZW5kKS5hZGQodGhpcy5fZ2V0Qm9keVBvcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5fZ2V0Qm9keVBvcz1mdW5jdGlvbigpe3ZhciB0PVYuWmVybztyZXR1cm4gdGhpcy5jb2xsaWRlciYmdGhpcy5jb2xsaWRlci5ib2R5JiYodD10aGlzLmNvbGxpZGVyLmJvZHkucG9zKSx0fSx0LnByb3RvdHlwZS5fZ2V0VHJhbnNmb3JtZWRCZWdpbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5ib2R5Om51bGwsZT10P3Qucm90YXRpb246MDtyZXR1cm4gdGhpcy5iZWdpbi5yb3RhdGUoZSkuYWRkKHRoaXMuX2dldEJvZHlQb3MoKSl9LHQucHJvdG90eXBlLl9nZXRUcmFuc2Zvcm1lZEVuZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5ib2R5Om51bGwsZT10P3Qucm90YXRpb246MDtyZXR1cm4gdGhpcy5lbmQucm90YXRlKGUpLmFkZCh0aGlzLl9nZXRCb2R5UG9zKCkpfSx0LnByb3RvdHlwZS5nZXRTbG9wZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFRyYW5zZm9ybWVkQmVnaW4oKSxlPXRoaXMuX2dldFRyYW5zZm9ybWVkRW5kKCksbj10LmRpc3RhbmNlKGUpO3JldHVybiBlLnN1Yih0KS5zY2FsZSgxL24pfSx0LnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRUcmFuc2Zvcm1lZEJlZ2luKCksZT10aGlzLl9nZXRUcmFuc2Zvcm1lZEVuZCgpO3JldHVybiB0LmRpc3RhbmNlKGUpfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbigpe3JldHVybiExfSx0LnByb3RvdHlwZS5yYXlDYXN0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MS8wKTt2YXIgbj10aGlzLl9nZXRUcmFuc2Zvcm1lZEJlZ2luKCkuc3ViKHQucG9zKTtpZigwPT09dC5kaXIuY3Jvc3ModGhpcy5nZXRTbG9wZSgpKSYmMCE9PW4uY3Jvc3ModC5kaXIpKXJldHVybiBudWxsO3ZhciBpPXQuZGlyLmNyb3NzKHRoaXMuZ2V0U2xvcGUoKSk7aWYoMD09PWkpcmV0dXJuIG51bGw7dmFyIHI9bi5jcm9zcyh0aGlzLmdldFNsb3BlKCkpL2k7aWYocj49MCYmcjw9ZSl7dmFyIG89bi5jcm9zcyh0LmRpcikvaS90aGlzLmdldExlbmd0aCgpO2lmKG8+PTAmJm88PTEpcmV0dXJuIHQuZ2V0UG9pbnQocil9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldENsb3Nlc3RMaW5lQmV0d2Vlbj1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgWHQpcmV0dXJuIEd0LkNpcmNsZUVkZ2VDbG9zZXN0TGluZShlLHRoaXMpO2lmKGUgaW5zdGFuY2VvZiBadClyZXR1cm4gR3QuUG9seWdvbkVkZ2VDbG9zZXN0TGluZShlLHRoaXMpLmZsaXAoKTtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4gR3QuRWRnZUVkZ2VDbG9zZXN0TGluZSh0aGlzLGUpO3Rocm93IG5ldyBFcnJvcihcIlBvbHlnb24gY291bGQgbm90IGNvbGxpZGUgd2l0aCB1bmtub3duIENvbGxpc2lvblNoYXBlIFwiK3R5cGVvZiBlKX0sdC5wcm90b3R5cGUuY29sbGlkZT1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgWHQpcmV0dXJuIE50LkNvbGxpZGVDaXJjbGVFZGdlKGUsdGhpcyk7aWYoZSBpbnN0YW5jZW9mIFp0KXJldHVybiBOdC5Db2xsaWRlUG9seWdvbkVkZ2UoZSx0aGlzKTtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4gTnQuQ29sbGlkZUVkZ2VFZGdlKCk7dGhyb3cgbmV3IEVycm9yKFwiRWRnZSBjb3VsZCBub3QgY29sbGlkZSB3aXRoIHVua25vd24gQ29sbGlzaW9uU2hhcGUgXCIrdHlwZW9mIGUpfSx0LnByb3RvdHlwZS5nZXRGdXJ0aGVzdFBvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldFRyYW5zZm9ybWVkQmVnaW4oKSxuPXRoaXMuX2dldFRyYW5zZm9ybWVkRW5kKCk7cmV0dXJuIHQuZG90KGUpPjA/ZTpufSx0LnByb3RvdHlwZS5fYm91bmRzRnJvbUJlZ2luRW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBLdChNYXRoLm1pbih0LngsZS54KSxNYXRoLm1pbih0LnksZS55KSxNYXRoLm1heCh0LngsZS54KSxNYXRoLm1heCh0LnksZS55KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRUcmFuc2Zvcm1lZEJlZ2luKCksZT10aGlzLl9nZXRUcmFuc2Zvcm1lZEVuZCgpO3JldHVybiB0aGlzLl9ib3VuZHNGcm9tQmVnaW5FbmQodCxlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJsb2NhbEJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRzRnJvbUJlZ2luRW5kKHRoaXMuYmVnaW4sdGhpcy5lbmQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmFzTGluZT1mdW5jdGlvbigpe3JldHVybiBuZXcgWCh0aGlzLl9nZXRUcmFuc2Zvcm1lZEJlZ2luKCksdGhpcy5fZ2V0VHJhbnNmb3JtZWRFbmQoKSl9LHQucHJvdG90eXBlLmFzTG9jYWxMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBYKHRoaXMuYmVnaW4sdGhpcy5lbmQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJheGVzXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFRyYW5zZm9ybWVkRW5kKCkuc3ViKHRoaXMuX2dldFRyYW5zZm9ybWVkQmVnaW4oKSkubm9ybWFsKCksZT1bXTtyZXR1cm4gZS5wdXNoKHQpLGUucHVzaCh0Lm5lZ2F0ZSgpKSxlLnB1c2godC5ub3JtYWwoKSksZS5wdXNoKHQubm9ybWFsKCkubmVnYXRlKCkpLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW5lcnRpYVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbGxpZGVyP3RoaXMuY29sbGlkZXIubWFzczpzdC5kZWZhdWx0TWFzcyxlPXRoaXMuZW5kLnN1Yih0aGlzLmJlZ2luKS5kaXN0YW5jZSgpLzI7cmV0dXJuIHQqZSplfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlY2FsYz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucHJvamVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj1bdGhpcy5fZ2V0VHJhbnNmb3JtZWRCZWdpbigpLHRoaXMuX2dldFRyYW5zZm9ybWVkRW5kKCldLGk9bi5sZW5ndGgscj0wO3I8aTtyKyspZS5wdXNoKG5bcl0uZG90KHQpKTtyZXR1cm4gbmV3IFEoTWF0aC5taW4uYXBwbHkoTWF0aCxlKSxNYXRoLm1heC5hcHBseShNYXRoLGUpKX0sdC5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9ZXQuR3JlZW4pLHZvaWQgMD09PW4mJihuPVYuWmVybyk7dmFyIGk9dGhpcy5iZWdpbi5hZGQobikscj10aGlzLmVuZC5hZGQobik7dC5zdHJva2VTdHlsZT1lLnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhpLngsaS55KSx0LmxpbmVUbyhyLngsci55KSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCl9LHQucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPWV0LlJlZCk7dmFyIG49dGhpcy5fZ2V0VHJhbnNmb3JtZWRCZWdpbigpLGk9dGhpcy5fZ2V0VHJhbnNmb3JtZWRFbmQoKTt0LnN0cm9rZVN0eWxlPWUudG9TdHJpbmcoKSx0LmJlZ2luUGF0aCgpLHQubW92ZVRvKG4ueCxuLnkpLHQubGluZVRvKGkueCxpLnkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKX0sdH0oKSxadD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fdHJhbnNmb3JtZWRQb2ludHM9W10sdGhpcy5fYXhlcz1bXSx0aGlzLl9zaWRlcz1bXSx0aGlzLm9mZnNldD10Lm9mZnNldHx8Vi5aZXJvO3ZhciBlPSEhdC5jbG9ja3dpc2VXaW5kaW5nO3RoaXMucG9pbnRzPShlP3QucG9pbnRzLnJldmVyc2UoKTp0LnBvaW50cyl8fFtdLHRoaXMuY29sbGlkZXI9dGhpcy5jb2xsaWRlcj10LmNvbGxpZGVyfHxudWxsLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybWF0aW9uKCl9cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHtvZmZzZXQ6dGhpcy5vZmZzZXQuY2xvbmUoKSxwb2ludHM6dGhpcy5wb2ludHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9uZSgpfSkpLGNvbGxpZGVyOm51bGx9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwid29ybGRQb3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGlkZXImJnRoaXMuY29sbGlkZXIuYm9keT90aGlzLmNvbGxpZGVyLmJvZHkucG9zLmFkZCh0aGlzLm9mZnNldCk6dGhpcy5vZmZzZXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2VudGVyXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5ib2R5Om51bGw7cmV0dXJuIHQ/dC5wb3MuYWRkKHRoaXMub2Zmc2V0KTp0aGlzLm9mZnNldH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5fY2FsY3VsYXRlVHJhbnNmb3JtYXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbGxpZGVyP3RoaXMuY29sbGlkZXIuYm9keTpudWxsLGU9dD90LnBvcy5hZGQodGhpcy5vZmZzZXQpOnRoaXMub2Zmc2V0LG49dD90LnJvdGF0aW9uOjAsaT10P3Quc2NhbGU6Vi5PbmUscj10aGlzLnBvaW50cy5sZW5ndGg7dGhpcy5fdHJhbnNmb3JtZWRQb2ludHMubGVuZ3RoPTA7Zm9yKHZhciBvPTA7bzxyO28rKyl0aGlzLl90cmFuc2Zvcm1lZFBvaW50c1tvXT10aGlzLnBvaW50c1tvXS5zY2FsZShpKS5yb3RhdGUobikuYWRkKGUpfSx0LnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1lZFBvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1lZFBvaW50cy5sZW5ndGgmJighdGhpcy5jb2xsaWRlcnx8IXRoaXMuY29sbGlkZXIuYm9keXx8dGhpcy5jb2xsaWRlci5ib2R5Lm9sZFBvcy5lcXVhbHModGhpcy5jb2xsaWRlci5ib2R5LnBvcykmJnRoaXMuY29sbGlkZXIuYm9keS5vbGRSb3RhdGlvbj09PXRoaXMuY29sbGlkZXIuYm9keS5yb3RhdGlvbiYmdGhpcy5jb2xsaWRlci5ib2R5Lm9sZFNjYWxlPT09dGhpcy5jb2xsaWRlci5ib2R5LnNjYWxlKXx8dGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtYXRpb24oKSx0aGlzLl90cmFuc2Zvcm1lZFBvaW50c30sdC5wcm90b3R5cGUuZ2V0U2lkZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9zaWRlcy5sZW5ndGgpcmV0dXJuIHRoaXMuX3NpZGVzO2Zvcih2YXIgdD1bXSxlPXRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludHMoKSxuPWUubGVuZ3RoLGk9MDtpPG47aSsrKXQucHVzaChuZXcgWChlW2ldLGVbKGktMStuKSVuXSkpO3JldHVybiB0aGlzLl9zaWRlcz10LHRoaXMuX3NpZGVzfSx0LnByb3RvdHlwZS5yZWNhbGM9ZnVuY3Rpb24oKXt0aGlzLl9zaWRlcy5sZW5ndGg9MCx0aGlzLl9heGVzLmxlbmd0aD0wLHRoaXMuX3RyYW5zZm9ybWVkUG9pbnRzLmxlbmd0aD0wLHRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludHMoKSx0aGlzLmdldFNpZGVzKCl9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBHKHQsbmV3IFYoMSwwKSk7cmV0dXJuIHRoaXMuZ2V0U2lkZXMoKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuaW50ZXJzZWN0KG4pPj0wP3QrMTp0fSksMCklMiE9MH0sdC5wcm90b3R5cGUuZ2V0Q2xvc2VzdExpbmVCZXR3ZWVuPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBYdClyZXR1cm4gR3QuUG9seWdvbkNpcmNsZUNsb3Nlc3RMaW5lKHRoaXMsZSk7aWYoZSBpbnN0YW5jZW9mIHQpcmV0dXJuIEd0LlBvbHlnb25Qb2x5Z29uQ2xvc2VzdExpbmUodGhpcyxlKTtpZihlIGluc3RhbmNlb2YgUXQpcmV0dXJuIEd0LlBvbHlnb25FZGdlQ2xvc2VzdExpbmUodGhpcyxlKTt0aHJvdyBuZXcgRXJyb3IoXCJQb2x5Z29uIGNvdWxkIG5vdCBjb2xsaWRlIHdpdGggdW5rbm93biBDb2xsaXNpb25TaGFwZSBcIit0eXBlb2YgZSl9LHQucHJvdG90eXBlLmNvbGxpZGU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIFh0KXJldHVybiBOdC5Db2xsaWRlQ2lyY2xlUG9seWdvbihlLHRoaXMpO2lmKGUgaW5zdGFuY2VvZiB0KXJldHVybiBOdC5Db2xsaWRlUG9seWdvblBvbHlnb24odGhpcyxlKTtpZihlIGluc3RhbmNlb2YgUXQpcmV0dXJuIE50LkNvbGxpZGVQb2x5Z29uRWRnZSh0aGlzLGUpO3Rocm93IG5ldyBFcnJvcihcIlBvbHlnb24gY291bGQgbm90IGNvbGxpZGUgd2l0aCB1bmtub3duIENvbGxpc2lvblNoYXBlIFwiK3R5cGVvZiBlKX0sdC5wcm90b3R5cGUuZ2V0RnVydGhlc3RQb2ludD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50cygpLG49bnVsbCxpPS1OdW1iZXIuTUFYX1ZBTFVFLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89dC5kb3QoZVtyXSk7bz5pJiYoaT1vLG49ZVtyXSl9cmV0dXJuIG59LHQucHJvdG90eXBlLmdldENsb3Nlc3RGYWNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldFNpZGVzKCksbj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksaT0tMSxyPS0xLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHM9ZVtvXS5kaXN0YW5jZVRvUG9pbnQodCk7czxuJiYobj1zLGk9byxyPXMpfXJldHVybi0xIT09aT97ZGlzdGFuY2U6ZVtpXS5ub3JtYWwoKS5zY2FsZShyKSxmYWNlOmVbaV19Om51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFRyYW5zZm9ybWVkUG9pbnRzKCk7cmV0dXJuIEt0LmZyb21Qb2ludHModCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9jYWxCb3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEt0LmZyb21Qb2ludHModGhpcy5wb2ludHMpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImluZXJ0aWFcIix7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5tYXNzOnN0LmRlZmF1bHRNYXNzLGU9MCxuPTAsaT0wO2k8dGhpcy5wb2ludHMubGVuZ3RoO2krKyl7dmFyIHI9KGkrMSkldGhpcy5wb2ludHMubGVuZ3RoLG89dGhpcy5wb2ludHNbcl0uY3Jvc3ModGhpcy5wb2ludHNbaV0pO2UrPW8qKHRoaXMucG9pbnRzW2ldLmRvdCh0aGlzLnBvaW50c1tpXSkrdGhpcy5wb2ludHNbaV0uZG90KHRoaXMucG9pbnRzW3JdKSt0aGlzLnBvaW50c1tyXS5kb3QodGhpcy5wb2ludHNbcl0pKSxuKz1vfXJldHVybiB0LzYqKGUvbil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmF5Q2FzdD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTEvMCk7Zm9yKHZhciBuPXRoaXMuZ2V0U2lkZXMoKSxpPW4ubGVuZ3RoLHI9TnVtYmVyLk1BWF9WQUxVRSxvPS0xLHM9MDtzPGk7cysrKXt2YXIgYT10LmludGVyc2VjdChuW3NdKTthPj0wJiZhPHImJmE8PWUmJihyPWEsbz1zKX1yZXR1cm4gbz49MD90LmdldFBvaW50KHIpOm51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImF4ZXNcIix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fYXhlcy5sZW5ndGgpcmV0dXJuIHRoaXMuX2F4ZXM7Zm9yKHZhciB0PVtdLGU9dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50cygpLG49ZS5sZW5ndGgsaT0wO2k8bjtpKyspdC5wdXNoKGVbaV0uc3ViKGVbKGkrMSklbl0pLm5vcm1hbCgpKTtyZXR1cm4gdGhpcy5fYXhlcz10LHRoaXMuX2F4ZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudGVzdFNlcGFyYXRpbmdBeGlzVGhlb3JlbT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dCxuPXRoaXMuYXhlcy5jb25jYXQoZS5heGVzKSxpPU51bWJlci5NQVhfVkFMVUUscj1udWxsLG89LTEscz0wO3M8bi5sZW5ndGg7cysrKXt2YXIgYT10aGlzLnByb2plY3QobltzXSksYz1lLnByb2plY3QobltzXSksaD1hLmdldE92ZXJsYXAoYyk7aWYoaDw9MClyZXR1cm4gbnVsbDtoPGkmJihpPWgscj1uW3NdLG89cyl9cmV0dXJuLTE9PT1vP251bGw6ci5ub3JtYWxpemUoKS5zY2FsZShpKX0sdC5wcm90b3R5cGUucHJvamVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50cygpLG49ZS5sZW5ndGgsaT1OdW1iZXIuTUFYX1ZBTFVFLHI9LU51bWJlci5NQVhfVkFMVUUsbz0wO288bjtvKyspe3ZhciBzPWVbb10uZG90KHQpO2k9TWF0aC5taW4oaSxzKSxyPU1hdGgubWF4KHIscyl9cmV0dXJuIG5ldyBRKGkscil9LHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPWV0LkdyZWVuKSx2b2lkIDA9PT1uJiYobj1WLlplcm8pLHQuYmVnaW5QYXRoKCksdC5maWxsU3R5bGU9ZS50b1N0cmluZygpO3ZhciBpPW4uYWRkKHRoaXMub2Zmc2V0KSxyPXRoaXMucG9pbnRzWzBdLmFkZChpKTt0Lm1vdmVUbyhyLngsci55KSx0aGlzLnBvaW50cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZChpKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmxpbmVUbyhlLngsZS55KX0pKSx0LmxpbmVUbyhyLngsci55KSx0LmNsb3NlUGF0aCgpLHQuZmlsbCgpfSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1ldC5SZWQpLHQuYmVnaW5QYXRoKCksdC5zdHJva2VTdHlsZT1lLnRvU3RyaW5nKCk7dmFyIG49dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50cygpWzBdO3QubW92ZVRvKG4ueCxuLnkpLHRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmxpbmVUbyhlLngsZS55KX0pKSx0LmxpbmVUbyhuLngsbi55KSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCl9LHR9KCksS3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe3ZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PWkmJihpPTApLFwib2JqZWN0XCI9PXR5cGVvZiB0Pyh0aGlzLmxlZnQ9dC5sZWZ0LHRoaXMudG9wPXQudG9wLHRoaXMucmlnaHQ9dC5yaWdodCx0aGlzLmJvdHRvbT10LmJvdHRvbSk6XCJudW1iZXJcIj09dHlwZW9mIHQmJih0aGlzLmxlZnQ9dCx0aGlzLnRvcD1lLHRoaXMucmlnaHQ9bix0aGlzLmJvdHRvbT1pKX1yZXR1cm4gdC5nZXRTaWRlRnJvbUludGVyc2VjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdD9NYXRoLmFicyh0LngpPk1hdGguYWJzKHQueSk/dC54PDA/cC5SaWdodDpwLkxlZnQ6dC55PDA/cC5Cb3R0b206cC5Ub3A6cC5Ob25lfSx0LmZyb21Qb2ludHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTEvMCxpPTEvMCxyPS0xLzAsbz0tMS8wLHM9MDtzPGUubGVuZ3RoO3MrKyllW3NdLng8biYmKG49ZVtzXS54KSxlW3NdLng+ciYmKHI9ZVtzXS54KSxlW3NdLnk8aSYmKGk9ZVtzXS55KSxlW3NdLnk+byYmKG89ZVtzXS55KTtyZXR1cm4gbmV3IHQobixpLHIsbyl9LHQuZnJvbURpbWVuc2lvbj1mdW5jdGlvbihlLG4saSxyKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9Vi5IYWxmKSx2b2lkIDA9PT1yJiYocj1WLlplcm8pLG5ldyB0KC1lKmkueCtyLngsLW4qaS55K3IueSxlLWUqaS54K3IueCxuLW4qaS55K3IueSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJpZ2h0LXRoaXMubGVmdH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm90dG9tLXRoaXMudG9wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFYoKHRoaXMubGVmdCt0aGlzLnJpZ2h0KS8yLCh0aGlzLnRvcCt0aGlzLmJvdHRvbSkvMil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdCh0aGlzLmxlZnQrZS54LHRoaXMudG9wK2UueSx0aGlzLnJpZ2h0K2UueCx0aGlzLmJvdHRvbStlLnkpfSx0LnByb3RvdHlwZS5yb3RhdGU9ZnVuY3Rpb24oZSxuKXt2b2lkIDA9PT1uJiYobj1WLlplcm8pO3ZhciBpPXRoaXMuZ2V0UG9pbnRzKCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yb3RhdGUoZSxuKX0pKTtyZXR1cm4gdC5mcm9tUG9pbnRzKGkpfSx0LnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlLG4pe3ZvaWQgMD09PW4mJihuPVYuWmVybyk7dmFyIGk9dGhpcy50cmFuc2xhdGUobik7cmV0dXJuIG5ldyB0KGkubGVmdCplLngsaS50b3AqZS55LGkucmlnaHQqZS54LGkuYm90dG9tKmUueSl9LHQucHJvdG90eXBlLmdldFBlcmltZXRlcj1mdW5jdGlvbigpe3JldHVybiAyKih0aGlzLndpZHRoK3RoaXMuaGVpZ2h0KX0sdC5wcm90b3R5cGUuZ2V0UG9pbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHQucHVzaChuZXcgVih0aGlzLmxlZnQsdGhpcy50b3ApKSx0LnB1c2gobmV3IFYodGhpcy5yaWdodCx0aGlzLnRvcCkpLHQucHVzaChuZXcgVih0aGlzLnJpZ2h0LHRoaXMuYm90dG9tKSksdC5wdXNoKG5ldyBWKHRoaXMubGVmdCx0aGlzLmJvdHRvbSkpLHR9LHQucHJvdG90eXBlLnRvUG9seWdvbj1mdW5jdGlvbih0KXt2YXIgZT1udWxsO3JldHVybiB0JiZ0LmJvZHkmJnQuYm9keS5jb2xsaWRlciYmKGU9dC5ib2R5LmNvbGxpZGVyKSxuZXcgWnQoe2NvbGxpZGVyOmUscG9pbnRzOnRoaXMuZ2V0UG9pbnRzKCksb2Zmc2V0OlYuWmVyb30pfSx0LnByb3RvdHlwZS5yYXlDYXN0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MS8wKTt2YXIgbj0tMS8wLGk9MS8wLHI9MD09PXQuZGlyLng/TnVtYmVyLk1BWF9WQUxVRToxL3QuZGlyLngsbz0wPT09dC5kaXIueT9OdW1iZXIuTUFYX1ZBTFVFOjEvdC5kaXIueSxzPSh0aGlzLmxlZnQtdC5wb3MueCkqcixhPSh0aGlzLnJpZ2h0LXQucG9zLngpKnI7bj1NYXRoLm1pbihzLGEpLGk9TWF0aC5tYXgocyxhKTt2YXIgYz0odGhpcy50b3AtdC5wb3MueSkqbyxoPSh0aGlzLmJvdHRvbS10LnBvcy55KSpvO3JldHVybiBuPU1hdGgubWF4KG4sTWF0aC5taW4oYyxoKSksKGk9TWF0aC5taW4oaSxNYXRoLm1heChjLGgpKSk+PU1hdGgubWF4KDAsbikmJm48ZX0sdC5wcm90b3R5cGUucmF5Q2FzdFRpbWU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0xLzApO3ZhciBuPS0xLzAsaT0xLzAscj0wPT09dC5kaXIueD9OdW1iZXIuTUFYX1ZBTFVFOjEvdC5kaXIueCxvPTA9PT10LmRpci55P051bWJlci5NQVhfVkFMVUU6MS90LmRpci55LHM9KHRoaXMubGVmdC10LnBvcy54KSpyLGE9KHRoaXMucmlnaHQtdC5wb3MueCkqcjtuPU1hdGgubWluKHMsYSksaT1NYXRoLm1heChzLGEpO3ZhciBjPSh0aGlzLnRvcC10LnBvcy55KSpvLGg9KHRoaXMuYm90dG9tLXQucG9zLnkpKm87cmV0dXJuIG49TWF0aC5tYXgobixNYXRoLm1pbihjLGgpKSwoaT1NYXRoLm1pbihpLE1hdGgubWF4KGMsaCkpKT49TWF0aC5tYXgoMCxuKSYmbjxlP246LTF9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgVj90aGlzLmxlZnQ8PWUueCYmdGhpcy50b3A8PWUueSYmdGhpcy5ib3R0b20+PWUueSYmdGhpcy5yaWdodD49ZS54OmUgaW5zdGFuY2VvZiB0JiYodGhpcy5sZWZ0PGUubGVmdCYmdGhpcy50b3A8ZS50b3AmJmUuYm90dG9tPHRoaXMuYm90dG9tJiZlLnJpZ2h0PHRoaXMucmlnaHQpfSx0LnByb3RvdHlwZS5jb21iaW5lPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdChNYXRoLm1pbih0aGlzLmxlZnQsZS5sZWZ0KSxNYXRoLm1pbih0aGlzLnRvcCxlLnRvcCksTWF0aC5tYXgodGhpcy5yaWdodCxlLnJpZ2h0KSxNYXRoLm1heCh0aGlzLmJvdHRvbSxlLmJvdHRvbSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkaW1lbnNpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgVih0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb21iaW5lKHQpO2lmKGUud2lkdGg8dC53aWR0aCt0aGlzLndpZHRoJiZlLmhlaWdodDx0LmhlaWdodCt0aGlzLmhlaWdodCYmIWUuZGltZW5zaW9ucy5lcXVhbHModC5kaW1lbnNpb25zKSYmIWUuZGltZW5zaW9ucy5lcXVhbHModGhpcy5kaW1lbnNpb25zKSl7dmFyIG49MDtuPXRoaXMucmlnaHQ+PXQubGVmdCYmdGhpcy5yaWdodDw9dC5yaWdodD90LmxlZnQtdGhpcy5yaWdodDp0LnJpZ2h0LXRoaXMubGVmdDt2YXIgaT0wO3JldHVybiBpPXRoaXMudG9wPD10LmJvdHRvbSYmdGhpcy50b3A+PXQudG9wP3QuYm90dG9tLXRoaXMudG9wOnQudG9wLXRoaXMuYm90dG9tLE1hdGguYWJzKG4pPE1hdGguYWJzKGkpP25ldyBWKG4sMCk6bmV3IFYoMCxpKX1pZihlLmRpbWVuc2lvbnMuZXF1YWxzKHQuZGltZW5zaW9ucyl8fGUuZGltZW5zaW9ucy5lcXVhbHModGhpcy5kaW1lbnNpb25zKSl7bj0wO249dGhpcy53aWR0aC10LndpZHRoPj0wP3RoaXMucmlnaHQtdC5yaWdodDw9dC5sZWZ0LXRoaXMubGVmdD90LmxlZnQtdGhpcy5yaWdodDp0LnJpZ2h0LXRoaXMubGVmdDp0LnJpZ2h0LXRoaXMucmlnaHQ8PXRoaXMubGVmdC10LmxlZnQ/dGhpcy5sZWZ0LXQucmlnaHQ6dGhpcy5yaWdodC10LmxlZnQ7aT0wO3JldHVybiBpPXRoaXMuaGVpZ2h0LXQuaGVpZ2h0Pj0wP3RoaXMuYm90dG9tLXQuYm90dG9tPD10LnRvcC10aGlzLnRvcD90LnRvcC10aGlzLmJvdHRvbTp0LmJvdHRvbS10aGlzLnRvcDp0LmJvdHRvbS10aGlzLmJvdHRvbTw9dGhpcy50b3AtdC50b3A/dGhpcy50b3AtdC5ib3R0b206dGhpcy5ib3R0b20tdC50b3AsTWF0aC5hYnMobik8TWF0aC5hYnMoaSk/bmV3IFYobiwwKTpuZXcgVigwLGkpfXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5pbnRlcnNlY3RXaXRoU2lkZT1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmludGVyc2VjdChlKTtyZXR1cm4gdC5nZXRTaWRlRnJvbUludGVyc2VjdGlvbihuKX0sdC5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ZXQuWWVsbG93KSx0LnN0cm9rZVN0eWxlPWUudG9TdHJpbmcoKSx0LnN0cm9rZVJlY3QodGhpcy5sZWZ0LHRoaXMudG9wLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx0fSgpLFl0PWZ1bmN0aW9uKCl7cmV0dXJuKFl0PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPTEsaT1hcmd1bWVudHMubGVuZ3RoO248aTtuKyspZm9yKHZhciByIGluIGU9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07IWZ1bmN0aW9uKHQpe3QuRnVsbFNjcmVlbj1cIkZ1bGxTY3JlZW5cIix0LkNvbnRhaW5lcj1cIkNvbnRhaW5lclwiLHQuRml4ZWQ9XCJGaXhlZFwiLHQuUG9zaXRpb249XCJQb3NpdGlvblwifShWdHx8KFZ0PXt9KSk7dmFyIEp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJTVkdBXCIse2dldDpmdW5jdGlvbigpe3JldHVybnt3aWR0aDo4MDAsaGVpZ2h0OjYwMH19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJTdGFuZGFyZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57d2lkdGg6MTkyMCxoZWlnaHQ6MTA4MH19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJBdGFyaTI2MDBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOjE2MCxoZWlnaHQ6MTkyfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkdhbWVCb3lcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOjE2MCxoZWlnaHQ6MTQ0fX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkdhbWVCb3lBZHZhbmNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybnt3aWR0aDoyNDAsaGVpZ2h0OjE2MH19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJOaW50ZW5kb0RTXCIse2dldDpmdW5jdGlvbigpe3JldHVybnt3aWR0aDoyNTYsaGVpZ2h0OjE5Mn19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJORVNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOjI1NixoZWlnaHQ6MjI0fX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlNORVNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOjI1NixoZWlnaHQ6MjQ0fX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0fSgpLCR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZSxuLGkscj10aGlzO3RoaXMuX2FudGlhbGlhc2luZz0hMCx0aGlzLl9yZXNvbHV0aW9uU3RhY2s9W10sdGhpcy5fdmlld3BvcnRTdGFjaz1bXSx0aGlzLl9waXhlbFJhdGlvPW51bGwsdGhpcy5faXNGdWxsU2NyZWVuPSExLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5fbG9nZ2VyPVIuZ2V0SW5zdGFuY2UoKSx0aGlzLl9waXhlbFJhdGlvQ2hhbmdlSGFuZGxlcj1mdW5jdGlvbigpe3IuX2xvZ2dlci5kZWJ1ZyhcIlBpeGVsIFJhdGlvIENoYW5nZVwiLHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSxyLmFwcGx5UmVzb2x1dGlvbkFuZFZpZXdwb3J0KCl9LHRoaXMuX3dpbmRvd1Jlc2l6ZUhhbmRsZXI9ZnVuY3Rpb24oKXt2YXIgdD1yLmRpc3BsYXlNb2RlPT09VnQuQ29udGFpbmVyP3IuY2FudmFzLnBhcmVudEVsZW1lbnR8fGRvY3VtZW50LmJvZHk6d2luZG93O3IuX2xvZ2dlci5kZWJ1ZyhcIlZpZXcgcG9ydCByZXNpemVkXCIpLHIuX3NldEhlaWdodEJ5RGlzcGxheU1vZGUodCksci5fbG9nZ2VyLmluZm8oXCJwYXJlbnQuY2xpZW50SGVpZ2h0IFwiK3QuY2xpZW50SGVpZ2h0KSxyLmFwcGx5UmVzb2x1dGlvbkFuZFZpZXdwb3J0KCl9LHRoaXMudmlld3BvcnQ9dC52aWV3cG9ydCx0aGlzLnJlc29sdXRpb249bnVsbCE9PShlPXQucmVzb2x1dGlvbikmJnZvaWQgMCE9PWU/ZTpZdCh7fSx0aGlzLnZpZXdwb3J0KSx0aGlzLl9kaXNwbGF5TW9kZT1udWxsIT09KG49dC5kaXNwbGF5TW9kZSkmJnZvaWQgMCE9PW4/bjpWdC5GaXhlZCx0aGlzLl9jYW52YXM9dC5jYW52YXMsdGhpcy5fY3R4PXQuY29udGV4dCx0aGlzLl9hbnRpYWxpYXNpbmc9bnVsbCE9PShpPXQuYW50aWFsaWFzaW5nKSYmdm9pZCAwIT09aT9pOnRoaXMuX2FudGlhbGlhc2luZyx0aGlzLl9icm93c2VyPXQuYnJvd3Nlcix0aGlzLl9wb3NpdGlvbj10LnBvc2l0aW9uLHRoaXMuX3BpeGVsUmF0aW89dC5waXhlbFJhdGlvLHRoaXMuX2FwcGx5RGlzcGxheU1vZGUoKSx0aGlzLl9tZWRpYVF1ZXJ5TGlzdD10aGlzLl9icm93c2VyLndpbmRvdy5uYXRpdmVDb21wb25lbnQubWF0Y2hNZWRpYShcIihyZXNvbHV0aW9uOiBcIit3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbytcImRwcHgpXCIpLHRoaXMuX21lZGlhUXVlcnlMaXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLl9waXhlbFJhdGlvQ2hhbmdlSGFuZGxlcil9cmV0dXJuIHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9pc0Rpc3Bvc2VkfHwodGhpcy5faXNEaXNwb3NlZD0hMCx0aGlzLl9icm93c2VyLndpbmRvdy5vZmYoXCJyZXNpemVcIix0aGlzLl93aW5kb3dSZXNpemVIYW5kbGVyKSx0aGlzLl9tZWRpYVF1ZXJ5TGlzdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5fcGl4ZWxSYXRpb0NoYW5nZUhhbmRsZXIpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGl4ZWxSYXRpb1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGl4ZWxSYXRpbz90aGlzLl9waXhlbFJhdGlvOndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvPDE/MTp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0hpRHBpXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAxIT09dGhpcy5waXhlbFJhdGlvfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRpc3BsYXlNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNwbGF5TW9kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjYW52YXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbnZhc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyZXNvbHV0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXNvbHV0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmVzb2x1dGlvbj10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInZpZXdwb3J0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3cG9ydD90aGlzLl92aWV3cG9ydDp0aGlzLl9yZXNvbHV0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdmlld3BvcnQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzY2FsZWRXaWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzb2x1dGlvbi53aWR0aCp0aGlzLnBpeGVsUmF0aW99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwic2NhbGVkSGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXNvbHV0aW9uLmhlaWdodCp0aGlzLnBpeGVsUmF0aW99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuc2V0Q3VycmVudENhbWVyYT1mdW5jdGlvbih0KXt0aGlzLl9jYW1lcmE9dH0sdC5wcm90b3R5cGUucHVzaFJlc29sdXRpb25BbmRWaWV3cG9ydD1mdW5jdGlvbigpe3RoaXMuX3Jlc29sdXRpb25TdGFjay5wdXNoKHRoaXMucmVzb2x1dGlvbiksdGhpcy5fdmlld3BvcnRTdGFjay5wdXNoKHRoaXMudmlld3BvcnQpLHRoaXMucmVzb2x1dGlvbj1ZdCh7fSx0aGlzLnJlc29sdXRpb24pLHRoaXMudmlld3BvcnQ9WXQoe30sdGhpcy52aWV3cG9ydCl9LHQucHJvdG90eXBlLnBvcFJlc29sdXRpb25BbmRWaWV3cG9ydD1mdW5jdGlvbigpe3RoaXMucmVzb2x1dGlvbj10aGlzLl9yZXNvbHV0aW9uU3RhY2sucG9wKCksdGhpcy52aWV3cG9ydD10aGlzLl92aWV3cG9ydFN0YWNrLnBvcCgpfSx0LnByb3RvdHlwZS5hcHBseVJlc29sdXRpb25BbmRWaWV3cG9ydD1mdW5jdGlvbigpe3RoaXMuX2NhbnZhcy53aWR0aD10aGlzLnNjYWxlZFdpZHRoLHRoaXMuX2NhbnZhcy5oZWlnaHQ9dGhpcy5zY2FsZWRIZWlnaHQsdGhpcy5fY2FudmFzLnN0eWxlLmltYWdlUmVuZGVyaW5nPXRoaXMuX2FudGlhbGlhc2luZz9cImF1dG9cIjpcInBpeGVsYXRlZFwiLHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aD10aGlzLnZpZXdwb3J0LndpZHRoK1wicHhcIix0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0PXRoaXMudmlld3BvcnQuaGVpZ2h0K1wicHhcIix0aGlzLl9jdHgucmVzZXRUcmFuc2Zvcm0oKSx0aGlzLl9jdHguc2NhbGUodGhpcy5waXhlbFJhdGlvLHRoaXMucGl4ZWxSYXRpbyksdGhpcy5fY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZD10aGlzLl9hbnRpYWxpYXNpbmd9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFudGlhbGlhc2luZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW50aWFsaWFzaW5nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYW50aWFsaWFzaW5nPXQsdGhpcy5fY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZD10aGlzLl9hbnRpYWxpYXNpbmd9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNGdWxsU2NyZWVuXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0Z1bGxTY3JlZW59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ29GdWxsU2NyZWVuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fY2FudmFzLnJlcXVlc3RGdWxsc2NyZWVuKCkudGhlbigoZnVuY3Rpb24oKXt0Ll9pc0Z1bGxTY3JlZW49ITB9KSl9LHQucHJvdG90eXBlLmV4aXRGdWxsU2NyZWVuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKS50aGVuKChmdW5jdGlvbigpe3QuX2lzRnVsbFNjcmVlbj0hMX0pKX0sdC5wcm90b3R5cGUuc2NyZWVuVG9Xb3JsZENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyLG89dC54LHM9dC55O3JldHVybiBvPW8vdGhpcy52aWV3cG9ydC53aWR0aCp0aGlzLmRyYXdXaWR0aCxzPXMvdGhpcy52aWV3cG9ydC5oZWlnaHQqdGhpcy5kcmF3SGVpZ2h0LG8tPXRoaXMuaGFsZkRyYXdXaWR0aCxzLT10aGlzLmhhbGZEcmF3SGVpZ2h0LG8rPW51bGwhPT0obj1udWxsPT09KGU9dGhpcy5fY2FtZXJhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS54KSYmdm9pZCAwIT09bj9uOjAscys9bnVsbCE9PShyPW51bGw9PT0oaT10aGlzLl9jYW1lcmEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnkpJiZ2b2lkIDAhPT1yP3I6MCxuZXcgVihNYXRoLmZsb29yKG8pLE1hdGguZmxvb3IocykpfSx0LnByb3RvdHlwZS53b3JsZFRvU2NyZWVuQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHIsbz10Lngscz10Lnk7cmV0dXJuIG8tPW51bGwhPT0obj1udWxsPT09KGU9dGhpcy5fY2FtZXJhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS54KSYmdm9pZCAwIT09bj9uOjAscy09bnVsbCE9PShyPW51bGw9PT0oaT10aGlzLl9jYW1lcmEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnkpJiZ2b2lkIDAhPT1yP3I6MCxvKz10aGlzLmhhbGZEcmF3V2lkdGgscys9dGhpcy5oYWxmRHJhd0hlaWdodCxvPW8qdGhpcy52aWV3cG9ydC53aWR0aC90aGlzLmRyYXdXaWR0aCxzPXMqdGhpcy52aWV3cG9ydC5oZWlnaHQvdGhpcy5kcmF3SGVpZ2h0LG5ldyBWKE1hdGguZmxvb3IobyksTWF0aC5mbG9vcihzKSl9LHQucHJvdG90eXBlLmdldFdvcmxkQm91bmRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXMoVi5aZXJvKS54LGU9dGhpcy5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXMoVi5aZXJvKS55LG49dCt0aGlzLmRyYXdXaWR0aCxpPWUrdGhpcy5kcmF3SGVpZ2h0O3JldHVybiBuZXcgS3QodCxlLG4saSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNhbnZhc1dpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy53aWR0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJoYWxmQ2FudmFzV2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLndpZHRoLzJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2FudmFzSGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy5oZWlnaHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaGFsZkNhbnZhc0hlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0LzJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZHJhd1dpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYW1lcmE/dGhpcy5zY2FsZWRXaWR0aC90aGlzLl9jYW1lcmEuei90aGlzLnBpeGVsUmF0aW86dGhpcy5zY2FsZWRXaWR0aC90aGlzLnBpeGVsUmF0aW99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaGFsZkRyYXdXaWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmF3V2lkdGgvMn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkcmF3SGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYW1lcmE/dGhpcy5zY2FsZWRIZWlnaHQvdGhpcy5fY2FtZXJhLnovdGhpcy5waXhlbFJhdGlvOnRoaXMuc2NhbGVkSGVpZ2h0L3RoaXMucGl4ZWxSYXRpb30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJoYWxmRHJhd0hlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmF3SGVpZ2h0LzJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuX2FwcGx5RGlzcGxheU1vZGU9ZnVuY3Rpb24oKXtpZih0aGlzLmRpc3BsYXlNb2RlPT09VnQuRnVsbFNjcmVlbnx8dGhpcy5kaXNwbGF5TW9kZT09PVZ0LkNvbnRhaW5lcil7dmFyIHQ9dGhpcy5kaXNwbGF5TW9kZT09PVZ0LkNvbnRhaW5lcj90aGlzLmNhbnZhcy5wYXJlbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5OndpbmRvdzt0aGlzLl9zZXRIZWlnaHRCeURpc3BsYXlNb2RlKHQpLHRoaXMuX2Jyb3dzZXIud2luZG93Lm9uKFwicmVzaXplXCIsdGhpcy5fd2luZG93UmVzaXplSGFuZGxlcil9ZWxzZSB0aGlzLmRpc3BsYXlNb2RlPT09VnQuUG9zaXRpb24mJnRoaXMuX2luaXRpYWxpemVEaXNwbGF5TW9kZVBvc2l0aW9uKHRoaXMuX3Bvc2l0aW9uKX0sdC5wcm90b3R5cGUuX3NldEhlaWdodEJ5RGlzcGxheU1vZGU9ZnVuY3Rpb24odCl7dGhpcy5kaXNwbGF5TW9kZT09PVZ0LkNvbnRhaW5lciYmKHRoaXMucmVzb2x1dGlvbj17d2lkdGg6dC5jbGllbnRXaWR0aCxoZWlnaHQ6dC5jbGllbnRIZWlnaHR9LHRoaXMudmlld3BvcnQ9dGhpcy5yZXNvbHV0aW9uKSx0aGlzLmRpc3BsYXlNb2RlPT09VnQuRnVsbFNjcmVlbiYmKGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luPVwiMHB4XCIsZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHRoaXMucmVzb2x1dGlvbj17d2lkdGg6dC5pbm5lcldpZHRoLGhlaWdodDp0LmlubmVySGVpZ2h0fSx0aGlzLnZpZXdwb3J0PXRoaXMucmVzb2x1dGlvbil9LHQucHJvdG90eXBlLl9pbml0aWFsaXplRGlzcGxheU1vZGVQb3NpdGlvbj1mdW5jdGlvbih0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJEaXNwbGF5TW9kZSBvZiBQb3NpdGlvbiB3YXMgc2VsZWN0ZWQgYnV0IG5vIHBvc2l0aW9uIG9wdGlvbiB3YXMgZ2l2ZW5cIik7aWYodGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5jYW52YXMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgZT10LnNwbGl0KFwiIFwiKTtzd2l0Y2goZVswXSl7Y2FzZVwidG9wXCI6dGhpcy5jYW52YXMuc3R5bGUudG9wPVwiMHB4XCI7YnJlYWs7Y2FzZVwiYm90dG9tXCI6dGhpcy5jYW52YXMuc3R5bGUuYm90dG9tPVwiMHB4XCI7YnJlYWs7Y2FzZVwibWlkZGxlXCI6dGhpcy5jYW52YXMuc3R5bGUudG9wPVwiNTAlXCI7dmFyIG49LXRoaXMuaGFsZkRyYXdIZWlnaHQ7dGhpcy5jYW52YXMuc3R5bGUubWFyZ2luVG9wPW4udG9TdHJpbmcoKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgUG9zaXRpb24gR2l2ZW5cIil9aWYoZVsxXSlzd2l0Y2goZVsxXSl7Y2FzZVwibGVmdFwiOnRoaXMuY2FudmFzLnN0eWxlLmxlZnQ9XCIwcHhcIjticmVhaztjYXNlXCJyaWdodFwiOnRoaXMuY2FudmFzLnN0eWxlLnJpZ2h0PVwiMHB4XCI7YnJlYWs7Y2FzZVwiY2VudGVyXCI6dGhpcy5jYW52YXMuc3R5bGUubGVmdD1cIjUwJVwiO3ZhciBpPS10aGlzLmhhbGZEcmF3V2lkdGg7dGhpcy5jYW52YXMuc3R5bGUubWFyZ2luTGVmdD1pLnRvU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBvc2l0aW9uIEdpdmVuXCIpfX1lbHNlIHQudG9wJiYoXCJudW1iZXJcIj09dHlwZW9mIHQudG9wP3RoaXMuY2FudmFzLnN0eWxlLnRvcD10LnRvcC50b1N0cmluZygpK1wicHhcIjp0aGlzLmNhbnZhcy5zdHlsZS50b3A9dC50b3ApLHQucmlnaHQmJihcIm51bWJlclwiPT10eXBlb2YgdC5yaWdodD90aGlzLmNhbnZhcy5zdHlsZS5yaWdodD10LnJpZ2h0LnRvU3RyaW5nKCkrXCJweFwiOnRoaXMuY2FudmFzLnN0eWxlLnJpZ2h0PXQucmlnaHQpLHQuYm90dG9tJiYoXCJudW1iZXJcIj09dHlwZW9mIHQuYm90dG9tP3RoaXMuY2FudmFzLnN0eWxlLmJvdHRvbT10LmJvdHRvbS50b1N0cmluZygpK1wicHhcIjp0aGlzLmNhbnZhcy5zdHlsZS5ib3R0b209dC5ib3R0b20pLHQubGVmdCYmKFwibnVtYmVyXCI9PXR5cGVvZiB0LmxlZnQ/dGhpcy5jYW52YXMuc3R5bGUubGVmdD10LmxlZnQudG9TdHJpbmcoKStcInB4XCI6dGhpcy5jYW52YXMuc3R5bGUubGVmdD10LmxlZnQpfSx0fSgpLHRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9oYW5kbGVycz17fSx0aGlzLl93aXJlZEV2ZW50RGlzcGF0Y2hlcnM9W10sdGhpcy5fdGFyZ2V0PXR9cmV0dXJuIHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlcnM9e30sdGhpcy5fd2lyZWRFdmVudERpc3BhdGNoZXJzPVtdfSx0LnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQsZSl7aWYodCl7dD10LnRvTG93ZXJDYXNlKCk7dmFyIG4saSxyPXRoaXMuX3RhcmdldDtpZihlfHwoZT1uZXcgaHQpLGUudGFyZ2V0PXIsdGhpcy5faGFuZGxlcnNbdF0pZm9yKG49MCxpPXRoaXMuX2hhbmRsZXJzW3RdLmxlbmd0aDtuPGk7bisrKXRoaXMuX2hhbmRsZXJzW3RdW25dLmNhbGwocixlKTtmb3Iobj0wLGk9dGhpcy5fd2lyZWRFdmVudERpc3BhdGNoZXJzLmxlbmd0aDtuPGk7bisrKXRoaXMuX3dpcmVkRXZlbnREaXNwYXRjaGVyc1tuXS5lbWl0KHQsZSl9fSx0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUpe3Q9dC50b0xvd2VyQ2FzZSgpLHRoaXMuX2hhbmRsZXJzW3RdfHwodGhpcy5faGFuZGxlcnNbdF09W10pLHRoaXMuX2hhbmRsZXJzW3RdLnB1c2goZSksXCJ1bnN1YnNjcmliZVwiIT09dCYmXCJzdWJzY3JpYmVcIiE9PXQmJnRoaXMuZW1pdChcInN1YnNjcmliZVwiLG5ldyBDdCh0LGUpKX0sdC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSl7dD10LnRvTG93ZXJDYXNlKCk7dmFyIG49dGhpcy5faGFuZGxlcnNbdF07aWYobilpZihlKXt2YXIgaT1uLmluZGV4T2YoZSk7dGhpcy5faGFuZGxlcnNbdF0uc3BsaWNlKGksMSl9ZWxzZSB0aGlzLl9oYW5kbGVyc1t0XS5sZW5ndGg9MDtcInVuc3Vic2NyaWJlXCIhPT10JiZcInN1YnNjcmliZVwiIT09dCYmdGhpcy5lbWl0KFwidW5zdWJzY3JpYmVcIixuZXcgT3QodCxlKSl9LHQucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMub24odCwoZnVuY3Rpb24oaSl7dmFyIHI9aXx8bmV3IGh0O3IudGFyZ2V0PXIudGFyZ2V0fHxuLl90YXJnZXQsbi5vZmYodCxlKSxlLmNhbGwoci50YXJnZXQscil9KSl9LHQucHJvdG90eXBlLndpcmU9ZnVuY3Rpb24odCl7dC5fd2lyZWRFdmVudERpc3BhdGNoZXJzLnB1c2godGhpcyl9LHQucHJvdG90eXBlLnVud2lyZT1mdW5jdGlvbih0KXt2YXIgZT10Ll93aXJlZEV2ZW50RGlzcGF0Y2hlcnMuaW5kZXhPZih0aGlzKTtlPi0xJiZ0Ll93aXJlZEV2ZW50RGlzcGF0Y2hlcnMuc3BsaWNlKGUsMSl9LHR9KCksZWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5ldmVudERpc3BhdGNoZXI9bmV3IHRlKHRoaXMpfXJldHVybiB0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUpe3RoaXMuZXZlbnREaXNwYXRjaGVyLm9uKHQsZSl9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3RoaXMuZXZlbnREaXNwYXRjaGVyLm9mZih0LGUpfSx0LnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQsZSl7dGhpcy5ldmVudERpc3BhdGNoZXIuZW1pdCh0LGUpfSx0LnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7dGhpcy5ldmVudERpc3BhdGNoZXIub25jZSh0LGUpfSx0fSgpLG5lPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KShlLG4pfTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxuKSxlLnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpLGllPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZvaWQgMD09PWkmJihpPSEwKTt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIucGF0aD1lLHIucmVzcG9uc2VUeXBlPW4sci5idXN0Q2FjaGU9aSxyLmRhdGE9bnVsbCxyLmxvZ2dlcj1SLmdldEluc3RhbmNlKCksci5hcnJheUJ1ZmZlcj1udWxsLHIub25wcm9ncmVzcz1mdW5jdGlvbigpe30sci5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7fSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXt9LHJ9cmV0dXJuIG5lKGUsdCksZS5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZGF0YX0sZS5wcm90b3R5cGUud2lyZUVuZ2luZT1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9jYWNoZUJ1c3Q9ZnVuY3Rpb24odCl7cmV0dXJuL1xcP1xcdyo9XFx3Ki8udGVzdCh0KT90Kz1cIiZfXz1cIitEYXRlLm5vdygpOnQrPVwiP19fPVwiK0RhdGUubm93KCksdH0sZS5wcm90b3R5cGUuX3N0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuZGVidWcoXCJTdGFydGVkIGxvYWRpbmcgcmVzb3VyY2UgXCIrdGhpcy5wYXRoKX0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1uZXcgZDtpZihudWxsIT09dGhpcy5kYXRhKXJldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkFscmVhZHkgaGF2ZSBkYXRhIGZvciByZXNvdXJjZVwiLHRoaXMucGF0aCksZS5yZXNvbHZlKHRoaXMuZGF0YSksdGhpcy5vbmNvbXBsZXRlKCksZTt2YXIgbj1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIG4ub3BlbihcIkdFVFwiLHRoaXMuYnVzdENhY2hlP3RoaXMuX2NhY2hlQnVzdCh0aGlzLnBhdGgpOnRoaXMucGF0aCwhMCksbi5yZXNwb25zZVR5cGU9dGhpcy5yZXNwb25zZVR5cGUsbi5vbmxvYWRzdGFydD1mdW5jdGlvbigpe3QuX3N0YXJ0KCl9LG4ub25wcm9ncmVzcz10aGlzLm9ucHJvZ3Jlc3Msbi5vbmVycm9yPXRoaXMub25lcnJvcixuLm9ubG9hZD1mdW5jdGlvbigpe2lmKDAhPT1uLnN0YXR1cyYmMjAwIT09bi5zdGF0dXMpcmV0dXJuIHQubG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgcmVzb3VyY2UgXCIsdC5wYXRoLFwiIHNlcnZlciByZXNwb25kZWQgd2l0aCBlcnJvciBjb2RlXCIsbi5zdGF0dXMpLHQub25lcnJvcihuLnJlc3BvbnNlKSx2b2lkIGUucmVzb2x2ZShuLnJlc3BvbnNlKTt0LmRhdGE9dC5wcm9jZXNzRGF0YShuLnJlc3BvbnNlKSx0Lm9uY29tcGxldGUoKSx0LmxvZ2dlci5kZWJ1ZyhcIkNvbXBsZXRlZCBsb2FkaW5nIHJlc291cmNlXCIsdC5wYXRoKSxlLnJlc29sdmUodC5kYXRhKX0sbi5zZW5kKCksZX0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LGUucHJvdG90eXBlLmdldEFycmF5RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFycmF5QnVmZmVyfSxlLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuZGF0YT10aGlzLnByb2Nlc3NEYXRhKHQpfSxlLnByb3RvdHlwZS5wcm9jZXNzRGF0YT1mdW5jdGlvbih0KXtyZXR1cm5cImJsb2JcIj09PXRoaXMucmVzcG9uc2VUeXBlP1VSTC5jcmVhdGVPYmplY3RVUkwodCk6dH0sZX0oZWUpLHJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPTQqKHQrZSpuLndpZHRoKSxyPW4uZGF0YSxvPShyW2krMF0rcltpKzFdK3JbaSsyXSkvMztyW2krMF09byxyW2krMV09byxyW2krMl09b30sdH0oKSxvZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT00Kih0K2Uqbi53aWR0aCkscj1uLmRhdGE7cltpKzBdPTI1NS1yW2krMF0scltpKzFdPTI1NS1yW2krMV0scltpKzJdPTI1NS1yW2krMl19LHR9KCksc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMub3BhY2l0eT10fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVQaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9NCoodCtlKm4ud2lkdGgpLHI9bi5kYXRhOzAhPT1yW2krM10mJihyW2krM109TWF0aC5yb3VuZCh0aGlzLm9wYWNpdHkqcltpKzNdKSl9LHR9KCksYWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY29sb3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPTQqKHQrZSpuLndpZHRoKSxyPW4uZGF0YTswIT09cltpKzNdJiYocltpKzBdPShyW2krMF0rdGhpcy5jb2xvci5yKS8yLHJbaSsxXT0ocltpKzFdK3RoaXMuY29sb3IuZykvMixyW2krMl09KHJbaSsyXSt0aGlzLmNvbG9yLmIpLzIpfSx0fSgpLGNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5mYWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPTQqKHQrZSpuLndpZHRoKSxyPW4uZGF0YSxvPWV0LmZyb21SR0IocltpKzBdLHJbaSsxXSxyW2krMl0scltpKzNdKS5saWdodGVuKHRoaXMuZmFjdG9yKTtyW2krMF09by5yLHJbaSsxXT1vLmcscltpKzJdPW8uYixyW2krM109by5hfSx0fSgpLGhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5mYWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPTQqKHQrZSpuLndpZHRoKSxyPW4uZGF0YSxvPWV0LmZyb21SR0IocltpKzBdLHJbaSsxXSxyW2krMl0scltpKzNdKS5kYXJrZW4odGhpcy5mYWN0b3IpO3JbaSswXT1vLnIscltpKzFdPW8uZyxyW2krMl09by5iLHJbaSszXT1vLmF9LHR9KCksdWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmZhY3Rvcj10fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVQaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9NCoodCtlKm4ud2lkdGgpLHI9bi5kYXRhLG89ZXQuZnJvbVJHQihyW2krMF0scltpKzFdLHJbaSsyXSxyW2krM10pLnNhdHVyYXRlKHRoaXMuZmFjdG9yKTtyW2krMF09by5yLHJbaSsxXT1vLmcscltpKzJdPW8uYixyW2krM109by5hfSx0fSgpLGxlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5mYWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPTQqKHQrZSpuLndpZHRoKSxyPW4uZGF0YSxvPWV0LmZyb21SR0IocltpKzBdLHJbaSsxXSxyW2krMl0scltpKzNdKS5kZXNhdHVyYXRlKHRoaXMuZmFjdG9yKTtyW2krMF09by5yLHJbaSsxXT1vLmcscltpKzJdPW8uYixyW2krM109by5hfSx0fSgpLHBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmNvbG9yPXR9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT00Kih0K2Uqbi53aWR0aCkscj1uLmRhdGE7MCE9PXJbaSszXSYmKHJbaSswXT10aGlzLmNvbG9yLnIscltpKzFdPXRoaXMuY29sb3IuZyxyW2krMl09dGhpcy5jb2xvci5iKX0sdH0oKSxkZT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsbil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkoZSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKTtmdW5jdGlvbiBmZSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgZT1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuXTt2YXIgaT10LmFwcGx5KHRoaXMsZSl8fHRoaXMscj1lLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXR9KSkubGVuZ3RoO3JldHVybiAxIT09cnx8IWVbMF18fFwib2JqZWN0XCIhPXR5cGVvZiBlWzBdfHxlWzBdaW5zdGFuY2VvZiBBcnJheXx8aS5hc3NpZ24oZVswXSksaX1yZXR1cm4gZGUoZSx0KSxlLnByb3RvdHlwZS5hc3NpZ249ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpc1tlXSYmKHRoaXNbZV09dFtlXSl9LGV9KHQpfXZhciB5ZSxnZT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsbil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkoZSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxfZT1mdW5jdGlvbigpe3JldHVybihfZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGUsbj0xLGk9YXJndW1lbnRzLmxlbmd0aDtuPGk7bisrKWZvcih2YXIgciBpbiBlPWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHZlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuLGkscixvKXx8dGhpc31yZXR1cm4gZ2UoZSx0KSxlfShmZShmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSxyKXt2YXIgbz10aGlzO3RoaXMueD0wLHRoaXMueT0wLHRoaXMucm90YXRpb249MCx0aGlzLmFuY2hvcj1uZXcgVigwLDApLHRoaXMub2Zmc2V0PVYuWmVybyx0aGlzLnNjYWxlPVYuT25lLHRoaXMubG9nZ2VyPVIuZ2V0SW5zdGFuY2UoKSx0aGlzLmZsaXBWZXJ0aWNhbD0hMSx0aGlzLmZsaXBIb3Jpem9udGFsPSExLHRoaXMuZWZmZWN0cz1bXSx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLl9zcHJpdGVDYW52YXM9bnVsbCx0aGlzLl9zcHJpdGVDdHg9bnVsbCx0aGlzLl9waXhlbERhdGE9bnVsbCx0aGlzLl9waXhlbHNMb2FkZWQ9ITEsdGhpcy5fZGlydHlFZmZlY3Q9ITEsdGhpcy5fb3BhY2l0eT0xO3ZhciBzPXQ7aWYodCYmISh0IGluc3RhbmNlb2YgYmUpJiYoZT0wfHQueCxuPTB8dC55LGk9MHx0LndpZHRoLHI9MHx0LmhlaWdodCwhKHM9dC5pbWFnZSkpKXt0aHJvdyBuZXcgRXJyb3IoXCJBbiBpbWFnZSB0ZXh0dXJlIGlzIHJlcXVpcmVkIHRvIGNvbnRzcnVjdCBhIHNwcml0ZVwiKX10aGlzLng9ZXx8MCx0aGlzLnk9bnx8MCx0aGlzLl90ZXh0dXJlPXMsdGhpcy5fc3ByaXRlQ2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdGhpcy5fc3ByaXRlQ2FudmFzLndpZHRoPWksdGhpcy5fc3ByaXRlQ2FudmFzLmhlaWdodD1yLHRoaXMuX3Nwcml0ZUN0eD10aGlzLl9zcHJpdGVDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuX3RleHR1cmUubG9hZGVkLnRoZW4oKGZ1bmN0aW9uKCl7by53aWR0aD1vLndpZHRofHxvLl90ZXh0dXJlLmltYWdlLm5hdHVyYWxXaWR0aCxvLmhlaWdodD1vLmhlaWdodHx8by5fdGV4dHVyZS5pbWFnZS5uYXR1cmFsSGVpZ2h0LG8uX3Nwcml0ZUNhbnZhcy53aWR0aD1vLl9zcHJpdGVDYW52YXMud2lkdGh8fG8uX3RleHR1cmUuaW1hZ2UubmF0dXJhbFdpZHRoLG8uX3Nwcml0ZUNhbnZhcy5oZWlnaHQ9by5fc3ByaXRlQ2FudmFzLmhlaWdodHx8by5fdGV4dHVyZS5pbWFnZS5uYXR1cmFsSGVpZ2h0LG8uX2xvYWRQaXhlbHMoKSxvLl9kaXJ0eUVmZmVjdD0hMH0pKS5lcnJvcigoZnVuY3Rpb24odCl7by5sb2dnZXIuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHRleHR1cmUgXCIsby5fdGV4dHVyZS5wYXRoLHQpfSkpLHRoaXMud2lkdGg9aSx0aGlzLmhlaWdodD1yfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkcmF3V2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgqdGhpcy5zY2FsZS54fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRyYXdIZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVpZ2h0KnRoaXMuc2NhbGUueX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5fbG9hZFBpeGVscz1mdW5jdGlvbigpe2lmKHRoaXMuX3RleHR1cmUuaXNMb2FkZWQoKSYmIXRoaXMuX3BpeGVsc0xvYWRlZCl7dmFyIHQ9dGhpcy5fdGV4dHVyZS5pbWFnZS5uYXR1cmFsV2lkdGh8fDAsZT10aGlzLl90ZXh0dXJlLmltYWdlLm5hdHVyYWxIZWlnaHR8fDA7aWYodGhpcy53aWR0aD50JiZ0aGlzLmxvZ2dlci53YXJuKFwiVGhlIHNwcml0ZSB3aWR0aCBcIit0aGlzLndpZHRoK1wiIGV4Y2VlZHMgdGhlIHdpZHRoIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiK3QrXCIgb2YgdGhlIGJhY2tpbmcgdGV4dHVyZSBcIit0aGlzLl90ZXh0dXJlLnBhdGgpLHRoaXMud2lkdGg8PTB8fHQ8PTApdGhyb3cgbmV3IEVycm9yKFwiVGhlIHdpZHRoIG9mIGEgc3ByaXRlIGNhbm5vdCBiZSAwIG9yIG5lZ2F0aXZlLCBzcHJpdGUgd2lkdGg6IFwiK3RoaXMud2lkdGgrXCIsIG9yaWdpbmFsIHdpZHRoOiBcIit0KTtpZih0aGlzLmhlaWdodD5lJiZ0aGlzLmxvZ2dlci53YXJuKFwiVGhlIHNwcml0ZSBoZWlnaHQgXCIrdGhpcy5oZWlnaHQrXCIgZXhjZWVkcyB0aGUgaGVpZ2h0IFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiK2UrXCIgb2YgdGhlIGJhY2tpbmcgdGV4dHVyZSBcIit0aGlzLl90ZXh0dXJlLnBhdGgpLHRoaXMuaGVpZ2h0PD0wfHxlPD0wKXRocm93IG5ldyBFcnJvcihcIlRoZSBoZWlnaHQgb2YgYSBzcHJpdGUgY2Fubm90IGJlIDAgb3IgbmVnYXRpdmUsIHNwcml0ZSBoZWlnaHQ6IFwiK3RoaXMuaGVpZ2h0K1wiLCBvcmlnaW5hbCBoZWlnaHQ6IFwiK2UpO3RoaXMuX3Nwcml0ZUN0eC5kcmF3SW1hZ2UodGhpcy5fdGV4dHVyZS5pbWFnZSxtKHRoaXMueCwwLHQpLG0odGhpcy55LDAsZSksbSh0aGlzLndpZHRoLDAsdCksbSh0aGlzLmhlaWdodCwwLGUpLDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLl9waXhlbHNMb2FkZWQ9ITB9fSx0LnByb3RvdHlwZS5vcGFjaXR5PWZ1bmN0aW9uKHQpe3RoaXMuX29wYWNpdHk9dH0sdC5wcm90b3R5cGUuZ3JheXNjYWxlPWZ1bmN0aW9uKCl7dGhpcy5hZGRFZmZlY3QobmV3IHJlKX0sdC5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7dGhpcy5hZGRFZmZlY3QobmV3IG9lKX0sdC5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih0KXt0aGlzLmFkZEVmZmVjdChuZXcgcGUodCkpfSx0LnByb3RvdHlwZS5jb2xvcml6ZT1mdW5jdGlvbih0KXt0aGlzLmFkZEVmZmVjdChuZXcgYWUodCkpfSx0LnByb3RvdHlwZS5saWdodGVuPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmFkZEVmZmVjdChuZXcgY2UodCkpfSx0LnByb3RvdHlwZS5kYXJrZW49ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpLHRoaXMuYWRkRWZmZWN0KG5ldyBoZSh0KSl9LHQucHJvdG90eXBlLnNhdHVyYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmFkZEVmZmVjdChuZXcgdWUodCkpfSx0LnByb3RvdHlwZS5kZXNhdHVyYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmFkZEVmZmVjdChuZXcgbGUodCkpfSx0LnByb3RvdHlwZS5hZGRFZmZlY3Q9ZnVuY3Rpb24odCl7dGhpcy5lZmZlY3RzLnB1c2godCksdGhpcy5fdGV4dHVyZS5pc0xvYWRlZCgpJiZ0aGlzLl9waXhlbHNMb2FkZWQ/dGhpcy5fYXBwbHlFZmZlY3RzKCk6dGhpcy5fZGlydHlFZmZlY3Q9ITB9LHQucHJvdG90eXBlLnJlbW92ZUVmZmVjdD1mdW5jdGlvbih0KXt2YXIgZT0tMTsoZT1cIm51bWJlclwiPT10eXBlb2YgdD90OnRoaXMuZWZmZWN0cy5pbmRleE9mKHQpKTwwfHxlPj10aGlzLmVmZmVjdHMubGVuZ3RofHwodGhpcy5lZmZlY3RzLnNwbGljZShlLDEpLHRoaXMuX3RleHR1cmUuaXNMb2FkZWQoKSYmdGhpcy5fcGl4ZWxzTG9hZGVkP3RoaXMuX2FwcGx5RWZmZWN0cygpOnRoaXMuX2RpcnR5RWZmZWN0PSEwKX0sdC5wcm90b3R5cGUuX2FwcGx5RWZmZWN0cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RleHR1cmUuaW1hZ2UubmF0dXJhbFdpZHRofHwwLGU9dGhpcy5fdGV4dHVyZS5pbWFnZS5uYXR1cmFsSGVpZ2h0fHwwO2lmKHRoaXMuX3Nwcml0ZUN0eC5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuX3Nwcml0ZUN0eC5kcmF3SW1hZ2UodGhpcy5fdGV4dHVyZS5pbWFnZSxtKHRoaXMueCwwLHQpLG0odGhpcy55LDAsZSksbSh0aGlzLndpZHRoLDAsdCksbSh0aGlzLmhlaWdodCwwLGUpLDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLmVmZmVjdHMubGVuZ3RoPjApe3RoaXMuX3BpeGVsRGF0YT10aGlzLl9zcHJpdGVDdHguZ2V0SW1hZ2VEYXRhKDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTtmb3IodmFyIG49dGhpcy5lZmZlY3RzLmxlbmd0aCxpPTA7aTxuO2krKylmb3IodmFyIHI9MDtyPHRoaXMuaGVpZ2h0O3IrKylmb3IodmFyIG89MDtvPHRoaXMud2lkdGg7bysrKXRoaXMuZWZmZWN0c1tpXS51cGRhdGVQaXhlbChvLHIsdGhpcy5fcGl4ZWxEYXRhKTt0aGlzLl9zcHJpdGVDdHguY2xlYXJSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLl9zcHJpdGVDdHgucHV0SW1hZ2VEYXRhKHRoaXMuX3BpeGVsRGF0YSwwLDApfXRoaXMuX2RpcnR5RWZmZWN0PSExfSx0LnByb3RvdHlwZS5jbGVhckVmZmVjdHM9ZnVuY3Rpb24oKXt0aGlzLmVmZmVjdHMubGVuZ3RoPTAsdGhpcy5fYXBwbHlFZmZlY3RzKCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCxlLG4pe3Quc2F2ZSgpLHQudHJhbnNsYXRlKGUsbiksdC5yb3RhdGUodGhpcy5yb3RhdGlvbik7dmFyIGk9dGhpcy5kcmF3V2lkdGgqdGhpcy5hbmNob3IueCxyPXRoaXMuZHJhd0hlaWdodCp0aGlzLmFuY2hvci55O3Quc3Ryb2tlU3R5bGU9ZXQuQmxhY2sudG9TdHJpbmcoKSx0LnN0cm9rZVJlY3QoLWksLXIsdGhpcy5kcmF3V2lkdGgsdGhpcy5kcmF3SGVpZ2h0KSx0LnJlc3RvcmUoKX0sdC5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUsbil7dCBpbnN0YW5jZW9mIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD90aGlzLl9kcmF3V2l0aE9wdGlvbnMoe2N0eDp0LHg6ZSx5Om59KTp0aGlzLl9kcmF3V2l0aE9wdGlvbnModCl9LHQucHJvdG90eXBlLl9kcmF3V2l0aE9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHIsbyxzLGEsYyxoPV9lKF9lKHt9LHQpLHtyb3RhdGlvbjpudWxsIT09KGU9dC5yb3RhdGlvbikmJnZvaWQgMCE9PWU/ZTp0aGlzLnJvdGF0aW9uLGRyYXdXaWR0aDpudWxsIT09KG49dC5kcmF3V2lkdGgpJiZ2b2lkIDAhPT1uP246dGhpcy5kcmF3V2lkdGgsZHJhd0hlaWdodDpudWxsIT09KGk9dC5kcmF3SGVpZ2h0KSYmdm9pZCAwIT09aT9pOnRoaXMuZHJhd0hlaWdodCxmbGlwSG9yaXpvbnRhbDpudWxsIT09KHI9dC5mbGlwSG9yaXpvbnRhbCkmJnZvaWQgMCE9PXI/cjp0aGlzLmZsaXBIb3Jpem9udGFsLGZsaXBWZXJ0aWNhbDpudWxsIT09KG89dC5mbGlwVmVydGljYWwpJiZ2b2lkIDAhPT1vP286dGhpcy5mbGlwVmVydGljYWwsYW5jaG9yOm51bGwhPT0ocz10LmFuY2hvcikmJnZvaWQgMCE9PXM/czp0aGlzLmFuY2hvcixvZmZzZXQ6bnVsbCE9PShhPXQub2Zmc2V0KSYmdm9pZCAwIT09YT9hOnRoaXMub2Zmc2V0LG9wYWNpdHk6bnVsbCE9PShjPXQub3BhY2l0eSkmJnZvaWQgMCE9PWM/Yzp0aGlzLl9vcGFjaXR5fSksdT1oLmN0eCxsPWgueCxwPWgueSxkPWgucm90YXRpb24sZj1oLmRyYXdXaWR0aCx5PWguZHJhd0hlaWdodCxnPWguYW5jaG9yLF89aC5vZmZzZXQsdj1oLm9wYWNpdHksbT1oLmZsaXBIb3Jpem9udGFsLGI9aC5mbGlwVmVydGljYWw7dGhpcy5fZGlydHlFZmZlY3QmJnRoaXMuX2FwcGx5RWZmZWN0cygpLHUuc2F2ZSgpO3ZhciB3PWYqZy54K18ueCx4PXkqZy55K18ueTt1LnRyYW5zbGF0ZShsLHApLHUucm90YXRlKGQpLG0mJih1LnRyYW5zbGF0ZShmLDApLHUuc2NhbGUoLTEsMSkpLGImJih1LnRyYW5zbGF0ZSgwLHkpLHUuc2NhbGUoMSwtMSkpLHRoaXMuX2RpcnR5RWZmZWN0JiZ0aGlzLl9hcHBseUVmZmVjdHMoKTt2YXIgUD11Lmdsb2JhbEFscGhhO3UuZ2xvYmFsQWxwaGE9bnVsbCE9dj92OjEsdS5kcmF3SW1hZ2UodGhpcy5fc3ByaXRlQ2FudmFzLDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LC13LC14LGYseSksdS5nbG9iYWxBbHBoYT1QLHUucmVzdG9yZSgpfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciB0PW5ldyB2ZSh0aGlzLl90ZXh0dXJlLHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7dC5zY2FsZT10aGlzLnNjYWxlLmNsb25lKCksdC5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLHQuZmxpcEhvcml6b250YWw9dGhpcy5mbGlwSG9yaXpvbnRhbCx0LmZsaXBWZXJ0aWNhbD10aGlzLmZsaXBWZXJ0aWNhbDtmb3IodmFyIGU9dGhpcy5lZmZlY3RzLmxlbmd0aCxuPTA7bjxlO24rKyl0LmFkZEVmZmVjdCh0aGlzLmVmZmVjdHNbbl0pO3JldHVybiB0fSx0fSgpKSksbWU9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCksYmU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPSEwKTt2YXIgaT10LmNhbGwodGhpcyxlLFwiYmxvYlwiLG4pfHx0aGlzO3JldHVybiBpLnBhdGg9ZSxpLmJ1c3RDYWNoZT1uLGkubG9hZGVkPW5ldyBkLGkuX2lzTG9hZGVkPSExLGkuX3Nwcml0ZT1udWxsLGkuX3Nwcml0ZT1uZXcgdmUoaSwwLDAsMCwwKSxpfXJldHVybiBtZShlLHQpLGUucHJvdG90eXBlLmlzTG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTG9hZGVkfSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPW5ldyBkO3RoaXMucGF0aC5pbmRleE9mKFwiZGF0YTppbWFnZS9cIik+LTE/KHRoaXMuaW1hZ2U9bmV3IEltYWdlLHRoaXMuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoZnVuY3Rpb24oKXtlLm9uY29tcGxldGUoKSxlLl9pc0xvYWRlZD0hMCxlLndpZHRoPWUuX3Nwcml0ZS53aWR0aD1lLmltYWdlLm5hdHVyYWxXaWR0aCxlLmhlaWdodD1lLl9zcHJpdGUuaGVpZ2h0PWUuaW1hZ2UubmF0dXJhbEhlaWdodCxlLl9zcHJpdGU9bmV3IHZlKGUsMCwwLGUud2lkdGgsZS5oZWlnaHQpLGUubG9hZGVkLnJlc29sdmUoZS5pbWFnZSksbi5yZXNvbHZlKGUuaW1hZ2UpfSkpLHRoaXMuaW1hZ2Uuc3JjPXRoaXMucGF0aCk6dC5wcm90b3R5cGUubG9hZC5jYWxsKHRoaXMpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5pbWFnZT1uZXcgSW1hZ2UsZS5pbWFnZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLChmdW5jdGlvbigpe2UuX2lzTG9hZGVkPSEwLGUud2lkdGg9ZS5fc3ByaXRlLndpZHRoPWUuaW1hZ2UubmF0dXJhbFdpZHRoLGUuaGVpZ2h0PWUuX3Nwcml0ZS5oZWlnaHQ9ZS5pbWFnZS5uYXR1cmFsSGVpZ2h0LGUubG9hZGVkLnJlc29sdmUoZS5pbWFnZSksbi5yZXNvbHZlKGUuaW1hZ2UpfSkpLGUuaW1hZ2Uuc3JjPXQucHJvdG90eXBlLmdldERhdGEuY2FsbChlKX0pLChmdW5jdGlvbigpe24ucmVqZWN0KFwiRXJyb3IgbG9hZGluZyB0ZXh0dXJlLlwiKX0pKTtyZXR1cm4gbn0sZS5wcm90b3R5cGUuYXNTcHJpdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3ByaXRlfSxlfShpZSksd2U9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkseGU9ZnVuY3Rpb24oKXtyZXR1cm4oeGU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKylmb3IodmFyIHIgaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxQZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIpe3JldHVybiB0LmNhbGwodGhpcyxlLG4saSxyKXx8dGhpc31yZXR1cm4gd2UoZSx0KSxlfShmZShmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7dGhpcy5zcHJpdGVzPVtdLHRoaXMuY3VycmVudEZyYW1lPTAsdGhpcy5fdGltZUxlZnRJbkZyYW1lPTAsdGhpcy5faWRlbXBvdGVuY3lUb2tlbj0tMSx0aGlzLmFuY2hvcj1WLlplcm8sdGhpcy5yb3RhdGlvbj0wLHRoaXMuc2NhbGU9Vi5PbmUsdGhpcy5sb29wPSEwLHRoaXMuZnJlZXplRnJhbWU9LTEsdGhpcy5mbGlwVmVydGljYWw9ITEsdGhpcy5mbGlwSG9yaXpvbnRhbD0hMSx0aGlzLmRyYXdXaWR0aD0wLHRoaXMuZHJhd0hlaWdodD0wLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuX29wYWNpdHk9MTt2YXIgcj10O2lmKHQmJiEodCBpbnN0YW5jZW9mIGxyKSl7dmFyIG89dDtyPW8uZW5naW5lLGU9by5zcHJpdGVzLG49by5zcGVlZCxpPW8ubG9vcH10aGlzLnNwcml0ZXM9ZSx0aGlzLnNwZWVkPW4sdGhpcy5fZW5naW5lPXIsdGhpcy5fdGltZUxlZnRJbkZyYW1lPXRoaXMuc3BlZWQsbnVsbCE9aSYmKHRoaXMubG9vcD1pKSxlJiZlWzBdJiYodGhpcy5kcmF3SGVpZ2h0PWVbMF0/ZVswXS5kcmF3SGVpZ2h0OjAsdGhpcy5kcmF3V2lkdGg9ZVswXT9lWzBdLmRyYXdXaWR0aDowLHRoaXMud2lkdGg9ZVswXT9lWzBdLndpZHRoOjAsdGhpcy5oZWlnaHQ9ZVswXT9lWzBdLmhlaWdodDowLHRoaXMuZnJlZXplRnJhbWU9ZS5sZW5ndGgtMSl9cmV0dXJuIHQucHJvdG90eXBlLm9wYWNpdHk9ZnVuY3Rpb24odCl7dGhpcy5fb3BhY2l0eT10fSx0LnByb3RvdHlwZS5ncmF5c2NhbGU9ZnVuY3Rpb24oKXt0aGlzLmFkZEVmZmVjdChuZXcgcmUpfSx0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt0aGlzLmFkZEVmZmVjdChuZXcgb2UpfSx0LnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHQpe3RoaXMuYWRkRWZmZWN0KG5ldyBwZSh0KSl9LHQucHJvdG90eXBlLmNvbG9yaXplPWZ1bmN0aW9uKHQpe3RoaXMuYWRkRWZmZWN0KG5ldyBhZSh0KSl9LHQucHJvdG90eXBlLmxpZ2h0ZW49ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpLHRoaXMuYWRkRWZmZWN0KG5ldyBjZSh0KSl9LHQucHJvdG90eXBlLmRhcmtlbj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5hZGRFZmZlY3QobmV3IGhlKHQpKX0sdC5wcm90b3R5cGUuc2F0dXJhdGU9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpLHRoaXMuYWRkRWZmZWN0KG5ldyB1ZSh0KSl9LHQucHJvdG90eXBlLmRlc2F0dXJhdGU9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpLHRoaXMuYWRkRWZmZWN0KG5ldyBsZSh0KSl9LHQucHJvdG90eXBlLmFkZEVmZmVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5zcHJpdGVzKXRoaXMuc3ByaXRlc1tlXS5hZGRFZmZlY3QodCl9LHQucHJvdG90eXBlLnJlbW92ZUVmZmVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5zcHJpdGVzKXRoaXMuc3ByaXRlc1tlXS5yZW1vdmVFZmZlY3QodCl9LHQucHJvdG90eXBlLmNsZWFyRWZmZWN0cz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnNwcml0ZXMpdGhpcy5zcHJpdGVzW3RdLmNsZWFyRWZmZWN0cygpfSx0LnByb3RvdHlwZS5fc2V0QW5jaG9yPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnNwcml0ZXMpdGhpcy5zcHJpdGVzW2VdLmFuY2hvci5zZXRUbyh0LngsdC55KX0sdC5wcm90b3R5cGUuX3NldFJvdGF0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnNwcml0ZXMpdGhpcy5zcHJpdGVzW2VdLnJvdGF0aW9uPXR9LHQucHJvdG90eXBlLl9zZXRTY2FsZT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5zcHJpdGVzKXRoaXMuc3ByaXRlc1tlXS5zY2FsZT10fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuY3VycmVudEZyYW1lPTB9LHQucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmxvb3AmJnRoaXMuY3VycmVudEZyYW1lPj10aGlzLnNwcml0ZXMubGVuZ3RofSx0LnByb3RvdHlwZS50aWNrPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5faWRlbXBvdGVuY3lUb2tlbiE9PWUpe3RoaXMuX2lkZW1wb3RlbmN5VG9rZW49ZSx0aGlzLl90aW1lTGVmdEluRnJhbWUtPXQsdGhpcy5fdGltZUxlZnRJbkZyYW1lPD0wJiYodGhpcy5jdXJyZW50RnJhbWU9dGhpcy5sb29wPyh0aGlzLmN1cnJlbnRGcmFtZSsxKSV0aGlzLnNwcml0ZXMubGVuZ3RoOnRoaXMuY3VycmVudEZyYW1lKzEsdGhpcy5fdGltZUxlZnRJbkZyYW1lPXRoaXMuc3BlZWQpLHRoaXMuX3VwZGF0ZVZhbHVlcygpO3ZhciBuPXRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRGcmFtZV07biYmKHRoaXMud2lkdGg9bi53aWR0aCx0aGlzLmhlaWdodD1uLmhlaWdodCx0aGlzLmRyYXdXaWR0aD1uLmRyYXdXaWR0aCx0aGlzLmRyYXdIZWlnaHQ9bi5kcmF3SGVpZ2h0KX19LHQucHJvdG90eXBlLl91cGRhdGVWYWx1ZXM9ZnVuY3Rpb24oKXt0aGlzLl9zZXRBbmNob3IodGhpcy5hbmNob3IpLHRoaXMuX3NldFJvdGF0aW9uKHRoaXMucm90YXRpb24pLHRoaXMuX3NldFNjYWxlKHRoaXMuc2NhbGUpfSx0LnByb3RvdHlwZS5za2lwPWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudEZyYW1lPSh0aGlzLmN1cnJlbnRGcmFtZSt0KSV0aGlzLnNwcml0ZXMubGVuZ3RofSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxuKXt0IGluc3RhbmNlb2YgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEP3RoaXMuX2RyYXdXaXRoT3B0aW9ucyh7Y3R4OnQseDplLHk6bn0pOnRoaXMuX2RyYXdXaXRoT3B0aW9ucyh0KX0sdC5wcm90b3R5cGUuX2RyYXdXaXRoT3B0aW9ucz1mdW5jdGlvbih0KXt2YXIgZSxuLGkscixvLHMsYSxjLGg9eGUoeGUoe30sdCkse3JvdGF0aW9uOm51bGwhPT0oZT10LnJvdGF0aW9uKSYmdm9pZCAwIT09ZT9lOnRoaXMucm90YXRpb24sZHJhd1dpZHRoOm51bGwhPT0obj10LmRyYXdXaWR0aCkmJnZvaWQgMCE9PW4/bjp0aGlzLmRyYXdXaWR0aCxkcmF3SGVpZ2h0Om51bGwhPT0oaT10LmRyYXdIZWlnaHQpJiZ2b2lkIDAhPT1pP2k6dGhpcy5kcmF3SGVpZ2h0LGZsaXBIb3Jpem9udGFsOm51bGwhPT0ocj10LmZsaXBIb3Jpem9udGFsKSYmdm9pZCAwIT09cj9yOnRoaXMuZmxpcEhvcml6b250YWwsZmxpcFZlcnRpY2FsOm51bGwhPT0obz10LmZsaXBWZXJ0aWNhbCkmJnZvaWQgMCE9PW8/bzp0aGlzLmZsaXBWZXJ0aWNhbCxhbmNob3I6bnVsbCE9PShzPXQuYW5jaG9yKSYmdm9pZCAwIT09cz9zOnRoaXMuYW5jaG9yLG9wYWNpdHk6bnVsbCE9PShhPXQub3BhY2l0eSkmJnZvaWQgMCE9PWE/YTp0aGlzLl9vcGFjaXR5fSk7dGhpcy5fdXBkYXRlVmFsdWVzKCksdGhpcy5jdXJyZW50RnJhbWU8dGhpcy5zcHJpdGVzLmxlbmd0aCYmKGM9dGhpcy5zcHJpdGVzW3RoaXMuY3VycmVudEZyYW1lXSkuZHJhdyhoKSwtMSE9PXRoaXMuZnJlZXplRnJhbWUmJnRoaXMuY3VycmVudEZyYW1lPj10aGlzLnNwcml0ZXMubGVuZ3RoJiYoYz10aGlzLnNwcml0ZXNbbSh0aGlzLmZyZWV6ZUZyYW1lLDAsdGhpcy5zcHJpdGVzLmxlbmd0aC0xKV0pLmRyYXcoaCksYyYmKHRoaXMuZHJhd1dpZHRoPWMuZHJhd1dpZHRoLHRoaXMuZHJhd0hlaWdodD1jLmRyYXdIZWlnaHQpfSx0LnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKHQsZSl7dGhpcy5yZXNldCgpLHRoaXMuX2VuZ2luZS5wbGF5QW5pbWF0aW9uKHRoaXMsdCxlKX0sdH0oKSkpOyFmdW5jdGlvbih0KXt0W3QuU2hvcnRlc3RQYXRoPTBdPVwiU2hvcnRlc3RQYXRoXCIsdFt0Lkxvbmdlc3RQYXRoPTFdPVwiTG9uZ2VzdFBhdGhcIix0W3QuQ2xvY2t3aXNlPTJdPVwiQ2xvY2t3aXNlXCIsdFt0LkNvdW50ZXJDbG9ja3dpc2U9M109XCJDb3VudGVyQ2xvY2t3aXNlXCJ9KHllfHwoeWU9e30pKTt2YXIgQWU9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4saSk7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkocj10W2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKGUsbixzKTpyKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9LEVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpLHIpe3RoaXMuYWN0b3I9dCx0aGlzLmVhc2luZ0Zjbj1yLHRoaXMuX2N1cnJlbnRMZXJwVGltZT0wLHRoaXMuX2xlcnBEdXJhdGlvbj0xZTMsdGhpcy5fbGVycFN0YXJ0PW5ldyBWKDAsMCksdGhpcy5fbGVycEVuZD1uZXcgVigwLDApLHRoaXMuX2luaXRpYWxpemVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fZGlzdGFuY2U9MCx0aGlzLl9sZXJwRHVyYXRpb249aSx0aGlzLl9sZXJwRW5kPW5ldyBWKGUsbil9cmV0dXJuIHQucHJvdG90eXBlLl9pbml0aWFsaXplPWZ1bmN0aW9uKCl7dGhpcy5fbGVycFN0YXJ0PW5ldyBWKHRoaXMuYWN0b3IucG9zLngsdGhpcy5hY3Rvci5wb3MueSksdGhpcy5fY3VycmVudExlcnBUaW1lPTAsdGhpcy5fZGlzdGFuY2U9dGhpcy5fbGVycFN0YXJ0LmRpc3RhbmNlKHRoaXMuX2xlcnBFbmQpfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5faW5pdGlhbGl6ZWR8fCh0aGlzLl9pbml0aWFsaXplKCksdGhpcy5faW5pdGlhbGl6ZWQ9ITApO3ZhciBlPXRoaXMuYWN0b3IucG9zLngsbj10aGlzLmFjdG9yLnBvcy55O3RoaXMuX2N1cnJlbnRMZXJwVGltZTx0aGlzLl9sZXJwRHVyYXRpb24/KGU9dGhpcy5fbGVycEVuZC54PHRoaXMuX2xlcnBTdGFydC54P3RoaXMuX2xlcnBTdGFydC54LSh0aGlzLmVhc2luZ0Zjbih0aGlzLl9jdXJyZW50TGVycFRpbWUsdGhpcy5fbGVycEVuZC54LHRoaXMuX2xlcnBTdGFydC54LHRoaXMuX2xlcnBEdXJhdGlvbiktdGhpcy5fbGVycEVuZC54KTp0aGlzLmVhc2luZ0Zjbih0aGlzLl9jdXJyZW50TGVycFRpbWUsdGhpcy5fbGVycFN0YXJ0LngsdGhpcy5fbGVycEVuZC54LHRoaXMuX2xlcnBEdXJhdGlvbiksbj10aGlzLl9sZXJwRW5kLnk8dGhpcy5fbGVycFN0YXJ0Lnk/dGhpcy5fbGVycFN0YXJ0LnktKHRoaXMuZWFzaW5nRmNuKHRoaXMuX2N1cnJlbnRMZXJwVGltZSx0aGlzLl9sZXJwRW5kLnksdGhpcy5fbGVycFN0YXJ0LnksdGhpcy5fbGVycER1cmF0aW9uKS10aGlzLl9sZXJwRW5kLnkpOnRoaXMuZWFzaW5nRmNuKHRoaXMuX2N1cnJlbnRMZXJwVGltZSx0aGlzLl9sZXJwU3RhcnQueSx0aGlzLl9sZXJwRW5kLnksdGhpcy5fbGVycER1cmF0aW9uKSx0aGlzLmFjdG9yLnBvcy54PWUsdGhpcy5hY3Rvci5wb3MueT1uLHRoaXMuX2N1cnJlbnRMZXJwVGltZSs9dCk6KHRoaXMuYWN0b3IucG9zLng9dGhpcy5fbGVycEVuZC54LHRoaXMuYWN0b3IucG9zLnk9dGhpcy5fbGVycEVuZC55KX0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8bmV3IFYodC5wb3MueCx0LnBvcy55KS5kaXN0YW5jZSh0aGlzLl9sZXJwU3RhcnQpPj10aGlzLl9kaXN0YW5jZX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9pbml0aWFsaXplZD0hMX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX3N0b3BwZWQ9ITB9LHR9KCksU2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe3RoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX2VuZD1uZXcgVihlLG4pLHRoaXMuX3NwZWVkPWl9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydGVkfHwodGhpcy5fc3RhcnRlZD0hMCx0aGlzLl9zdGFydD1uZXcgVih0aGlzLl9hY3Rvci5wb3MueCx0aGlzLl9hY3Rvci5wb3MueSksdGhpcy5fZGlzdGFuY2U9dGhpcy5fc3RhcnQuZGlzdGFuY2UodGhpcy5fZW5kKSx0aGlzLl9kaXI9dGhpcy5fZW5kLnN1Yih0aGlzLl9zdGFydCkubm9ybWFsaXplKCkpO3ZhciBlPXRoaXMuX2Rpci5zY2FsZSh0aGlzLl9zcGVlZCk7dGhpcy5fYWN0b3IudmVsLng9ZS54LHRoaXMuX2FjdG9yLnZlbC55PWUueSx0aGlzLmlzQ29tcGxldGUodGhpcy5fYWN0b3IpJiYodGhpcy5fYWN0b3IucG9zLng9dGhpcy5fZW5kLngsdGhpcy5fYWN0b3IucG9zLnk9dGhpcy5fZW5kLnksdGhpcy5fYWN0b3IudmVsLnk9MCx0aGlzLl9hY3Rvci52ZWwueD0wKX0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8bmV3IFYodC5wb3MueCx0LnBvcy55KS5kaXN0YW5jZSh0aGlzLl9zdGFydCk+PXRoaXMuX2Rpc3RhbmNlfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fYWN0b3IudmVsLnk9MCx0aGlzLl9hY3Rvci52ZWwueD0wLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdH0oKSxDZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7aWYodGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fc3BlZWQ9aSx0aGlzLl9vZmZzZXQ9bmV3IFYoZSxuKSxpPD0wKXRocm93IFIuZ2V0SW5zdGFuY2UoKS5lcnJvcihcIkF0dGVtcHRlZCB0byBtb3ZlQnkgd2l0aCBzcGVlZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gemVybyA6IFwiK2kpLG5ldyBFcnJvcihcIlNwZWVkIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAgcGl4ZWxzIHBlciBzZWNvbmRcIil9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydGVkfHwodGhpcy5fc3RhcnRlZD0hMCx0aGlzLl9zdGFydD1uZXcgVih0aGlzLl9hY3Rvci5wb3MueCx0aGlzLl9hY3Rvci5wb3MueSksdGhpcy5fZW5kPXRoaXMuX3N0YXJ0LmFkZCh0aGlzLl9vZmZzZXQpLHRoaXMuX2Rpc3RhbmNlPXRoaXMuX29mZnNldC5zaXplLHRoaXMuX2Rpcj10aGlzLl9lbmQuc3ViKHRoaXMuX3N0YXJ0KS5ub3JtYWxpemUoKSksdGhpcy5fYWN0b3IudmVsPXRoaXMuX2Rpci5zY2FsZSh0aGlzLl9zcGVlZCksdGhpcy5pc0NvbXBsZXRlKHRoaXMuX2FjdG9yKSYmKHRoaXMuX2FjdG9yLnBvcy54PXRoaXMuX2VuZC54LHRoaXMuX2FjdG9yLnBvcy55PXRoaXMuX2VuZC55LHRoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fHQucG9zLmRpc3RhbmNlKHRoaXMuX3N0YXJ0KT49dGhpcy5fZGlzdGFuY2V9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9hY3Rvci52ZWwueT0wLHRoaXMuX2FjdG9yLnZlbC54PTAsdGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9zdGFydGVkPSExfSx0fSgpLE9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fYWN0b3JUb0ZvbGxvdz1lLHRoaXMuX2N1cnJlbnQ9bmV3IFYodGhpcy5fYWN0b3IucG9zLngsdGhpcy5fYWN0b3IucG9zLnkpLHRoaXMuX2VuZD1uZXcgVihlLnBvcy54LGUucG9zLnkpLHRoaXMuX21heGltdW1EaXN0YW5jZT12b2lkIDAhPT1uP246dGhpcy5fY3VycmVudC5kaXN0YW5jZSh0aGlzLl9lbmQpLHRoaXMuX3NwZWVkPTB9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydGVkfHwodGhpcy5fc3RhcnRlZD0hMCx0aGlzLl9kaXN0YW5jZUJldHdlZW49dGhpcy5fY3VycmVudC5kaXN0YW5jZSh0aGlzLl9lbmQpLHRoaXMuX2Rpcj10aGlzLl9lbmQuc3ViKHRoaXMuX2N1cnJlbnQpLm5vcm1hbGl6ZSgpKTt2YXIgZT1NYXRoLnNxcnQoTWF0aC5wb3codGhpcy5fYWN0b3JUb0ZvbGxvdy52ZWwueCwyKStNYXRoLnBvdyh0aGlzLl9hY3RvclRvRm9sbG93LnZlbC55LDIpKTtpZigwIT09ZSYmKHRoaXMuX3NwZWVkPWUpLHRoaXMuX2N1cnJlbnQueD10aGlzLl9hY3Rvci5wb3MueCx0aGlzLl9jdXJyZW50Lnk9dGhpcy5fYWN0b3IucG9zLnksdGhpcy5fZW5kLng9dGhpcy5fYWN0b3JUb0ZvbGxvdy5wb3MueCx0aGlzLl9lbmQueT10aGlzLl9hY3RvclRvRm9sbG93LnBvcy55LHRoaXMuX2Rpc3RhbmNlQmV0d2Vlbj10aGlzLl9jdXJyZW50LmRpc3RhbmNlKHRoaXMuX2VuZCksdGhpcy5fZGlyPXRoaXMuX2VuZC5zdWIodGhpcy5fY3VycmVudCkubm9ybWFsaXplKCksdGhpcy5fZGlzdGFuY2VCZXR3ZWVuPj10aGlzLl9tYXhpbXVtRGlzdGFuY2Upe3ZhciBuPXRoaXMuX2Rpci5zY2FsZSh0aGlzLl9zcGVlZCk7dGhpcy5fYWN0b3IudmVsLng9bi54LHRoaXMuX2FjdG9yLnZlbC55PW4ueX1lbHNlIHRoaXMuX2FjdG9yLnZlbC54PTAsdGhpcy5fYWN0b3IudmVsLnk9MDt0aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnBvcy54PXRoaXMuX2VuZC54LHRoaXMuX2FjdG9yLnBvcy55PXRoaXMuX2VuZC55LHRoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCl9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9hY3Rvci52ZWwueT0wLHRoaXMuX2FjdG9yLnZlbC54PTAsdGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9wcGVkfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITF9LHR9KCksVGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fc3BlZWRXYXNTcGVjaWZpZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9hY3RvclRvTWVldD1lLHRoaXMuX2N1cnJlbnQ9bmV3IFYodGhpcy5fYWN0b3IucG9zLngsdGhpcy5fYWN0b3IucG9zLnkpLHRoaXMuX2VuZD1uZXcgVihlLnBvcy54LGUucG9zLnkpLHRoaXMuX3NwZWVkPW58fDAsdm9pZCAwIT09biYmKHRoaXMuX3NwZWVkV2FzU3BlY2lmaWVkPSEwKX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0ZWR8fCh0aGlzLl9zdGFydGVkPSEwLHRoaXMuX2Rpc3RhbmNlQmV0d2Vlbj10aGlzLl9jdXJyZW50LmRpc3RhbmNlKHRoaXMuX2VuZCksdGhpcy5fZGlyPXRoaXMuX2VuZC5zdWIodGhpcy5fY3VycmVudCkubm9ybWFsaXplKCkpO3ZhciBlPU1hdGguc3FydChNYXRoLnBvdyh0aGlzLl9hY3RvclRvTWVldC52ZWwueCwyKStNYXRoLnBvdyh0aGlzLl9hY3RvclRvTWVldC52ZWwueSwyKSk7MD09PWV8fHRoaXMuX3NwZWVkV2FzU3BlY2lmaWVkfHwodGhpcy5fc3BlZWQ9ZSksdGhpcy5fY3VycmVudC54PXRoaXMuX2FjdG9yLnBvcy54LHRoaXMuX2N1cnJlbnQueT10aGlzLl9hY3Rvci5wb3MueSx0aGlzLl9lbmQueD10aGlzLl9hY3RvclRvTWVldC5wb3MueCx0aGlzLl9lbmQueT10aGlzLl9hY3RvclRvTWVldC5wb3MueSx0aGlzLl9kaXN0YW5jZUJldHdlZW49dGhpcy5fY3VycmVudC5kaXN0YW5jZSh0aGlzLl9lbmQpLHRoaXMuX2Rpcj10aGlzLl9lbmQuc3ViKHRoaXMuX2N1cnJlbnQpLm5vcm1hbGl6ZSgpO3ZhciBuPXRoaXMuX2Rpci5zY2FsZSh0aGlzLl9zcGVlZCk7dGhpcy5fYWN0b3IudmVsLng9bi54LHRoaXMuX2FjdG9yLnZlbC55PW4ueSx0aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnBvcy54PXRoaXMuX2VuZC54LHRoaXMuX2FjdG9yLnBvcy55PXRoaXMuX2VuZC55LHRoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8dGhpcy5fZGlzdGFuY2VCZXR3ZWVuPD0xfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fYWN0b3IudmVsLnk9MCx0aGlzLl9hY3Rvci52ZWwueD0wLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdH0oKSxCZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7dGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fZW5kPWUsdGhpcy5fc3BlZWQ9bix0aGlzLl9yb3RhdGlvblR5cGU9aXx8eWUuU2hvcnRlc3RQYXRofXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX3N0YXJ0ZWQpe3RoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fc3RhcnQ9dGhpcy5fYWN0b3Iucm90YXRpb247dmFyIGU9TWF0aC5hYnModGhpcy5fZW5kLXRoaXMuX3N0YXJ0KSxuPXktZTtzd2l0Y2goZT5uPyh0aGlzLl9zaG9ydERpc3RhbmNlPW4sdGhpcy5fbG9uZ0Rpc3RhbmNlPWUpOih0aGlzLl9zaG9ydERpc3RhbmNlPWUsdGhpcy5fbG9uZ0Rpc3RhbmNlPW4pLHRoaXMuX3Nob3J0ZXN0UGF0aElzUG9zaXRpdmU9KHRoaXMuX3N0YXJ0LXRoaXMuX2VuZCt5KSV5Pj1NYXRoLlBJLHRoaXMuX3JvdGF0aW9uVHlwZSl7Y2FzZSB5ZS5TaG9ydGVzdFBhdGg6dGhpcy5fZGlzdGFuY2U9dGhpcy5fc2hvcnREaXN0YW5jZSx0aGlzLl9zaG9ydGVzdFBhdGhJc1Bvc2l0aXZlP3RoaXMuX2RpcmVjdGlvbj0xOnRoaXMuX2RpcmVjdGlvbj0tMTticmVhaztjYXNlIHllLkxvbmdlc3RQYXRoOnRoaXMuX2Rpc3RhbmNlPXRoaXMuX2xvbmdEaXN0YW5jZSx0aGlzLl9zaG9ydGVzdFBhdGhJc1Bvc2l0aXZlP3RoaXMuX2RpcmVjdGlvbj0tMTp0aGlzLl9kaXJlY3Rpb249MTticmVhaztjYXNlIHllLkNsb2Nrd2lzZTp0aGlzLl9kaXJlY3Rpb249MSx0aGlzLl9zaG9ydGVzdFBhdGhJc1Bvc2l0aXZlP3RoaXMuX2Rpc3RhbmNlPXRoaXMuX3Nob3J0RGlzdGFuY2U6dGhpcy5fZGlzdGFuY2U9dGhpcy5fbG9uZ0Rpc3RhbmNlO2JyZWFrO2Nhc2UgeWUuQ291bnRlckNsb2Nrd2lzZTp0aGlzLl9kaXJlY3Rpb249LTEsdGhpcy5fc2hvcnRlc3RQYXRoSXNQb3NpdGl2ZT90aGlzLl9kaXN0YW5jZT10aGlzLl9sb25nRGlzdGFuY2U6dGhpcy5fZGlzdGFuY2U9dGhpcy5fc2hvcnREaXN0YW5jZX19dGhpcy5fYWN0b3Iucng9dGhpcy5fZGlyZWN0aW9uKnRoaXMuX3NwZWVkLHRoaXMuaXNDb21wbGV0ZSgpJiYodGhpcy5fYWN0b3Iucm90YXRpb249dGhpcy5fZW5kLHRoaXMuX2FjdG9yLnJ4PTAsdGhpcy5fc3RvcHBlZD0hMCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgdD1NYXRoLmFicyh0aGlzLl9hY3Rvci5yb3RhdGlvbi10aGlzLl9zdGFydCk7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fHQ+PU1hdGguYWJzKHRoaXMuX2Rpc3RhbmNlKX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2FjdG9yLnJ4PTAsdGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9zdGFydGVkPSExfSx0fSgpLE1lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9zcGVlZD1uLHRoaXMuX29mZnNldD1lLHRoaXMuX3JvdGF0aW9uVHlwZT1pfHx5ZS5TaG9ydGVzdFBhdGh9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtpZighdGhpcy5fc3RhcnRlZCl7dGhpcy5fc3RhcnRlZD0hMCx0aGlzLl9zdGFydD10aGlzLl9hY3Rvci5yb3RhdGlvbix0aGlzLl9lbmQ9dGhpcy5fc3RhcnQrdGhpcy5fb2Zmc2V0O3ZhciBlPU1hdGguYWJzKHRoaXMuX2VuZC10aGlzLl9zdGFydCksbj15LWU7c3dpdGNoKGU+bj8odGhpcy5fc2hvcnREaXN0YW5jZT1uLHRoaXMuX2xvbmdEaXN0YW5jZT1lKToodGhpcy5fc2hvcnREaXN0YW5jZT1lLHRoaXMuX2xvbmdEaXN0YW5jZT1uKSx0aGlzLl9zaG9ydGVzdFBhdGhJc1Bvc2l0aXZlPSh0aGlzLl9zdGFydC10aGlzLl9lbmQreSkleT49TWF0aC5QSSx0aGlzLl9yb3RhdGlvblR5cGUpe2Nhc2UgeWUuU2hvcnRlc3RQYXRoOnRoaXMuX2Rpc3RhbmNlPXRoaXMuX3Nob3J0RGlzdGFuY2UsdGhpcy5fc2hvcnRlc3RQYXRoSXNQb3NpdGl2ZT90aGlzLl9kaXJlY3Rpb249MTp0aGlzLl9kaXJlY3Rpb249LTE7YnJlYWs7Y2FzZSB5ZS5Mb25nZXN0UGF0aDp0aGlzLl9kaXN0YW5jZT10aGlzLl9sb25nRGlzdGFuY2UsdGhpcy5fc2hvcnRlc3RQYXRoSXNQb3NpdGl2ZT90aGlzLl9kaXJlY3Rpb249LTE6dGhpcy5fZGlyZWN0aW9uPTE7YnJlYWs7Y2FzZSB5ZS5DbG9ja3dpc2U6dGhpcy5fZGlyZWN0aW9uPTEsdGhpcy5fc2hvcnREaXN0YW5jZT49MD90aGlzLl9kaXN0YW5jZT10aGlzLl9zaG9ydERpc3RhbmNlOnRoaXMuX2Rpc3RhbmNlPXRoaXMuX2xvbmdEaXN0YW5jZTticmVhaztjYXNlIHllLkNvdW50ZXJDbG9ja3dpc2U6dGhpcy5fZGlyZWN0aW9uPS0xLHRoaXMuX3Nob3J0RGlzdGFuY2U8PTA/dGhpcy5fZGlzdGFuY2U9dGhpcy5fc2hvcnREaXN0YW5jZTp0aGlzLl9kaXN0YW5jZT10aGlzLl9sb25nRGlzdGFuY2V9fXRoaXMuX2FjdG9yLnJ4PXRoaXMuX2RpcmVjdGlvbip0aGlzLl9zcGVlZCx0aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnJvdGF0aW9uPXRoaXMuX2VuZCx0aGlzLl9hY3Rvci5yeD0wLHRoaXMuX3N0b3BwZWQ9ITApfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5hYnModGhpcy5fYWN0b3Iucm90YXRpb24tdGhpcy5fc3RhcnQpO3JldHVybiB0aGlzLl9zdG9wcGVkfHx0Pj1NYXRoLmFicyh0aGlzLl9kaXN0YW5jZSl9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9hY3Rvci5yeD0wLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdH0oKSxEZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSxyKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9lbmRYPWUsdGhpcy5fZW5kWT1uLHRoaXMuX3NwZWVkWD1pLHRoaXMuX3NwZWVkWT1yfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYodGhpcy5fc3RhcnRlZHx8KHRoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fc3RhcnRYPXRoaXMuX2FjdG9yLnNjYWxlLngsdGhpcy5fc3RhcnRZPXRoaXMuX2FjdG9yLnNjYWxlLnksdGhpcy5fZGlzdGFuY2VYPU1hdGguYWJzKHRoaXMuX2VuZFgtdGhpcy5fc3RhcnRYKSx0aGlzLl9kaXN0YW5jZVk9TWF0aC5hYnModGhpcy5fZW5kWS10aGlzLl9zdGFydFkpKSxNYXRoLmFicyh0aGlzLl9hY3Rvci5zY2FsZS54LXRoaXMuX3N0YXJ0WCk+PXRoaXMuX2Rpc3RhbmNlWCl0aGlzLl9hY3Rvci5zeD0wO2Vsc2V7dmFyIGU9dGhpcy5fZW5kWTx0aGlzLl9zdGFydFk/LTE6MTt0aGlzLl9hY3Rvci5zeD10aGlzLl9zcGVlZFgqZX1pZihNYXRoLmFicyh0aGlzLl9hY3Rvci5zY2FsZS55LXRoaXMuX3N0YXJ0WSk+PXRoaXMuX2Rpc3RhbmNlWSl0aGlzLl9hY3Rvci5zeT0wO2Vsc2V7dmFyIG49dGhpcy5fZW5kWTx0aGlzLl9zdGFydFk/LTE6MTt0aGlzLl9hY3Rvci5zeT10aGlzLl9zcGVlZFkqbn10aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnNjYWxlLng9dGhpcy5fZW5kWCx0aGlzLl9hY3Rvci5zY2FsZS55PXRoaXMuX2VuZFksdGhpcy5fYWN0b3Iuc3g9MCx0aGlzLl9hY3Rvci5zeT0wKX0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9wcGVkfHxNYXRoLmFicyh0aGlzLl9hY3Rvci5zY2FsZS55LXRoaXMuX3N0YXJ0WCk+PXRoaXMuX2Rpc3RhbmNlWCYmTWF0aC5hYnModGhpcy5fYWN0b3Iuc2NhbGUueS10aGlzLl9zdGFydFkpPj10aGlzLl9kaXN0YW5jZVl9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9hY3Rvci5zeD0wLHRoaXMuX2FjdG9yLnN5PTAsdGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9zdGFydGVkPSExfSx0PUFlKFtOKHttZXNzYWdlOlwiZXguQWN0aW9uLlNjYWxlVG8gd2lsbCBiZSByZW1vdmVkIGluIHYwLjI1LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJTZXQgd2lkdGggYW5kIGhpZ2h0IGRpcmVjdGx5XCJ9KV0sdCl9KCksa2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe3RoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX29mZnNldD1uZXcgVihlLG4pLHRoaXMuX3NwZWVkWD10aGlzLl9zcGVlZFk9aX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0ZWR8fCh0aGlzLl9zdGFydGVkPSEwLHRoaXMuX3N0YXJ0U2NhbGU9dGhpcy5fYWN0b3Iuc2NhbGUuY2xvbmUoKSx0aGlzLl9lbmRTY2FsZT10aGlzLl9zdGFydFNjYWxlLmFkZCh0aGlzLl9vZmZzZXQpLHRoaXMuX2Rpc3RhbmNlWD1NYXRoLmFicyh0aGlzLl9lbmRTY2FsZS54LXRoaXMuX3N0YXJ0U2NhbGUueCksdGhpcy5fZGlzdGFuY2VZPU1hdGguYWJzKHRoaXMuX2VuZFNjYWxlLnktdGhpcy5fc3RhcnRTY2FsZS55KSx0aGlzLl9kaXJlY3Rpb25YPXRoaXMuX2VuZFNjYWxlLng8dGhpcy5fc3RhcnRTY2FsZS54Py0xOjEsdGhpcy5fZGlyZWN0aW9uWT10aGlzLl9lbmRTY2FsZS55PHRoaXMuX3N0YXJ0U2NhbGUueT8tMToxKSx0aGlzLl9hY3Rvci5zeD10aGlzLl9zcGVlZFgqdGhpcy5fZGlyZWN0aW9uWCx0aGlzLl9hY3Rvci5zeT10aGlzLl9zcGVlZFkqdGhpcy5fZGlyZWN0aW9uWSx0aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnNjYWxlPXRoaXMuX2VuZFNjYWxlLHRoaXMuX2FjdG9yLnN4PTAsdGhpcy5fYWN0b3Iuc3k9MCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8TWF0aC5hYnModGhpcy5fYWN0b3Iuc2NhbGUueC10aGlzLl9zdGFydFNjYWxlLngpPj10aGlzLl9kaXN0YW5jZVgmJk1hdGguYWJzKHRoaXMuX2FjdG9yLnNjYWxlLnktdGhpcy5fc3RhcnRTY2FsZS55KT49dGhpcy5fZGlzdGFuY2VZfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fYWN0b3Iuc3g9MCx0aGlzLl9hY3Rvci5zeT0wLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdD1BZShbTih7bWVzc2FnZTpcImV4LkFjdGlvbi5TY2FsZUJ5IHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNS4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiU2V0IHdpZHRoIGFuZCBoaWdodCBkaXJlY3RseVwifSldLHQpfSgpLFJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2VsYXBzZWRUaW1lPTAsdGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fZGVsYXk9ZX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0ZWR8fCh0aGlzLl9zdGFydGVkPSEwKSx0aGlzLng9dGhpcy5fYWN0b3IucG9zLngsdGhpcy55PXRoaXMuX2FjdG9yLnBvcy55LHRoaXMuX2VsYXBzZWRUaW1lKz10fSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fHRoaXMuX2VsYXBzZWRUaW1lPj10aGlzLl9kZWxheX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fZWxhcHNlZFRpbWU9MCx0aGlzLl9zdGFydGVkPSExfSx0fSgpLGplPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXt2b2lkIDA9PT1pJiYoaT0xKSx0aGlzLl90aW1lVmlzaWJsZT0wLHRoaXMuX3RpbWVOb3RWaXNpYmxlPTAsdGhpcy5fZWxhcHNlZFRpbWU9MCx0aGlzLl90b3RhbFRpbWU9MCx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl90aW1lVmlzaWJsZT1lLHRoaXMuX3RpbWVOb3RWaXNpYmxlPW4sdGhpcy5fZHVyYXRpb249KGUrbikqaX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0ZWR8fCh0aGlzLl9zdGFydGVkPSEwKSx0aGlzLl9lbGFwc2VkVGltZSs9dCx0aGlzLl90b3RhbFRpbWUrPXQsdGhpcy5fYWN0b3IudmlzaWJsZSYmdGhpcy5fZWxhcHNlZFRpbWU+PXRoaXMuX3RpbWVWaXNpYmxlJiYodGhpcy5fYWN0b3IudmlzaWJsZT0hMSx0aGlzLl9lbGFwc2VkVGltZT0wKSwhdGhpcy5fYWN0b3IudmlzaWJsZSYmdGhpcy5fZWxhcHNlZFRpbWU+PXRoaXMuX3RpbWVOb3RWaXNpYmxlJiYodGhpcy5fYWN0b3IudmlzaWJsZT0hMCx0aGlzLl9lbGFwc2VkVGltZT0wKSx0aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnZpc2libGU9ITApfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fHRoaXMuX3RvdGFsVGltZT49dGhpcy5fZHVyYXRpb259LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9hY3Rvci52aXNpYmxlPSEwLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9lbGFwc2VkVGltZT0wLHRoaXMuX3RvdGFsVGltZT0wfSx0fSgpLEZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fbXVsdGlwbGllcj0xLHRoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX2VuZE9wYWNpdHk9ZSx0aGlzLl9zcGVlZD1ufXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRlZHx8KHRoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fZW5kT3BhY2l0eTx0aGlzLl9hY3Rvci5vcGFjaXR5P3RoaXMuX211bHRpcGxpZXI9LTE6dGhpcy5fbXVsdGlwbGllcj0xKSx0aGlzLl9zcGVlZD4wJiYodGhpcy5fYWN0b3Iub3BhY2l0eSs9dGhpcy5fbXVsdGlwbGllciooTWF0aC5hYnModGhpcy5fYWN0b3Iub3BhY2l0eS10aGlzLl9lbmRPcGFjaXR5KSp0KS90aGlzLl9zcGVlZCksdGhpcy5fc3BlZWQtPXQsdGhpcy5pc0NvbXBsZXRlKCkmJih0aGlzLl9hY3Rvci5vcGFjaXR5PXRoaXMuX2VuZE9wYWNpdHkpLFIuZ2V0SW5zdGFuY2UoKS5kZWJ1ZyhcIltBY3Rpb24gZmFkZV0gQWN0b3Igb3BhY2l0eTpcIix0aGlzLl9hY3Rvci5vcGFjaXR5KX0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9wcGVkfHxNYXRoLmFicyh0aGlzLl9hY3Rvci5vcGFjaXR5LXRoaXMuX2VuZE9wYWNpdHkpPC4wNX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdH0oKSxJZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fYWN0b3IuYWN0aW9uUXVldWUuY2xlYXJBY3Rpb25zKCksdGhpcy5fYWN0b3Iua2lsbCgpLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZH0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt9LHR9KCksTGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fbWV0aG9kPW51bGwsdGhpcy5fYWN0b3I9bnVsbCx0aGlzLl9oYXNCZWVuQ2FsbGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fbWV0aG9kPWV9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9tZXRob2QuY2FsbCh0aGlzLl9hY3RvciksdGhpcy5faGFzQmVlbkNhbGxlZD0hMH0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNCZWVuQ2FsbGVkfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2hhc0JlZW5DYWxsZWQ9ITF9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9oYXNCZWVuQ2FsbGVkPSEwfSx0fSgpLHplPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX2FjdGlvblF1ZXVlPW5ldyBVZSh0KSx0aGlzLl9yZXBlYXQ9ZSx0aGlzLl9vcmlnaW5hbFJlcGVhdD1lO2Zvcih2YXIgaT1uLmxlbmd0aCxyPTA7cjxpO3IrKyluW3JdLnJlc2V0KCksdGhpcy5fYWN0aW9uUXVldWUuYWRkKG5bcl0pfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy54PXRoaXMuX2FjdG9yLnBvcy54LHRoaXMueT10aGlzLl9hY3Rvci5wb3MueSx0aGlzLl9hY3Rpb25RdWV1ZS5oYXNOZXh0KCl8fCh0aGlzLl9hY3Rpb25RdWV1ZS5yZXNldCgpLHRoaXMuX3JlcGVhdC0tKSx0aGlzLl9hY3Rpb25RdWV1ZS51cGRhdGUodCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8dGhpcy5fcmVwZWF0PD0wfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9yZXBlYXQ9dGhpcy5fb3JpZ2luYWxSZXBlYXR9LHR9KCksSGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX2FjdGlvblF1ZXVlPW5ldyBVZSh0KTtmb3IodmFyIG49ZS5sZW5ndGgsaT0wO2k8bjtpKyspZVtpXS5yZXNldCgpLHRoaXMuX2FjdGlvblF1ZXVlLmFkZChlW2ldKX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMueD10aGlzLl9hY3Rvci5wb3MueCx0aGlzLnk9dGhpcy5fYWN0b3IucG9zLnksdGhpcy5fc3RvcHBlZHx8KHRoaXMuX2FjdGlvblF1ZXVlLmhhc05leHQoKXx8dGhpcy5fYWN0aW9uUXVldWUucmVzZXQoKSx0aGlzLl9hY3Rpb25RdWV1ZS51cGRhdGUodCkpfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9zdG9wcGVkPSEwLHRoaXMuX2FjdGlvblF1ZXVlLmNsZWFyQWN0aW9ucygpfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe30sdH0oKSxVZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fYWN0aW9ucz1bXSx0aGlzLl9jb21wbGV0ZWRBY3Rpb25zPVtdLHRoaXMuX2FjdG9yPXR9cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0aGlzLl9hY3Rpb25zLnB1c2godCl9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hY3Rpb25zLmluZGV4T2YodCk7dGhpcy5fYWN0aW9ucy5zcGxpY2UoZSwxKX0sdC5wcm90b3R5cGUuY2xlYXJBY3Rpb25zPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aW9ucy5sZW5ndGg9MCx0aGlzLl9jb21wbGV0ZWRBY3Rpb25zLmxlbmd0aD0wLHRoaXMuX2N1cnJlbnRBY3Rpb24mJnRoaXMuX2N1cnJlbnRBY3Rpb24uc3RvcCgpfSx0LnByb3RvdHlwZS5nZXRBY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGlvbnMuY29uY2F0KHRoaXMuX2NvbXBsZXRlZEFjdGlvbnMpfSx0LnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGlvbnMubGVuZ3RoPjB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fYWN0aW9ucz10aGlzLmdldEFjdGlvbnMoKTtmb3IodmFyIHQ9dGhpcy5fYWN0aW9ucy5sZW5ndGgsZT0wO2U8dDtlKyspdGhpcy5fYWN0aW9uc1tlXS5yZXNldCgpO3RoaXMuX2NvbXBsZXRlZEFjdGlvbnM9W119LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9hY3Rpb25zLmxlbmd0aD4wJiYodGhpcy5fY3VycmVudEFjdGlvbj10aGlzLl9hY3Rpb25zWzBdLHRoaXMuX2N1cnJlbnRBY3Rpb24udXBkYXRlKHQpLHRoaXMuX2N1cnJlbnRBY3Rpb24uaXNDb21wbGV0ZSh0aGlzLl9hY3RvcikmJnRoaXMuX2NvbXBsZXRlZEFjdGlvbnMucHVzaCh0aGlzLl9hY3Rpb25zLnNoaWZ0KCkpKX0sdH0oKSxXZT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixpKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShyPXRbYV0pJiYocz0obzwzP3Iocyk6bz4zP3IoZSxuLHMpOnIoZSxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4scyksc30sTmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LkNyZWF0ZVJldmVyc2libGVFYXNpbmdGdW5jdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLGkscil7cmV0dXJuIGk8bj9uLSh0KGUsaSxuLHIpLWkpOnQoZSxuLGkscil9fSx0LkNyZWF0ZVJldmVyc2FibGVFYXNpbmdGdW5jdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdC5DcmVhdGVSZXZlcnNpYmxlRWFzaW5nRnVuY3Rpb24oZSl9LHQuQ3JlYXRlVmVjdG9yRWFzaW5nRnVuY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixpLHIpe3JldHVybiBuZXcgVih0KGUsbi54LGkueCxyKSx0KGUsbi55LGkueSxyKSl9fSx0LkxpbmVhcj10LkNyZWF0ZVJldmVyc2libGVFYXNpbmdGdW5jdGlvbigoZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuKG4tPWUpKnQvaStlfSkpLHQuRWFzZUluUXVhZD10LkNyZWF0ZVJldmVyc2libGVFYXNpbmdGdW5jdGlvbigoZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuKG4tPWUpKih0Lz1pKSp0K2V9KSksdC5FYXNlT3V0UXVhZD10LkNyZWF0ZVJldmVyc2libGVFYXNpbmdGdW5jdGlvbigoZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuLShuLT1lKSoodC89aSkqKHQtMikrZX0pKSx0LkVhc2VJbk91dFF1YWQ9dC5DcmVhdGVSZXZlcnNpYmxlRWFzaW5nRnVuY3Rpb24oKGZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBuLT1lLCh0Lz1pLzIpPDE/bi8yKnQqdCtlOi1uLzIqKC0tdCoodC0yKS0xKStlfSkpLHQuRWFzZUluQ3ViaWM9dC5DcmVhdGVSZXZlcnNpYmxlRWFzaW5nRnVuY3Rpb24oKGZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybihuLT1lKSoodC89aSkqdCp0K2V9KSksdC5FYXNlT3V0Q3ViaWM9dC5DcmVhdGVSZXZlcnNpYmxlRWFzaW5nRnVuY3Rpb24oKGZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0Lz1pLChuLT1lKSooLS10KnQqdCsxKStlfSkpLHQuRWFzZUluT3V0Q3ViaWM9dC5DcmVhdGVSZXZlcnNpYmxlRWFzaW5nRnVuY3Rpb24oKGZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBuLT1lLCh0Lz1pLzIpPDE/bi8yKnQqdCp0K2U6bi8yKigodC09MikqdCp0KzIpK2V9KSksV2UoW04oe21lc3NhZ2U6XCJBbGlhcyBmb3IgaW5jb3JyZWN0IHNwZWxsaW5nIHVzZWQgaW4gb2xkZXIgdmVyc2lvbnMsIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNS4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiQ3JlYXRlUmV2ZXJzaWJsZUVhc2luZ0Z1bmN0aW9uXCJ9KV0sdCxcIkNyZWF0ZVJldmVyc2FibGVFYXNpbmdGdW5jdGlvblwiLG51bGwpLHR9KCkscWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fYWN0b3JzPVtdLHRoaXMuX3F1ZXVlcz1bXSxudWxsIT09YXJndW1lbnRzJiYodGhpcy5fYWN0b3JzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSx0aGlzLl9xdWV1ZXM9dGhpcy5fYWN0b3JzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWN0aW9uUXVldWV9KSkpfXJldHVybiB0LnByb3RvdHlwZS5jbGVhckFjdGlvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fcXVldWVzLmxlbmd0aCxlPTA7ZTx0O2UrKyl0aGlzLl9xdWV1ZXNbZV0uY2xlYXJBY3Rpb25zKCl9LHQucHJvdG90eXBlLmFkZEFjdG9yVG9Db250ZXh0PWZ1bmN0aW9uKHQpe3RoaXMuX2FjdG9ycy5wdXNoKHQpLHRoaXMuX3F1ZXVlcy5wdXNoKHQuYWN0aW9uUXVldWUpfSx0LnByb3RvdHlwZS5yZW1vdmVBY3RvckZyb21Db250ZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2FjdG9ycy5pbmRleE9mKHQpO2U+LTEmJih0aGlzLl9hY3RvcnMuc3BsaWNlKGUsMSksdGhpcy5fcXVldWVzLnNwbGljZShlLDEpKX0sdC5wcm90b3R5cGUuZWFzZVRvPWZ1bmN0aW9uKHQsZSxuLGkpe3ZvaWQgMD09PWkmJihpPU5lLkxpbmVhcik7Zm9yKHZhciByPXRoaXMuX3F1ZXVlcy5sZW5ndGgsbz0wO288cjtvKyspdGhpcy5fcXVldWVzW29dLmFkZChuZXcgRWUodGhpcy5fYWN0b3JzW29dLHQsZSxuLGkpKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5fcXVldWVzLmxlbmd0aCxyPTA7cjxpO3IrKyl0aGlzLl9xdWV1ZXNbcl0uYWRkKG5ldyBTZSh0aGlzLl9hY3RvcnNbcl0sdCxlLG4pKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUubW92ZUJ5PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5fcXVldWVzLmxlbmd0aCxyPTA7cjxpO3IrKyl0aGlzLl9xdWV1ZXNbcl0uYWRkKG5ldyBDZSh0aGlzLl9hY3RvcnNbcl0sdCxlLG4pKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUucm90YXRlVG89ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLl9xdWV1ZXMubGVuZ3RoLHI9MDtyPGk7cisrKXRoaXMuX3F1ZXVlc1tyXS5hZGQobmV3IEJlKHRoaXMuX2FjdG9yc1tyXSx0LGUsbikpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5yb3RhdGVCeT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXRoaXMuX3F1ZXVlcy5sZW5ndGgscj0wO3I8aTtyKyspdGhpcy5fcXVldWVzW3JdLmFkZChuZXcgTWUodGhpcy5fYWN0b3JzW3JdLHQsZSxuKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnNjYWxlVG89ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPXRoaXMuX3F1ZXVlcy5sZW5ndGgsbz0wO288cjtvKyspdGhpcy5fcXVldWVzW29dLmFkZChuZXcgRGUodGhpcy5fYWN0b3JzW29dLHQsZSxuLGkpKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuc2NhbGVCeT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXRoaXMuX3F1ZXVlcy5sZW5ndGgscj0wO3I8aTtyKyspdGhpcy5fcXVldWVzW3JdLmFkZChuZXcga2UodGhpcy5fYWN0b3JzW3JdLHQsZSxuKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmJsaW5rPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0xKTtmb3IodmFyIGk9dGhpcy5fcXVldWVzLmxlbmd0aCxyPTA7cjxpO3IrKyl0aGlzLl9xdWV1ZXNbcl0uYWRkKG5ldyBqZSh0aGlzLl9hY3RvcnNbcl0sdCxlLG4pKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuZmFkZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9xdWV1ZXMubGVuZ3RoLGk9MDtpPG47aSsrKXRoaXMuX3F1ZXVlc1tpXS5hZGQobmV3IEZlKHRoaXMuX2FjdG9yc1tpXSx0LGUpKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuZGVsYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX3F1ZXVlcy5sZW5ndGgsbj0wO248ZTtuKyspdGhpcy5fcXVldWVzW25dLmFkZChuZXcgUmUodGhpcy5fYWN0b3JzW25dLHQpKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuZGllPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3F1ZXVlcy5sZW5ndGgsZT0wO2U8dDtlKyspdGhpcy5fcXVldWVzW2VdLmFkZChuZXcgSWUodGhpcy5fYWN0b3JzW2VdKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmNhbGxNZXRob2Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX3F1ZXVlcy5sZW5ndGgsbj0wO248ZTtuKyspdGhpcy5fcXVldWVzW25dLmFkZChuZXcgTGUodGhpcy5fYWN0b3JzW25dLHQpKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUucmVwZWF0PWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzLnJlcGVhdEZvcmV2ZXIoKSx0aGlzO2Zvcih2YXIgZT10aGlzLl9xdWV1ZXMubGVuZ3RoLG49MDtuPGU7bisrKXRoaXMuX3F1ZXVlc1tuXS5hZGQobmV3IHplKHRoaXMuX2FjdG9yc1tuXSx0LHRoaXMuX2FjdG9yc1tuXS5hY3Rpb25RdWV1ZS5nZXRBY3Rpb25zKCkpKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUucmVwZWF0Rm9yZXZlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9xdWV1ZXMubGVuZ3RoLGU9MDtlPHQ7ZSsrKXRoaXMuX3F1ZXVlc1tlXS5hZGQobmV3IEhlKHRoaXMuX2FjdG9yc1tlXSx0aGlzLl9hY3RvcnNbZV0uYWN0aW9uUXVldWUuZ2V0QWN0aW9ucygpKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmZvbGxvdz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9xdWV1ZXMubGVuZ3RoLGk9MDtpPG47aSsrKXZvaWQgMD09PWU/dGhpcy5fcXVldWVzW2ldLmFkZChuZXcgT2UodGhpcy5fYWN0b3JzW2ldLHQpKTp0aGlzLl9xdWV1ZXNbaV0uYWRkKG5ldyBPZSh0aGlzLl9hY3RvcnNbaV0sdCxlKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLm1lZXQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fcXVldWVzLmxlbmd0aCxpPTA7aTxuO2krKyl2b2lkIDA9PT1lP3RoaXMuX3F1ZXVlc1tpXS5hZGQobmV3IFRlKHRoaXMuX2FjdG9yc1tpXSx0KSk6dGhpcy5fcXVldWVzW2ldLmFkZChuZXcgVGUodGhpcy5fYWN0b3JzW2ldLHQsZSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5hc1Byb21pc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5fcXVldWVzLm1hcCgoZnVuY3Rpb24oZSxuKXt2YXIgaT1uZXcgZDtyZXR1cm4gZS5hZGQobmV3IExlKHQuX2FjdG9yc1tuXSwoZnVuY3Rpb24oKXtpLnJlc29sdmUoKX0pKSksaX0pKTtyZXR1cm4gZC5qb2luLmFwcGx5KHRoaXMsZSl9LHR9KCksVmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LkJveD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdm9pZCAwPT09biYmKG49Vi5IYWxmKSx2b2lkIDA9PT1pJiYoaT1WLlplcm8pLG5ldyBadCh7cG9pbnRzOm5ldyBLdCgtdCpuLngsLWUqbi55LHQtdCpuLngsZS1lKm4ueSkuZ2V0UG9pbnRzKCksb2Zmc2V0Oml9KX0sdC5Qb2x5Z29uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPVYuWmVybyksbmV3IFp0KHtwb2ludHM6dCxvZmZzZXQ6bixjbG9ja3dpc2VXaW5kaW5nOmV9KX0sdC5DaXJjbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9Vi5aZXJvKSxuZXcgWHQoe3JhZGl1czp0LG9mZnNldDplfSl9LHQuRWRnZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUXQoe2JlZ2luOnQsZW5kOmV9KX0sdH0oKSxHZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dC5hY3RvcixuPXQuY29sbGlkZXI7aWYodGhpcy5wb3M9bmV3IFYoMCwwKSx0aGlzLm9sZFBvcz1uZXcgVigwLDApLHRoaXMudmVsPW5ldyBWKDAsMCksdGhpcy5vbGRWZWw9bmV3IFYoMCwwKSx0aGlzLmFjYz1uZXcgVigwLDApLHRoaXMub2xkQWNjPVYuWmVybyx0aGlzLnRvcnF1ZT0wLHRoaXMubW90aW9uPTEwLHRoaXMub2xkUm90YXRpb249MCx0aGlzLnJvdGF0aW9uPTAsdGhpcy5zY2FsZT1WLk9uZSx0aGlzLm9sZFNjYWxlPVYuT25lLHRoaXMuc3g9MCx0aGlzLnN5PTAsdGhpcy5yeD0wLHRoaXMuX2dlb21ldHJ5RGlydHk9ITEsdGhpcy5fdG90YWxNdHY9Vi5aZXJvLCFlJiYhbil0aHJvdyBuZXcgRXJyb3IoXCJBbiBhY3RvciBvciBjb2xsaWRlciBhcmUgcmVxdWlyZWQgdG8gY3JlYXRlIGEgYm9keVwiKTt0aGlzLmFjdG9yPWUsdGhpcy5jb2xsaWRlcj0hbiYmZT90aGlzLnVzZUJveENvbGxpZGVyKGUud2lkdGgsZS5oZWlnaHQsZS5hbmNob3IpOm59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdG9yP3RoaXMuYWN0b3IuaWQ6LTF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoe2FjdG9yOm51bGwsY29sbGlkZXI6dGhpcy5jb2xsaWRlci5jbG9uZSgpfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuYWN0b3ImJiF0aGlzLmFjdG9yLmlzS2lsbGVkKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2VudGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb2xsaWRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGlkZXJ9LHNldDpmdW5jdGlvbih0KXt0JiYodGhpcy5fY29sbGlkZXI9dCx0aGlzLl9jb2xsaWRlci5ib2R5PXRoaXMsdGhpcy5fd2lyZUNvbGxpZGVyRXZlbnRzVG9BY3RvcigpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5hZGRNdHY9ZnVuY3Rpb24odCl7dGhpcy5fdG90YWxNdHYuYWRkRXF1YWwodCl9LHQucHJvdG90eXBlLmFwcGx5TXR2PWZ1bmN0aW9uKCl7dGhpcy5wb3MuYWRkRXF1YWwodGhpcy5fdG90YWxNdHYpLHRoaXMuX3RvdGFsTXR2LnNldFRvKDAsMCl9LHQucHJvdG90eXBlLm1hcmtDb2xsaXNpb25TaGFwZURpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fZ2VvbWV0cnlEaXJ0eT0hMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNDb2xsaWRlclNoYXBlRGlydHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5RGlydHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2FwdHVyZU9sZFRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMub2xkVmVsLnNldFRvKHRoaXMudmVsLngsdGhpcy52ZWwueSksdGhpcy5vbGRQb3Muc2V0VG8odGhpcy5wb3MueCx0aGlzLnBvcy55KSx0aGlzLm9sZEFjYy5zZXRUbyh0aGlzLmFjYy54LHRoaXMuYWNjLnkpLHRoaXMub2xkU2NhbGUuc2V0VG8odGhpcy5zY2FsZS54LHRoaXMuc2NhbGUueSksdGhpcy5vbGRSb3RhdGlvbj10aGlzLnJvdGF0aW9ufSx0LnByb3RvdHlwZS5pbnRlZ3JhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dC8xZTMsbj10aGlzLmFjYy5jbG9uZSgpO3RoaXMuY29sbGlkZXIudHlwZT09PWN0LkFjdGl2ZSYmbi5hZGRFcXVhbChzdC5hY2MpLHRoaXMudmVsLmFkZEVxdWFsKG4uc2NhbGUoZSkpLHRoaXMucG9zLmFkZEVxdWFsKHRoaXMudmVsLnNjYWxlKGUpKS5hZGRFcXVhbChuLnNjYWxlKC41KmUqZSkpLHRoaXMucngrPXRoaXMudG9ycXVlKigxL3RoaXMuY29sbGlkZXIuaW5lcnRpYSkqZSx0aGlzLnJvdGF0aW9uKz10aGlzLnJ4KmUsdGhpcy5zY2FsZS54Kz10aGlzLnN4KnQvMWUzLHRoaXMuc2NhbGUueSs9dGhpcy5zeSp0LzFlMyx0aGlzLnNjYWxlLmVxdWFscyh0aGlzLm9sZFNjYWxlKXx8KHRoaXMuX2dlb21ldHJ5RGlydHk9ITApLHRoaXMuY29sbGlkZXIudXBkYXRlKCksdGhpcy5fZ2VvbWV0cnlEaXJ0eT0hMX0sdC5wcm90b3R5cGUudXNlQm94Q29sbGlkZXI9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHZvaWQgMD09PW4mJihuPVYuSGFsZiksdm9pZCAwPT09aSYmKGk9Vi5aZXJvKSxudWxsPT10JiYodD10aGlzLmFjdG9yP3RoaXMuYWN0b3Iud2lkdGg6MCksbnVsbD09ZSYmKGU9dGhpcy5hY3Rvcj90aGlzLmFjdG9yLmhlaWdodDowKSx0aGlzLmNvbGxpZGVyLnNoYXBlPVZlLkJveCh0LGUsbixpKSx0aGlzLmNvbGxpZGVyfSx0LnByb3RvdHlwZS51c2VQb2x5Z29uQ29sbGlkZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9Vi5aZXJvKSx0aGlzLmNvbGxpZGVyLnNoYXBlPVZlLlBvbHlnb24odCwhMSxlKSx0aGlzLmNvbGxpZGVyfSx0LnByb3RvdHlwZS51c2VDaXJjbGVDb2xsaWRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1WLlplcm8pLHRoaXMuY29sbGlkZXIuc2hhcGU9VmUuQ2lyY2xlKHQsZSksdGhpcy5jb2xsaWRlcn0sdC5wcm90b3R5cGUudXNlRWRnZUNvbGxpZGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29sbGlkZXIuc2hhcGU9VmUuRWRnZSh0LGUpLHRoaXMuY29sbGlkZXJ9LHQucHJvdG90eXBlLl93aXJlQ29sbGlkZXJFdmVudHNUb0FjdG9yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmNvbGxpZGVyLmNsZWFyKCksdGhpcy5jb2xsaWRlci5vbihcInByZWNvbGxpc2lvblwiLChmdW5jdGlvbihlKXt0LmFjdG9yJiZ0LmFjdG9yLmVtaXQoXCJwcmVjb2xsaXNpb25cIixuZXcgTXQoZS50YXJnZXQuYm9keS5hY3RvcixlLm90aGVyLmJvZHkuYWN0b3IsZS5zaWRlLGUuaW50ZXJzZWN0aW9uKSl9KSksdGhpcy5jb2xsaWRlci5vbihcInBvc3Rjb2xsaXNpb25cIiwoZnVuY3Rpb24oZSl7dC5hY3RvciYmdC5hY3Rvci5lbWl0KFwicG9zdGNvbGxpc2lvblwiLG5ldyBEdChlLnRhcmdldC5ib2R5LmFjdG9yLGUub3RoZXIuYm9keS5hY3RvcixlLnNpZGUsZS5pbnRlcnNlY3Rpb24pKX0pKSx0aGlzLmNvbGxpZGVyLm9uKFwiY29sbGlzaW9uc3RhcnRcIiwoZnVuY3Rpb24oZSl7dC5hY3RvciYmdC5hY3Rvci5lbWl0KFwiY29sbGlzaW9uc3RhcnRcIixuZXcga3QoZS50YXJnZXQuYm9keS5hY3RvcixlLm90aGVyLmJvZHkuYWN0b3IsZS5wYWlyKSl9KSksdGhpcy5jb2xsaWRlci5vbihcImNvbGxpc2lvbmVuZFwiLChmdW5jdGlvbihlKXt0LmFjdG9yJiZ0LmFjdG9yLmVtaXQoXCJjb2xsaXNpb25lbmRcIixuZXcgUnQoZS50YXJnZXQuYm9keS5hY3RvcixlLm90aGVyLmJvZHkuYWN0b3IpKX0pKX0sdH0oKSxYZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZXZlbnREaXNwYXRjaGVyO2lmKHQuYm9keS5jb2xsaWRlci50eXBlIT09Y3QuUHJldmVudENvbGxpc2lvbiYmZS5jdXJyZW50U2NlbmUmJmUuY3VycmVudFNjZW5lLnRpbGVNYXBzKWZvcih2YXIgaT0wO2k8ZS5jdXJyZW50U2NlbmUudGlsZU1hcHMubGVuZ3RoO2krKylmb3IodmFyIHI9ZS5jdXJyZW50U2NlbmUudGlsZU1hcHNbaV0sbz12b2lkIDAscz1wLk5vbmUsYT0yOyhvPXIuY29sbGlkZXModCkpJiYhKGEtLTwwKTspcz1LdC5nZXRTaWRlRnJvbUludGVyc2VjdGlvbihvKSxuLmVtaXQoXCJwcmVjb2xsaXNpb25cIixuZXcgTXQodCxudWxsLHMsbykpLHQuYm9keS5jb2xsaWRlci50eXBlPT09Y3QuQWN0aXZlJiYodC5wb3MueSs9by55LHQucG9zLngrPW8ueCxuLmVtaXQoXCJwb3N0Y29sbGlzaW9uXCIsbmV3IER0KHQsbnVsbCxzLG8pKSl9LHR9KCksUWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fdG9wTGVmdD1uZXcgVigwLDApLHRoaXMuX3RvcFJpZ2h0PW5ldyBWKDAsMCksdGhpcy5fYm90dG9tTGVmdD1uZXcgVigwLDApLHRoaXMuX2JvdHRvbVJpZ2h0PW5ldyBWKDAsMCl9cmV0dXJuIHQucHJvdG90eXBlLmlzU3ByaXRlT2ZmU2NyZWVuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jdXJyZW50RHJhd2luZy5kcmF3V2lkdGgsaT10LmN1cnJlbnREcmF3aW5nLmRyYXdIZWlnaHQscj10LnJvdGF0aW9uLG89dC5jZW50ZXIscz10LmdldFdvcmxkUG9zKCk7dGhpcy5fdG9wTGVmdC54PXMueC1uLzIsdGhpcy5fdG9wTGVmdC55PXMueS1pLzIsdGhpcy5fdG9wTGVmdD10aGlzLl90b3BMZWZ0LnJvdGF0ZShyLG8pLHRoaXMuX3RvcFJpZ2h0Lng9cy54K24vMix0aGlzLl90b3BSaWdodC55PXMueS1pLzIsdGhpcy5fdG9wUmlnaHQ9dGhpcy5fdG9wUmlnaHQucm90YXRlKHIsbyksdGhpcy5fYm90dG9tTGVmdC54PXMueC1uLzIsdGhpcy5fYm90dG9tTGVmdC55PXMueStpLzIsdGhpcy5fYm90dG9tTGVmdD10aGlzLl9ib3R0b21MZWZ0LnJvdGF0ZShyLG8pLHRoaXMuX2JvdHRvbVJpZ2h0Lng9cy54K24vMix0aGlzLl9ib3R0b21SaWdodC55PXMueStpLzIsdGhpcy5fYm90dG9tUmlnaHQ9dGhpcy5fYm90dG9tUmlnaHQucm90YXRlKHIsbyk7dmFyIGE9ZS53b3JsZFRvU2NyZWVuQ29vcmRpbmF0ZXModGhpcy5fdG9wTGVmdCksYz1lLndvcmxkVG9TY3JlZW5Db29yZGluYXRlcyh0aGlzLl90b3BSaWdodCksaD1lLndvcmxkVG9TY3JlZW5Db29yZGluYXRlcyh0aGlzLl9ib3R0b21MZWZ0KSx1PWUud29ybGRUb1NjcmVlbkNvb3JkaW5hdGVzKHRoaXMuX2JvdHRvbVJpZ2h0KTt0aGlzLl94Q29vcmRzPVtdLHRoaXMuX3lDb29yZHM9W10sdGhpcy5feENvb3Jkcy5wdXNoKGEueCxjLngsaC54LHUueCksdGhpcy5feUNvb3Jkcy5wdXNoKGEueSxjLnksaC55LHUueSksdGhpcy5feE1pbj1NYXRoLm1pbi5hcHBseShudWxsLHRoaXMuX3hDb29yZHMpLHRoaXMuX3lNaW49TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLl95Q29vcmRzKSx0aGlzLl94TWF4PU1hdGgubWF4LmFwcGx5KG51bGwsdGhpcy5feENvb3JkcyksdGhpcy5feU1heD1NYXRoLm1heC5hcHBseShudWxsLHRoaXMuX3lDb29yZHMpO3ZhciBsPWUuc2NyZWVuVG9Xb3JsZENvb3JkaW5hdGVzKG5ldyBWKHRoaXMuX3hNaW4sdGhpcy5feU1pbikpLHA9ZS5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXMobmV3IFYodGhpcy5feE1heCx0aGlzLl95TWF4KSk7dGhpcy5feE1pbldvcmxkPWwueCx0aGlzLl95TWluV29ybGQ9bC55LHRoaXMuX3hNYXhXb3JsZD1wLngsdGhpcy5feU1heFdvcmxkPXAueTt2YXIgZD1bbmV3IFYodGhpcy5feE1pbix0aGlzLl95TWluKSxuZXcgVih0aGlzLl94TWF4LHRoaXMuX3lNaW4pLG5ldyBWKHRoaXMuX3hNaW4sdGhpcy5feU1heCksbmV3IFYodGhpcy5feE1heCx0aGlzLl95TWF4KV07aWYoZFswXS54PDAmJmRbMV0ueD5lLmNhbnZhcy5jbGllbnRXaWR0aCYmKGRbMF0ueT4wfHxkWzJdLnk8ZS5jYW52YXMuY2xpZW50SGVpZ2h0KSlyZXR1cm4hMTtpZihkWzBdLnk8MCYmZFsyXS55PmUuY2FudmFzLmNsaWVudEhlaWdodCYmKGRbMV0ueD4wfHxkWzBdLng8ZS5jYW52YXMuY2xpZW50V2lkdGgpKXJldHVybiExO2Zvcih2YXIgZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ueD4wJiZkW2ZdLnk+MCYmZFtmXS54PGUuY2FudmFzLmNsaWVudFdpZHRoJiZkW2ZdLnk8ZS5jYW52YXMuY2xpZW50SGVpZ2h0KXJldHVybiExO3JldHVybiEwfSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7dC5iZWdpblBhdGgoKSx0LnN0cm9rZVN0eWxlPWV0LldoaXRlLnRvU3RyaW5nKCksdC5yZWN0KHRoaXMuX3hNaW5Xb3JsZCx0aGlzLl95TWluV29ybGQsdGhpcy5feE1heFdvcmxkLXRoaXMuX3hNaW5Xb3JsZCx0aGlzLl95TWF4V29ybGQtdGhpcy5feU1pbldvcmxkKSx0LnN0cm9rZSgpLHQuZmlsbFN0eWxlPWV0LlJlZC50b1N0cmluZygpLHQuYmVnaW5QYXRoKCksdC5hcmModGhpcy5fdG9wTGVmdC54LHRoaXMuX3RvcExlZnQueSw1LDAsMipNYXRoLlBJKSx0LmNsb3NlUGF0aCgpLHQuZmlsbCgpLHQuZmlsbFN0eWxlPWV0LkdyZWVuLnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKSx0LmFyYyh0aGlzLl90b3BSaWdodC54LHRoaXMuX3RvcFJpZ2h0LnksNSwwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0LmZpbGwoKSx0LmZpbGxTdHlsZT1ldC5CbHVlLnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKSx0LmFyYyh0aGlzLl9ib3R0b21MZWZ0LngsdGhpcy5fYm90dG9tTGVmdC55LDUsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5maWxsKCksdC5maWxsU3R5bGU9ZXQuTWFnZW50YS50b1N0cmluZygpLHQuYmVnaW5QYXRoKCksdC5hcmModGhpcy5fYm90dG9tUmlnaHQueCx0aGlzLl9ib3R0b21SaWdodC55LDUsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5maWxsKCl9LHR9KCksWmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5jdWxsaW5nQm94PW5ldyBRZX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5ldmVudERpc3BhdGNoZXIsaT0hMDtudWxsIT10LmN1cnJlbnREcmF3aW5nJiYoaT10aGlzLmN1bGxpbmdCb3guaXNTcHJpdGVPZmZTY3JlZW4odCxlKSk7dmFyIHI9ITE7ZSYmZS5jdXJyZW50U2NlbmUmJmUuY3VycmVudFNjZW5lLmNhbWVyYSYmZS5jdXJyZW50U2NlbmUuY2FtZXJhLnZpZXdwb3J0JiYocj0hZS5jdXJyZW50U2NlbmUuY2FtZXJhLnZpZXdwb3J0LmludGVyc2VjdCh0LmJvZHkuY29sbGlkZXIuYm91bmRzKSksdC5pc09mZlNjcmVlbj9yJiZpfHwobi5lbWl0KFwiZW50ZXJ2aWV3cG9ydFwiLG5ldyB6dCh0KSksdC5pc09mZlNjcmVlbj0hMSk6ciYmaSYmKG4uZW1pdChcImV4aXR2aWV3cG9ydFwiLG5ldyBMdCh0KSksdC5pc09mZlNjcmVlbj0hMCl9LHR9KCksS2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt0LmVuYWJsZUNhcHR1cmVQb2ludGVyJiYodC5pc0tpbGxlZCgpfHxlLmlucHV0LnBvaW50ZXJzLmNoZWNrQW5kVXBkYXRlQWN0b3JVbmRlclBvaW50ZXIodCkpfSx0fSgpO2Z1bmN0aW9uIFllKHQsZSxuLGkscixvLHMsYSl7dm9pZCAwPT09ZSYmKGU9ZXQuUmVkKSx2b2lkIDA9PT1zJiYocz0xKSx2b2lkIDA9PT1hJiYoYT1cImJ1dHRcIiksdC5iZWdpblBhdGgoKSx0LmxpbmVXaWR0aD1zLHQubGluZUNhcD1hLHQuc3Ryb2tlU3R5bGU9ZS50b1N0cmluZygpLHQubW92ZVRvKG4saSksdC5saW5lVG8ocixvKSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCl9ZnVuY3Rpb24gSmUodCxlLG4pe3ZvaWQgMD09PWUmJihlPWV0LlJlZCksdC5iZWdpblBhdGgoKSx0LnN0cm9rZVN0eWxlPWUudG9TdHJpbmcoKSx0LmFyYyhuLngsbi55LDUsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKX1mdW5jdGlvbiAkZSh0LGUsbixpLHIpe3ZvaWQgMD09PXImJihyPTEpO3ZhciBvPWU/ZS50b1N0cmluZygpOlwiYmx1ZVwiLHM9aS5zY2FsZShyKTt0LmJlZ2luUGF0aCgpLHQuc3Ryb2tlU3R5bGU9byx0Lm1vdmVUbyhuLngsbi55KSx0LmxpbmVUbyhuLngrcy54LG4ueStzLnkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKX1mdW5jdGlvbiB0bih0LGUsbixpLHIsbyxzLGEpe3ZhciBjO2lmKHZvaWQgMD09PW8mJihvPTUpLHZvaWQgMD09PXMmJihzPWV0LldoaXRlKSx2b2lkIDA9PT1hJiYoYT1udWxsKSxcIm51bWJlclwiPT10eXBlb2YgbyljPXt0bDpvLHRyOm8sYnI6byxibDpvfTtlbHNle3ZhciBoPXt0bDowLHRyOjAsYnI6MCxibDowfTtmb3IodmFyIHUgaW4gaClpZihoLmhhc093blByb3BlcnR5KHUpKXt2YXIgbD11O2NbbF09b1tsXXx8aFtsXX19dC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhlK2MudGwsbiksdC5saW5lVG8oZStpLWMudHIsbiksdC5xdWFkcmF0aWNDdXJ2ZVRvKGUraSxuLGUraSxuK2MudHIpLHQubGluZVRvKGUraSxuK3ItYy5iciksdC5xdWFkcmF0aWNDdXJ2ZVRvKGUraSxuK3IsZStpLWMuYnIsbityKSx0LmxpbmVUbyhlK2MuYmwsbityKSx0LnF1YWRyYXRpY0N1cnZlVG8oZSxuK3IsZSxuK3ItYy5ibCksdC5saW5lVG8oZSxuK2MudGwpLHQucXVhZHJhdGljQ3VydmVUbyhlLG4sZStjLnRsLG4pLHQuY2xvc2VQYXRoKCksYSYmKHQuZmlsbFN0eWxlPWEudG9TdHJpbmcoKSx0LmZpbGwoKSkscyYmKHQuc3Ryb2tlU3R5bGU9cy50b1N0cmluZygpLHQuc3Ryb2tlKCkpfWZ1bmN0aW9uIGVuKHQsZSxuLGkscixvKXt2b2lkIDA9PT1yJiYocj1ldC5XaGl0ZSksdm9pZCAwPT09byYmKG89bnVsbCksdC5iZWdpblBhdGgoKSx0LmFyYyhlLG4saSwwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSxvJiYodC5maWxsU3R5bGU9by50b1N0cmluZygpLHQuZmlsbCgpKSxyJiYodC5zdHJva2VTdHlsZT1yLnRvU3RyaW5nKCksdC5zdHJva2UoKSl9dmFyIG5uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fbmFtZT10LHRoaXMuX2NhdGVnb3J5PWUsdGhpcy5fbWFzaz1ufXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNhdGVnb3J5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXRlZ29yeX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJtYXNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXNrfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNhbkNvbGxpZGU9ZnVuY3Rpb24odCl7cmV0dXJuIDAhPSh0aGlzLmNhdGVnb3J5JnQubWFzaykmJjAhPSh0LmNhdGVnb3J5JnRoaXMubWFzayl9LHQuQWxsPW5ldyB0KFwiQ29sbGlkZSB3aXRoIGFsbCBncm91cHNcIiwtMSwtMSksdH0oKSxybj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXt0aGlzLmNvbGxpZGVyQT1lLHRoaXMuY29sbGlkZXJCPW4sdGhpcy5pZD1udWxsLHRoaXMuY29sbGlzaW9uPW51bGwsdGhpcy5pZD10LmNhbGN1bGF0ZVBhaXJIYXNoKGUsbil9cmV0dXJuIHQuY2FuQ29sbGlkZT1mdW5jdGlvbih0LGUpe3JldHVybiEhdC5ncm91cC5jYW5Db2xsaWRlKGUuZ3JvdXApJiYoKHQudHlwZSE9PWN0LkZpeGVkfHxlLnR5cGUhPT1jdC5GaXhlZCkmJihlLnR5cGUhPT1jdC5QcmV2ZW50Q29sbGlzaW9uJiZ0LnR5cGUhPT1jdC5QcmV2ZW50Q29sbGlzaW9uJiYhKCF0LmFjdGl2ZXx8IWUuYWN0aXZlKSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjYW5Db2xsaWRlXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY29sbGlkZXJBLG49dGhpcy5jb2xsaWRlckI7cmV0dXJuIHQuY2FuQ29sbGlkZShlLG4pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNvbGxpZGU9ZnVuY3Rpb24oKXt0aGlzLmNvbGxpc2lvbj10aGlzLmNvbGxpZGVyQS5jb2xsaWRlKHRoaXMuY29sbGlkZXJCKX0sdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt0aGlzLmNvbGxpc2lvbiYmdGhpcy5jb2xsaXNpb24ucmVzb2x2ZSh0KX0sdC5jYWxjdWxhdGVQYWlySGFzaD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmlkPGUuaWQ/XCIjXCIrdC5pZCtcIitcIitlLmlkOlwiI1wiK2UuaWQrXCIrXCIrdC5pZH0sdC5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQpe3RoaXMuY29sbGlzaW9uJiYoc3Quc2hvd0NvbnRhY3RzJiZKZSh0LGV0LlJlZCx0aGlzLmNvbGxpc2lvbi5wb2ludCksc3Quc2hvd0NvbGxpc2lvbk5vcm1hbHMmJiRlKHQsZXQuQ3lhbix0aGlzLmNvbGxpc2lvbi5wb2ludCx0aGlzLmNvbGxpc2lvbi5ub3JtYWwsMzApKX0sdH0oKTtmdW5jdGlvbiBvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHNufXZhciBzbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dC5ib2R5LG49dC50eXBlLGk9dC5ncm91cCxyPXQuc2hhcGUsbz10Lm9mZnNldCxzPXQudXNlU2hhcGVJbmVydGlhLGE9dm9pZCAwPT09c3x8czt0aGlzLl9ldmVudHM9bmV3IHRlKHRoaXMpLHRoaXMudHlwZT1jdC5QcmV2ZW50Q29sbGlzaW9uLHRoaXMuZ3JvdXA9bm4uQWxsLHRoaXMubWFzcz0xLHRoaXMuaW5lcnRpYT0xZTMsdGhpcy5mcmljdGlvbj0uOTksdGhpcy5ib3VuY2luZXNzPS4yLGUmJmUuY29sbGlkZXImJiFyP3RoaXMuX3NoYXBlPWUuY29sbGlkZXIuc2hhcGU6KHRoaXMuX3NoYXBlPXIsdGhpcy5ib2R5PWUpLHRoaXMudXNlU2hhcGVJbmVydGlhPWEsdGhpcy5fc2hhcGUuY29sbGlkZXI9dGhpcyx0aGlzLnR5cGU9bnx8dGhpcy50eXBlLHRoaXMuZ3JvdXA9aXx8dGhpcy5ncm91cCx0aGlzLm9mZnNldD1vfHxWLlplcm99cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHtib2R5Om51bGwsdHlwZTp0aGlzLnR5cGUsc2hhcGU6dGhpcy5fc2hhcGUuY2xvbmUoKSxncm91cDp0aGlzLmdyb3VwLG9mZnNldDp0aGlzLm9mZnNldH0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5P3RoaXMuYm9keS5pZDotMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzaGFwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhcGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaGFwZT10LHRoaXMuX3NoYXBlLmNvbGxpZGVyPXRoaXMsdGhpcy51c2VTaGFwZUluZXJ0aWEmJih0aGlzLmluZXJ0aWE9aXNOYU4odGhpcy5fc2hhcGUuaW5lcnRpYSk/dGhpcy5pbmVydGlhOnRoaXMuX3NoYXBlLmluZXJ0aWEpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHMuY2VudGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LmFjdGl2ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb2xsaWRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNoYXBlLmNvbGxpZGUodC5zaGFwZSl9LHQucHJvdG90eXBlLmdldENsb3Nlc3RMaW5lQmV0d2Vlbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zaGFwZS5nZXRDbG9zZXN0TGluZUJldHdlZW4odC5zaGFwZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9mZnNldFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFwZS5vZmZzZXQuY2xvbmUoKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc2hhcGUub2Zmc2V0PXQuY2xvbmUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b3VjaGluZz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgcm4odGhpcyx0KTtyZXR1cm4gZS5jb2xsaWRlKCksISFlLmNvbGxpc2lvbn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYm91bmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYXBlP3RoaXMuc2hhcGUuYm91bmRzOnRoaXMuYm9keT8obmV3IEt0KS50cmFuc2xhdGUodGhpcy5ib2R5LnBvcyk6bmV3IEt0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxvY2FsQm91bmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYXBlP3RoaXMuc2hhcGUubG9jYWxCb3VuZHM6bmV3IEt0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuc2hhcGUmJnRoaXMuc2hhcGUucmVjYWxjKCl9LHQucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9ldmVudHMuZW1pdCh0LGUpfSx0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUpe3RoaXMuX2V2ZW50cy5vbih0LGUpfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXt0aGlzLl9ldmVudHMub2ZmKHQsZSl9LHQucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXt0aGlzLl9ldmVudHMub25jZSh0LGUpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2V2ZW50cy5jbGVhcigpfSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7c3Quc2hvd01vdGlvblZlY3RvcnMmJigkZSh0LGV0LlllbGxvdyx0aGlzLmJvZHkucG9zLHRoaXMuYm9keS5hY2MuYWRkKHN0LmFjYykpLCRlKHQsZXQuUmVkLHRoaXMuYm9keS5wb3MsdGhpcy5ib2R5LnZlbCksSmUodCxldC5SZWQsdGhpcy5ib2R5LnBvcykpLHN0LnNob3dCb3VuZHMmJnRoaXMuYm91bmRzLmRlYnVnRHJhdyh0LGV0LlllbGxvdyksc3Quc2hvd0FyZWEmJnRoaXMuc2hhcGUuZGVidWdEcmF3KHQsZXQuR3JlZW4pfSx0fSgpLGFuPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KShlLG4pfTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxuKSxlLnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpO3ZhciBjbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQsZT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcjtmb3IodmFyIG4gaW4gdGhpcylpZih0aGlzLmhhc093blByb3BlcnR5KG4pKXt2YXIgaT10aGlzW25dOyhudWxsPT0odD1pKT92b2lkIDA6dC5jbG9uZSkmJlwib3duZXJcIiE9PW4mJlwiY2xvbmVcIiE9PW4/ZVtuXT1pLmNsb25lKCk6ZVtuXT1pfXJldHVybiBlfSx0fSgpLGhuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkudHlwZT1lLGkudmFsdWU9bixpfXJldHVybiBhbihlLHQpLGV9KGNuKSx1bj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLm9ic2VydmVycz1bXX1yZXR1cm4gdC5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24odCl7dGhpcy5vYnNlcnZlcnMucHVzaCh0KX0sdC5wcm90b3R5cGUudW5yZWdpc3Rlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9ic2VydmVycy5pbmRleE9mKHQpOy0xIT09ZSYmdGhpcy5vYnNlcnZlcnMuc3BsaWNlKGUsMSl9LHQucHJvdG90eXBlLm5vdGlmeUFsbD1mdW5jdGlvbih0KXt0aGlzLm9ic2VydmVycy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5ub3RpZnkodCl9KSl9LHR9KCksbG49ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscG49ZnVuY3Rpb24odCl7dGhpcy5kYXRhPXQsdGhpcy50eXBlPVwiQ29tcG9uZW50IEFkZGVkXCJ9O2Z1bmN0aW9uIGRuKHQpe3JldHVybiEhdCYmXCJDb21wb25lbnQgQWRkZWRcIj09PXQudHlwZX12YXIgZm49ZnVuY3Rpb24odCl7dGhpcy5kYXRhPXQsdGhpcy50eXBlPVwiQ29tcG9uZW50IFJlbW92ZWRcIn07ZnVuY3Rpb24geW4odCl7cmV0dXJuISF0JiZcIkNvbXBvbmVudCBSZW1vdmVkXCI9PT10LnR5cGV9dmFyIGduPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4uaWQ9ZS5fSUQrKyxuLmFjdGl2ZT0hMCxuLl9jb21wb25lbnRzVG9SZW1vdmU9W10sbi5fdHlwZXNNZW1vPVtdLG4uX2RpcnR5PSEwLG4uX2hhbmRsZUNoYW5nZXM9e2RlZmluZVByb3BlcnR5OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdFtlXT1pLnZhbHVlLG4uY2hhbmdlcy5ub3RpZnlBbGwobmV3IHBuKHtjb21wb25lbnQ6aS52YWx1ZSxlbnRpdHk6bn0pKSwhMH0sZGVsZXRlUHJvcGVydHk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSBpbiB0JiYobi5jaGFuZ2VzLm5vdGlmeUFsbChuZXcgZm4oe2NvbXBvbmVudDp0W2VdLGVudGl0eTpufSkpLGRlbGV0ZSB0W2VdLCEwKX19LG4uY29tcG9uZW50cz1uZXcgUHJveHkoe30sbi5faGFuZGxlQ2hhbmdlcyksbi5jaGFuZ2VzPW5ldyB1bixuLl9pc0luaXRpYWxpemVkPSExLG59cmV0dXJuIGxuKGUsdCksZS5wcm90b3R5cGUua2lsbD1mdW5jdGlvbigpe3RoaXMuYWN0aXZlPSExfSxlLnByb3RvdHlwZS5pc0tpbGxlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLmFjdGl2ZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidHlwZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpcnR5P3RoaXMuX3R5cGVzTWVtbz1PYmplY3Qua2V5cyh0aGlzLmNvbXBvbmVudHMpOnRoaXMuX3R5cGVzTWVtb30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgZSxuPTAsaT10aGlzLnR5cGVzO248aS5sZW5ndGg7bisrKXt2YXIgcj1pW25dO3QuYWRkQ29tcG9uZW50KHRoaXMuY29tcG9uZW50c1tyXS5jbG9uZSgpKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuYWRkQ29tcG9uZW50PWZ1bmN0aW9uKHQsbil7aWYodm9pZCAwPT09biYmKG49ITEpLHQgaW5zdGFuY2VvZiBlKWZvcih2YXIgaSBpbiB0LmNvbXBvbmVudHMpdGhpcy5hZGRDb21wb25lbnQodC5jb21wb25lbnRzW2ldLmNsb25lKCkpO2Vsc2V7aWYodGhpcy5jb21wb25lbnRzW3QudHlwZV0mJiFuKXJldHVybiB0aGlzO2lmKHRoaXMuY29tcG9uZW50c1t0LnR5cGVdJiZuJiZ0aGlzLnJlbW92ZUNvbXBvbmVudCh0KSx0LmRlcGVuZGVuY2llcyYmdC5kZXBlbmRlbmNpZXMubGVuZ3RoKWZvcih2YXIgcj0wLG89dC5kZXBlbmRlbmNpZXM7cjxvLmxlbmd0aDtyKyspe3ZhciBzPW9bcl07dGhpcy5hZGRDb21wb25lbnQobmV3IHMpLHRoaXMuX2RpcnR5PSEwfXQub3duZXI9dGhpcyx0aGlzLmNvbXBvbmVudHNbdC50eXBlXT10LHQub25BZGQmJih0aGlzLl9kaXJ0eT0hMCx0Lm9uQWRkKHRoaXMpKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSxlP1wic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMuX3JlbW92ZUNvbXBvbmVudEJ5VHlwZSh0KTp0IGluc3RhbmNlb2YgY24mJnRoaXMuX3JlbW92ZUNvbXBvbmVudEJ5VHlwZSh0LnR5cGUpOnRoaXMuX2NvbXBvbmVudHNUb1JlbW92ZS5wdXNoKHQpLHRoaXN9LGUucHJvdG90eXBlLl9yZW1vdmVDb21wb25lbnRCeVR5cGU9ZnVuY3Rpb24odCl7dGhpcy5jb21wb25lbnRzW3RdJiYodGhpcy5jb21wb25lbnRzW3RdLm93bmVyPW51bGwsdGhpcy5jb21wb25lbnRzW3RdLm9uUmVtb3ZlJiZ0aGlzLmNvbXBvbmVudHNbdF0ub25SZW1vdmUodGhpcyksZGVsZXRlIHRoaXMuY29tcG9uZW50c1t0XSx0aGlzLl9kaXJ0eT0hMCl9LGUucHJvdG90eXBlLnByb2Nlc3NSZW1vdmFsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLl9jb21wb25lbnRzVG9SZW1vdmU7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF0saT1cInN0cmluZ1wiPT10eXBlb2Ygbj9uOm4udHlwZTt0aGlzLl9yZW1vdmVDb21wb25lbnRCeVR5cGUoaSl9dGhpcy5fY29tcG9uZW50c1RvUmVtb3ZlLmxlbmd0aD0wfSxlLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmNvbXBvbmVudHNbdF19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzSW5pdGlhbGl6ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSW5pdGlhbGl6ZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2luaXRpYWxpemU9ZnVuY3Rpb24oZSl7dGhpcy5pc0luaXRpYWxpemVkfHwodGhpcy5vbkluaXRpYWxpemUoZSksdC5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJpbml0aWFsaXplXCIsbmV3IGp0KGUsdGhpcykpLHRoaXMuX2lzSW5pdGlhbGl6ZWQ9ITApfSxlLnByb3RvdHlwZS5fcHJldXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicHJldXBkYXRlXCIsbmV3IG10KHQsZSx0aGlzKSksdGhpcy5vblByZVVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5fcG9zdHVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInBvc3R1cGRhdGVcIixuZXcgYnQodCxlLHRoaXMpKSx0aGlzLm9uUG9zdFVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5vbkluaXRpYWxpemU9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5vblByZVVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUub25Qb3N0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlLl9JRD0wLGV9KGVlKSxfbj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsbil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkoZSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSx2bj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixpKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShyPXRbYV0pJiYocz0obzwzP3Iocyk6bz4zP3IoZSxuLHMpOnIoZSxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4scyksc307ZnVuY3Rpb24gbW4odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBibn12YXIgYm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLG8pe3JldHVybiB0LmNhbGwodGhpcyxlLG4saSxyLG8pfHx0aGlzfXJldHVybiBfbihlLHQpLGV9KGZlKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobixpLHIsbyxzKXt2YXIgYT10LmNhbGwodGhpcyl8fHRoaXM7YS5pZD1lLm1heElkKyssYS5faGVpZ2h0PTAsYS5fd2lkdGg9MCxhLmlzT2ZmU2NyZWVuPSExLGEudmlzaWJsZT0hMCxhLm9wYWNpdHk9MSxhLnByZXZpb3VzT3BhY2l0eT0xLGEubG9nZ2VyPVIuZ2V0SW5zdGFuY2UoKSxhLnNjZW5lPW51bGwsYS5wYXJlbnQ9bnVsbCxhLmNoaWxkcmVuPVtdLGEuZnJhbWVzPXt9LGEuY3VycmVudERyYXdpbmc9bnVsbCxhLl9kcmFnZ2FibGU9ITEsYS5fZHJhZ2dpbmc9ITEsYS5fcG9pbnRlckRyYWdTdGFydEhhbmRsZXI9ZnVuY3Rpb24oKXthLl9kcmFnZ2luZz0hMH0sYS5fcG9pbnRlckRyYWdFbmRIYW5kbGVyPWZ1bmN0aW9uKCl7YS5fZHJhZ2dpbmc9ITF9LGEuX3BvaW50ZXJEcmFnTW92ZUhhbmRsZXI9ZnVuY3Rpb24odCl7YS5fZHJhZ2dpbmcmJihhLnBvcz10LnBvaW50ZXIubGFzdFdvcmxkUG9zKX0sYS5fcG9pbnRlckRyYWdMZWF2ZUhhbmRsZXI9ZnVuY3Rpb24odCl7YS5fZHJhZ2dpbmcmJihhLnBvcz10LnBvaW50ZXIubGFzdFdvcmxkUG9zKX0sYS50cmFpdHM9W10sYS5lbmFibGVDYXB0dXJlUG9pbnRlcj0hMSxhLmNhcHR1cmVQb2ludGVyPXtjYXB0dXJlTW92ZUV2ZW50czohMSxjYXB0dXJlRHJhZ0V2ZW50czohMX0sYS5fekluZGV4PTAsYS5faXNLaWxsZWQ9ITEsYS5fY2FwdHVyZVBvaW50ZXJFdmVudHM9W1wicG9pbnRlcnVwXCIsXCJwb2ludGVyZG93blwiLFwicG9pbnRlcm1vdmVcIixcInBvaW50ZXJlbnRlclwiLFwicG9pbnRlcmxlYXZlXCIsXCJwb2ludGVyZHJhZ3N0YXJ0XCIsXCJwb2ludGVyZHJhZ2VuZFwiLFwicG9pbnRlcmRyYWdtb3ZlXCIsXCJwb2ludGVyZHJhZ2VudGVyXCIsXCJwb2ludGVyZHJhZ2xlYXZlXCJdLGEuX2NhcHR1cmVNb3ZlRXZlbnRzPVtcInBvaW50ZXJtb3ZlXCIsXCJwb2ludGVyZW50ZXJcIixcInBvaW50ZXJsZWF2ZVwiLFwicG9pbnRlcmRyYWdtb3ZlXCIsXCJwb2ludGVyZHJhZ2VudGVyXCIsXCJwb2ludGVyZHJhZ2xlYXZlXCJdLGEuX2NhcHR1cmVEcmFnRXZlbnRzPVtcInBvaW50ZXJkcmFnc3RhcnRcIixcInBvaW50ZXJkcmFnZW5kXCIsXCJwb2ludGVyZHJhZ21vdmVcIixcInBvaW50ZXJkcmFnZW50ZXJcIixcInBvaW50ZXJkcmFnbGVhdmVcIl0sYS5faW5pdERlZmF1bHRzKCk7dmFyIGM9ITAsaD1jdC5QYXNzaXZlO2lmKG4mJlwib2JqZWN0XCI9PXR5cGVvZiBuKXt2YXIgdT1uO3UucG9zPyhuPXUucG9zP3UucG9zLng6MCxpPXUucG9zP3UucG9zLnk6MCk6KG49dS54fHwwLGk9dS55fHwwKSxyPXUud2lkdGgsbz11LmhlaWdodCx1LmJvZHkmJihjPSExLGEuYm9keT11LmJvZHkpLHUuYW5jaG9yJiYoYS5hbmNob3I9dS5hbmNob3IpLHUuY29sbGlzaW9uVHlwZSYmKGg9dS5jb2xsaXNpb25UeXBlKX1yZXR1cm4gYS5fd2lkdGg9cnx8MCxhLl9oZWlnaHQ9b3x8MCxjJiYoYS5ib2R5PW5ldyBHZSh7Y29sbGlkZXI6bmV3IHNuKHt0eXBlOmgsc2hhcGU6VmUuQm94KGEuX3dpZHRoLGEuX2hlaWdodCxhLmFuY2hvcil9KX0pKSxhLnBvcy54PW58fDAsYS5wb3MueT1pfHwwLHMmJihhLmNvbG9yPXMsYS5vcGFjaXR5PXMuYSksYS50cmFpdHMucHVzaChuZXcgWGUpLGEudHJhaXRzLnB1c2gobmV3IFplKSxhLnRyYWl0cy5wdXNoKG5ldyBLZSksYS5hY3Rpb25RdWV1ZT1uZXcgVWUoYSksYS5hY3Rpb25zPW5ldyBxZShhKSxhfXJldHVybiBfbihlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImJvZHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvZHl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9ib2R5PXQsdGhpcy5fYm9keS5hY3Rvcj10aGlzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBvc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LnBvc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5wb3Muc2V0VG8odC54LHQueSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib2xkUG9zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkub2xkUG9zfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5Lm9sZFBvcy5zZXRUbyh0LngsdC55KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2ZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS52ZWx9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkudmVsLnNldFRvKHQueCx0LnkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9sZFZlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5Lm9sZFZlbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5vbGRWZWwuc2V0VG8odC54LHQueSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYWNjXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuYWNjfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LmFjYy5zZXRUbyh0LngsdC55KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbGRBY2NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5vbGRBY2N9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkub2xkQWNjLnNldFRvKHQueCx0LnkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInJvdGF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkucm90YXRpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkucm90YXRpb249dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJyeFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LnJ4fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LnJ4PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2NhbGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5zY2FsZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5zY2FsZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9sZFNjYWxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkub2xkU2NhbGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkub2xkU2NhbGU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzeFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LnN4fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LnN4PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3lcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5zeX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5zeT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRyYWdnYWJsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlfSxzZXQ6ZnVuY3Rpb24odCl7dCYmKHQmJiF0aGlzLl9kcmFnZ2FibGU/KHRoaXMub24oXCJwb2ludGVyZHJhZ3N0YXJ0XCIsdGhpcy5fcG9pbnRlckRyYWdTdGFydEhhbmRsZXIpLHRoaXMub24oXCJwb2ludGVyZHJhZ2VuZFwiLHRoaXMuX3BvaW50ZXJEcmFnRW5kSGFuZGxlciksdGhpcy5vbihcInBvaW50ZXJkcmFnbW92ZVwiLHRoaXMuX3BvaW50ZXJEcmFnTW92ZUhhbmRsZXIpLHRoaXMub24oXCJwb2ludGVyZHJhZ2xlYXZlXCIsdGhpcy5fcG9pbnRlckRyYWdMZWF2ZUhhbmRsZXIpKTohdCYmdGhpcy5fZHJhZ2dhYmxlJiYodGhpcy5vZmYoXCJwb2ludGVyZHJhZ3N0YXJ0XCIsdGhpcy5fcG9pbnRlckRyYWdTdGFydEhhbmRsZXIpLHRoaXMub2ZmKFwicG9pbnRlcmRyYWdlbmRcIix0aGlzLl9wb2ludGVyRHJhZ0VuZEhhbmRsZXIpLHRoaXMub2ZmKFwicG9pbnRlcmRyYWdtb3ZlXCIsdGhpcy5fcG9pbnRlckRyYWdNb3ZlSGFuZGxlciksdGhpcy5vZmYoXCJwb2ludGVyZHJhZ2xlYXZlXCIsdGhpcy5fcG9pbnRlckRyYWdMZWF2ZUhhbmRsZXIpKSx0aGlzLl9kcmFnZ2FibGU9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY29sb3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbG9yfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY29sb3I9dC5jbG9uZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm9uSW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLl9pbml0aWFsaXplLmNhbGwodGhpcyxlKTtmb3IodmFyIG49MCxpPXRoaXMuY2hpbGRyZW47bjxpLmxlbmd0aDtuKyspe2lbbl0uX2luaXRpYWxpemUoZSl9fSxlLnByb3RvdHlwZS5faW5pdERlZmF1bHRzPWZ1bmN0aW9uKCl7dGhpcy5hbmNob3I9Ym4uZGVmYXVsdHMuYW5jaG9yLmNsb25lKCl9LGUucHJvdG90eXBlLl9jaGVja0ZvclBvaW50ZXJPcHRJbj1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT10LnRvTG93ZXJDYXNlKCk7LTEhPT10aGlzLl9jYXB0dXJlUG9pbnRlckV2ZW50cy5pbmRleE9mKGUpJiYodGhpcy5lbmFibGVDYXB0dXJlUG9pbnRlcj0hMCwtMSE9PXRoaXMuX2NhcHR1cmVNb3ZlRXZlbnRzLmluZGV4T2YoZSkmJih0aGlzLmNhcHR1cmVQb2ludGVyLmNhcHR1cmVNb3ZlRXZlbnRzPSEwKSwtMSE9PXRoaXMuX2NhcHR1cmVEcmFnRXZlbnRzLmluZGV4T2YoZSkmJih0aGlzLmNhcHR1cmVQb2ludGVyLmNhcHR1cmVEcmFnRXZlbnRzPSEwKSl9fSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLG4pe3RoaXMuX2NoZWNrRm9yUG9pbnRlck9wdEluKGUpLHQucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsbil7dGhpcy5fY2hlY2tGb3JQb2ludGVyT3B0SW4oZSksdC5wcm90b3R5cGUub25jZS5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5fcHJla2lsbD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxcInByZWtpbGxcIixuZXcgbHQodGhpcykpLHRoaXMub25QcmVLaWxsKGUpfSxlLnByb3RvdHlwZS5vblByZUtpbGw9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5fcG9zdGtpbGw9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJwb3N0a2lsbFwiLG5ldyBwdCh0aGlzKSksdGhpcy5vblBvc3RLaWxsKGUpfSxlLnByb3RvdHlwZS5vblBvc3RLaWxsPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUua2lsbD1mdW5jdGlvbigpe3RoaXMuc2NlbmU/KHRoaXMuX3ByZWtpbGwodGhpcy5zY2VuZSksdGhpcy5lbWl0KFwia2lsbFwiLG5ldyB1dCh0aGlzKSksdGhpcy5faXNLaWxsZWQ9ITAsdGhpcy5zY2VuZS5yZW1vdmUodGhpcyksdGhpcy5fcG9zdGtpbGwodGhpcy5zY2VuZSkpOnRoaXMubG9nZ2VyLndhcm4oXCJDYW5ub3Qga2lsbCBhY3RvciwgaXQgd2FzIG5ldmVyIGFkZGVkIHRvIHRoZSBTY2VuZVwiKX0sZS5wcm90b3R5cGUudW5raWxsPWZ1bmN0aW9uKCl7dGhpcy5faXNLaWxsZWQ9ITF9LGUucHJvdG90eXBlLmlzS2lsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzS2lsbGVkfSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dC5ib2R5LmNvbGxpZGVyLnR5cGU9Y3QuUHJldmVudENvbGxpc2lvbixTKHQsdGhpcy5jaGlsZHJlbikmJih0LnBhcmVudD10aGlzKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe0ModCx0aGlzLmNoaWxkcmVuKSYmKHQucGFyZW50PW51bGwpfSxlLnByb3RvdHlwZS5zZXREcmF3aW5nPWZ1bmN0aW9uKHQpe3Q9dC50b1N0cmluZygpLHRoaXMuY3VycmVudERyYXdpbmchPT10aGlzLmZyYW1lc1t0XSYmKG51bGwhPXRoaXMuZnJhbWVzW3RdPyh0aGlzLmZyYW1lc1t0XS5yZXNldCgpLHRoaXMuY3VycmVudERyYXdpbmc9dGhpcy5mcmFtZXNbdF0pOlIuZ2V0SW5zdGFuY2UoKS5lcnJvcihcInRoZSBzcGVjaWZpZWQgZHJhd2luZyBrZXkgXCIrdCtcIiBkb2VzIG5vdCBleGlzdFwiKSl9LGUucHJvdG90eXBlLmFkZERyYXdpbmc9ZnVuY3Rpb24oKXsyPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5mcmFtZXNbYXJndW1lbnRzWzBdXT1hcmd1bWVudHNbMV0sdGhpcy5jdXJyZW50RHJhd2luZ3x8KHRoaXMuY3VycmVudERyYXdpbmc9YXJndW1lbnRzWzFdKSk6KGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdmUmJnRoaXMuYWRkRHJhd2luZyhcImRlZmF1bHRcIixhcmd1bWVudHNbMF0pLGFyZ3VtZW50c1swXWluc3RhbmNlb2YgYmUmJnRoaXMuYWRkRHJhd2luZyhcImRlZmF1bHRcIixhcmd1bWVudHNbMF0uYXNTcHJpdGUoKSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ6XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFpJbmRleCgpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zZXRaSW5kZXgodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0WkluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pJbmRleH0sZS5wcm90b3R5cGUuc2V0WkluZGV4PWZ1bmN0aW9uKHQpe3RoaXMuc2NlbmUuY2xlYW51cERyYXdUcmVlKHRoaXMpLHRoaXMuX3pJbmRleD10LHRoaXMuc2NlbmUudXBkYXRlRHJhd1RyZWUodGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFYodGhpcy5wb3MueCt0aGlzLndpZHRoLzItdGhpcy5hbmNob3IueCp0aGlzLndpZHRoLHRoaXMucG9zLnkrdGhpcy5oZWlnaHQvMi10aGlzLmFuY2hvci55KnRoaXMuaGVpZ2h0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGgqdGhpcy5nZXRHbG9iYWxTY2FsZSgpLnh9LHNldDpmdW5jdGlvbih0KXt0aGlzLl93aWR0aD10L3RoaXMuc2NhbGUueCx0aGlzLmJvZHkuY29sbGlkZXIuc2hhcGU9VmUuQm94KHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCx0aGlzLmFuY2hvciksdGhpcy5ib2R5Lm1hcmtDb2xsaXNpb25TaGFwZURpcnR5KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHQqdGhpcy5nZXRHbG9iYWxTY2FsZSgpLnl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9oZWlnaHQ9dC90aGlzLnNjYWxlLnksdGhpcy5ib2R5LmNvbGxpZGVyLnNoYXBlPVZlLkJveCh0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQsdGhpcy5hbmNob3IpLHRoaXMuYm9keS5tYXJrQ29sbGlzaW9uU2hhcGVEaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldFdvcmxkUm90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5yb3RhdGlvbit0aGlzLnBhcmVudC5nZXRXb3JsZFJvdGF0aW9uKCk6dGhpcy5yb3RhdGlvbn0sZS5wcm90b3R5cGUuZ2V0V29ybGRQb3M9ZnVuY3Rpb24oKXtpZighdGhpcy5wYXJlbnQpcmV0dXJuIHRoaXMucG9zLmNsb25lKCk7dmFyIHQ9W10sZT10aGlzO2Zvcih0LnB1c2godGhpcyk7ZS5wYXJlbnQ7KWU9ZS5wYXJlbnQsdC5wdXNoKGUpO3ZhciBuPXQucmVkdWNlUmlnaHQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucGFyZW50P3QrZS5wb3MueCplLmdldEdsb2JhbFNjYWxlKCkueDp0K2UucG9zLnh9KSwwKSxpPXQucmVkdWNlUmlnaHQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucGFyZW50P3QrZS5wb3MueSplLmdldEdsb2JhbFNjYWxlKCkueTp0K2UucG9zLnl9KSwwKSxyPWUuZ2V0V29ybGRQb3MoKSxvPXRoaXMuZ2V0V29ybGRSb3RhdGlvbigpO3JldHVybiBuZXcgVihuLGkpLnJvdGF0ZShvLHIpfSxlLnByb3RvdHlwZS5nZXRHbG9iYWxTY2FsZT1mdW5jdGlvbigpe2lmKCF0aGlzLnBhcmVudClyZXR1cm4gbmV3IFYodGhpcy5zY2FsZS54LHRoaXMuc2NhbGUueSk7dmFyIHQ9dGhpcy5wYXJlbnQuZ2V0R2xvYmFsU2NhbGUoKTtyZXR1cm4gbmV3IFYodGhpcy5zY2FsZS54KnQueCx0aGlzLnNjYWxlLnkqdC55KX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPSExKTt2YXIgaT10aGlzLmdldFdvcmxkUG9zKCkuc3ViKHRoaXMucG9zKSxyPXRoaXMuYm9keS5jb2xsaWRlci5ib3VuZHMudHJhbnNsYXRlKGkpLmNvbnRhaW5zKG5ldyBWKHQsZSkpO3JldHVybiBuP3J8fHRoaXMuY2hpbGRyZW4uc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIG4uY29udGFpbnModCxlLCEwKX0pKTpyfSxlLnByb3RvdHlwZS53aXRoaW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5ib2R5LmNvbGxpZGVyLnNoYXBlLmdldENsb3Nlc3RMaW5lQmV0d2Vlbih0LmJvZHkuY29sbGlkZXIuc2hhcGUpLmdldExlbmd0aCgpPD1lfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLl9pbml0aWFsaXplKHQpLHRoaXMuX3ByZXVwZGF0ZSh0LGUpO3ZhciBuPXRoaXMuY3VycmVudERyYXdpbmc7biYmbiBpbnN0YW5jZW9mIFBlJiZuLnRpY2soZSx0LnN0YXRzLmN1cnJGcmFtZS5pZCksdGhpcy5hY3Rpb25RdWV1ZS51cGRhdGUoZSksdGhpcy5jb2xvciYmKHRoaXMuY29sb3IuYT10aGlzLm9wYWNpdHkpLDA9PT10aGlzLm9wYWNpdHkmJih0aGlzLnZpc2libGU9ITEpLHRoaXMuYm9keS5jYXB0dXJlT2xkVHJhbnNmb3JtKCksdGhpcy5ib2R5LmludGVncmF0ZShlKTtmb3IodmFyIGk9MCxyPXRoaXMudHJhaXRzO2k8ci5sZW5ndGg7aSsrKXtyW2ldLnVwZGF0ZSh0aGlzLHQsZSl9Zm9yKHZhciBvPTA7bzx0aGlzLmNoaWxkcmVuLmxlbmd0aDtvKyspdGhpcy5jaGlsZHJlbltvXS51cGRhdGUodCxlKTt0aGlzLl9wb3N0dXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLm9uUHJlVXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5vblBvc3RVcGRhdGU9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLl9wcmV1cGRhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXQoXCJwcmV1cGRhdGVcIixuZXcgbXQodCxlLHRoaXMpKSx0aGlzLm9uUHJlVXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLl9wb3N0dXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicG9zdHVwZGF0ZVwiLG5ldyBtdCh0LGUsdGhpcykpLHRoaXMub25Qb3N0VXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlKXtpZih0LnNhdmUoKSx0LnRyYW5zbGF0ZSh0aGlzLnBvcy54LHRoaXMucG9zLnkpLHQucm90YXRlKHRoaXMucm90YXRpb24pLHQuc2NhbGUodGhpcy5zY2FsZS54LHRoaXMuc2NhbGUueSksdC5zYXZlKCksdC50cmFuc2xhdGUoLXRoaXMuX3dpZHRoKnRoaXMuYW5jaG9yLngsLXRoaXMuX2hlaWdodCp0aGlzLmFuY2hvci55KSx0aGlzLl9wcmVkcmF3KHQsZSksdGhpcy5jdXJyZW50RHJhd2luZyl7dmFyIG49dGhpcy5jdXJyZW50RHJhd2luZyxpPSh0aGlzLl93aWR0aC1uLndpZHRoKm4uc2NhbGUueCkqdGhpcy5hbmNob3IueCxyPSh0aGlzLl9oZWlnaHQtbi5oZWlnaHQqbi5zY2FsZS55KSp0aGlzLmFuY2hvci55O3RoaXMuY3VycmVudERyYXdpbmcuZHJhdyh7Y3R4OnQseDppLHk6cixvcGFjaXR5OnRoaXMub3BhY2l0eX0pfWVsc2UgdGhpcy5jb2xvciYmdGhpcy5ib2R5JiZ0aGlzLmJvZHkuY29sbGlkZXImJnRoaXMuYm9keS5jb2xsaWRlci5zaGFwZSYmdGhpcy5ib2R5LmNvbGxpZGVyLnNoYXBlLmRyYXcodCx0aGlzLmNvbG9yLG5ldyBWKHRoaXMud2lkdGgqdGhpcy5hbmNob3IueCx0aGlzLmhlaWdodCp0aGlzLmFuY2hvci55KSk7dC5yZXN0b3JlKCk7Zm9yKHZhciBvPTA7bzx0aGlzLmNoaWxkcmVuLmxlbmd0aDtvKyspdGhpcy5jaGlsZHJlbltvXS52aXNpYmxlJiZ0aGlzLmNoaWxkcmVuW29dLmRyYXcodCxlKTt0aGlzLl9wb3N0ZHJhdyh0LGUpLHQucmVzdG9yZSgpfSxlLnByb3RvdHlwZS5vblByZURyYXc9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLm9uUG9zdERyYXc9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLl9wcmVkcmF3PWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicHJlZHJhd1wiLG5ldyB5dCh0LGUsdGhpcykpLHRoaXMub25QcmVEcmF3KHQsZSl9LGUucHJvdG90eXBlLl9wb3N0ZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInBvc3RkcmF3XCIsbmV3IHl0KHQsZSx0aGlzKSksdGhpcy5vblBvc3REcmF3KHQsZSl9LGUucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJwcmVkZWJ1Z2RyYXdcIixuZXcgX3QodCx0aGlzKSksdGhpcy5ib2R5LmNvbGxpZGVyLmRlYnVnRHJhdyh0KTt2YXIgZT10aGlzLmJvZHkuY29sbGlkZXIubG9jYWxCb3VuZHMudHJhbnNsYXRlKHRoaXMuZ2V0V29ybGRQb3MoKSk7ZS5kZWJ1Z0RyYXcodCksdC5maWxsVGV4dChcImlkOiBcIit0aGlzLmlkLGUubGVmdCszLGUudG9wKzEwKSx0LmZpbGxTdHlsZT1ldC5ZZWxsb3cudG9TdHJpbmcoKSx0LmJlZ2luUGF0aCgpLHQuYXJjKHRoaXMuZ2V0V29ybGRQb3MoKS54LHRoaXMuZ2V0V29ybGRQb3MoKS55LDMsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5maWxsKCk7Zm9yKHZhciBuPTA7bjx0aGlzLnRyYWl0cy5sZW5ndGg7bisrKXRoaXMudHJhaXRzW25daW5zdGFuY2VvZiBaZSYmdGhpcy50cmFpdHNbbl0uY3VsbGluZ0JveC5kZWJ1Z0RyYXcodCk7dC5zdHJva2VTdHlsZT1ldC5ZZWxsb3cudG9TdHJpbmcoKSx0LmJlZ2luUGF0aCgpO3ZhciBpPU1hdGgubWluKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO3QuYXJjKHRoaXMuZ2V0V29ybGRQb3MoKS54LHRoaXMuZ2V0V29ybGRQb3MoKS55LGksMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKTt2YXIgcj17XCIwIFBpXCI6MCxcIlBpLzJcIjpNYXRoLlBJLzIsUGk6TWF0aC5QSSxcIjMvMiBQaVwiOjMqTWF0aC5QSS8yfSxvPXQuZm9udDtmb3IodmFyIHMgaW4gcil0LmZpbGxTdHlsZT1ldC5ZZWxsb3cudG9TdHJpbmcoKSx0LmZvbnQ9XCIxNHB4XCIsdC50ZXh0QWxpZ249XCJjZW50ZXJcIix0LmZpbGxUZXh0KHMsdGhpcy5nZXRXb3JsZFBvcygpLngrTWF0aC5jb3MocltzXSkqKGkrMTApLHRoaXMuZ2V0V29ybGRQb3MoKS55K01hdGguc2luKHJbc10pKihpKzEwKSk7dC5mb250PW87Zm9yKHZhciBhPTA7YTx0aGlzLmNoaWxkcmVuLmxlbmd0aDthKyspdGhpcy5jaGlsZHJlblthXS5kZWJ1Z0RyYXcodCk7dGhpcy5lbWl0KFwicG9zdGRlYnVnZHJhd1wiLG5ldyB2dCh0LHRoaXMpKX0sZS5wcm90b3R5cGUuZ2V0QW5jZXN0b3JzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9W3RoaXNdLG49dGhpczt0PW4ucGFyZW50OyluPXQsZS5wdXNoKG4pO3JldHVybiBlLnJldmVyc2UoKX0sZS5kZWZhdWx0cz17YW5jaG9yOlYuSGFsZn0sZS5tYXhJZD0wLHZuKFtOKHttZXNzYWdlOlwiZXguQWN0b3Iuc3ggd2lsbCBiZSByZW1vdmVkIGluIHYwLjI1LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJTZXQgd2lkdGggYW5kIGhlaWdodCBkaXJlY3RseSBpbiBjb25zdHJ1Y3RvclwifSldLGUucHJvdG90eXBlLFwic3hcIixudWxsKSx2bihbTih7bWVzc2FnZTpcImV4LkFjdG9yLnN5IHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNS4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiU2V0IHdpZHRoIGFuZCBoZWlnaHQgZGlyZWN0bHkgaW4gY29uc3RydWN0b3JcIn0pXSxlLnByb3RvdHlwZSxcInN5XCIsbnVsbCksZX0oZ24pKSksd249ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkseG49ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4saSk7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkocj10W2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKGUsbixzKTpyKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9LFBuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIG89dGhpcztyZXR1cm4obz1cIm9iamVjdFwiIT10eXBlb2YgZT90LmNhbGwodGhpcyxlLG4saSxyKXx8dGhpczp0LmNhbGwodGhpcyxlKXx8dGhpcykudHJhaXRzPVtdLG8udHJhaXRzLnB1c2gobmV3IEtlKSxvLmFuY2hvci5zZXRUbygwLDApLG8uYm9keS5jb2xsaWRlci50eXBlPWN0LlByZXZlbnRDb2xsaXNpb24sby5ib2R5LmNvbGxpZGVyLnNoYXBlPVZlLkJveChvLndpZHRoLG8uaGVpZ2h0LG8uYW5jaG9yKSxvLmVuYWJsZUNhcHR1cmVQb2ludGVyPSEwLG99cmV0dXJuIHduKGUsdCksZS5wcm90b3R5cGUuX2luaXRpYWxpemU9ZnVuY3Rpb24oZSl7dGhpcy5fZW5naW5lPWUsdC5wcm90b3R5cGUuX2luaXRpYWxpemUuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlLG4saSl7aWYodm9pZCAwPT09aSYmKGk9ITApLGkpcmV0dXJuIHQucHJvdG90eXBlLmNvbnRhaW5zLmNhbGwodGhpcyxlLG4pO3ZhciByPXRoaXMuX2VuZ2luZS53b3JsZFRvU2NyZWVuQ29vcmRpbmF0ZXMobmV3IFYoZSxuKSk7cmV0dXJuIHQucHJvdG90eXBlLmNvbnRhaW5zLmNhbGwodGhpcyxyLngsci55KX0sZX0oYm4pLEFuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB3bihlLHQpLGU9eG4oW04oe21lc3NhZ2U6XCJXaWxsIGJlIHJlbW92ZWQgaW4gdjAuMjUuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIlNjcmVlbkVsZW1lbnRcIn0pXSxlKX0oUG4pLEVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4saSxyKXtpZih0aGlzLmlkPTAsdGhpcy5pbnRlcnZhbD0xMCx0aGlzLnJlcGVhdHM9ITEsdGhpcy5tYXhOdW1iZXJPZlJlcGVhdHM9LTEsdGhpcy5fZWxhcHNlZFRpbWU9MCx0aGlzLl90b3RhbFRpbWVBbGl2ZT0wLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9udW1iZXJPZlRpY2tzPTAsdGhpcy5jb21wbGV0ZT0hMSx0aGlzLnNjZW5lPW51bGwsXCJmdW5jdGlvblwiIT10eXBlb2YgZSl7dmFyIG89ZTtlPW8uZmNuLG49by5pbnRlcnZhbCxpPW8ucmVwZWF0cyxyPW8ubnVtYmVyT2ZSZXBlYXRzfWlmKHImJnI+PTAmJih0aGlzLm1heE51bWJlck9mUmVwZWF0cz1yLCFpKSl0aHJvdyBuZXcgRXJyb3IoXCJyZXBlYXRzIG11c3QgYmUgc2V0IHRvIHRydWUgaWYgbnVtYmVyT2ZSZXBlYXRzIGlzIHNldFwiKTt0aGlzLmlkPXQuaWQrKyx0aGlzLmludGVydmFsPW58fHRoaXMuaW50ZXJ2YWwsdGhpcy5yZXBlYXRzPWl8fHRoaXMucmVwZWF0cyx0aGlzLl9jYWxsYmFja3M9W10sZSYmdGhpcy5vbihlKX1yZXR1cm4gdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCl7dGhpcy5fY2FsbGJhY2tzLnB1c2godCl9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jYWxsYmFja3MuaW5kZXhPZih0KTt0aGlzLl9jYWxsYmFja3Muc3BsaWNlKGUsMSl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX3BhdXNlZHx8KHRoaXMuX3RvdGFsVGltZUFsaXZlKz10LHRoaXMuX2VsYXBzZWRUaW1lKz10LHRoaXMubWF4TnVtYmVyT2ZSZXBlYXRzPi0xJiZ0aGlzLl9udW1iZXJPZlRpY2tzPj10aGlzLm1heE51bWJlck9mUmVwZWF0cyYmKHRoaXMuY29tcGxldGU9ITApLCF0aGlzLmNvbXBsZXRlJiZ0aGlzLl9lbGFwc2VkVGltZT49dGhpcy5pbnRlcnZhbCYmKHRoaXMuX2NhbGxiYWNrcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmNhbGwoZSl9KSksdGhpcy5fbnVtYmVyT2ZUaWNrcysrLHRoaXMucmVwZWF0cz90aGlzLl9lbGFwc2VkVGltZT0wOnRoaXMuY29tcGxldGU9ITApKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCxlKXtpZih0JiZ0Pj0wJiYodGhpcy5pbnRlcnZhbD10KSx0aGlzLm1heE51bWJlck9mUmVwZWF0cyYmdGhpcy5tYXhOdW1iZXJPZlJlcGVhdHM+PTAmJih0aGlzLm1heE51bWJlck9mUmVwZWF0cz1lLCF0aGlzLnJlcGVhdHMpKXRocm93IG5ldyBFcnJvcihcInJlcGVhdHMgbXVzdCBiZSBzZXQgdG8gdHJ1ZSBpZiBudW1iZXJPZlJlcGVhdHMgaXMgc2V0XCIpO3RoaXMuY29tcGxldGU9ITEsdGhpcy5fZWxhcHNlZFRpbWU9MCx0aGlzLl9udW1iZXJPZlRpY2tzPTB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInRpbWVzUmVwZWF0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bWJlck9mVGlja3N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0VGltZVJ1bm5pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG90YWxUaW1lQWxpdmV9LHQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSEwfSx0LnByb3RvdHlwZS51bnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSExfSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLnNjZW5lJiZ0aGlzLnNjZW5lLmNhbmNlbFRpbWVyKHRoaXMpfSx0LmlkPTAsdH0oKSxTbj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsbil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkoZSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxDbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsbyxzKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuLGkscixvLHMpfHx0aGlzfXJldHVybiBTbihlLHQpLGV9KGZlKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvLHMpe3ZhciBhPXQuY2FsbCh0aGlzKXx8dGhpcztpZihhLl9jb2xsaWRpbmdYPS0xLGEuX2NvbGxpZGluZ1k9LTEsYS5fb25TY3JlZW5YU3RhcnQ9MCxhLl9vblNjcmVlblhFbmQ9OTk5OSxhLl9vblNjcmVlbllTdGFydD0wLGEuX29uU2NyZWVuWUVuZD05OTk5LGEuX3Nwcml0ZVNoZWV0cz17fSxhLmxvZ2dlcj1SLmdldEluc3RhbmNlKCksYS5kYXRhPVtdLGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlKXt2YXIgYz1lO2U9Yy54LG49Yy55LGk9Yy5jZWxsV2lkdGgscj1jLmNlbGxIZWlnaHQsbz1jLnJvd3Mscz1jLmNvbHN9YS54PWUsYS55PW4sYS5jZWxsV2lkdGg9aSxhLmNlbGxIZWlnaHQ9cixhLnJvd3M9byxhLmNvbHM9cyxhLmRhdGE9bmV3IEFycmF5KG8qcyk7Zm9yKHZhciBoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgYz1mdW5jdGlvbihvKXt2YXIgYztjPW5ldyBUbih0KmkrZSxvKnIrbixpLHIsdCtvKnMpLGEuZGF0YVt0K28qc109Y30saD0wO2g8bztoKyspYyhoKX0sdT0wO3U8czt1KyspaCh1KTtyZXR1cm4gYX1yZXR1cm4gU24oZSx0KSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5yZWdpc3RlclNwcml0ZVNoZWV0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fc3ByaXRlU2hlZXRzW3RdPWV9LGUucHJvdG90eXBlLmNvbGxpZGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXQucG9zLngrdC53aWR0aCxuPXQucG9zLnkrdC5oZWlnaHQsaT10LmJvZHkuY29sbGlkZXIuYm91bmRzLHI9W107aWYodC53aWR0aDw9MHx8dC5oZWlnaHQ8PTApcmV0dXJuIG51bGw7Zm9yKHZhciBvPWkubGVmdDtvPD1lO28rPU1hdGgubWluKHQud2lkdGgvMix0aGlzLmNlbGxXaWR0aC8yKSlmb3IodmFyIHM9aS50b3A7czw9bjtzKz1NYXRoLm1pbih0LmhlaWdodC8yLHRoaXMuY2VsbEhlaWdodC8yKSl7dmFyIGE9dGhpcy5nZXRDZWxsQnlQb2ludChvLHMpO2lmKGEmJmEuc29saWQpe3ZhciBjPWkuaW50ZXJzZWN0KGEuYm91bmRzKSxoPXQuY2VudGVyLnN1YihhLmNlbnRlcik7YyYmYy5kb3QoaCk+MCYmci5wdXNoKGMpfX1yZXR1cm4gMD09PXIubGVuZ3RoP251bGw6ci5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC54LGk9dC55O3JldHVybiBNYXRoLmFicyh0LngpPE1hdGguYWJzKGUueCkmJihuPWUueCksTWF0aC5hYnModC55KTxNYXRoLmFicyhlLnkpJiYoaT1lLnkpLG5ldyBWKG4saSl9KSl9LGUucHJvdG90eXBlLmdldENlbGxCeUluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGFbdF19LGUucHJvdG90eXBlLmdldENlbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdDwwfHxlPDB8fHQ+PXRoaXMuY29sc3x8ZT49dGhpcy5yb3dzP251bGw6dGhpcy5kYXRhW3QrZSp0aGlzLmNvbHNdfSxlLnByb3RvdHlwZS5nZXRDZWxsQnlQb2ludD1mdW5jdGlvbih0LGUpe3Q9TWF0aC5mbG9vcigodC10aGlzLngpL3RoaXMuY2VsbFdpZHRoKSxlPU1hdGguZmxvb3IoKGUtdGhpcy55KS90aGlzLmNlbGxIZWlnaHQpO3ZhciBuPXRoaXMuZ2V0Q2VsbCh0LGUpO3JldHVybiB0Pj0wJiZlPj0wJiZ0PHRoaXMuY29scyYmZTx0aGlzLnJvd3MmJm4/bjpudWxsfSxlLnByb3RvdHlwZS5vblByZVVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUub25Qb3N0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLm9uUHJlVXBkYXRlKHQsZSksdGhpcy5lbWl0KFwicHJldXBkYXRlXCIsbmV3IG10KHQsZSx0aGlzKSk7dmFyIG49dC5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXMobmV3IFYoMCwwKSksaT10LnNjcmVlblRvV29ybGRDb29yZGluYXRlcyhuZXcgVih0LmNhbnZhcy5jbGllbnRXaWR0aCx0LmNhbnZhcy5jbGllbnRIZWlnaHQpKTt0aGlzLl9vblNjcmVlblhTdGFydD1NYXRoLm1heChNYXRoLmZsb29yKChuLngtdGhpcy54KS90aGlzLmNlbGxXaWR0aCktMiwwKSx0aGlzLl9vblNjcmVlbllTdGFydD1NYXRoLm1heChNYXRoLmZsb29yKChuLnktdGhpcy55KS90aGlzLmNlbGxIZWlnaHQpLTIsMCksdGhpcy5fb25TY3JlZW5YRW5kPU1hdGgubWF4KE1hdGguZmxvb3IoKGkueC10aGlzLngpL3RoaXMuY2VsbFdpZHRoKSsyLDApLHRoaXMuX29uU2NyZWVuWUVuZD1NYXRoLm1heChNYXRoLmZsb29yKChpLnktdGhpcy55KS90aGlzLmNlbGxIZWlnaHQpKzIsMCksdGhpcy5vblBvc3RVcGRhdGUodCxlKSx0aGlzLmVtaXQoXCJwb3N0dXBkYXRlXCIsbmV3IGJ0KHQsZSx0aGlzKSl9LGUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXQoXCJwcmVkcmF3XCIsbmV3IHl0KHQsZSx0aGlzKSksdC5zYXZlKCksdC50cmFuc2xhdGUodGhpcy54LHRoaXMueSk7Zm9yKHZhciBuLGkscixvPXRoaXMuX29uU2NyZWVuWFN0YXJ0LHM9TWF0aC5taW4odGhpcy5fb25TY3JlZW5YRW5kLHRoaXMuY29scyksYT10aGlzLl9vblNjcmVlbllTdGFydCxjPU1hdGgubWluKHRoaXMuX29uU2NyZWVuWUVuZCx0aGlzLnJvd3MpO288cztvKyspe2Zvcig7YTxjO2ErKylmb3IoaT0wLHI9KG49dGhpcy5nZXRDZWxsKG8sYSkuc3ByaXRlcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNwcml0ZUlkPi0xfSkpKS5sZW5ndGg7aTxyO2krKyl7dmFyIGg9dGhpcy5fc3ByaXRlU2hlZXRzW25baV0uc3ByaXRlU2hlZXRLZXldO2lmKGgpe3ZhciB1PWguZ2V0U3ByaXRlKG5baV0uc3ByaXRlSWQpO3U/dS5kcmF3KHQsbyp0aGlzLmNlbGxXaWR0aCxhKnRoaXMuY2VsbEhlaWdodCk6dGhpcy5sb2dnZXIud2FybihcIlNwcml0ZSBkb2VzIG5vdCBleGlzdCBmb3IgaWRcIixuW2ldLnNwcml0ZUlkLFwiaW4gc3ByaXRlIHNoZWV0XCIsbltpXS5zcHJpdGVTaGVldEtleSx1LGgpfWVsc2UgdGhpcy5sb2dnZXIud2FybihcIlNwcml0ZSBzaGVldFwiLG5baV0uc3ByaXRlU2hlZXRLZXksXCJkb2VzIG5vdCBleGlzdFwiLGgpfWE9dGhpcy5fb25TY3JlZW5ZU3RhcnR9dC5yZXN0b3JlKCksdGhpcy5lbWl0KFwicG9zdGRyYXdcIixuZXcgZ3QodCxlLHRoaXMpKX0sZS5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29scyp0aGlzLmNlbGxXaWR0aCxuPXRoaXMucm93cyp0aGlzLmNlbGxIZWlnaHQ7dC5zYXZlKCksdC5zdHJva2VTdHlsZT1ldC5SZWQudG9TdHJpbmcoKTtmb3IodmFyIGk9MDtpPHRoaXMuY29scysxO2krKyl0LmJlZ2luUGF0aCgpLHQubW92ZVRvKHRoaXMueCtpKnRoaXMuY2VsbFdpZHRoLHRoaXMueSksdC5saW5lVG8odGhpcy54K2kqdGhpcy5jZWxsV2lkdGgsdGhpcy55K24pLHQuc3Ryb2tlKCk7Zm9yKHZhciByPTA7cjx0aGlzLnJvd3MrMTtyKyspdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyh0aGlzLngsdGhpcy55K3IqdGhpcy5jZWxsSGVpZ2h0KSx0LmxpbmVUbyh0aGlzLngrZSx0aGlzLnkrcip0aGlzLmNlbGxIZWlnaHQpLHQuc3Ryb2tlKCk7dmFyIG89ZXQuUmVkO28uYT0uMyx0aGlzLmRhdGEuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zb2xpZH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmZpbGxTdHlsZT1vLnRvU3RyaW5nKCksdC5maWxsUmVjdChlLngsZS55LGUud2lkdGgsZS5oZWlnaHQpfSkpLHRoaXMuX2NvbGxpZGluZ1k+LTEmJnRoaXMuX2NvbGxpZGluZ1g+LTEmJih0LmZpbGxTdHlsZT1ldC5DeWFuLnRvU3RyaW5nKCksdC5maWxsUmVjdCh0aGlzLngrdGhpcy5fY29sbGlkaW5nWCp0aGlzLmNlbGxXaWR0aCx0aGlzLnkrdGhpcy5fY29sbGlkaW5nWSp0aGlzLmNlbGxIZWlnaHQsdGhpcy5jZWxsV2lkdGgsdGhpcy5jZWxsSGVpZ2h0KSksdC5yZXN0b3JlKCl9LGV9KGVlKSkpLE9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5zcHJpdGVTaGVldEtleT10LHRoaXMuc3ByaXRlSWQ9ZX0sVG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLG8scyxhKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuLGkscixvLHMsYSl8fHRoaXN9cmV0dXJuIFNuKGUsdCksZX0oZmUoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkscixvLHMpe2lmKHZvaWQgMD09PW8mJihvPSExKSx2b2lkIDA9PT1zJiYocz1bXSksdGhpcy5zb2xpZD0hMSx0aGlzLnNwcml0ZXM9W10sdCYmXCJvYmplY3RcIj09dHlwZW9mIHQpe3ZhciBhPXQ7dD1hLngsZT1hLnksbj1hLndpZHRoLGk9YS5oZWlnaHQscj1hLmluZGV4LG89YS5zb2xpZCxzPWEuc3ByaXRlc310aGlzLng9dCx0aGlzLnk9ZSx0aGlzLndpZHRoPW4sdGhpcy5oZWlnaHQ9aSx0aGlzLmluZGV4PXIsdGhpcy5zb2xpZD1vLHRoaXMuc3ByaXRlcz1zLHRoaXMuX2JvdW5kcz1uZXcgS3QodGhpcy54LHRoaXMueSx0aGlzLngrdGhpcy53aWR0aCx0aGlzLnkrdGhpcy5oZWlnaHQpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJib3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvdW5kc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjZW50ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBWKHRoaXMueCt0aGlzLndpZHRoLzIsdGhpcy55K3RoaXMuaGVpZ2h0LzIpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnB1c2hTcHJpdGU9ZnVuY3Rpb24odCl7dGhpcy5zcHJpdGVzLnB1c2godCl9LHQucHJvdG90eXBlLnJlbW92ZVNwcml0ZT1mdW5jdGlvbih0KXt2YXIgZTsoZT10aGlzLnNwcml0ZXMuaW5kZXhPZih0KSk+LTEmJnRoaXMuc3ByaXRlcy5zcGxpY2UoZSwxKX0sdC5wcm90b3R5cGUuY2xlYXJTcHJpdGVzPWZ1bmN0aW9uKCl7dGhpcy5zcHJpdGVzLmxlbmd0aD0wfSx0fSgpKSksQm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9JTlNUQU5DRXx8KHdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpJiYodGhpcy5fSU5TVEFOQ0U9bmV3IHdpbmRvdy5BdWRpb0NvbnRleHQpLHRoaXMuX0lOU1RBTkNFfSx0Ll9JTlNUQU5DRT1udWxsLHR9KCk7dmFyIE1uLERuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC51bmxvY2s9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgZDtpZih0Ll91bmxvY2tlZHx8IUJuLmNyZWF0ZSgpKXJldHVybiBlLnJlc29sdmUoITApO3ZhciBuPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7Ui5nZXRJbnN0YW5jZSgpLndhcm4oXCJFeGNhbGlidXIgd2FzIHVuYWJsZSB0byB1bmxvY2sgdGhlIGF1ZGlvIGNvbnRleHQsIGF1ZGlvIHByb2JhYmx5IHdpbGwgbm90IHBsYXkgaW4gdGhpcyBicm93c2VyLlwiKSxlLnJlc29sdmUoKX0pLDIwMCksaT1Cbi5jcmVhdGUoKTtyZXR1cm4gaS5yZXN1bWUoKS50aGVuKChmdW5jdGlvbigpe3ZhciByPWkuY3JlYXRlQnVmZmVyKDEsMSwyMjA1MCksbz1pLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLHM9ITE7by5idWZmZXI9cixvLmNvbm5lY3QoaS5kZXN0aW5hdGlvbiksby5vbmVuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHM9ITB9LG8ubm90ZU9uP28ubm90ZU9uKDApOm8uc3RhcnQoMCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXshZnVuY3Rpb24odCl7cmV0dXJuISF0LnBsYXliYWNrU3RhdGV9KG8pPyhpLmN1cnJlbnRUaW1lPjB8fHMpJiYodC5fdW5sb2NrZWQ9ITApOm8ucGxheWJhY2tTdGF0ZSE9PW8uUExBWUlOR19TVEFURSYmby5wbGF5YmFja1N0YXRlIT09by5GSU5JU0hFRF9TVEFURXx8KHQuX3VubG9ja2VkPSEwKX0pLDApLGNsZWFyVGltZW91dChuKSxlLnN0YXRlKCk9PT11LlBlbmRpbmcmJmUucmVzb2x2ZSgpfSksKGZ1bmN0aW9uKCl7ZS5zdGF0ZSgpPT09dS5QZW5kaW5nJiZlLnJlamVjdCghMSl9KSksZX0sdC5pc1VubG9ja2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VubG9ja2VkfSx0Ll91bmxvY2tlZD0hMSx0fSgpLGtuPW4oNTgpLFJuPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KShlLG4pfTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxuKSxlLnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpLGpuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLl9yZXNvdXJjZUxpc3Q9W10sbi5faW5kZXg9MCxuLl9wbGF5QnV0dG9uU2hvd249ITEsbi5fcmVzb3VyY2VDb3VudD0wLG4uX251bUxvYWRlZD0wLG4uX3Byb2dyZXNzQ291bnRzPXt9LG4uX3RvdGFsQ291bnRzPXt9LG4ubG9nbz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBZFFBQUFCMkNBWUFBQUJ4aEdJOUFBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFLblVsRVFWUjQydTNkUDJ3alN4MEg4TjhoSklvbklSbUpqc3EwU0JSK0JRMWRjcUtoZTBsRDc3U3ZTd3BLa0pLR1B1bHBrdGZSSU1VZEVxS0lxVjU3cnBBb2tNNGRiU2l5cTdPTlBUUDd4MzlpZno3U0ZibkVucDN4ZXI0N083dXpIMTVmWHdNQTZPWUhtZ0FBQkNvQUNGUUFFS2dBZ0VBRkFJRUtBQUlWQUFRcUFDQlFBVUNnQW9CQUJRQ0JDZ0FJVkFBUXFBQWdVQUZBb0FJQUFoVUFCQ29BQ0ZRQUVLZ0FnRUNGTGJtT2lOZUZmMlBiQXl6NjhQcjZxaFVnYlJ3UjkydisvendpSnJZSE1FS0ZNbWNOLy8vVXRnY1FxRkJrMVBELzk3VTlReDhWQ0ZTZ3U0RW1BSUVLQUFJVkFBUXFBQ0JRNFoyNWpvalA4ZVgrMFd0TkFnSVZhT1krSW01aitlS2gyNGg0MWpRZ1VJRXlaN0Y1TmFQVTd3Q0JDaXdZZC93OWNPQitxQWxnSjNLTExvdzBFVjE5ODgwM1JXdkpmdmZkZHgrMGxoRXFIS3U1SmdBalZDQnZsaG1GempRUlhVZWtIejkrVFA3OXk4dUxSak5DaFhmdm9lUHZBWUVLeE50ajFlNDIvTzVKb0lKQUJjcmRSTVJWTE0rWDNrVEVwYWFCOTg4Y0t1eldnOUVvYlRXZE14ME9seTh1TjRkcWhBb0FScWduYU4zYXJIZnF1N095SDhJdEtMVkIvUCtDRWZNVEh5R1BZM25weDFtOHpXR0RFZW9CZlVrL3hkdGk1N2RyL3IxV3YyKzZFUG93M3RaNXJSZFM3MnMxbmV1Rjk3eHZXZCtYVEgwL1YrVU10dERXcWJJL3IybnJ4ZnAranYydVNqU083UytPWHkvQS8zbE4rOXhYNVQ1SHhFVVBaWjB0ZkI3MSt3NTdlSi9IRnUreitqa3YxdTkyWVg5ZmJJL0hoWDNKQTlycDVNUHI2NnRXYUc5VWZVR2JySEl6aTdjTFV5WUZmL3RwVGFkeTAzRUVlTDhtVUo2aTdNS1lOdldOcXI0UGUyanJhZFhPNjBMcnZQQXoyUFE1UlBYNjg0YWg4ZHhEKzJ6YW50bkNnVmlwU1ZWK20vdGdCOVcyRERxMlN4L3ZNOTV3Y0hoWmhXVkptOHlydjU4Y1NnZlRkYzcwKysrL1gvcjUyMisvdFVLU0VlcEJxbytvbTRaTFBlck1qVXd1Tm5RQ3R4MUdXSnRlZTFGd2RENXVXZDg2eExzOFVhVnQyYU5FTzEvc2FaL1o1cllNVzR6cTZ2MzRyR1Y5QmczcTJlWjlTa2VObTlxd3lVaDMwT1BJSFlGS3g1RkcwM0M3em5TT3FZQnErcVcvenBRM2FuSDAzN1ROSGx1RzZmMFdQc1BoSHZhYjRRRnR5N29nT2V1eERZY055Mi96dTIyMTRXTllXeG1CdXJOTzhiR245N3BOQk9POHh5Lzl1Q29yWlo0STJyNEM3YUpnTzdaVjlpRTQ5RG02TnZPV3grcFdFOUNVcTN6YmRUcDlkb3ozOFRiWHR6cUg5UlQ1Q3lXZTQyMk9hWm9aR2VaQ2FicmhQUVk5SGp3c2pwVHZDZzRZdGxFMitUYS9qMmJ6bjhmcXJEcWdtKzZ5VUhPbUF2V1VqQXRHaGJOWXZzQmtuRG5xSDFRaGM3Vm14SGdlYi9OYnVkQTVqL1VYbFl3aWYycDZsdWhBYzl0ZXUxbnBpSEtuRHM4aWY2dENtN0pMWDNOS3BndHRYZTlydWM5bUhNZDdhODNpd2R4RjV2dDh0dXRBUmFDZWtsUm5OSzlDOFduTkY3Z2VKUTRUNFhHM0poU25WZGlsUXJHK3lPbnJsVkhmc0VHWXpoTkJuN0x1NnRTNytISmFmSlE0RU1pTmxOcVdYWjlXUHZWZ25WWUhHNU0xQnlEWGtUNmxlWDJFZ1RxSnR5dDQ1eXY3UzJxTzNzRVpqWmhETFhlUitZS2RKMFpkazhRb2N2SDlONzMyS3JOdHErRlovenpJSEFCY0pyWXBkK1h2MTRsT2Q1YXA3NlNncmR1Vy9WVFExcWNRcHFuYmd1NGlmWnZVTU5wZDlYdW9abXZDdFBhUTJZL0JDSFZMZ2JySlRlUlBEZFZmNnBmTUtEVTJmT2tIbVZGRmZYcjNNc291THNuTnZWNWtSb2U1K3M0MzFQZXVvS1BxV25hdXJZL1pQQkVlcXdjZU40bDk2aXdPNkg3TWpxNHk3VkdQVk5lMTBWYVpNelZDUFZXcEkvWjZGWmJjdjVmTXFHQ1UrZExmRkd6ajU4alA4K2JDZEpDbzd5ektUd2RPRjBidTlVZzdWNGMreXo3RkpmWWVHb3lzVXNzMEhzc0lkVlp3WUxEdWpNcWxFU29DZFR0R3NadGJIbkpCZU5kRFNKU3MwalRLZE1KTjFITlg1NFd2N2J2c1U5TmtWSlZhMTNkWCsvd3VBclYwWC9sNVJIeW8vbG5mRjRHNnA2RHJTMGtIZHRYaHkzNVRHRXJEUFlaVW4yV2ZXcURPby9sVnFkTUQyTy9oS0poRDdTL29kdWt5bXE5czAyUU40RUVQUi96YmFPdW1aYytyMTV6SzFacXpubDlqc2ZpZW1UTTFRbVYzSFV1VGtlZGxnOUhJUXpSYlVEOTNkZkMrMnRwajJmSUhFSDIrUnFDQ1FIMTNnWnE3aFdYVE5wVnUxOU9CMWZjOW5RMEFLT0tVYjVsVTBQMWtEeU9uZW9XazBsT1o5Y0lQMHg3cXU4KzJCaENvUjJ3WXUxK2U3RG1hWHpCU3N1NXZhWDFuZTJ6cnBtVVBUbXhmN1BNMURtNHkvdkM3bnk3TmlmNyt6LzlabXRNMFozcGFuUEx0UG1yYTlmMTZiY0swRHBibndrNDNWZC9SSHR1NnpmTlFUeTFRQnkzYXFHMmc5blZteG1sK0JPb0p5VDNOcFdtbjl4aGZGbnU0YnZEYSs0NEJYaHFxZmRmM3VVRjkreXo3N0FUMzFZdWUybWplY1lRNjJOTGZna0E5Z2hIcUxORWhOZW00SDFjNnZkeUR4aGYvYnB6NW00Y29XL2MzOXdpNlZIMmJQdEhsY2FWOWN2WHRzK3p4Q2U2clRlcWMybmRMN3VHZDkzUXdNOWJGY0F6TW9aWjdTZ1RCYld4K2FzdWk2MWgvaXExK1JtanFkYm5RWFEzVDFETlE2M1YvVTl1Y3FtL3BNelBiMXJlUHNrLzFpVE9qZ3ZhdFI0VzNMYzhVTEI3OHBFTHlybkFmZVRjajFOVTUwOS84Nm1mSjMzLzgrTWYwMGEwNVV5UFVFdzdVVkNlV0cvV05FaUV4eUhSTXQ1bHRXMzBpelVQazE4eXR0N2xOZmM4aS8vRHZ0dlh0byt5U0E1QmpsanNMVUY4bFBrcU1QRXRXMUpvbURzaUdCWjlCeWI0TkF2VUlUU045R3V3c0lqNnQ2VVRPcWs3akpSRWttenFsaTh4SXM5NnVkU08yMHNYMEgxdlc5MklMOWUxYTlyZ3FWeWY5MWdiUHNUeTlVRDluOWxPa1Q4aytSZmtGUjVQTU5xeE9jZFNmMzJQQnZnM3ZpbE8remR4RStva3g5V20wcGgzNlhZc1JaQ3BNRjk5M0dPazVxdnFCM0RjdDZqdnNzYjY3S3Z1VU5KM2ZydzkyYmhyOC9TVFNGMEpkUlBNTHBVQ2duc2dvOVM3NlBaMjQ2WkZrMXdXdks1bTN2Vm9ZdlcxU3o3bk45MWpmWGJRMVpRYzdUVzZIZWFvT2FseXBHLzgvcC9yUDFhTkFjNlpIelNuZmRxUFVQaGR5MlBRdzZOejlnU1ZodWhpcXVlVUhSM3V1N3k3SzNyZERYNHU0NlpyUGJVYTBJRkJaMHNlS1EzWFFUUnQydm0zVy9hMkRiTkt5cysrcnZtM2VwNit5MXgyVWRQM2JXVTlsenJhNDdVMUdtbGN0WC9zUTIzdCthT2xCeUxUaC80TkFQYUNSeHRjZE81SExTSi82dk50Q3dHeDY3VlBtUGJ2V2QxcTlmcktIdHA0a0FxUkoySFI5ajc2MkpmWDNiWi8vZWxQdGoxM1BQRHgxK0Q1dHFrL1hpNk5POFNIejdNbUgxOWRYcmRCTmZWRlA2VDJQVDFVSE5pdDg3L3Q0bTUrYVJIK25RQmR2cXloWkRLSkxmWnM4aDdYUHNxZFYyWk9WK3RhbktCOGFsbjBkeXhkQVhiVjRqNGd2dDRvTU9yYlA2dmJVNzNOVzdUTWxiZFRuUHJXcGZxWGZoOUhLWjl2a2U3S3VUZVpSTnRYUlNlNisxRlYvL2NlL2xuNWVYZnNYZ2NxWHpyNis5MjYxTTNtb09vYTdFNm52VFpUZnk3aU5zbWZiN2tqZmdYR3N2eGUwdmloc0V0czlIVHF1UHB0MXExdnRhaHUyVHFBaVVBRUVLajB6aHdvQVJxZ0F1L09uWC80NDJXSCs5eGMvV3ZyNThyZS9UcjdmNDEvK1pzUnFoQW9BQ0ZRQUVLZ0FjSGpNb1FKc2tKc3ovZXFycjVaK3Z2cjd2NWZtUUZldkFsNWx6dFFJRlFBUXFBQWdVQUhnSUpsREJkaGdkUTQxTjJlS0VTb0FJRkFCUUtBQ3dGRXdod29BUnFnQUlGQUJRS0FDQUFJVkFBUXFBQWhVQUJDb0FJQkFCUUNCQ2dBQ0ZRQUVLZ0FnVUFGQW9BS0FRQVVBZ1FvQUNGUUFFS2dBSUZBQlFLQUNBQUlWQUFRcUFBaFVBQkNvQUlCQUJRQ0JDZ0FDRlFBUXFBQWdVQUZBb0FLQVFBVUFsdndQY0ZEbnMxRHNINHNBQUFBQVNVVk9SSzVDWUlJPVwiLG4ubG9nb1dpZHRoPTQ2OCxuLmxvZ29IZWlnaHQ9MTE4LG4ubG9hZGluZ0JhckNvbG9yPWV0LldoaXRlLG4uYmFja2dyb3VuZENvbG9yPVwiIzE3NkJBQVwiLG4uc3VwcHJlc3NQbGF5QnV0dG9uPSExLG4uX3BsYXlCdXR0b25TdHlsZXM9a24uYS50b1N0cmluZygpLG4ucGxheUJ1dHRvblRleHQ9XCJQbGF5IGdhbWVcIixuLnN0YXJ0QnV0dG9uRmFjdG9yeT1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7cmV0dXJuIHQuaWQ9XCJleGNhbGlidXItcGxheVwiLHQudGV4dENvbnRlbnQ9bi5wbGF5QnV0dG9uVGV4dCx0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdH0sbi5nZXREYXRhPWZ1bmN0aW9uKCl7fSxuLnNldERhdGE9ZnVuY3Rpb24oKXt9LG4ucHJvY2Vzc0RhdGE9ZnVuY3Rpb24oKXt9LG4ub25wcm9ncmVzcz1mdW5jdGlvbih0KXtSLmdldEluc3RhbmNlKCkuZGVidWcoXCJbZXguTG9hZGVyXSBMb2FkaW5nIFwiKygxMDAqdC5sb2FkZWQvdC50b3RhbCkudG9GaXhlZCgwKSl9LG4ub25jb21wbGV0ZT1mdW5jdGlvbigpe30sbi5vbmVycm9yPWZ1bmN0aW9uKCl7fSxlJiZuLmFkZFJlc291cmNlcyhlKSxufXJldHVybiBSbihlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9pbWFnZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VFbGVtZW50fHwodGhpcy5faW1hZ2VFbGVtZW50PW5ldyBJbWFnZSx0aGlzLl9pbWFnZUVsZW1lbnQuc3JjPXRoaXMubG9nbyksdGhpcy5faW1hZ2VFbGVtZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBsYXlCdXR0b25Sb290RWxlbWVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBsYXlCdXR0b25FbGVtZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wbGF5QnV0dG9uRWxlbWVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJfcGxheUJ1dHRvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50fHwodGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50LmlkPVwiZXhjYWxpYnVyLXBsYXktcm9vdFwiLHRoaXMuX3BsYXlCdXR0b25Sb290RWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQpKSx0aGlzLl9zdHlsZUJsb2NrfHwodGhpcy5fc3R5bGVCbG9jaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksdGhpcy5fc3R5bGVCbG9jay50ZXh0Q29udGVudD10aGlzLl9wbGF5QnV0dG9uU3R5bGVzLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5fc3R5bGVCbG9jaykpLHRoaXMuX3BsYXlCdXR0b25FbGVtZW50fHwodGhpcy5fcGxheUJ1dHRvbkVsZW1lbnQ9dGhpcy5zdGFydEJ1dHRvbkZhY3RvcnkoKSx0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fcGxheUJ1dHRvbkVsZW1lbnQpKSx0aGlzLl9wbGF5QnV0dG9uRWxlbWVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS53aXJlRW5naW5lPWZ1bmN0aW9uKHQpe3RoaXMuX2VuZ2luZT10fSxlLnByb3RvdHlwZS5hZGRSZXNvdXJjZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pbmRleCsrO3RoaXMuX3Jlc291cmNlTGlzdC5wdXNoKHQpLHRoaXMuX3Byb2dyZXNzQ291bnRzW2VdPTAsdGhpcy5fdG90YWxDb3VudHNbZV09MSx0aGlzLl9yZXNvdXJjZUNvdW50Kyt9LGUucHJvdG90eXBlLmFkZFJlc291cmNlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspdGhpcy5hZGRSZXNvdXJjZSh0W2VdKX0sZS5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVtTG9hZGVkPT09dGhpcy5fcmVzb3VyY2VDb3VudH0sZS5wcm90b3R5cGUuc2hvd1BsYXlCdXR0b249ZnVuY3Rpb24oKXtpZih0aGlzLnN1cHByZXNzUGxheUJ1dHRvbilyZXR1cm4gZC5yZXNvbHZlKCk7dGhpcy5fcGxheUJ1dHRvblNob3duPSEwLHRoaXMuX3BsYXlCdXR0b24uc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7dmFyIHQ9bmV3IGQ7cmV0dXJuIHRoaXMuX3BsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc3RhdGUoKT09PXUuUGVuZGluZz90LnJlc29sdmUoKTp0fSkpLHRoaXMuX3BsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc3RhdGUoKT09PXUuUGVuZGluZz90LnJlc29sdmUoKTp0fSkpLHRoaXMuX3BsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLChmdW5jdGlvbigpe3JldHVybiB0LnN0YXRlKCk9PT11LlBlbmRpbmc/dC5yZXNvbHZlKCk6dH0pKSx0fSxlLnByb3RvdHlwZS5oaWRlUGxheUJ1dHRvbj1mdW5jdGlvbigpe3RoaXMuX3BsYXlCdXR0b25TaG93bj0hMSx0aGlzLl9wbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQucGFyZW50RWxlbWVudCYmKHRoaXMuX3BsYXlCdXR0b25Sb290RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLl9wbGF5QnV0dG9uRWxlbWVudCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQpLGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQodGhpcy5fc3R5bGVCbG9jayksdGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50PW51bGwsdGhpcy5fcGxheUJ1dHRvbkVsZW1lbnQ9bnVsbCx0aGlzLl9zdHlsZUJsb2NrPW51bGwpfSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPW5ldyBkO2lmKDA9PT10aGlzLl9yZXNvdXJjZUxpc3QubGVuZ3RoKXJldHVybiB0aGlzLnNob3dQbGF5QnV0dG9uKCkudGhlbigoZnVuY3Rpb24oKXtEbi51bmxvY2soKS50aGVuKChmdW5jdGlvbigpe3QuaGlkZVBsYXlCdXR0b24oKSx0Lm9uY29tcGxldGUuY2FsbCh0KSxlLnJlc29sdmUoKSx0LmRpc3Bvc2UoKX0pKX0pKSxlO3JldHVybiB0aGlzLl9yZXNvdXJjZUxpc3QuZm9yRWFjaCgoZnVuY3Rpb24obil7dC5fZW5naW5lJiZuLndpcmVFbmdpbmUodC5fZW5naW5lKSxuLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7dC51cGRhdGVSZXNvdXJjZVByb2dyZXNzKGUubG9hZGVkLGUudG90YWwpfSxuLm9uY29tcGxldGU9bi5vbmVycm9yPWZ1bmN0aW9uKCl7dC5tYXJrUmVzb3VyY2VDb21wbGV0ZSgpLHQuaXNMb2FkZWQoKSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnNob3dQbGF5QnV0dG9uKCkudGhlbigoZnVuY3Rpb24oKXtEbi51bmxvY2soKS50aGVuKChmdW5jdGlvbigpe3QuaGlkZVBsYXlCdXR0b24oKSx0Lm9uY29tcGxldGUuY2FsbCh0KSxlLnJlc29sdmUoKSx0LmRpc3Bvc2UoKX0pKX0pKX0pLDIwMCl9fSkpLGZ1bmN0aW9uIHQoZSxuKXtlW25dJiZlW25dLmxvYWQoKS50aGVuKChmdW5jdGlvbigpe3QoZSxuKzEpfSkpfSh0aGlzLl9yZXNvdXJjZUxpc3QsMCksZX0sZS5wcm90b3R5cGUudXBkYXRlUmVzb3VyY2VQcm9ncmVzcz1mdW5jdGlvbih0LGUpe3ZhciBuPXQvZSooMTAwL3RoaXMuX3Jlc291cmNlQ291bnQpKzEwMCp0aGlzLnByb2dyZXNzO3RoaXMub25wcm9ncmVzcyh7bG9hZGVkOm4sdG90YWw6MTAwfSl9LGUucHJvdG90eXBlLm1hcmtSZXNvdXJjZUNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5fbnVtTG9hZGVkKyt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInByb2dyZXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXNvdXJjZUNvdW50PjA/dGhpcy5fbnVtTG9hZGVkL3RoaXMuX3Jlc291cmNlQ291bnQ6MX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2VuZ2luZS5jYW52YXNIZWlnaHQvdGhpcy5fZW5naW5lLnBpeGVsUmF0aW8sbj10aGlzLl9lbmdpbmUuY2FudmFzV2lkdGgvdGhpcy5fZW5naW5lLnBpeGVsUmF0aW87aWYodGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50KXt2YXIgaT10LmNhbnZhcy5vZmZzZXRMZWZ0LHI9dC5jYW52YXMub2Zmc2V0VG9wLG89dGhpcy5fcGxheUJ1dHRvbi5jbGllbnRXaWR0aCxzPXRoaXMuX3BsYXlCdXR0b24uY2xpZW50SGVpZ2h0O3RoaXMucGxheUJ1dHRvblBvc2l0aW9uPyh0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQuc3R5bGUubGVmdD10aGlzLnBsYXlCdXR0b25Qb3NpdGlvbi54K1wicHhcIix0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQuc3R5bGUudG9wPXRoaXMucGxheUJ1dHRvblBvc2l0aW9uLnkrXCJweFwiKToodGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50LnN0eWxlLmxlZnQ9aStuLzItby8yK1wicHhcIix0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQuc3R5bGUudG9wPXIrZS8yLXMvMisxMDArXCJweFwiKX10LmZpbGxTdHlsZT10aGlzLmJhY2tncm91bmRDb2xvcix0LmZpbGxSZWN0KDAsMCxuLGUpO3ZhciBhPWUvMixjPU1hdGgubWluKHRoaXMubG9nb1dpZHRoLC43NSpuKSxoPW4vMi1jLzI7dGhpcy5sb2dvUG9zaXRpb24mJihoPXRoaXMubG9nb1Bvc2l0aW9uLngsYT10aGlzLmxvZ29Qb3NpdGlvbi55KTt2YXIgdT1NYXRoLmZsb29yKGMqKHRoaXMubG9nb0hlaWdodC90aGlzLmxvZ29XaWR0aCkpLGw9dGhpcy5fZW5naW5lLmdldEFudGlhbGlhc2luZygpO2lmKHRoaXMuX2VuZ2luZS5zZXRBbnRpYWxpYXNpbmcoITApLHRoaXMubG9nb1Bvc2l0aW9uP3QuZHJhd0ltYWdlKHRoaXMuX2ltYWdlLDAsMCx0aGlzLmxvZ29XaWR0aCx0aGlzLmxvZ29IZWlnaHQsaCxhLGMsdSk6dC5kcmF3SW1hZ2UodGhpcy5faW1hZ2UsMCwwLHRoaXMubG9nb1dpZHRoLHRoaXMubG9nb0hlaWdodCxoLGEtdS0yMCxjLHUpLHRoaXMuc3VwcHJlc3NQbGF5QnV0dG9ufHwhdGhpcy5fcGxheUJ1dHRvblNob3duKXt2YXIgcD1oLGQ9YTt0aGlzLmxvYWRpbmdCYXJQb3NpdGlvbiYmKHA9dGhpcy5sb2FkaW5nQmFyUG9zaXRpb24ueCxkPXRoaXMubG9hZGluZ0JhclBvc2l0aW9uLnkpLHQubGluZVdpZHRoPTIsdG4odCxwLGQsYywyMCwxMCx0aGlzLmxvYWRpbmdCYXJDb2xvcik7dmFyIGY9Yyp0aGlzLnByb2dyZXNzLTEwO3RuKHQscCs1LGQrNSxmPjEwP2Y6MTAsMTAsNSxudWxsLHRoaXMubG9hZGluZ0JhckNvbG9yKSx0aGlzLl9lbmdpbmUuc2V0QW50aWFsaWFzaW5nKGwpfWVsc2UgdGhpcy5fZW5naW5lLnNldEFudGlhbGlhc2luZyhsKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlfShlZSksRm49e3dlYmdsOlwiV2ViR0xcIix3ZWJhdWRpbzpcIldlYkF1ZGlvXCIsZ2FtZXBhZGFwaTpcIkdhbWVwYWQgQVBJXCJ9LEluPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2ZlYXR1cmVzPW51bGwsdGhpcy5mYWlsZWRUZXN0cz1bXSx0aGlzLl9jcml0aWNhbFRlc3RzPXtjYW52YXNTdXBwb3J0OmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4hKCF0LmdldENvbnRleHR8fCF0LmdldENvbnRleHQoXCIyZFwiKSl9LGFycmF5QnVmZmVyU3VwcG9ydDpmdW5jdGlvbigpe3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDt0Lm9wZW4oXCJHRVRcIixcIi9cIik7dHJ5e3QucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIn1jYXRjaCh0KXtyZXR1cm4hMX1yZXR1cm5cImFycmF5YnVmZmVyXCI9PT10LnJlc3BvbnNlVHlwZX0sZGF0YVVybFN1cHBvcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLmluZGV4T2YoXCJkYXRhOmltYWdlL3BuZ1wiKX0sb2JqZWN0VXJsU3VwcG9ydDpmdW5jdGlvbigpe3JldHVyblwiVVJMXCJpbiB3aW5kb3cmJlwicmV2b2tlT2JqZWN0VVJMXCJpbiBVUkwmJlwiY3JlYXRlT2JqZWN0VVJMXCJpbiBVUkx9LHJnYmFTdXBwb3J0OmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikuc3R5bGU7cmV0dXJuIHQuY3NzVGV4dD1cImJhY2tncm91bmQtY29sb3I6cmdiYSgxNTAsMjU1LDE1MCwuNSlcIiwoXCJcIit0LmJhY2tncm91bmRDb2xvcikuaW5kZXhPZihcInJnYmFcIik+LTF9fSx0aGlzLl93YXJuaW5nVGVzdD17d2ViQXVkaW9TdXBwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuISEod2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dHx8d2luZG93Lm1vekF1ZGlvQ29udGV4dHx8d2luZG93Lm1zQXVkaW9Db250ZXh0fHx3aW5kb3cub0F1ZGlvQ29udGV4dCl9LHdlYmdsU3VwcG9ydDpmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuISghdC5nZXRDb250ZXh0fHwhdC5nZXRDb250ZXh0KFwid2ViZ2xcIikpfX0sdGhpcy5fZmVhdHVyZXM9dGhpcy5fbG9hZEJyb3dzZXJGZWF0dXJlcygpfXJldHVybiB0LnByb3RvdHlwZS5nZXRCcm93c2VyRmVhdHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX2ZlYXR1cmVzJiYodGhpcy5fZmVhdHVyZXM9dGhpcy5fbG9hZEJyb3dzZXJGZWF0dXJlcygpKSx0aGlzLl9mZWF0dXJlc30sdC5wcm90b3R5cGUubG9nQnJvd3NlckZlYXR1cmVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVwiJWNTVVBQT1JURUQgQlJPV1NFUiBGRUFUVVJFU1xcbj09PT09PT09PT09PT09PT09PT09PT09PT09JWNcXG5cIixlPVtcImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogbmF2eVwiLFwiZm9udC13ZWlnaHQ6IG5vcm1hbDsgY29sb3I6IGluaGVyaXRcIl0sbj10aGlzLmdldEJyb3dzZXJGZWF0dXJlcygpLGk9MCxyPU9iamVjdC5rZXlzKEZuKTtpPHIubGVuZ3RoO2krKyl7dmFyIG89cltpXTtuW29dPyh0Kz1cIiglY+KckyVjKVwiLGUucHVzaChcImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogZ3JlZW5cIiksZS5wdXNoKFwiZm9udC13ZWlnaHQ6IG5vcm1hbDsgY29sb3I6IGluaGVyaXRcIikpOih0Kz1cIiglY+KclyVjKVwiLGUucHVzaChcImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogcmVkXCIpLGUucHVzaChcImZvbnQtd2VpZ2h0OiBub3JtYWw7IGNvbG9yOiBpbmhlcml0XCIpKSx0Kz1cIiBcIitGbltvXStcIlxcblwifWUudW5zaGlmdCh0KSxjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGUpfSx0LnByb3RvdHlwZS5fbG9hZEJyb3dzZXJGZWF0dXJlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJue2NhbnZhczp0Ll9jcml0aWNhbFRlc3RzLmNhbnZhc1N1cHBvcnQoKSxhcnJheWJ1ZmZlcjp0Ll9jcml0aWNhbFRlc3RzLmFycmF5QnVmZmVyU3VwcG9ydCgpLGRhdGF1cmw6dC5fY3JpdGljYWxUZXN0cy5kYXRhVXJsU3VwcG9ydCgpLG9iamVjdHVybDp0Ll9jcml0aWNhbFRlc3RzLm9iamVjdFVybFN1cHBvcnQoKSxyZ2JhOnQuX2NyaXRpY2FsVGVzdHMucmdiYVN1cHBvcnQoKSx3ZWJhdWRpbzp0Ll93YXJuaW5nVGVzdC53ZWJBdWRpb1N1cHBvcnQoKSx3ZWJnbDp0Ll93YXJuaW5nVGVzdC53ZWJnbFN1cHBvcnQoKSxnYW1lcGFkYXBpOiEhbmF2aWdhdG9yLmdldEdhbWVwYWRzfX0sdC5wcm90b3R5cGUudGVzdD1mdW5jdGlvbigpe3ZhciB0PSExO2Zvcih2YXIgZSBpbiB0aGlzLl9jcml0aWNhbFRlc3RzKXRoaXMuX2NyaXRpY2FsVGVzdHNbZV0uY2FsbCh0aGlzKXx8KHRoaXMuZmFpbGVkVGVzdHMucHVzaChlKSxSLmdldEluc3RhbmNlKCkuZXJyb3IoXCJDcml0aWNhbCBicm93c2VyIGZlYXR1cmUgbWlzc2luZywgRXhjYWxpYnVyIHJlcXVpcmVzOlwiLGUpLHQ9ITApO2lmKHQpcmV0dXJuITE7Zm9yKHZhciBuIGluIHRoaXMuX3dhcm5pbmdUZXN0KXRoaXMuX3dhcm5pbmdUZXN0W25dKCl8fFIuZ2V0SW5zdGFuY2UoKS53YXJuKFwiV2FybmluZyBicm93c2VyIGZlYXR1cmUgbWlzc2luZywgRXhjYWxpYnVyIHdpbGwgaGF2ZSByZWR1Y2VkIHBlcmZvcm1hbmNlOlwiLG4pO3JldHVybiEwfSx0fSgpLExuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnBhcmVudD10LHRoaXMucGFyZW50PXR8fG51bGwsdGhpcy5ib2R5PW51bGwsdGhpcy5ib3VuZHM9bmV3IEt0LHRoaXMubGVmdD1udWxsLHRoaXMucmlnaHQ9bnVsbCx0aGlzLmhlaWdodD0wfXJldHVybiB0LnByb3RvdHlwZS5pc0xlYWY9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5sZWZ0JiYhdGhpcy5yaWdodH0sdH0oKSx6bj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9bmV3IEt0KC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSkpLHRoaXMud29ybGRCb3VuZHM9dCx0aGlzLnJvb3Q9bnVsbCx0aGlzLm5vZGVzPXt9fXJldHVybiB0LnByb3RvdHlwZS5faW5zZXJ0PWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10aGlzLnJvb3QpcmV0dXJuIHRoaXMucm9vdD10LHZvaWQodGhpcy5yb290LnBhcmVudD1udWxsKTtmb3IodmFyIGU9dC5ib3VuZHMsbj10aGlzLnJvb3Q7IW4uaXNMZWFmKCk7KXt2YXIgaT1uLmxlZnQscj1uLnJpZ2h0LG89bi5ib3VuZHMuZ2V0UGVyaW1ldGVyKCkscz1uLmJvdW5kcy5jb21iaW5lKGUpLmdldFBlcmltZXRlcigpLGE9MipzLGM9Mioocy1vKSxoPTAsdT1lLmNvbWJpbmUoaS5ib3VuZHMpLGw9dm9pZCAwO2kuaXNMZWFmKCk/aD11LmdldFBlcmltZXRlcigpK2M6KGw9aS5ib3VuZHMuZ2V0UGVyaW1ldGVyKCksaD11LmdldFBlcmltZXRlcigpLWwrYyk7dmFyIHA9MCxkPWUuY29tYmluZShyLmJvdW5kcyk7aWYoci5pc0xlYWYoKT9wPWQuZ2V0UGVyaW1ldGVyKCkrYzoobD1yLmJvdW5kcy5nZXRQZXJpbWV0ZXIoKSxwPWQuZ2V0UGVyaW1ldGVyKCktbCtjKSxhPGgmJmE8cClicmVhaztuPWg8cD9pOnJ9dmFyIGY9bi5wYXJlbnQseT1uZXcgTG4oZik7eS5ib3VuZHM9ZS5jb21iaW5lKG4uYm91bmRzKSx5LmhlaWdodD1uLmhlaWdodCsxLG51bGwhPT1mPyhmLmxlZnQ9PT1uP2YubGVmdD15OmYucmlnaHQ9eSx5LmxlZnQ9bix5LnJpZ2h0PXQsbi5wYXJlbnQ9eSx0LnBhcmVudD15KTooeS5sZWZ0PW4seS5yaWdodD10LG4ucGFyZW50PXksdC5wYXJlbnQ9eSx0aGlzLnJvb3Q9eSk7Zm9yKHZhciBnPXQucGFyZW50O2c7KXtpZighKGc9dGhpcy5fYmFsYW5jZShnKSkubGVmdCl0aHJvdyBuZXcgRXJyb3IoXCJQYXJlbnQgb2YgY3VycmVudCBsZWFmIGNhbm5vdCBoYXZlIGEgbnVsbCBsZWZ0IGNoaWxkXCIrZyk7aWYoIWcucmlnaHQpdGhyb3cgbmV3IEVycm9yKFwiUGFyZW50IG9mIGN1cnJlbnQgbGVhZiBjYW5ub3QgaGF2ZSBhIG51bGwgcmlnaHQgY2hpbGRcIitnKTtnLmhlaWdodD0xK01hdGgubWF4KGcubGVmdC5oZWlnaHQsZy5yaWdodC5oZWlnaHQpLGcuYm91bmRzPWcubGVmdC5ib3VuZHMuY29tYmluZShnLnJpZ2h0LmJvdW5kcyksZz1nLnBhcmVudH19LHQucHJvdG90eXBlLl9yZW1vdmU9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMucm9vdCl7dmFyIGUsbj10LnBhcmVudCxpPW4ucGFyZW50O2lmKGU9bi5sZWZ0PT09dD9uLnJpZ2h0Om4ubGVmdCxpKXtpLmxlZnQ9PT1uP2kubGVmdD1lOmkucmlnaHQ9ZSxlLnBhcmVudD1pO2Zvcih2YXIgcj1pO3I7KShyPXRoaXMuX2JhbGFuY2UocikpLmJvdW5kcz1yLmxlZnQuYm91bmRzLmNvbWJpbmUoci5yaWdodC5ib3VuZHMpLHIuaGVpZ2h0PTErTWF0aC5tYXgoci5sZWZ0LmhlaWdodCxyLnJpZ2h0LmhlaWdodCkscj1yLnBhcmVudH1lbHNlIHRoaXMucm9vdD1lLGUucGFyZW50PW51bGx9ZWxzZSB0aGlzLnJvb3Q9bnVsbH0sdC5wcm90b3R5cGUudHJhY2tCb2R5PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBMbjtlLmJvZHk9dCxlLmJvdW5kcz10LmNvbGxpZGVyLmJvdW5kcyxlLmJvdW5kcy5sZWZ0LT0yLGUuYm91bmRzLnRvcC09MixlLmJvdW5kcy5yaWdodCs9MixlLmJvdW5kcy5ib3R0b20rPTIsdGhpcy5ub2Rlc1t0LmlkXT1lLHRoaXMuX2luc2VydChlKX0sdC5wcm90b3R5cGUudXBkYXRlQm9keT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5vZGVzW3QuaWRdO2lmKCFlKXJldHVybiExO3ZhciBuPXQuY29sbGlkZXIuYm91bmRzO2lmKCF0aGlzLndvcmxkQm91bmRzLmNvbnRhaW5zKG4pKXJldHVybiBSLmdldEluc3RhbmNlKCkud2FybihcIkNvbGxpZGVyIHdpdGggaWQgXCIrdC5pZCtcIiBpcyBvdXRzaWRlIHRoZSB3b3JsZCBib3VuZHMgYW5kIHdpbGwgbm8gbG9uZ2VyIGJlIHRyYWNrZWQgZm9yIHBoeXNpY3NcIiksdGhpcy51bnRyYWNrQm9keSh0KSwhMTtpZihlLmJvdW5kcy5jb250YWlucyhuKSlyZXR1cm4hMTt0aGlzLl9yZW1vdmUoZSksbi5sZWZ0LT1zdC5ib3VuZHNQYWRkaW5nLG4udG9wLT1zdC5ib3VuZHNQYWRkaW5nLG4ucmlnaHQrPXN0LmJvdW5kc1BhZGRpbmcsbi5ib3R0b20rPXN0LmJvdW5kc1BhZGRpbmc7dmFyIGk9dC52ZWwueCpzdC5keW5hbWljVHJlZVZlbG9jaXR5TXVsdGlwbGllcixyPXQudmVsLnkqc3QuZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGxpZXI7cmV0dXJuIGk8MD9uLmxlZnQrPWk6bi5yaWdodCs9aSxyPDA/bi50b3ArPXI6bi5ib3R0b20rPXIsZS5ib3VuZHM9bix0aGlzLl9pbnNlcnQoZSksITB9LHQucHJvdG90eXBlLnVudHJhY2tCb2R5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubm9kZXNbdC5jb2xsaWRlci5pZF07ZSYmKHRoaXMuX3JlbW92ZShlKSx0aGlzLm5vZGVzW3QuY29sbGlkZXIuaWRdPW51bGwsZGVsZXRlIHRoaXMubm9kZXNbdC5jb2xsaWRlci5pZF0pfSx0LnByb3RvdHlwZS5fYmFsYW5jZT1mdW5jdGlvbih0KXtpZihudWxsPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYmFsYW5jZSBhdCBudWxsIG5vZGVcIik7aWYodC5pc0xlYWYoKXx8dC5oZWlnaHQ8MilyZXR1cm4gdDt2YXIgZT10LmxlZnQsbj10LnJpZ2h0LGk9dCxyPWUsbz1uLHM9ZS5sZWZ0LGE9ZS5yaWdodCxjPW4ubGVmdCxoPW4ucmlnaHQsdT1vLmhlaWdodC1yLmhlaWdodDtpZih1PjEpcmV0dXJuIG8ubGVmdD1pLG8ucGFyZW50PWkucGFyZW50LGkucGFyZW50PW8sby5wYXJlbnQ/by5wYXJlbnQubGVmdD09PWk/by5wYXJlbnQubGVmdD1vOm8ucGFyZW50LnJpZ2h0PW86dGhpcy5yb290PW8sYy5oZWlnaHQ+aC5oZWlnaHQ/KG8ucmlnaHQ9YyxpLnJpZ2h0PWgsaC5wYXJlbnQ9aSxpLmJvdW5kcz1yLmJvdW5kcy5jb21iaW5lKGguYm91bmRzKSxvLmJvdW5kcz1pLmJvdW5kcy5jb21iaW5lKGMuYm91bmRzKSxpLmhlaWdodD0xK01hdGgubWF4KHIuaGVpZ2h0LGguaGVpZ2h0KSxvLmhlaWdodD0xK01hdGgubWF4KGkuaGVpZ2h0LGMuaGVpZ2h0KSk6KG8ucmlnaHQ9aCxpLnJpZ2h0PWMsYy5wYXJlbnQ9aSxpLmJvdW5kcz1yLmJvdW5kcy5jb21iaW5lKGMuYm91bmRzKSxvLmJvdW5kcz1pLmJvdW5kcy5jb21iaW5lKGguYm91bmRzKSxpLmhlaWdodD0xK01hdGgubWF4KHIuaGVpZ2h0LGMuaGVpZ2h0KSxvLmhlaWdodD0xK01hdGgubWF4KGkuaGVpZ2h0LGguaGVpZ2h0KSksbztpZih1PC0xKXtpZihyLmxlZnQ9aSxyLnBhcmVudD1pLnBhcmVudCxpLnBhcmVudD1yLHIucGFyZW50KWlmKHIucGFyZW50LmxlZnQ9PT1pKXIucGFyZW50LmxlZnQ9cjtlbHNle2lmKHIucGFyZW50LnJpZ2h0IT09aSl0aHJvd1wiRXJyb3Igcm90YXRpbmcgRHluYW1pYyBUcmVlXCI7ci5wYXJlbnQucmlnaHQ9cn1lbHNlIHRoaXMucm9vdD1yO3JldHVybiBzLmhlaWdodD5hLmhlaWdodD8oci5yaWdodD1zLGkubGVmdD1hLGEucGFyZW50PWksaS5ib3VuZHM9by5ib3VuZHMuY29tYmluZShhLmJvdW5kcyksci5ib3VuZHM9aS5ib3VuZHMuY29tYmluZShzLmJvdW5kcyksaS5oZWlnaHQ9MStNYXRoLm1heChvLmhlaWdodCxhLmhlaWdodCksci5oZWlnaHQ9MStNYXRoLm1heChpLmhlaWdodCxzLmhlaWdodCkpOihyLnJpZ2h0PWEsaS5sZWZ0PXMscy5wYXJlbnQ9aSxpLmJvdW5kcz1vLmJvdW5kcy5jb21iaW5lKHMuYm91bmRzKSxyLmJvdW5kcz1pLmJvdW5kcy5jb21iaW5lKGEuYm91bmRzKSxpLmhlaWdodD0xK01hdGgubWF4KG8uaGVpZ2h0LHMuaGVpZ2h0KSxyLmhlaWdodD0xK01hdGgubWF4KGkuaGVpZ2h0LGEuaGVpZ2h0KSkscn1yZXR1cm4gdH0sdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnJvb3Q/MDp0aGlzLnJvb3QuaGVpZ2h0fSx0LnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY29sbGlkZXIuYm91bmRzLGk9ZnVuY3Rpb24ocil7aWYociYmci5ib3VuZHMuaW50ZXJzZWN0KG4pKXtpZighci5pc0xlYWYoKXx8ci5ib2R5PT09dClyZXR1cm4gaShyLmxlZnQpfHxpKHIucmlnaHQpO2lmKGUuY2FsbCh0LHIuYm9keSkpcmV0dXJuITB9cmV0dXJuITF9O2kodGhpcy5yb290KX0sdC5wcm90b3R5cGUucmF5Q2FzdFF1ZXJ5PWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0xLzApO3ZhciBpPWZ1bmN0aW9uKHIpe2lmKHImJnIuYm91bmRzLnJheUNhc3QodCxlKSl7aWYoIXIuaXNMZWFmKCkpcmV0dXJuIGkoci5sZWZ0KXx8aShyLnJpZ2h0KTtpZihuLmNhbGwodCxyLmJvZHkpKXJldHVybiEwfXJldHVybiExfTtpKHRoaXMucm9vdCl9LHQucHJvdG90eXBlLmdldE5vZGVzPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/W2VdLmNvbmNhdCh0KGUubGVmdCksdChlLnJpZ2h0KSk6W119O3JldHVybiB0KHRoaXMucm9vdCl9LHQucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihuKXtuJiYobi5pc0xlYWYoKT8odC5saW5lV2lkdGg9MSx0LnN0cm9rZVN0eWxlPVwiZ3JlZW5cIik6KHQubGluZVdpZHRoPTEsdC5zdHJva2VTdHlsZT1cIndoaXRlXCIpLG4uYm91bmRzLmRlYnVnRHJhdyh0KSxuLmxlZnQmJmUobi5sZWZ0KSxuLnJpZ2h0JiZlKG4ucmlnaHQpKX07ZSh0aGlzLnJvb3QpfSx0fSgpLEhuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2R5bmFtaWNDb2xsaXNpb25UcmVlPW5ldyB6bix0aGlzLl9jb2xsaXNpb25IYXNoPXt9LHRoaXMuX2NvbGxpc2lvblBhaXJDYWNoZT1bXSx0aGlzLl9sYXN0RnJhbWVQYWlycz1bXSx0aGlzLl9sYXN0RnJhbWVQYWlyc0hhc2g9e319cmV0dXJuIHQucHJvdG90eXBlLnRyYWNrPWZ1bmN0aW9uKHQpe3Q/dGhpcy5fZHluYW1pY0NvbGxpc2lvblRyZWUudHJhY2tCb2R5KHQpOlIuZ2V0SW5zdGFuY2UoKS53YXJuKFwiQ2Fubm90IHRyYWNrIG51bGwgcGh5c2ljcyBib2R5XCIpfSx0LnByb3RvdHlwZS51bnRyYWNrPWZ1bmN0aW9uKHQpe3Q/dGhpcy5fZHluYW1pY0NvbGxpc2lvblRyZWUudW50cmFja0JvZHkodCk6Ui5nZXRJbnN0YW5jZSgpLndhcm4oXCJDYW5ub3QgdW50cmFjayBhIG51bGwgcGh5c2ljcyBib2R5XCIpfSx0LnByb3RvdHlwZS5fc2hvdWxkR2VuZXJhdGVDb2xsaXNpb25QYWlyPWZ1bmN0aW9uKHQsZSl7dmFyIG49cm4uY2FsY3VsYXRlUGFpckhhc2godCxlKTtyZXR1cm4hdGhpcy5fY29sbGlzaW9uSGFzaFtuXSYmcm4uY2FuQ29sbGlkZSh0LGUpfSx0LnByb3RvdHlwZS5icm9hZHBoYXNlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyPXRoaXMsbz1lLzFlMyxzPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2xsaWRlcn0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFjdGl2ZSYmdC50eXBlIT09Y3QuUHJldmVudENvbGxpc2lvbn0pKTt0aGlzLl9jb2xsaXNpb25QYWlyQ2FjaGU9W10sdGhpcy5fY29sbGlzaW9uSGFzaD17fTtmb3IodmFyIGE9MCxjPXMubGVuZ3RoO2E8YzthKyspaT1zW2FdLHRoaXMuX2R5bmFtaWNDb2xsaXNpb25UcmVlLnF1ZXJ5KGkuYm9keSwoZnVuY3Rpb24odCl7aWYoci5fc2hvdWxkR2VuZXJhdGVDb2xsaXNpb25QYWlyKGksdC5jb2xsaWRlcikpe3ZhciBlPW5ldyBybihpLHQuY29sbGlkZXIpO3IuX2NvbGxpc2lvbkhhc2hbZS5pZF09ITAsci5fY29sbGlzaW9uUGFpckNhY2hlLnB1c2goZSl9cmV0dXJuITF9KSk7aWYobiYmKG4ucGh5c2ljcy5wYWlycz10aGlzLl9jb2xsaXNpb25QYWlyQ2FjaGUubGVuZ3RoKSxzdC5jaGVja0ZvckZhc3RCb2RpZXMpZm9yKHZhciBoPWZ1bmN0aW9uKHQpe2lmKHQudHlwZSE9PWN0LkFjdGl2ZSlyZXR1cm5cImNvbnRpbnVlXCI7dmFyIGU9dC5ib2R5LnZlbC5zaXplKm8rLjUqdC5ib2R5LmFjYy5zaXplKm8qbyxpPU1hdGgubWluKHQuYm91bmRzLmhlaWdodCx0LmJvdW5kcy53aWR0aCk7aWYoc3QuZGlzYWJsZU1pbmltdW1TcGVlZEZvckZhc3RCb2R5fHxlPmkvMil7biYmbi5waHlzaWNzLmZhc3RCb2RpZXMrKzt2YXIgcixzPXQuYm9keS5wb3Muc3ViKHQuYm9keS5vbGRQb3MpLGE9dC5zaGFwZS5jZW50ZXIsYz10LnNoYXBlLmdldEZ1cnRoZXN0UG9pbnQodC5ib2R5LnZlbCksaD1jLnN1YihzKSxsPW5ldyBHKGgsdC5ib2R5LnZlbCk7bC5wb3M9bC5wb3MuYWRkKGwuZGlyLnNjYWxlKC0yKnN0LnN1cmZhY2VFcHNpbG9uKSk7dmFyIHA9bmV3IFYoMS8wLDEvMCk7aWYodS5fZHluYW1pY0NvbGxpc2lvblRyZWUucmF5Q2FzdFF1ZXJ5KGwsZSsyKnN0LnN1cmZhY2VFcHNpbG9uLChmdW5jdGlvbihuKXtpZih0LmJvZHkhPT1uJiZuLmNvbGxpZGVyLnNoYXBlJiZybi5jYW5Db2xsaWRlKHQsbi5jb2xsaWRlcikpe3ZhciBpPW4uY29sbGlkZXIuc2hhcGUucmF5Q2FzdChsLGUrMTAqc3Quc3VyZmFjZUVwc2lsb24pO2lmKGkpe3ZhciBvPWkuc3ViKGgpO28uc2l6ZTxwLnNpemUmJihwPW8scj1uKX19cmV0dXJuITF9KSksciYmVi5pc1ZhbGlkKHApKXt2YXIgZD1uZXcgcm4odCxyLmNvbGxpZGVyKTt1Ll9jb2xsaXNpb25IYXNoW2QuaWRdfHwodS5fY29sbGlzaW9uSGFzaFtkLmlkXT0hMCx1Ll9jb2xsaXNpb25QYWlyQ2FjaGUucHVzaChkKSk7dmFyIGY9YS5zdWIoYyk7dC5ib2R5LnBvcz1oLmFkZChmKS5hZGQocCkuYWRkKGwuZGlyLnNjYWxlKDIqc3Quc3VyZmFjZUVwc2lsb24pKSx0LnNoYXBlLnJlY2FsYygpLG4mJm4ucGh5c2ljcy5mYXN0Qm9keUNvbGxpc2lvbnMrK319fSx1PXRoaXMsbD0wLHA9cztsPHAubGVuZ3RoO2wrKyl7aChwW2xdKX1yZXR1cm4gdGhpcy5fY29sbGlzaW9uUGFpckNhY2hlfSx0LnByb3RvdHlwZS5uYXJyb3dwaGFzZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRbbl0uY29sbGlkZSgpLGUmJnRbbl0uY29sbGlzaW9uJiYoZS5waHlzaWNzLmNvbGxpc2lvbnMrKyxlLnBoeXNpY3MuY29sbGlkZXJzSGFzaFt0W25dLmlkXT10W25dKTtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbGxpc2lvbn0pKX0sdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPTAscj10O2k8ci5sZW5ndGg7aSsrKXt2YXIgbz1yW2ldO28ucmVzb2x2ZShuKSxvLmNvbGxpc2lvbiYmKG8uY29sbGlkZXJBLmJvZHkuYXBwbHlNdHYoKSxvLmNvbGxpZGVyQi5ib2R5LmFwcGx5TXR2KCksby5jb2xsaWRlckEuYm9keS5pbnRlZ3JhdGUoZSpzdC5jb2xsaXNpb25TaGlmdCksby5jb2xsaWRlckIuYm9keS5pbnRlZ3JhdGUoZSpzdC5jb2xsaXNpb25TaGlmdCkpfXJldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FuQ29sbGlkZX0pKX0sdC5wcm90b3R5cGUucnVuQ29sbGlzaW9uU3RhcnRFbmQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LG49MCxpPXQ7bjxpLmxlbmd0aDtuKyspe2lmKGVbKGM9aVtuXSkuaWRdPWMsIXRoaXMuX2xhc3RGcmFtZVBhaXJzSGFzaFtjLmlkXSl7dmFyIHI9Yy5jb2xsaWRlckEsbz1jLmNvbGxpZGVyQjtyLmVtaXQoXCJjb2xsaXNpb25zdGFydFwiLG5ldyBrdChyLG8sYykpLG8uZW1pdChcImNvbGxpc2lvbnN0YXJ0XCIsbmV3IGt0KG8scixjKSl9fWZvcih2YXIgcz0wLGE9dGhpcy5fbGFzdEZyYW1lUGFpcnM7czxhLmxlbmd0aDtzKyspe3ZhciBjO2lmKCFlWyhjPWFbc10pLmlkXSl7cj1jLmNvbGxpZGVyQSxvPWMuY29sbGlkZXJCO3IuZW1pdChcImNvbGxpc2lvbmVuZFwiLG5ldyBSdChyLG8pKSxvLmVtaXQoXCJjb2xsaXNpb25lbmRcIixuZXcgUnQobyxyKSl9fXRoaXMuX2xhc3RGcmFtZVBhaXJzPXQsdGhpcy5fbGFzdEZyYW1lUGFpcnNIYXNoPWV9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXQubGVuZ3RoLGk9MDtpPG47aSsrKXRoaXMuX2R5bmFtaWNDb2xsaXNpb25UcmVlLnVwZGF0ZUJvZHkodFtpXSkmJmUrKztyZXR1cm4gZX0sdC5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQpe2lmKHN0LmJyb2FkcGhhc2VEZWJ1ZyYmdGhpcy5fZHluYW1pY0NvbGxpc2lvblRyZWUuZGVidWdEcmF3KHQpLHN0LnNob3dDb250YWN0c3x8c3Quc2hvd0NvbGxpc2lvbk5vcm1hbHMpZm9yKHZhciBlPTAsbj10aGlzLl9jb2xsaXNpb25QYWlyQ2FjaGU7ZTxuLmxlbmd0aDtlKyspe25bZV0uZGVidWdEcmF3KHQpfX0sdH0oKSxVbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fZ2V0Q29tcGFyYWJsZT10fXJldHVybiB0LnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9maW5kKHRoaXMuX3Jvb3QsdCl9LHQucHJvdG90eXBlLl9maW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPXQmJih0aGlzLl9nZXRDb21wYXJhYmxlKGUpPT09dC5nZXRLZXkoKT90LmdldERhdGEoKS5pbmRleE9mKGUpPi0xOnRoaXMuX2dldENvbXBhcmFibGUoZSk8dC5nZXRLZXkoKT90aGlzLl9maW5kKHQuZ2V0TGVmdCgpLGUpOnRoaXMuX2ZpbmQodC5nZXRSaWdodCgpLGUpKX0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXQodGhpcy5fcm9vdCx0KX0sdC5wcm90b3R5cGUuX2dldD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P1tdOmU9PT10LmdldEtleSgpP3QuZ2V0RGF0YSgpOmU8dC5nZXRLZXkoKT90aGlzLl9nZXQodC5nZXRMZWZ0KCksZSk6dGhpcy5fZ2V0KHQuZ2V0UmlnaHQoKSxlKX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10aGlzLl9yb290Pyh0aGlzLl9yb290PW5ldyBXbih0aGlzLl9nZXRDb21wYXJhYmxlKHQpLFt0XSxudWxsLG51bGwpLCEwKTp0aGlzLl9pbnNlcnQodGhpcy5fcm9vdCx0KX0sdC5wcm90b3R5cGUuX2luc2VydD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT10JiYodGhpcy5fZ2V0Q29tcGFyYWJsZShlKT09PXQuZ2V0S2V5KCk/ISh0LmdldERhdGEoKS5pbmRleE9mKGUpPi0xKSYmKHQuZ2V0RGF0YSgpLnB1c2goZSksITApOnRoaXMuX2dldENvbXBhcmFibGUoZSk8dC5nZXRLZXkoKT9udWxsPT10LmdldExlZnQoKT8odC5zZXRMZWZ0KG5ldyBXbih0aGlzLl9nZXRDb21wYXJhYmxlLmNhbGwoZSxlKSxbZV0sbnVsbCxudWxsKSksITApOnRoaXMuX2luc2VydCh0LmdldExlZnQoKSxlKTpudWxsPT10LmdldFJpZ2h0KCk/KHQuc2V0UmlnaHQobmV3IFduKHRoaXMuX2dldENvbXBhcmFibGUuY2FsbChlLGUpLFtlXSxudWxsLG51bGwpKSwhMCk6dGhpcy5faW5zZXJ0KHQuZ2V0UmlnaHQoKSxlKSl9LHQucHJvdG90eXBlLnJlbW92ZUJ5Q29tcGFyYWJsZT1mdW5jdGlvbih0KXt0aGlzLl9yb290PXRoaXMuX3JlbW92ZSh0aGlzLl9yb290LHQpfSx0LnByb3RvdHlwZS5fcmVtb3ZlPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dClyZXR1cm4gbnVsbDtpZih0aGlzLl9nZXRDb21wYXJhYmxlKGUpIT09dC5nZXRLZXkoKSlyZXR1cm4gdGhpcy5fZ2V0Q29tcGFyYWJsZShlKTx0LmdldEtleSgpPyh0LnNldExlZnQodGhpcy5fcmVtb3ZlKHQuZ2V0TGVmdCgpLGUpKSx0KToodC5zZXRSaWdodCh0aGlzLl9yZW1vdmUodC5nZXRSaWdodCgpLGUpKSx0KTt2YXIgbj10LmdldERhdGEoKS5pbmRleE9mKGUpO2lmKG4+LTEpe2lmKHQuZ2V0RGF0YSgpLnNwbGljZShuLDEpLDA9PT10LmdldERhdGEoKS5sZW5ndGgpe2lmKG51bGw9PXQuZ2V0TGVmdCgpJiZudWxsPT10LmdldFJpZ2h0KCkpcmV0dXJuIG51bGw7aWYobnVsbD09dC5nZXRMZWZ0KCkpcmV0dXJuIHQuZ2V0UmlnaHQoKTtpZihudWxsPT10LmdldFJpZ2h0KCkpcmV0dXJuIHQuZ2V0TGVmdCgpO3ZhciBpPXRoaXMuX2ZpbmRNaW5Ob2RlKHQuZ2V0UmlnaHQoKSk7cmV0dXJuIHQuc2V0S2V5KGkuZ2V0S2V5KCkpLHQuc2V0RGF0YShpLmdldERhdGEoKSksdC5zZXRSaWdodCh0aGlzLl9jbGVhbnVwKHQuZ2V0UmlnaHQoKSxpKSksdH1yZXR1cm4gdH1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldEtleSgpO2lmKG51bGw9PXQpcmV0dXJuIG51bGw7aWYobj09PXQuZ2V0S2V5KCkpe2lmKG51bGw9PXQuZ2V0TGVmdCgpJiZudWxsPT10LmdldFJpZ2h0KCkpcmV0dXJuIG51bGw7aWYobnVsbD09dC5nZXRMZWZ0KCkpcmV0dXJuIHQuZ2V0UmlnaHQoKTtpZihudWxsPT10LmdldFJpZ2h0KCkpcmV0dXJuIHQuZ2V0TGVmdCgpO3ZhciBpPXRoaXMuX2ZpbmRNaW5Ob2RlKHQuZ2V0UmlnaHQoKSk7cmV0dXJuIHQuc2V0S2V5KGkuZ2V0S2V5KCkpLHQuc2V0RGF0YShpLmdldERhdGEoKSksdC5zZXRSaWdodCh0aGlzLl9jbGVhbnVwKHQuZ2V0UmlnaHQoKSxpKSksdH1yZXR1cm4gZS5nZXRLZXkoKTx0LmdldEtleSgpPyh0LnNldExlZnQodGhpcy5fY2xlYW51cCh0LmdldExlZnQoKSxlKSksdCk6KHQuc2V0UmlnaHQodGhpcy5fY2xlYW51cCh0LmdldFJpZ2h0KCksZSkpLHQpfSx0LnByb3RvdHlwZS5fZmluZE1pbk5vZGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQ7bnVsbCE9ZS5nZXRMZWZ0KCk7KWU9ZS5nZXRMZWZ0KCk7cmV0dXJuIGV9LHQucHJvdG90eXBlLmxpc3Q9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuX2xpc3QodGhpcy5fcm9vdCx0KSx0fSx0LnByb3RvdHlwZS5fbGlzdD1mdW5jdGlvbih0LGUpe251bGwhPXQmJih0aGlzLl9saXN0KHQuZ2V0TGVmdCgpLGUpLHQuZ2V0RGF0YSgpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pKSx0aGlzLl9saXN0KHQuZ2V0UmlnaHQoKSxlKSl9LHR9KCksV249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe3RoaXMuX2tleT10LHRoaXMuX2RhdGE9ZSx0aGlzLl9sZWZ0PW4sdGhpcy5fcmlnaHQ9aX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleX0sdC5wcm90b3R5cGUuc2V0S2V5PWZ1bmN0aW9uKHQpe3RoaXMuX2tleT10fSx0LnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LHQucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT10fSx0LnByb3RvdHlwZS5nZXRMZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlZnR9LHQucHJvdG90eXBlLnNldExlZnQ9ZnVuY3Rpb24odCl7dGhpcy5fbGVmdD10fSx0LnByb3RvdHlwZS5nZXRSaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yaWdodH0sdC5wcm90b3R5cGUuc2V0UmlnaHQ9ZnVuY3Rpb24odCl7dGhpcy5fcmlnaHQ9dH0sdH0oKSxObj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fa2V5PTAsdGhpcy5fa2V5PXR9cmV0dXJuIHQucHJvdG90eXBlLmdldFRoZUtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXl9LHQucHJvdG90eXBlLnNldEtleT1mdW5jdGlvbih0KXt0aGlzLl9rZXk9dH0sdH0oKSxxbj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsbil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkoZSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxWbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5jYW1lcmE9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9ja1RvQWN0b3I9ZnVuY3Rpb24odCl7dGhpcy5jYW1lcmEuYWRkU3RyYXRlZ3kobmV3IEtuKHQpKX0sdC5wcm90b3R5cGUubG9ja1RvQWN0b3JBeGlzPWZ1bmN0aW9uKHQsZSl7dGhpcy5jYW1lcmEuYWRkU3RyYXRlZ3kobmV3IFluKHQsZSkpfSx0LnByb3RvdHlwZS5lbGFzdGljVG9BY3Rvcj1mdW5jdGlvbih0LGUsbil7dGhpcy5jYW1lcmEuYWRkU3RyYXRlZ3kobmV3IEpuKHQsZSxuKSl9LHQucHJvdG90eXBlLnJhZGl1c0Fyb3VuZEFjdG9yPWZ1bmN0aW9uKHQsZSl7dGhpcy5jYW1lcmEuYWRkU3RyYXRlZ3kobmV3ICRuKHQsZSkpfSx0LnByb3RvdHlwZS5saW1pdENhbWVyYUJvdW5kcz1mdW5jdGlvbih0KXt0aGlzLmNhbWVyYS5hZGRTdHJhdGVneShuZXcgdGkodCkpfSx0fSgpOyFmdW5jdGlvbih0KXt0W3QuWD0wXT1cIlhcIix0W3QuWT0xXT1cIllcIn0oTW58fChNbj17fSkpO3ZhciBHbixYbixRbixabixLbj1mdW5jdGlvbih0KXt0aGlzLnRhcmdldD10LHRoaXMuYWN0aW9uPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0LmNlbnRlcn19LFluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnRhcmdldD10LHRoaXMuYXhpcz1lLHRoaXMuYWN0aW9uPWZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBvPXQuY2VudGVyLHM9ZS5nZXRGb2N1cygpO3JldHVybiBuLmF4aXM9PT1Nbi5YP25ldyBWKG8ueCxzLnkpOm5ldyBWKHMueCxvLnkpfX0sSm49ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXM7dGhpcy50YXJnZXQ9dCx0aGlzLmNhbWVyYUVsYXN0aWNpdHk9ZSx0aGlzLmNhbWVyYUZyaWN0aW9uPW4sdGhpcy5hY3Rpb249ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dC5jZW50ZXIscz1lLmdldEZvY3VzKCksYT1lLnZlbC5jbG9uZSgpLGM9by5zdWIocykuc2NhbGUoaS5jYW1lcmFFbGFzdGljaXR5KSxoPShhPWEuYWRkKGMpKS5zY2FsZSgtMSkuc2NhbGUoaS5jYW1lcmFGcmljdGlvbik7cmV0dXJuIGE9YS5hZGQoaCkscz1zLmFkZChhKX19LCRuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnRhcmdldD10LHRoaXMucmFkaXVzPWUsdGhpcy5hY3Rpb249ZnVuY3Rpb24odCxlLGkscil7dmFyIG89dC5jZW50ZXIscz1lLmdldEZvY3VzKCksYT1vLnN1YihzKSxjPWEuc2l6ZTtpZihjPj1uLnJhZGl1cyl7dmFyIGg9Yy1uLnJhZGl1cztyZXR1cm4gcy5hZGQoYS5ub3JtYWxpemUoKS5zY2FsZShoKSl9cmV0dXJuIHN9fSx0aT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMudGFyZ2V0PXQsdGhpcy5ib3VuZFNpemVDaGVja2VkPSExLHRoaXMuYWN0aW9uPWZ1bmN0aW9uKHQsbixpLHIpe3ZhciBvPW4uZ2V0Rm9jdXMoKTtyZXR1cm4gZS5ib3VuZFNpemVDaGVja2VkfHwoKHQuYm90dG9tLXQudG9wPGkuZHJhd0hlaWdodHx8dC5yaWdodC10LmxlZnQ8aS5kcmF3V2lkdGgpJiZSLmdldEluc3RhbmNlKCkud2FybihcIkNhbWVyYSBib3VuZHMgc2hvdWxkIG5vdCBiZSBzbWFsbGVyIHRoYW4gdGhlIGVuZ2luZSB2aWV3cG9ydFwiKSxlLmJvdW5kU2l6ZUNoZWNrZWQ9ITApLG8ueDx0LmxlZnQraS5oYWxmRHJhd1dpZHRoP28ueD10LmxlZnQraS5oYWxmRHJhd1dpZHRoOm8ueD50LnJpZ2h0LWkuaGFsZkRyYXdXaWR0aCYmKG8ueD10LnJpZ2h0LWkuaGFsZkRyYXdXaWR0aCksby55PHQudG9wK2kuaGFsZkRyYXdIZWlnaHQ/by55PXQudG9wK2kuaGFsZkRyYXdIZWlnaHQ6by55PnQuYm90dG9tLWkuaGFsZkRyYXdIZWlnaHQmJihvLnk9dC5ib3R0b20taS5oYWxmRHJhd0hlaWdodCksb319LGVpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX2NhbWVyYVN0cmF0ZWdpZXM9W10sZS5zdHJhdGVneT1uZXcgVm4oZSksZS56PTEsZS5kej0wLGUuYXo9MCxlLnJvdGF0aW9uPTAsZS5yeD0wLGUucG9zPVYuWmVybyxlLnZlbD1WLlplcm8sZS5hY2M9Vi5aZXJvLGUuX2NhbWVyYU1vdmluZz0hMSxlLl9jdXJyZW50TGVycFRpbWU9MCxlLl9sZXJwRHVyYXRpb249MWUzLGUuX2xlcnBTdGFydD1udWxsLGUuX2xlcnBFbmQ9bnVsbCxlLl9pc1NoYWtpbmc9ITEsZS5fc2hha2VNYWduaXR1ZGVYPTAsZS5fc2hha2VNYWduaXR1ZGVZPTAsZS5fc2hha2VEdXJhdGlvbj0wLGUuX2VsYXBzZWRTaGFrZVRpbWU9MCxlLl94U2hha2U9MCxlLl95U2hha2U9MCxlLl9pc1pvb21pbmc9ITEsZS5fem9vbVN0YXJ0PTEsZS5fem9vbUVuZD0xLGUuX2N1cnJlbnRab29tVGltZT0wLGUuX3pvb21EdXJhdGlvbj0wLGUuX3pvb21FYXNpbmc9TmUuRWFzZUluT3V0Q3ViaWMsZS5fZWFzaW5nPU5lLkVhc2VJbk91dEN1YmljLGUuX2lzSW5pdGlhbGl6ZWQ9ITEsZX1yZXR1cm4gcW4oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhbmd1bGFyVmVsb2NpdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucnh9LHNldDpmdW5jdGlvbih0KXt0aGlzLnJ4PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3MueH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvbGxvd3x8dGhpcy5fY2FtZXJhTW92aW5nfHwodGhpcy5wb3MueD10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcy55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZm9sbG93fHx0aGlzLl9jYW1lcmFNb3Zpbmd8fCh0aGlzLnBvcy55PXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImR4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZlbC54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy52ZWwueD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZlbC55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy52ZWwueT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImF4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjYy54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5hY2MueD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImF5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjYy55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5hY2MueT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zfSxlLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj1OZS5FYXNlSW5PdXRDdWJpYyksXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvd1wiUGxlYXNlIHNwZWNpZnkgYW4gRWFzaW5nRnVuY3Rpb25cIjtyZXR1cm4gdGhpcy5fZm9sbG93PyhuZXcgZCkucmVqZWN0KHQpOih0aGlzLl9sZXJwUHJvbWlzZSYmdGhpcy5fbGVycFByb21pc2Uuc3RhdGUoKT09PXUuUGVuZGluZyYmdGhpcy5fbGVycFByb21pc2UucmVzb2x2ZSh0KSx0aGlzLl9sZXJwUHJvbWlzZT1uZXcgZCx0aGlzLl9sZXJwU3RhcnQ9dGhpcy5nZXRGb2N1cygpLmNsb25lKCksdGhpcy5fbGVycER1cmF0aW9uPWUsdGhpcy5fbGVycEVuZD10LHRoaXMuX2N1cnJlbnRMZXJwVGltZT0wLHRoaXMuX2NhbWVyYU1vdmluZz0hMCx0aGlzLl9lYXNpbmc9bix0aGlzLl9sZXJwUHJvbWlzZSl9LGUucHJvdG90eXBlLnNoYWtlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9pc1NoYWtpbmc9ITAsdGhpcy5fc2hha2VNYWduaXR1ZGVYPXQsdGhpcy5fc2hha2VNYWduaXR1ZGVZPWUsdGhpcy5fc2hha2VEdXJhdGlvbj1ufSxlLnByb3RvdHlwZS56b29tPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49TmUuRWFzZUluT3V0Q3ViaWMpLHRoaXMuX3pvb21Qcm9taXNlPW5ldyBkLGU/KHRoaXMuX2lzWm9vbWluZz0hMCx0aGlzLl96b29tRWFzaW5nPW4sdGhpcy5fY3VycmVudFpvb21UaW1lPTAsdGhpcy5fem9vbUR1cmF0aW9uPWUsdGhpcy5fem9vbVN0YXJ0PXRoaXMueix0aGlzLl96b29tRW5kPXQpOih0aGlzLl9pc1pvb21pbmc9ITEsdGhpcy56PXQsdGhpcy5fem9vbVByb21pc2UucmVzb2x2ZSghMCkpLHRoaXMuX3pvb21Qcm9taXNlfSxlLnByb3RvdHlwZS5nZXRab29tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuen0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidmlld3BvcnRcIix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fZW5naW5lKXt2YXIgdD10aGlzLl9lbmdpbmUuaGFsZkRyYXdXaWR0aCxlPXRoaXMuX2VuZ2luZS5oYWxmRHJhd0hlaWdodDtyZXR1cm4gbmV3IEt0KHRoaXMueC10LHRoaXMueS1lLHRoaXMueCt0LHRoaXMueStlKX1yZXR1cm4gbmV3IEt0KDAsMCwwLDApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmFkZFN0cmF0ZWd5PWZ1bmN0aW9uKHQpe3RoaXMuX2NhbWVyYVN0cmF0ZWdpZXMucHVzaCh0KX0sZS5wcm90b3R5cGUucmVtb3ZlU3RyYXRlZ3k9ZnVuY3Rpb24odCl7Qyh0LHRoaXMuX2NhbWVyYVN0cmF0ZWdpZXMpfSxlLnByb3RvdHlwZS5jbGVhckFsbFN0cmF0ZWdpZXM9ZnVuY3Rpb24oKXt0aGlzLl9jYW1lcmFTdHJhdGVnaWVzLmxlbmd0aD0wfSxlLnByb3RvdHlwZS5fcHJldXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicHJldXBkYXRlXCIsbmV3IG10KHQsZSx0aGlzKSksdGhpcy5vblByZVVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5vblByZVVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuX3Bvc3R1cGRhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXQoXCJwb3N0dXBkYXRlXCIsbmV3IGJ0KHQsZSx0aGlzKSksdGhpcy5vblBvc3RVcGRhdGUodCxlKX0sZS5wcm90b3R5cGUub25Qb3N0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0luaXRpYWxpemVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0luaXRpYWxpemVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3RoaXMuaXNJbml0aWFsaXplZHx8KHRoaXMub25Jbml0aWFsaXplKGUpLHQucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwiaW5pdGlhbGl6ZVwiLG5ldyBqdChlLHRoaXMpKSx0aGlzLl9pc0luaXRpYWxpemVkPSEwLHRoaXMuX2VuZ2luZT1lKX0sZS5wcm90b3R5cGUub25Jbml0aWFsaXplPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUub25jZS5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5faW5pdGlhbGl6ZSh0KSx0aGlzLl9wcmV1cGRhdGUodCxlKSx0aGlzLnBvcz10aGlzLnBvcy5hZGQodGhpcy52ZWwuc2NhbGUoZS8xZTMpKSx0aGlzLnorPXRoaXMuZHoqZS8xZTMsdGhpcy52ZWw9dGhpcy52ZWwuYWRkKHRoaXMuYWNjLnNjYWxlKGUvMWUzKSksdGhpcy5keis9dGhpcy5heiplLzFlMyx0aGlzLnJvdGF0aW9uKz10aGlzLmFuZ3VsYXJWZWxvY2l0eSplLzFlMyx0aGlzLl9pc1pvb21pbmcpaWYodGhpcy5fY3VycmVudFpvb21UaW1lPHRoaXMuX3pvb21EdXJhdGlvbil7dmFyIG49KDAsdGhpcy5fem9vbUVhc2luZykodGhpcy5fY3VycmVudFpvb21UaW1lLHRoaXMuX3pvb21TdGFydCx0aGlzLl96b29tRW5kLHRoaXMuX3pvb21EdXJhdGlvbik7dGhpcy56PW4sdGhpcy5fY3VycmVudFpvb21UaW1lKz1lfWVsc2UgdGhpcy5faXNab29taW5nPSExLHRoaXMuej10aGlzLl96b29tRW5kLHRoaXMuX2N1cnJlbnRab29tVGltZT0wLHRoaXMuX3pvb21Qcm9taXNlLnJlc29sdmUoITApO2lmKHRoaXMuX2NhbWVyYU1vdmluZylpZih0aGlzLl9jdXJyZW50TGVycFRpbWU8dGhpcy5fbGVycER1cmF0aW9uKXt2YXIgaT1OZS5DcmVhdGVWZWN0b3JFYXNpbmdGdW5jdGlvbih0aGlzLl9lYXNpbmcpKHRoaXMuX2N1cnJlbnRMZXJwVGltZSx0aGlzLl9sZXJwU3RhcnQsdGhpcy5fbGVycEVuZCx0aGlzLl9sZXJwRHVyYXRpb24pO3RoaXMucG9zPWksdGhpcy5fY3VycmVudExlcnBUaW1lKz1lfWVsc2V7dGhpcy5wb3M9dGhpcy5fbGVycEVuZDt2YXIgcj10aGlzLl9sZXJwRW5kLmNsb25lKCk7dGhpcy5fbGVycFN0YXJ0PW51bGwsdGhpcy5fbGVycEVuZD1udWxsLHRoaXMuX2N1cnJlbnRMZXJwVGltZT0wLHRoaXMuX2NhbWVyYU1vdmluZz0hMSx0aGlzLl9sZXJwUHJvbWlzZS5yZXNvbHZlKHIpfXRoaXMuX2lzRG9uZVNoYWtpbmcoKT8odGhpcy5faXNTaGFraW5nPSExLHRoaXMuX2VsYXBzZWRTaGFrZVRpbWU9MCx0aGlzLl9zaGFrZU1hZ25pdHVkZVg9MCx0aGlzLl9zaGFrZU1hZ25pdHVkZVk9MCx0aGlzLl9zaGFrZUR1cmF0aW9uPTAsdGhpcy5feFNoYWtlPTAsdGhpcy5feVNoYWtlPTApOih0aGlzLl9lbGFwc2VkU2hha2VUaW1lKz1lLHRoaXMuX3hTaGFrZT0xKyhNYXRoLnJhbmRvbSgpKnRoaXMuX3NoYWtlTWFnbml0dWRlWHwwKSx0aGlzLl95U2hha2U9MSsoTWF0aC5yYW5kb20oKSp0aGlzLl9zaGFrZU1hZ25pdHVkZVl8MCkpO2Zvcih2YXIgbz0wLHM9dGhpcy5fY2FtZXJhU3RyYXRlZ2llcztvPHMubGVuZ3RoO28rKyl7dmFyIGE9c1tvXTt0aGlzLnBvcz1hLmFjdGlvbi5jYWxsKGEsYS50YXJnZXQsdGhpcyx0LGUpfXRoaXMuX3Bvc3R1cGRhdGUodCxlKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEZvY3VzKCksbj10LmNhbnZhcy53aWR0aCxpPXQuY2FudmFzLmhlaWdodCxyPXRoaXMuX2VuZ2luZT90aGlzLl9lbmdpbmUucGl4ZWxSYXRpbzp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxvPXRoaXMuZ2V0Wm9vbSgpLHM9bi9vL3IsYT1pL28vcjt0LnNjYWxlKG8sbyksdC50cmFuc2xhdGUoLWUueCtzLzIrdGhpcy5feFNoYWtlLC1lLnkrYS8yK3RoaXMuX3lTaGFrZSl9LGUucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEZvY3VzKCk7dC5maWxsU3R5bGU9XCJyZWRcIix0LnN0cm9rZVN0eWxlPVwid2hpdGVcIix0LmxpbmVXaWR0aD0zLHQuYmVnaW5QYXRoKCksdC5hcmMoZS54LGUueSwxNSwwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0LnN0cm9rZSgpLHQuYmVnaW5QYXRoKCksdC5hcmMoZS54LGUueSw1LDAsMipNYXRoLlBJKSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCksdC5iZWdpblBhdGgoKSx0LnNldExpbmVEYXNoKFs1LDE1XSksdC5saW5lV2lkdGg9NSx0LnN0cm9rZVN0eWxlPVwid2hpdGVcIix0LnN0cm9rZVJlY3QodGhpcy52aWV3cG9ydC5sZWZ0LHRoaXMudmlld3BvcnQudG9wLHRoaXMudmlld3BvcnQud2lkdGgsdGhpcy52aWV3cG9ydC5oZWlnaHQpLHQuY2xvc2VQYXRoKCl9LGUucHJvdG90eXBlLl9pc0RvbmVTaGFraW5nPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2lzU2hha2luZ3x8dGhpcy5fZWxhcHNlZFNoYWtlVGltZT49dGhpcy5fc2hha2VEdXJhdGlvbn0sZX0oZWUpLG5pPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KShlLG4pfTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxuKSxlLnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpOyFmdW5jdGlvbih0KXt0W3QuRW09MF09XCJFbVwiLHRbdC5SZW09MV09XCJSZW1cIix0W3QuUHg9Ml09XCJQeFwiLHRbdC5QdD0zXT1cIlB0XCIsdFt0LlBlcmNlbnQ9NF09XCJQZXJjZW50XCJ9KEdufHwoR249e30pKSxmdW5jdGlvbih0KXt0W3QuTGVmdD0wXT1cIkxlZnRcIix0W3QuUmlnaHQ9MV09XCJSaWdodFwiLHRbdC5DZW50ZXI9Ml09XCJDZW50ZXJcIix0W3QuU3RhcnQ9M109XCJTdGFydFwiLHRbdC5FbmQ9NF09XCJFbmRcIn0oWG58fChYbj17fSkpLGZ1bmN0aW9uKHQpe3RbdC5Ub3A9MF09XCJUb3BcIix0W3QuSGFuZ2luZz0xXT1cIkhhbmdpbmdcIix0W3QuTWlkZGxlPTJdPVwiTWlkZGxlXCIsdFt0LkFscGhhYmV0aWM9M109XCJBbHBoYWJldGljXCIsdFt0LklkZW9ncmFwaGljPTRdPVwiSWRlb2dyYXBoaWNcIix0W3QuQm90dG9tPTVdPVwiQm90dG9tXCJ9KFFufHwoUW49e30pKSxmdW5jdGlvbih0KXt0W3QuTm9ybWFsPTBdPVwiTm9ybWFsXCIsdFt0Lkl0YWxpYz0xXT1cIkl0YWxpY1wiLHRbdC5PYmxpcXVlPTJdPVwiT2JsaXF1ZVwifShabnx8KFpuPXt9KSk7dmFyIGlpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuLGkscixvKXx8dGhpc31yZXR1cm4gbmkoZSx0KSxlfShmZShmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsbyl7dmFyIHM9dC5jYWxsKHRoaXMsZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/ZTp7cG9zOm5ldyBWKG4saSl9KXx8dGhpcztzLmJvbGQ9ITEscy5mb250U2l6ZT0xMCxzLmZvbnRTdHlsZT1abi5Ob3JtYWwscy5mb250VW5pdD1Hbi5QeCxzLnRleHRBbGlnbj1Ybi5MZWZ0LHMuYmFzZUFsaWduPVFuLkJvdHRvbSxzLmxldHRlclNwYWNpbmc9MCxzLmNhc2VJbnNlbnNpdGl2ZT0hMDt2YXIgYT1cIlwiO3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZT8ocj1lLmZvbnRGYW1pbHksbz1lLnNwcml0ZUZvbnQsYT1lLnRleHQpOmE9ZSxzLnRleHQ9YXx8XCJcIixzLmNvbG9yPWV0LkJsYWNrLHMuc3ByaXRlRm9udD1vLHMuYm9keS5jb2xsaWRlci50eXBlPWN0LlByZXZlbnRDb2xsaXNpb24scy5mb250RmFtaWx5PXJ8fFwic2Fucy1zZXJpZlwiLHMuX3RleHRTaGFkb3dPbj0hMSxzLl9zaGFkb3dPZmZzZXRYPTAscy5fc2hhZG93T2Zmc2V0WT0wLHN9cmV0dXJuIG5pKGUsdCksZS5wcm90b3R5cGUuZ2V0VGV4dFdpZHRoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZm9udDt0LmZvbnQ9dGhpcy5fZm9udFN0cmluZzt2YXIgbj10Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCkud2lkdGg7cmV0dXJuIHQuZm9udD1lLG59LGUucHJvdG90eXBlLl9sb29rdXBGb250VW5pdD1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSBHbi5FbTpyZXR1cm5cImVtXCI7Y2FzZSBHbi5SZW06cmV0dXJuXCJyZW1cIjtjYXNlIEduLlB0OnJldHVyblwicHRcIjtjYXNlIEduLlB4OnJldHVyblwicHhcIjtjYXNlIEduLlBlcmNlbnQ6cmV0dXJuXCIlXCI7ZGVmYXVsdDpyZXR1cm5cInB4XCJ9fSxlLnByb3RvdHlwZS5fbG9va3VwVGV4dEFsaWduPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIFhuLkxlZnQ6cmV0dXJuXCJsZWZ0XCI7Y2FzZSBYbi5SaWdodDpyZXR1cm5cInJpZ2h0XCI7Y2FzZSBYbi5DZW50ZXI6cmV0dXJuXCJjZW50ZXJcIjtjYXNlIFhuLkVuZDpyZXR1cm5cImVuZFwiO2Nhc2UgWG4uU3RhcnQ6ZGVmYXVsdDpyZXR1cm5cInN0YXJ0XCJ9fSxlLnByb3RvdHlwZS5fbG9va3VwQmFzZUFsaWduPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIFFuLkFscGhhYmV0aWM6cmV0dXJuXCJhbHBoYWJldGljXCI7Y2FzZSBRbi5Cb3R0b206cmV0dXJuXCJib3R0b21cIjtjYXNlIFFuLkhhbmdpbmc6cmV0dXJuXCJoYW5naW5nXCI7Y2FzZSBRbi5JZGVvZ3JhcGhpYzpyZXR1cm5cImlkZW9ncmFwaGljXCI7Y2FzZSBRbi5NaWRkbGU6cmV0dXJuXCJtaWRkbGVcIjtjYXNlIFFuLlRvcDpyZXR1cm5cInRvcFwiO2RlZmF1bHQ6cmV0dXJuXCJhbHBoYWJldGljXCJ9fSxlLnByb3RvdHlwZS5fbG9va3VwRm9udFN0eWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm9sZD9cIiBib2xkXCI6XCJcIjtzd2l0Y2godCl7Y2FzZSBabi5JdGFsaWM6cmV0dXJuXCJpdGFsaWNcIitlO2Nhc2UgWm4uTm9ybWFsOnJldHVyblwibm9ybWFsXCIrZTtjYXNlIFpuLk9ibGlxdWU6cmV0dXJuXCJvYmxpcXVlXCIrZTtkZWZhdWx0OnJldHVyblwibm9ybWFsXCIrZX19LGUucHJvdG90eXBlLnNldFRleHRTaGFkb3c9ZnVuY3Rpb24odCxlLG4pe3RoaXMuc3ByaXRlRm9udC5zZXRUZXh0U2hhZG93KHQsZSxuKX0sZS5wcm90b3R5cGUudXNlVGV4dFNoYWRvdz1mdW5jdGlvbih0KXt0aGlzLnNwcml0ZUZvbnQudXNlVGV4dFNoYWRvdyh0KX0sZS5wcm90b3R5cGUuY2xlYXJUZXh0U2hhZG93PWZ1bmN0aW9uKCl7dGhpcy5fdGV4dFNoYWRvd09uPSExLHRoaXMuX3NoYWRvd09mZnNldFg9MCx0aGlzLl9zaGFkb3dPZmZzZXRZPTB9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbihlLG4pe2Uuc2F2ZSgpLGUudHJhbnNsYXRlKHRoaXMucG9zLngsdGhpcy5wb3MueSksZS5zY2FsZSh0aGlzLnNjYWxlLngsdGhpcy5zY2FsZS55KSxlLnJvdGF0ZSh0aGlzLnJvdGF0aW9uKSx0aGlzLl90ZXh0U2hhZG93T24mJihlLnNhdmUoKSxlLnRyYW5zbGF0ZSh0aGlzLl9zaGFkb3dPZmZzZXRYLHRoaXMuX3NoYWRvd09mZnNldFkpLHRoaXMuX2ZvbnREcmF3KGUpLGUucmVzdG9yZSgpKSx0aGlzLl9mb250RHJhdyhlKSx0LnByb3RvdHlwZS5kcmF3LmNhbGwodGhpcyxlLG4pLGUucmVzdG9yZSgpfSxlLnByb3RvdHlwZS5fZm9udERyYXc9ZnVuY3Rpb24odCl7aWYodGhpcy5zcHJpdGVGb250KXRoaXMuc3ByaXRlRm9udC5kcmF3KHQsdGhpcy50ZXh0LDAsMCx7Y29sb3I6dGhpcy5jb2xvci5jbG9uZSgpLGJhc2VBbGlnbjp0aGlzLmJhc2VBbGlnbix0ZXh0QWxpZ246dGhpcy50ZXh0QWxpZ24sZm9udFNpemU6dGhpcy5mb250U2l6ZSxsZXR0ZXJTcGFjaW5nOnRoaXMubGV0dGVyU3BhY2luZyxvcGFjaXR5OnRoaXMub3BhY2l0eX0pO2Vsc2V7dmFyIGU9dC50ZXh0QWxpZ24sbj10LnRleHRCYXNlbGluZTt0LnRleHRBbGlnbj10aGlzLl9sb29rdXBUZXh0QWxpZ24odGhpcy50ZXh0QWxpZ24pLHQudGV4dEJhc2VsaW5lPXRoaXMuX2xvb2t1cEJhc2VBbGlnbih0aGlzLmJhc2VBbGlnbiksdGhpcy5jb2xvciYmKHRoaXMuY29sb3IuYT10aGlzLm9wYWNpdHkpLHQuZmlsbFN0eWxlPXRoaXMuY29sb3IudG9TdHJpbmcoKSx0LmZvbnQ9dGhpcy5fZm9udFN0cmluZyx0aGlzLm1heFdpZHRoP3QuZmlsbFRleHQodGhpcy50ZXh0LDAsMCx0aGlzLm1heFdpZHRoKTp0LmZpbGxUZXh0KHRoaXMudGV4dCwwLDApLHQudGV4dEFsaWduPWUsdC50ZXh0QmFzZWxpbmU9bn19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9mb250U3RyaW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29rdXBGb250U3R5bGUodGhpcy5mb250U3R5bGUpK1wiIFwiK3RoaXMuZm9udFNpemUrdGhpcy5fbG9va3VwRm9udFVuaXQodGhpcy5mb250VW5pdCkrXCIgXCIrdGhpcy5mb250RmFtaWx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5kZWJ1Z0RyYXcuY2FsbCh0aGlzLGUpfSxlfShibikpKSxyaT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsbil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkoZSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxvaT17cG9zOlYuWmVybyx3aWR0aDoxMCxoZWlnaHQ6MTAsdmlzaWJsZTohMSxhY3Rpb246ZnVuY3Rpb24oKXt9LGZpbHRlcjpmdW5jdGlvbigpe3JldHVybiEwfSxyZXBlYXQ6LTF9LHNpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZS5wb3MueCxlLnBvcy55LGUud2lkdGgsZS5oZWlnaHQpfHx0aGlzO3JldHVybiBuLmFjdGlvbj1mdW5jdGlvbigpe30sbi5maWx0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbi5yZXBlYXQ9LTEsZT1nKHt9LG9pLGUpLG4uZmlsdGVyPWUuZmlsdGVyfHxuLmZpbHRlcixuLnJlcGVhdD1lLnJlcGVhdHx8bi5yZXBlYXQsbi5hY3Rpb249ZS5hY3Rpb258fG4uYWN0aW9uLGUudGFyZ2V0JiYobi50YXJnZXQ9ZS50YXJnZXQpLG4udmlzaWJsZT1lLnZpc2libGUsbi5ib2R5LmNvbGxpZGVyLnR5cGU9Y3QuUGFzc2l2ZSxuLmV2ZW50RGlzcGF0Y2hlcj1uZXcgdGUobiksbi5hY3Rpb25RdWV1ZT1uZXcgVWUobiksbi5vbihcImNvbGxpc2lvbnN0YXJ0XCIsKGZ1bmN0aW9uKHQpe21uKHQub3RoZXIpJiZuLmZpbHRlcih0Lm90aGVyKSYmKG4uZW1pdChcImVudGVyXCIsbmV3IEh0KG4sdC5vdGhlcikpLG4uX2Rpc3BhdGNoQWN0aW9uKCksMD09PW4ucmVwZWF0JiZuLmtpbGwoKSl9KSksbi5vbihcImNvbGxpc2lvbmVuZFwiLChmdW5jdGlvbih0KXttbih0Lm90aGVyKSYmbi5maWx0ZXIodC5vdGhlcikmJm4uZW1pdChcImV4aXRcIixuZXcgVXQobix0Lm90aGVyKSl9KSksbn1yZXR1cm4gcmkoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ0YXJnZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhcmdldH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RhcmdldD10LHRoaXMuZmlsdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2luaXRpYWxpemU9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuX2luaXRpYWxpemUuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hBY3Rpb249ZnVuY3Rpb24oKXt0aGlzLmFjdGlvbi5jYWxsKHRoaXMpLHRoaXMucmVwZWF0LS19LGUucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5kZWJ1Z0RyYXcuY2FsbCh0aGlzLGUpLGUuc2F2ZSgpLGUudHJhbnNsYXRlKHRoaXMucG9zLngsdGhpcy5wb3MueSk7dmFyIG49dGhpcy5ib2R5LmNvbGxpZGVyLmJvdW5kcyxpPXRoaXMuZ2V0V29ybGRQb3MoKTtuLmxlZnQ9bi5sZWZ0LWkueCxuLnJpZ2h0PW4ucmlnaHQtaS54LG4udG9wPW4udG9wLWkueSxuLmJvdHRvbT1uLmJvdHRvbS1pLnksZS5maWxsU3R5bGU9ZXQuVmlvbGV0LnRvU3RyaW5nKCksZS5zdHJva2VTdHlsZT1ldC5WaW9sZXQudG9TdHJpbmcoKSxlLmZpbGxUZXh0KFwiVHJpZ2dlclwiLDEwLDEwKSxuLmRlYnVnRHJhdyhlKSxlLnJlc3RvcmUoKX0sZX0oYm4pO2Z1bmN0aW9uIGFpKHQpe3JldHVybiB0IGluc3RhbmNlb2YgUG59dmFyIGNpLGhpPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubG9jYWxlQ29tcGFyZShlKX0pKS5qb2luKFwiK1wiKX07IWZ1bmN0aW9uKHQpe3QuVXBkYXRlPVwidXBkYXRlXCIsdC5EcmF3PVwiZHJhd1wifShjaXx8KGNpPXt9KSk7dmFyIHVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMucHJpb3JpdHk9MH1yZXR1cm4gdC5wcm90b3R5cGUubm90aWZ5PWZ1bmN0aW9uKHQpe30sdH0oKSxsaT1mdW5jdGlvbih0KXt0aGlzLmRhdGE9dCx0aGlzLnR5cGU9XCJFbnRpdHkgQWRkZWRcIn07ZnVuY3Rpb24gcGkodCl7cmV0dXJuISF0JiZcIkVudGl0eSBBZGRlZFwiPT09dC50eXBlfXZhciBkaT1mdW5jdGlvbih0KXt0aGlzLmRhdGE9dCx0aGlzLnR5cGU9XCJFbnRpdHkgUmVtb3ZlZFwifTtmdW5jdGlvbiBmaSh0KXtyZXR1cm4hIXQmJlwiRW50aXR5IFJlbW92ZWRcIj09PXQudHlwZX12YXIgeWksZ2k9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCksX2k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udHlwZXM9ZSxuLmVudGl0aWVzPVtdLG59cmV0dXJuIGdpKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwia2V5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBoaSh0aGlzLnR5cGVzKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5hZGRFbnRpdHk9ZnVuY3Rpb24odCl7IWguY29udGFpbnModGhpcy5lbnRpdGllcyx0KSYmdGhpcy5tYXRjaGVzKHQpJiYodGhpcy5lbnRpdGllcy5wdXNoKHQpLHRoaXMubm90aWZ5QWxsKG5ldyBsaSh0KSkpfSxlLnByb3RvdHlwZS5yZW1vdmVFbnRpdHk9ZnVuY3Rpb24odCl7aC5yZW1vdmVJdGVtRnJvbUFycmF5KHQsdGhpcy5lbnRpdGllcykmJnRoaXMubm90aWZ5QWxsKG5ldyBkaSh0KSl9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5lbnRpdGllcy5sZW5ndGg9MDtmb3IodmFyIHQ9MCxlPXRoaXMub2JzZXJ2ZXJzO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO3RoaXMudW5yZWdpc3RlcihuKX19LGUucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24odCl7dmFyIGU9W107ZT10IGluc3RhbmNlb2YgZ24/dC50eXBlczp0O2Zvcih2YXIgbj0hMCxpPTAscj10aGlzLnR5cGVzO2k8ci5sZW5ndGg7aSsrKXt2YXIgbz1yW2ldO2lmKCEobj1uJiZlLmluZGV4T2Yobyk+LTEpKXJldHVybiExfXJldHVybiBufSxlfSh1biksdmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuc2NlbmU9dCx0aGlzLl9xdWVyaWVzPXt9fXJldHVybiB0LnByb3RvdHlwZS5fYWRkUXVlcnk9ZnVuY3Rpb24odCl7dGhpcy5fcXVlcmllc1toaSh0LnR5cGVzKV09dDtmb3IodmFyIGU9MCxuPXRoaXMuc2NlbmUuZW50aXR5TWFuYWdlci5lbnRpdGllcztlPG4ubGVuZ3RoO2UrKyl7dmFyIGk9bltlXTt0LmFkZEVudGl0eShpKX19LHQucHJvdG90eXBlLm1heWJlUmVtb3ZlUXVlcnk9ZnVuY3Rpb24odCl7MD09PXQub2JzZXJ2ZXJzLmxlbmd0aCYmKHQuY2xlYXIoKSxkZWxldGUgdGhpcy5fcXVlcmllc1toaSh0LnR5cGVzKV0pfSx0LnByb3RvdHlwZS5hZGRFbnRpdHk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuX3F1ZXJpZXMpdGhpcy5fcXVlcmllc1tlXSYmdGhpcy5fcXVlcmllc1tlXS5hZGRFbnRpdHkodCl9LHQucHJvdG90eXBlLnJlbW92ZUNvbXBvbmVudD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiB0aGlzLl9xdWVyaWVzKXRoaXMuX3F1ZXJpZXNbbl0ubWF0Y2hlcyh0LnR5cGVzLmNvbmNhdChbZS50eXBlXSkpJiZ0aGlzLl9xdWVyaWVzW25dLnJlbW92ZUVudGl0eSh0KX0sdC5wcm90b3R5cGUucmVtb3ZlRW50aXR5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLl9xdWVyaWVzKXRoaXMuX3F1ZXJpZXNbZV0uZW50aXRpZXMuaW5kZXhPZih0KT4tMSYmdGhpcy5fcXVlcmllc1tlXS5yZW1vdmVFbnRpdHkodCl9LHQucHJvdG90eXBlLmNyZWF0ZVF1ZXJ5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UXVlcnkodCk7aWYoZSlyZXR1cm4gZTt2YXIgbj1uZXcgX2kodCk7cmV0dXJuIHRoaXMuX2FkZFF1ZXJ5KG4pLG59LHQucHJvdG90eXBlLmdldFF1ZXJ5PWZ1bmN0aW9uKHQpe3ZhciBlPWhpKHQpO3JldHVybiB0aGlzLl9xdWVyaWVzW2VdP3RoaXMuX3F1ZXJpZXNbZV06bnVsbH0sdH0oKSxtaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2NlbmU9dCx0aGlzLmVudGl0aWVzPVtdLHRoaXMuX2VudGl0eUluZGV4PXt9fXJldHVybiB0LnByb3RvdHlwZS5ub3RpZnk9ZnVuY3Rpb24odCl7ZG4odCkmJnRoaXMuX3NjZW5lLnF1ZXJ5TWFuYWdlci5hZGRFbnRpdHkodC5kYXRhLmVudGl0eSkseW4odCkmJnRoaXMuX3NjZW5lLnF1ZXJ5TWFuYWdlci5yZW1vdmVDb21wb25lbnQodC5kYXRhLmVudGl0eSx0LmRhdGEuY29tcG9uZW50KX0sdC5wcm90b3R5cGUuYWRkRW50aXR5PWZ1bmN0aW9uKHQpe3QmJih0aGlzLl9lbnRpdHlJbmRleFt0LmlkXT10LHRoaXMuZW50aXRpZXMucHVzaCh0KSx0aGlzLl9zY2VuZS5xdWVyeU1hbmFnZXIuYWRkRW50aXR5KHQpLHQuY2hhbmdlcy5yZWdpc3Rlcih0aGlzKSl9LHQucHJvdG90eXBlLnJlbW92ZUVudGl0eT1mdW5jdGlvbih0KXt2YXIgZT0wO2U9dCBpbnN0YW5jZW9mIGduP3QuaWQ6dDt2YXIgbj10aGlzLl9lbnRpdHlJbmRleFtlXTtkZWxldGUgdGhpcy5fZW50aXR5SW5kZXhbZV0sbiYmKGgucmVtb3ZlSXRlbUZyb21BcnJheShuLHRoaXMuZW50aXRpZXMpLHRoaXMuX3NjZW5lLnF1ZXJ5TWFuYWdlci5yZW1vdmVFbnRpdHkobiksbi5jaGFuZ2VzLnVucmVnaXN0ZXIodGhpcykpfSx0LnByb3RvdHlwZS5wcm9jZXNzUmVtb3ZhbHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuZW50aXRpZXM7dDxlLmxlbmd0aDt0Kyspe2VbdF0ucHJvY2Vzc1JlbW92YWwoKX19LHQucHJvdG90eXBlLmdldEJ5SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2VudGl0eUluZGV4W3RdfSx0fSgpLGJpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zY2VuZT10LHRoaXMuc3lzdGVtcz1bXX1yZXR1cm4gdC5wcm90b3R5cGUuYWRkU3lzdGVtPWZ1bmN0aW9uKHQpe2lmKCF0LnR5cGVzfHwwPT09dC50eXBlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGFkZCBhIFN5c3RlbSB3aXRob3V0IGFueSB0eXBlc1wiKTt2YXIgZT10aGlzLl9zY2VuZS5xdWVyeU1hbmFnZXIuY3JlYXRlUXVlcnkodC50eXBlcyk7dGhpcy5zeXN0ZW1zLnB1c2godCksdGhpcy5zeXN0ZW1zLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucHJpb3JpdHktZS5wcmlvcml0eX0pKSxlLnJlZ2lzdGVyKHQpfSx0LnByb3RvdHlwZS5yZW1vdmVTeXN0ZW09ZnVuY3Rpb24odCl7aC5yZW1vdmVJdGVtRnJvbUFycmF5KHQsdGhpcy5zeXN0ZW1zKTt2YXIgZT10aGlzLl9zY2VuZS5xdWVyeU1hbmFnZXIuZ2V0UXVlcnkodC50eXBlcyk7ZSYmKGUudW5yZWdpc3Rlcih0KSx0aGlzLl9zY2VuZS5xdWVyeU1hbmFnZXIubWF5YmVSZW1vdmVRdWVyeShlKSl9LHQucHJvdG90eXBlLnVwZGF0ZVN5c3RlbXM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLnN5c3RlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zeXN0ZW1UeXBlPT09dH0pKSxyPTAsbz1pO3I8by5sZW5ndGg7cisrKXsoYz1vW3JdKS5wcmV1cGRhdGUmJmMucHJldXBkYXRlKGUsbil9Zm9yKHZhciBzPTAsYT1pO3M8YS5sZW5ndGg7cysrKXt2YXIgYz1hW3NdLGg9dGhpcy5fc2NlbmUucXVlcnlNYW5hZ2VyLmdldFF1ZXJ5KGMudHlwZXMpLmVudGl0aWVzO2MudXBkYXRlKGgsbil9Zm9yKHZhciB1PTAsbD1pO3U8bC5sZW5ndGg7dSsrKXsoYz1sW3VdKS5wb3N0dXBkYXRlJiZjLnBvc3R1cGRhdGUoZSxuKX19LHR9KCksd2k9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkseGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uYWN0b3JzPVtdLG4ucXVlcnlNYW5hZ2VyPW5ldyB2aShuKSxuLmVudGl0eU1hbmFnZXI9bmV3IG1pKG4pLG4uc3lzdGVtTWFuYWdlcj1uZXcgYmkobiksbi5fYm9kaWVzPVtdLG4udHJpZ2dlcnM9W10sbi50aWxlTWFwcz1bXSxuLnNjcmVlbkVsZW1lbnRzPVtdLG4uX2lzSW5pdGlhbGl6ZWQ9ITEsbi5fc29ydGVkRHJhd2luZ1RyZWU9bmV3IFVuKGJuLnByb3RvdHlwZS5nZXRaSW5kZXgpLG4uX2Jyb2FkcGhhc2U9bmV3IEhuLG4uX2tpbGxRdWV1ZT1bXSxuLl90cmlnZ2VyS2lsbFF1ZXVlPVtdLG4uX3RpbWVycz1bXSxuLl9jYW5jZWxRdWV1ZT1bXSxuLl9sb2dnZXI9Ui5nZXRJbnN0YW5jZSgpLG4uY2FtZXJhPW5ldyBlaSxuLl9lbmdpbmU9ZSxlJiYobi5jYW1lcmEueD1lLmhhbGZEcmF3V2lkdGgsbi5jYW1lcmEueT1lLmhhbGZEcmF3SGVpZ2h0KSxufXJldHVybiB3aShlLHQpLGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsbil9LGUucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5vbmNlLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5vZmYuY2FsbCh0aGlzLGUsbil9LGUucHJvdG90eXBlLm9uSW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLm9uQWN0aXZhdGU9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLm9uRGVhY3RpdmF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUub25QcmVVcGRhdGU9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLm9uUG9zdFVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUub25QcmVEcmF3PWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5vblBvc3REcmF3PWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZUNoaWxkcmVuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLmFjdG9yczt0PGUubGVuZ3RoO3QrKyl7ZVt0XS5faW5pdGlhbGl6ZSh0aGlzLl9lbmdpbmUpfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNJbml0aWFsaXplZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNJbml0aWFsaXplZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt0aGlzLmlzSW5pdGlhbGl6ZWR8fCh0aGlzLl9lbmdpbmU9dCx0aGlzLmNhbWVyYSYmKHRoaXMuY2FtZXJhLng9dC5oYWxmRHJhd1dpZHRoLHRoaXMuY2FtZXJhLnk9dC5oYWxmRHJhd0hlaWdodCksdGhpcy5vbkluaXRpYWxpemUuY2FsbCh0aGlzLHQpLHRoaXMuX2luaXRpYWxpemVDaGlsZHJlbigpLHRoaXMuX2xvZ2dlci5kZWJ1ZyhcIlNjZW5lLm9uSW5pdGlhbGl6ZVwiLHRoaXMsdCksdGhpcy5ldmVudERpc3BhdGNoZXIuZW1pdChcImluaXRpYWxpemVcIixuZXcganQodCx0aGlzKSksdGhpcy5faXNJbml0aWFsaXplZD0hMCl9LGUucHJvdG90eXBlLl9hY3RpdmF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2xvZ2dlci5kZWJ1ZyhcIlNjZW5lLm9uQWN0aXZhdGVcIix0aGlzKSx0aGlzLm9uQWN0aXZhdGUodCxlKX0sZS5wcm90b3R5cGUuX2RlYWN0aXZhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLl9sb2dnZXIuZGVidWcoXCJTY2VuZS5vbkRlYWN0aXZhdGVcIix0aGlzKSx0aGlzLm9uRGVhY3RpdmF0ZSh0LGUpfSxlLnByb3RvdHlwZS5fcHJldXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicHJldXBkYXRlXCIsbmV3IG10KHQsZSx0aGlzKSksdGhpcy5vblByZVVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5fcG9zdHVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInBvc3R1cGRhdGVcIixuZXcgYnQodCxlLHRoaXMpKSx0aGlzLm9uUG9zdFVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5fcHJlZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInByZWRyYXdcIixuZXcgeXQodCxlLHRoaXMpKSx0aGlzLm9uUHJlRHJhdyh0LGUpfSxlLnByb3RvdHlwZS5fcG9zdGRyYXc9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXQoXCJwb3N0ZHJhd1wiLG5ldyBndCh0LGUsdGhpcykpLHRoaXMub25Qb3N0RHJhdyh0LGUpfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbixpO2Zvcih0aGlzLl9wcmV1cGRhdGUodCxlKSx0aGlzLnN5c3RlbU1hbmFnZXIudXBkYXRlU3lzdGVtcyhjaS5VcGRhdGUsdCxlKSx0aGlzLmVudGl0eU1hbmFnZXIucHJvY2Vzc1JlbW92YWxzKCksdGhpcy5jYW1lcmEmJnRoaXMuY2FtZXJhLnVwZGF0ZSh0LGUpLG49MCxpPXRoaXMuX2NhbmNlbFF1ZXVlLmxlbmd0aDtuPGk7bisrKXRoaXMucmVtb3ZlVGltZXIodGhpcy5fY2FuY2VsUXVldWVbbl0pO3RoaXMuX2NhbmNlbFF1ZXVlLmxlbmd0aD0wO2Zvcih2YXIgcj0wLG89dGhpcy5fdGltZXJzO3I8by5sZW5ndGg7cisrKXtvW3JdLnVwZGF0ZShlKX1mb3Iobj0wLGk9dGhpcy5zY3JlZW5FbGVtZW50cy5sZW5ndGg7bjxpO24rKyl0aGlzLnNjcmVlbkVsZW1lbnRzW25dLnVwZGF0ZSh0LGUpO2ZvcihuPTAsaT10aGlzLnRpbGVNYXBzLmxlbmd0aDtuPGk7bisrKXRoaXMudGlsZU1hcHNbbl0udXBkYXRlKHQsZSk7Zm9yKG49MCxpPXRoaXMuYWN0b3JzLmxlbmd0aDtuPGk7bisrKXRoaXMuYWN0b3JzW25dLnVwZGF0ZSh0LGUpLHRoaXMuX2JvZGllc1tuXT10aGlzLmFjdG9yc1tuXS5ib2R5O2ZvcihuPTAsaT10aGlzLnRyaWdnZXJzLmxlbmd0aDtuPGk7bisrKXRoaXMudHJpZ2dlcnNbbl0udXBkYXRlKHQsZSk7aWYodGhpcy5fY29sbGVjdEFjdG9yU3RhdHModCksdC5pbnB1dC5wb2ludGVycy5kaXNwYXRjaFBvaW50ZXJFdmVudHMoKSx0aGlzLl9icm9hZHBoYXNlJiZzdC5lbmFibGVkKXt2YXIgcz1EYXRlLm5vdygpO3RoaXMuX2Jyb2FkcGhhc2UudXBkYXRlKHRoaXMuX2JvZGllcyxlKTtmb3IodmFyIGE9dGhpcy5fYnJvYWRwaGFzZS5icm9hZHBoYXNlKHRoaXMuX2JvZGllcyxlLHQuc3RhdHMuY3VyckZyYW1lKSxjPURhdGUubm93KCksaD1EYXRlLm5vdygpLHU9c3QuY29sbGlzaW9uUGFzc2VzLGw9ZS91O3U+MDspYT10aGlzLl9icm9hZHBoYXNlLm5hcnJvd3BoYXNlKGEsdC5zdGF0cy5jdXJyRnJhbWUpLGE9dGhpcy5fYnJvYWRwaGFzZS5yZXNvbHZlKGEsbCxzdC5jb2xsaXNpb25SZXNvbHV0aW9uU3RyYXRlZ3kpLHRoaXMuX2Jyb2FkcGhhc2UucnVuQ29sbGlzaW9uU3RhcnRFbmQoYSksdS0tO3ZhciBwPURhdGUubm93KCk7dC5zdGF0cy5jdXJyRnJhbWUucGh5c2ljcy5icm9hZHBoYXNlPWMtcyx0LnN0YXRzLmN1cnJGcmFtZS5waHlzaWNzLm5hcnJvd3BoYXNlPXAtaH10LnN0YXRzLmN1cnJGcmFtZS5hY3RvcnMua2lsbGVkPXRoaXMuX2tpbGxRdWV1ZS5sZW5ndGgrdGhpcy5fdHJpZ2dlcktpbGxRdWV1ZS5sZW5ndGgsdGhpcy5fcHJvY2Vzc0tpbGxRdWV1ZSh0aGlzLl9raWxsUXVldWUsdGhpcy5hY3RvcnMpLHRoaXMuX3Byb2Nlc3NLaWxsUXVldWUodGhpcy5fdHJpZ2dlcktpbGxRdWV1ZSx0aGlzLnRyaWdnZXJzKSx0aGlzLl9wb3N0dXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLl9wcm9jZXNzS2lsbFF1ZXVlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLGk9MCxyPXQ7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV07by5pc0tpbGxlZCgpJiYobj1lLmluZGV4T2YobykpPi0xJiYodGhpcy5fc29ydGVkRHJhd2luZ1RyZWUucmVtb3ZlQnlDb21wYXJhYmxlKG8pLGUuc3BsaWNlKG4sMSkpfXQubGVuZ3RoPTB9LGUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlKXt2YXIgbixpO2Zvcih0aGlzLl9wcmVkcmF3KHQsZSksdC5zYXZlKCksdGhpcy5jYW1lcmEmJnRoaXMuY2FtZXJhLmRyYXcodCksdGhpcy5zeXN0ZW1NYW5hZ2VyLnVwZGF0ZVN5c3RlbXMoY2kuRHJhdyx0aGlzLl9lbmdpbmUsZSksdGhpcy5lbnRpdHlNYW5hZ2VyLnByb2Nlc3NSZW1vdmFscygpLG49MCxpPXRoaXMudGlsZU1hcHMubGVuZ3RoO248aTtuKyspdGhpcy50aWxlTWFwc1tuXS5kcmF3KHQsZSk7dmFyIHI9dGhpcy5fc29ydGVkRHJhd2luZ1RyZWUubGlzdCgpO2ZvcihuPTAsaT1yLmxlbmd0aDtuPGk7bisrKXJbbl0udmlzaWJsZSYmIXJbbl0uaXNPZmZTY3JlZW4mJnJbbl0uZHJhdyh0LGUpO2Zvcih0aGlzLl9lbmdpbmUmJnRoaXMuX2VuZ2luZS5pc0RlYnVnJiYodC5zdHJva2VTdHlsZT1cInllbGxvd1wiLHRoaXMuZGVidWdEcmF3KHQpKSx0LnJlc3RvcmUoKSxuPTAsaT10aGlzLnNjcmVlbkVsZW1lbnRzLmxlbmd0aDtuPGk7bisrKXRoaXMuc2NyZWVuRWxlbWVudHNbbl0udmlzaWJsZSYmdGhpcy5zY3JlZW5FbGVtZW50c1tuXS5kcmF3KHQsZSk7aWYodGhpcy5fZW5naW5lJiZ0aGlzLl9lbmdpbmUuaXNEZWJ1Zylmb3Iobj0wLGk9dGhpcy5zY3JlZW5FbGVtZW50cy5sZW5ndGg7bjxpO24rKyl0aGlzLnNjcmVlbkVsZW1lbnRzW25dLmRlYnVnRHJhdyh0KTt0aGlzLl9wb3N0ZHJhdyh0LGUpfSxlLnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7dmFyIGUsbjtmb3IodGhpcy5lbWl0KFwicHJlZGVidWdkcmF3XCIsbmV3IF90KHQsdGhpcykpLGU9MCxuPXRoaXMudGlsZU1hcHMubGVuZ3RoO2U8bjtlKyspdGhpcy50aWxlTWFwc1tlXS5kZWJ1Z0RyYXcodCk7Zm9yKGU9MCxuPXRoaXMuYWN0b3JzLmxlbmd0aDtlPG47ZSsrKXRoaXMuYWN0b3JzW2VdLmRlYnVnRHJhdyh0KTtmb3IoZT0wLG49dGhpcy50cmlnZ2Vycy5sZW5ndGg7ZTxuO2UrKyl0aGlzLnRyaWdnZXJzW2VdLmRlYnVnRHJhdyh0KTt0aGlzLl9icm9hZHBoYXNlLmRlYnVnRHJhdyh0LDIwKSx0aGlzLmNhbWVyYS5kZWJ1Z0RyYXcodCksdGhpcy5lbWl0KFwicG9zdGRlYnVnZHJhd1wiLG5ldyB2dCh0LHRoaXMpKX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWN0b3JzLmluZGV4T2YodCk+LTF9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgYm4mJnQudW5raWxsKCksdCBpbnN0YW5jZW9mIFBuP08odGhpcy5zY3JlZW5FbGVtZW50cyx0KXx8dGhpcy5hZGRTY3JlZW5FbGVtZW50KHQpOnQgaW5zdGFuY2VvZiBibj9PKHRoaXMuYWN0b3JzLHQpfHx0aGlzLl9hZGRDaGlsZCh0KTp0IGluc3RhbmNlb2YgRW4/Tyh0aGlzLl90aW1lcnMsdCl8fHRoaXMuYWRkVGltZXIodCk6dCBpbnN0YW5jZW9mIENuJiYoTyh0aGlzLnRpbGVNYXBzLHQpfHx0aGlzLmFkZFRpbGVNYXAodCkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIFBuP3RoaXMucmVtb3ZlU2NyZWVuRWxlbWVudCh0KToodCBpbnN0YW5jZW9mIGJuJiZ0aGlzLl9yZW1vdmVDaGlsZCh0KSx0IGluc3RhbmNlb2YgRW4mJnRoaXMucmVtb3ZlVGltZXIodCksdCBpbnN0YW5jZW9mIENuJiZ0aGlzLnJlbW92ZVRpbGVNYXAodCkpfSxlLnByb3RvdHlwZS5hZGRTY3JlZW5FbGVtZW50PWZ1bmN0aW9uKHQpe3RoaXMuc2NyZWVuRWxlbWVudHMucHVzaCh0KSx0LnNjZW5lPXRoaXN9LGUucHJvdG90eXBlLnJlbW92ZVNjcmVlbkVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zY3JlZW5FbGVtZW50cy5pbmRleE9mKHQpO2U+LTEmJnRoaXMuc2NyZWVuRWxlbWVudHMuc3BsaWNlKGUsMSl9LGUucHJvdG90eXBlLl9hZGRDaGlsZD1mdW5jdGlvbih0KXt0aGlzLl9icm9hZHBoYXNlLnRyYWNrKHQuYm9keSksdC5zY2VuZT10aGlzLHQgaW5zdGFuY2VvZiBzaT90aGlzLnRyaWdnZXJzLnB1c2godCk6dGhpcy5hY3RvcnMucHVzaCh0KSx0aGlzLl9zb3J0ZWREcmF3aW5nVHJlZS5hZGQodCl9LGUucHJvdG90eXBlLmFkZFRpbGVNYXA9ZnVuY3Rpb24odCl7dGhpcy50aWxlTWFwcy5wdXNoKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVUaWxlTWFwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudGlsZU1hcHMuaW5kZXhPZih0KTtlPi0xJiZ0aGlzLnRpbGVNYXBzLnNwbGljZShlLDEpfSxlLnByb3RvdHlwZS5fcmVtb3ZlQ2hpbGQ9ZnVuY3Rpb24odCl7Tyh0aGlzLmFjdG9ycyx0KSYmKHRoaXMuX2Jyb2FkcGhhc2UudW50cmFjayh0LmJvZHkpLHQgaW5zdGFuY2VvZiBzaT90aGlzLl90cmlnZ2VyS2lsbFF1ZXVlLnB1c2godCk6KHQuaXNLaWxsZWQoKXx8dC5raWxsKCksdGhpcy5fa2lsbFF1ZXVlLnB1c2godCkpLHQucGFyZW50PW51bGwpfSxlLnByb3RvdHlwZS5hZGRUaW1lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGltZXJzLnB1c2godCksdC5zY2VuZT10aGlzLHR9LGUucHJvdG90eXBlLnJlbW92ZVRpbWVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbWVycy5pbmRleE9mKHQpO3JldHVybi0xIT09ZSYmdGhpcy5fdGltZXJzLnNwbGljZShlLDEpLHR9LGUucHJvdG90eXBlLmNhbmNlbFRpbWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jYW5jZWxRdWV1ZS5wdXNoKHQpLHR9LGUucHJvdG90eXBlLmlzVGltZXJBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RpbWVycy5pbmRleE9mKHQpPi0xJiYhdC5jb21wbGV0ZX0sZS5wcm90b3R5cGUuY2xlYW51cERyYXdUcmVlPWZ1bmN0aW9uKHQpe3RoaXMuX3NvcnRlZERyYXdpbmdUcmVlLnJlbW92ZUJ5Q29tcGFyYWJsZSh0KX0sZS5wcm90b3R5cGUudXBkYXRlRHJhd1RyZWU9ZnVuY3Rpb24odCl7dGhpcy5fc29ydGVkRHJhd2luZ1RyZWUuYWRkKHQpfSxlLnByb3RvdHlwZS5pc0FjdG9ySW5EcmF3VHJlZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc29ydGVkRHJhd2luZ1RyZWUuZmluZCh0KX0sZS5wcm90b3R5cGUuaXNDdXJyZW50U2NlbmU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2VuZ2luZSYmdGhpcy5fZW5naW5lLmN1cnJlbnRTY2VuZT09PXRoaXN9LGUucHJvdG90eXBlLl9jb2xsZWN0QWN0b3JTdGF0cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuc2NyZWVuRWxlbWVudHM7ZTxuLmxlbmd0aDtlKyspe25bZV07dC5zdGF0cy5jdXJyRnJhbWUuYWN0b3JzLnVpKyt9Zm9yKHZhciBpPTAscj10aGlzLmFjdG9ycztpPHIubGVuZ3RoO2krKyl7dmFyIG89cltpXTt0LnN0YXRzLmN1cnJGcmFtZS5hY3RvcnMuYWxpdmUrKztmb3IodmFyIHM9MCxhPW8uY2hpbGRyZW47czxhLmxlbmd0aDtzKyspe2FpKGFbc10pP3Quc3RhdHMuY3VyckZyYW1lLmFjdG9ycy51aSsrOnQuc3RhdHMuY3VyckZyYW1lLmFjdG9ycy5hbGl2ZSsrfX19LGV9KGVlKTshZnVuY3Rpb24odCl7dFt0LlByb3Rhbm9wZT0wXT1cIlByb3Rhbm9wZVwiLHRbdC5EZXV0ZXJhbm9wZT0xXT1cIkRldXRlcmFub3BlXCIsdFt0LlRyaXRhbm9wZT0yXT1cIlRyaXRhbm9wZVwifSh5aXx8KHlpPXt9KSk7dmFyIFBpLEFpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPXlpLlByb3Rhbm9wZSksdGhpcy5lbmdpbmU9dCx0aGlzLnNpbXVsYXRlPWUsdGhpcy5jb2xvck1vZGU9bix0aGlzLl92ZXJ0ZXhTaGFkZXI9XCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4Q29vcmQ7dW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjt2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDt2b2lkIG1haW4oKSB7dmVjMiB6ZXJvVG9PbmUgPSBhX3Bvc2l0aW9uIC8gdV9yZXNvbHV0aW9uO3ZlYzIgemVyb1RvVHdvID0gemVyb1RvT25lICogMi4wO3ZlYzIgY2xpcFNwYWNlID0gemVyb1RvVHdvIC0gMS4wO2dsX1Bvc2l0aW9uID0gdmVjNChjbGlwU3BhY2UgKiB2ZWMyKDEsIC0xKSwgMCwgMSk7dl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7fVwiLHRoaXMuX2ZyYWdtZW50U2hhZGVyPVwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDt2b2lkIG1haW4oKSB7dmVjNCBvID0gIHRleHR1cmUyRCh1X2ltYWdlLCB2X3RleENvb3JkKTtmbG9hdCBMID0gKDE3Ljg4MjQgKiBvLnIpICsgKDQzLjUxNjEgKiBvLmcpICsgKDQuMTE5MzUgKiBvLmIpO2Zsb2F0IE0gPSAoMy40NTU2NSAqIG8ucikgKyAoMjcuMTU1NCAqIG8uZykgKyAoMy44NjcxNCAqIG8uYik7ZmxvYXQgUyA9ICgwLjAyOTk1NjYgKiBvLnIpICsgKDAuMTg0MzA5ICogby5nKSArICgxLjQ2NzA5ICogby5iKTsvL01PREUgQ09ERS8vdmVjNCBlcnJvcjtlcnJvci5yID0gKDAuMDgwOTQ0NDQ3OSAqIGwpICsgKC0wLjEzMDUwNDQwOSAqIG0pICsgKDAuMTE2NzIxMDY2ICogcyk7ZXJyb3IuZyA9ICgtMC4wMTAyNDg1MzM1ICogbCkgKyAoMC4wNTQwMTkzMjY2ICogbSkgKyAoLTAuMTEzNjE0NzA4ICogcyk7ZXJyb3IuYiA9ICgtMC4wMDAzNjUyOTY5MzggKiBsKSArICgtMC4wMDQxMjE2MTQ2OSAqIG0pICsgKDAuNjkzNTExNDA1ICogcyk7ZXJyb3IuYSA9IDEuMDt2ZWM0IGRpZmYgPSBvIC0gZXJyb3I7dmVjNCBjb3JyZWN0aW9uO2NvcnJlY3Rpb24uciA9IDAuMDtjb3JyZWN0aW9uLmcgPSAgKGRpZmYuciAqIDAuNykgKyAoZGlmZi5nICogMS4wKTtjb3JyZWN0aW9uLmIgPSAgKGRpZmYuciAqIDAuNykgKyAoZGlmZi5iICogMS4wKTtjb3JyZWN0aW9uID0gbyArIGNvcnJlY3Rpb247Y29ycmVjdGlvbi5hID0gby5hOy8vU0lNVUxBVEUvL31cIix0aGlzLl9pbnRlcm5hbENhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuX2ludGVybmFsQ2FudmFzLndpZHRoPXQuZHJhd1dpZHRoLHRoaXMuX2ludGVybmFsQ2FudmFzLmhlaWdodD10LmRyYXdIZWlnaHQsdGhpcy5fZ2w9dGhpcy5faW50ZXJuYWxDYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIse3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMH0pLHRoaXMuX3Byb2dyYW09dGhpcy5fZ2wuY3JlYXRlUHJvZ3JhbSgpO3ZhciBpPXRoaXMuX2dldFNoYWRlcihcIkZyYWdtZW50XCIsdGhpcy5fZ2V0RnJhZ21lbnRTaGFkZXJCeU1vZGUobikpLHI9dGhpcy5fZ2V0U2hhZGVyKFwiVmVydGV4XCIsdGhpcy5fdmVydGV4U2hhZGVyKTt0aGlzLl9nbC5hdHRhY2hTaGFkZXIodGhpcy5fcHJvZ3JhbSxyKSx0aGlzLl9nbC5hdHRhY2hTaGFkZXIodGhpcy5fcHJvZ3JhbSxpKSx0aGlzLl9nbC5saW5rUHJvZ3JhbSh0aGlzLl9wcm9ncmFtKSx0aGlzLl9nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMuX3Byb2dyYW0sdGhpcy5fZ2wuTElOS19TVEFUVVMpfHxSLmdldEluc3RhbmNlKCkuZXJyb3IoXCJVbmFibGUgdG8gbGluayBzaGFkZXIgcHJvZ3JhbSFcIiksdGhpcy5fZ2wudXNlUHJvZ3JhbSh0aGlzLl9wcm9ncmFtKX1yZXR1cm4gdC5wcm90b3R5cGUuX2dldEZyYWdtZW50U2hhZGVyQnlNb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7cmV0dXJuIHQ9PT15aS5Qcm90YW5vcGU/ZT1cImZsb2F0IGwgPSAwLjAgKiBMICsgMi4wMjM0NCAqIE0gKyAtMi41MjU4MSAqIFM7ZmxvYXQgbSA9IDAuMCAqIEwgKyAxLjAgKiBNICsgMC4wICogUztmbG9hdCBzID0gMC4wICogTCArIDAuMCAqIE0gKyAxLjAgKiBTO1wiOnQ9PT15aS5EZXV0ZXJhbm9wZT9lPVwiZmxvYXQgbCA9IDEuMCAqIEwgKyAwLjAgKiBNICsgMC4wICogUztmbG9hdCBtID0gMC40OTQyMDcgKiBMICsgMC4wICogTSArIDEuMjQ4MjcgKiBTO2Zsb2F0IHMgPSAwLjAgKiBMICsgMC4wICogTSArIDEuMCAqIFM7XCI6dD09PXlpLlRyaXRhbm9wZSYmKGU9XCJmbG9hdCBsID0gMS4wICogTCArIDAuMCAqIE0gKyAwLjAgKiBTO2Zsb2F0IG0gPSAwLjAgKiBMICsgMS4wICogTSArIDAuMCAqIFM7ZmxvYXQgcyA9IC0wLjM5NTkxMyAqIEwgKyAwLjgwMTEwOSAqIE0gKyAwLjAgKiBTO1wiKSx0aGlzLnNpbXVsYXRlP3RoaXMuX2ZyYWdtZW50U2hhZGVyPXRoaXMuX2ZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXCIvL1NJTVVMQVRFLy9cIixcImdsX0ZyYWdDb2xvciA9IGVycm9yLnJnYmE7XCIpOnRoaXMuX2ZyYWdtZW50U2hhZGVyPXRoaXMuX2ZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXCIvL1NJTVVMQVRFLy9cIixcImdsX0ZyYWdDb2xvciA9IGNvcnJlY3Rpb24ucmdiYTtcIiksdGhpcy5fZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcIi8vTU9ERSBDT0RFLy9cIixlKX0sdC5wcm90b3R5cGUuX3NldFJlY3RhbmdsZT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LG89dCtuLHM9ZSxhPWUraTt0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KFtyLHMsbyxzLHIsYSxyLGEsbyxzLG8sYV0pLHRoaXMuX2dsLlNUQVRJQ19EUkFXKX0sdC5wcm90b3R5cGUuX2dldFNoYWRlcj1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVyblwiRnJhZ21lbnRcIj09PXQ/bj10aGlzLl9nbC5jcmVhdGVTaGFkZXIodGhpcy5fZ2wuRlJBR01FTlRfU0hBREVSKTpcIlZlcnRleFwiPT09dD9uPXRoaXMuX2dsLmNyZWF0ZVNoYWRlcih0aGlzLl9nbC5WRVJURVhfU0hBREVSKTpSLmdldEluc3RhbmNlKCkuZXJyb3IoXCJFcnJvciB1bmtub3duIHNoYWRlciB0eXBlXCIsdCksdGhpcy5fZ2wuc2hhZGVyU291cmNlKG4sZSksdGhpcy5fZ2wuY29tcGlsZVNoYWRlcihuKSx0aGlzLl9nbC5nZXRTaGFkZXJQYXJhbWV0ZXIobix0aGlzLl9nbC5DT01QSUxFX1NUQVRVUyk/bjooUi5nZXRJbnN0YW5jZSgpLmVycm9yKFwiVW5hYmxlIHRvIGNvbXBpbGUgc2hhZGVyIVwiLHRoaXMuX2dsLmdldFNoYWRlckluZm9Mb2cobikpLG51bGwpfSx0LnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5fcHJvZ3JhbSxcImFfcG9zaXRpb25cIiksaT10aGlzLl9nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLl9wcm9ncmFtLFwiYV90ZXhDb29yZFwiKSxyPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO3RoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHIpLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoWzAsMCwxLDAsMCwxLDAsMSwxLDAsMSwxXSksdGhpcy5fZ2wuU1RBVElDX0RSQVcpLHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpLHRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIoaSwyLHRoaXMuX2dsLkZMT0FULCExLDAsMCk7dmFyIG89dGhpcy5fZ2wuY3JlYXRlVGV4dHVyZSgpO3RoaXMuX2dsLmJpbmRUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkVfMkQsbyksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nbC5DTEFNUF9UT19FREdFKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuX2dsLk5FQVJFU1QpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fZ2wuTkVBUkVTVCksdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwxKSx0aGlzLl9nbC50ZXhJbWFnZTJEKHRoaXMuX2dsLlRFWFRVUkVfMkQsMCx0aGlzLl9nbC5SR0JBLHRoaXMuX2dsLlJHQkEsdGhpcy5fZ2wuVU5TSUdORURfQllURSx0KTt2YXIgcz10aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5fcHJvZ3JhbSxcInVfcmVzb2x1dGlvblwiKTt0aGlzLl9nbC51bmlmb3JtMmYocyx0aGlzLl9pbnRlcm5hbENhbnZhcy53aWR0aCx0aGlzLl9pbnRlcm5hbENhbnZhcy5oZWlnaHQpO3ZhciBhPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO3RoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLGEpLHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4pLHRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIobiwyLHRoaXMuX2dsLkZMT0FULCExLDAsMCksdGhpcy5fc2V0UmVjdGFuZ2xlKDAsMCx0LndpZHRoLHQuaGVpZ2h0KSx0aGlzLl9nbC5kcmF3QXJyYXlzKHRoaXMuX2dsLlRSSUFOR0xFUywwLDYpO3ZhciBjPW5ldyBVaW50OEFycmF5KHQud2lkdGgqdC5oZWlnaHQqNCk7dGhpcy5fZ2wucmVhZFBpeGVscygwLDAsdC53aWR0aCx0LmhlaWdodCx0aGlzLl9nbC5SR0JBLHRoaXMuX2dsLlVOU0lHTkVEX0JZVEUsYyksdC5kYXRhLnNldChjKSxlLnB1dEltYWdlRGF0YSh0LDAsMCl9LHR9KCksRWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2VuZ2luZT10fXJldHVybiB0LnByb3RvdHlwZS5jb3JyZWN0PWZ1bmN0aW9uKHQpe3RoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc29ycy5wdXNoKG5ldyBBaSh0aGlzLl9lbmdpbmUsITEsdCkpfSx0LnByb3RvdHlwZS5zaW11bGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3NvcnMucHVzaChuZXcgQWkodGhpcy5fZW5naW5lLCEwLHQpKX0sdH0oKSxTaT1mdW5jdGlvbih0KXt0aGlzLnN0YXRzPXtjdXJyRnJhbWU6bmV3IENpLHByZXZGcmFtZTpuZXcgQ2l9LHRoaXMuX2VuZ2luZT10LHRoaXMuY29sb3JCbGluZE1vZGU9bmV3IEVpKHRoaXMuX2VuZ2luZSl9LENpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2lkPTAsdGhpcy5fZGVsdGE9MCx0aGlzLl9mcHM9MCx0aGlzLl9hY3RvclN0YXRzPXthbGl2ZTowLGtpbGxlZDowLHVpOjAsZ2V0IHJlbWFpbmluZygpe3JldHVybiB0aGlzLmFsaXZlLXRoaXMua2lsbGVkfSxnZXQgdG90YWwoKXtyZXR1cm4gdGhpcy5yZW1haW5pbmcrdGhpcy51aX19LHRoaXMuX2R1cmF0aW9uU3RhdHM9e3VwZGF0ZTowLGRyYXc6MCxnZXQgdG90YWwoKXtyZXR1cm4gdGhpcy51cGRhdGUrdGhpcy5kcmF3fX0sdGhpcy5fcGh5c2ljc1N0YXRzPW5ldyBPaX1yZXR1cm4gdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCl7dD8odGhpcy5pZD10LmlkLHRoaXMuZGVsdGE9dC5kZWx0YSx0aGlzLmZwcz10LmZwcyx0aGlzLmFjdG9ycy5hbGl2ZT10LmFjdG9ycy5hbGl2ZSx0aGlzLmFjdG9ycy5raWxsZWQ9dC5hY3RvcnMua2lsbGVkLHRoaXMuYWN0b3JzLnVpPXQuYWN0b3JzLnVpLHRoaXMuZHVyYXRpb24udXBkYXRlPXQuZHVyYXRpb24udXBkYXRlLHRoaXMuZHVyYXRpb24uZHJhdz10LmR1cmF0aW9uLmRyYXcsdGhpcy5fcGh5c2ljc1N0YXRzLnJlc2V0KHQucGh5c2ljcykpOih0aGlzLmlkPXRoaXMuZGVsdGE9dGhpcy5mcHM9MCx0aGlzLmFjdG9ycy5hbGl2ZT10aGlzLmFjdG9ycy5raWxsZWQ9dGhpcy5hY3RvcnMudWk9MCx0aGlzLmR1cmF0aW9uLnVwZGF0ZT10aGlzLmR1cmF0aW9uLmRyYXc9MCx0aGlzLl9waHlzaWNzU3RhdHMucmVzZXQoKSl9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQ7cmV0dXJuIGUucmVzZXQodGhpcyksZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkZWx0YVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsdGF9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kZWx0YT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImZwc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnBzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZnBzPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYWN0b3JzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RvclN0YXRzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImR1cmF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kdXJhdGlvblN0YXRzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBoeXNpY3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BoeXNpY3NTdGF0c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0fSgpLE9pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX3BhaXJzPTAsdGhpcy5fY29sbGlzaW9ucz0wLHRoaXMuX2NvbGxpZGVyc0hhc2g9e30sdGhpcy5fZmFzdEJvZGllcz0wLHRoaXMuX2Zhc3RCb2R5Q29sbGlzaW9ucz0wLHRoaXMuX2Jyb2FkcGhhc2U9MCx0aGlzLl9uYXJyb3dwaGFzZT0wfXJldHVybiB0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXt0Pyh0aGlzLnBhaXJzPXQucGFpcnMsdGhpcy5jb2xsaXNpb25zPXQuY29sbGlzaW9ucyx0aGlzLmNvbGxpZGVyc0hhc2g9dC5jb2xsaWRlcnNIYXNoLHRoaXMuZmFzdEJvZGllcz10LmZhc3RCb2RpZXMsdGhpcy5mYXN0Qm9keUNvbGxpc2lvbnM9dC5mYXN0Qm9keUNvbGxpc2lvbnMsdGhpcy5icm9hZHBoYXNlPXQuYnJvYWRwaGFzZSx0aGlzLm5hcnJvd3BoYXNlPXQubmFycm93cGhhc2UpOih0aGlzLnBhaXJzPXRoaXMuY29sbGlzaW9ucz10aGlzLmZhc3RCb2RpZXM9MCx0aGlzLmZhc3RCb2R5Q29sbGlzaW9ucz10aGlzLmJyb2FkcGhhc2U9dGhpcy5uYXJyb3dwaGFzZT0wLHRoaXMuY29sbGlkZXJzSGFzaD17fSl9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQ7cmV0dXJuIGUucmVzZXQodGhpcyksZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGFpcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhaXJzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcGFpcnM9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb2xsaXNpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xsaXNpb25zfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY29sbGlzaW9ucz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNvbGxpZGVyc0hhc2hcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbGxpZGVyc0hhc2h9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9jb2xsaWRlcnNIYXNoPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZmFzdEJvZGllc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFzdEJvZGllc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Zhc3RCb2RpZXM9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJmYXN0Qm9keUNvbGxpc2lvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zhc3RCb2R5Q29sbGlzaW9uc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Zhc3RCb2R5Q29sbGlzaW9ucz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJyb2FkcGhhc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Jyb2FkcGhhc2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9icm9hZHBoYXNlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmFycm93cGhhc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hcnJvd3BoYXNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbmFycm93cGhhc2U9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0fSgpLFRpPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KShlLG4pfTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxuKSxlLnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpOyFmdW5jdGlvbih0KXt0W3QuTnVtMT05N109XCJOdW0xXCIsdFt0Lk51bTI9OThdPVwiTnVtMlwiLHRbdC5OdW0zPTk5XT1cIk51bTNcIix0W3QuTnVtND0xMDBdPVwiTnVtNFwiLHRbdC5OdW01PTEwMV09XCJOdW01XCIsdFt0Lk51bTY9MTAyXT1cIk51bTZcIix0W3QuTnVtNz0xMDNdPVwiTnVtN1wiLHRbdC5OdW04PTEwNF09XCJOdW04XCIsdFt0Lk51bTk9MTA1XT1cIk51bTlcIix0W3QuTnVtMD05Nl09XCJOdW0wXCIsdFt0Lk51bWxvY2s9MTQ0XT1cIk51bWxvY2tcIix0W3QuU2VtaWNvbG9uPTE4Nl09XCJTZW1pY29sb25cIix0W3QuQT02NV09XCJBXCIsdFt0LkI9NjZdPVwiQlwiLHRbdC5DPTY3XT1cIkNcIix0W3QuRD02OF09XCJEXCIsdFt0LkU9NjldPVwiRVwiLHRbdC5GPTcwXT1cIkZcIix0W3QuRz03MV09XCJHXCIsdFt0Lkg9NzJdPVwiSFwiLHRbdC5JPTczXT1cIklcIix0W3QuSj03NF09XCJKXCIsdFt0Lks9NzVdPVwiS1wiLHRbdC5MPTc2XT1cIkxcIix0W3QuTT03N109XCJNXCIsdFt0Lk49NzhdPVwiTlwiLHRbdC5PPTc5XT1cIk9cIix0W3QuUD04MF09XCJQXCIsdFt0LlE9ODFdPVwiUVwiLHRbdC5SPTgyXT1cIlJcIix0W3QuUz04M109XCJTXCIsdFt0LlQ9ODRdPVwiVFwiLHRbdC5VPTg1XT1cIlVcIix0W3QuVj04Nl09XCJWXCIsdFt0Llc9ODddPVwiV1wiLHRbdC5YPTg4XT1cIlhcIix0W3QuWT04OV09XCJZXCIsdFt0Llo9OTBdPVwiWlwiLHRbdC5TaGlmdD0xNl09XCJTaGlmdFwiLHRbdC5BbHQ9MThdPVwiQWx0XCIsdFt0LlVwPTM4XT1cIlVwXCIsdFt0LkRvd249NDBdPVwiRG93blwiLHRbdC5MZWZ0PTM3XT1cIkxlZnRcIix0W3QuUmlnaHQ9MzldPVwiUmlnaHRcIix0W3QuU3BhY2U9MzJdPVwiU3BhY2VcIix0W3QuRXNjPTI3XT1cIkVzY1wifShQaXx8KFBpPXt9KSk7dmFyIEJpLE1pLERpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmtleT1lLG59cmV0dXJuIFRpKGUsdCksZX0oaHQpLGtpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGUuX2tleXM9W10sZS5fa2V5c1VwPVtdLGUuX2tleXNEb3duPVtdLGV9cmV0dXJuIFRpKGUsdCksZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCF0KXRyeXt2YXIgbj1mdW5jdGlvbigpe307d2luZG93LnRvcC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLG4pLHdpbmRvdy50b3AucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIixuKSx0PXdpbmRvdy50b3B9Y2F0Y2goZSl7dD13aW5kb3csUi5nZXRJbnN0YW5jZSgpLndhcm4oXCJGYWlsZWQgdG8gYmluZCB0byBrZXlib2FyZCBldmVudHMgdG8gdG9wIGZyYW1lLiBJZiB5b3UgYXJlIHRyeWluZyB0byBlbWJlZCBFeGNhbGlidXIgaW4gYSBjcm9zcy1vcmlnaW4gaWZyYW1lLCBrZXlib2FyZCBldmVudHMgd2lsbCBub3QgZmlyZS5cIil9dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLChmdW5jdGlvbigpe2UuX2tleXMubGVuZ3RoPTB9KSksdC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwoZnVuY3Rpb24odCl7dmFyIG49ZS5fbm9ybWFsaXplS2V5Q29kZSh0LmtleUNvZGUpLGk9ZS5fa2V5cy5pbmRleE9mKG4pO2UuX2tleXMuc3BsaWNlKGksMSksZS5fa2V5c1VwLnB1c2gobik7dmFyIHI9bmV3IERpKG4pO2UuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJ1cFwiLHIpLGUuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJyZWxlYXNlXCIscil9KSksdC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLChmdW5jdGlvbih0KXt2YXIgbj1lLl9ub3JtYWxpemVLZXlDb2RlKHQua2V5Q29kZSk7aWYoLTE9PT1lLl9rZXlzLmluZGV4T2Yobikpe2UuX2tleXMucHVzaChuKSxlLl9rZXlzRG93bi5wdXNoKG4pO3ZhciBpPW5ldyBEaShuKTtlLmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwiZG93blwiLGkpLGUuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJwcmVzc1wiLGkpfX0pKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fa2V5c0Rvd24ubGVuZ3RoPTAsdGhpcy5fa2V5c1VwLmxlbmd0aD0wO2Zvcih2YXIgdD0wO3Q8dGhpcy5fa2V5cy5sZW5ndGg7dCsrKXRoaXMuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJob2xkXCIsbmV3IERpKHRoaXMuX2tleXNbdF0pKX0sZS5wcm90b3R5cGUuZ2V0S2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXlzfSxlLnByb3RvdHlwZS53YXNQcmVzc2VkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9rZXlzRG93bi5pbmRleE9mKHQpPi0xfSxlLnByb3RvdHlwZS5pc0hlbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2tleXMuaW5kZXhPZih0KT4tMX0sZS5wcm90b3R5cGUud2FzUmVsZWFzZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2tleXNVcC5pbmRleE9mKHQpPi0xfSxlLnByb3RvdHlwZS5fbm9ybWFsaXplS2V5Q29kZT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSA1OTpyZXR1cm4gUGkuU2VtaWNvbG9uO2RlZmF1bHQ6cmV0dXJuIHR9fSxlfShlZSksUmk9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCksamk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTAsbj1hcmd1bWVudHMubGVuZ3RoO2U8bjtlKyspdCs9YXJndW1lbnRzW2VdLmxlbmd0aDt2YXIgaT1BcnJheSh0KSxyPTA7Zm9yKGU9MDtlPG47ZSsrKWZvcih2YXIgbz1hcmd1bWVudHNbZV0scz0wLGE9by5sZW5ndGg7czxhO3MrKyxyKyspaVtyXT1vW3NdO3JldHVybiBpfTshZnVuY3Rpb24odCl7dC5Ub3VjaD1cIlRvdWNoXCIsdC5Nb3VzZT1cIk1vdXNlXCIsdC5QZW49XCJQZW5cIix0LlVua25vd249XCJVbmtub3duXCJ9KEJpfHwoQmk9e30pKSxmdW5jdGlvbih0KXt0LkNhbnZhcz1cIkNhbnZhc1wiLHQuRG9jdW1lbnQ9XCJEb2N1bWVudFwifShNaXx8KE1pPXt9KSk7dmFyIEZpLElpLExpLHppPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uaWQ9ZS5fTUFYX0lEKyssbi5faXNEb3duPSExLG4uX3dhc0Rvd249ITEsbi5fYWN0b3JzVW5kZXJQb2ludGVyPXtsZW5ndGg6MH0sbi5fYWN0b3JzPVtdLG4uX2FjdG9yc0xhc3RGcmFtZT1bXSxuLl9hY3RvcnNOb0xvbmdlclVuZGVyUG9pbnRlcj1bXSxuLmxhc3RQYWdlUG9zPW51bGwsbi5sYXN0U2NyZWVuUG9zPW51bGwsbi5sYXN0V29ybGRQb3M9bnVsbCxuLmRyYWdUYXJnZXQ9bnVsbCxuLm9uKFwibW92ZVwiLG4uX29uUG9pbnRlck1vdmUpLG4ub24oXCJkb3duXCIsbi5fb25Qb2ludGVyRG93biksbi5vbihcInVwXCIsbi5fb25Qb2ludGVyVXApLG59cmV0dXJuIFJpKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNEcmFnZ2luZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEb3dufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzRHJhZ1N0YXJ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLl93YXNEb3duJiZ0aGlzLl9pc0Rvd259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNEcmFnRW5kXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93YXNEb3duJiYhdGhpcy5faXNEb3dufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhhc0FjdG9yc1VuZGVyUG9pbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2FjdG9yc1VuZGVyUG9pbnRlci5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLm9uY2UuY2FsbCh0aGlzLGUsbil9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLm9mZi5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fd2FzRG93biYmIXRoaXMuX2lzRG93bj90aGlzLl93YXNEb3duPSExOiF0aGlzLl93YXNEb3duJiZ0aGlzLl9pc0Rvd24mJih0aGlzLl93YXNEb3duPSEwKSx0aGlzLl9hY3RvcnNMYXN0RnJhbWU9amkodGhpcy5fYWN0b3JzKSx0aGlzLl9hY3RvcnNOb0xvbmdlclVuZGVyUG9pbnRlcj1bXX0sZS5wcm90b3R5cGUuYWRkQWN0b3JVbmRlclBvaW50ZXI9ZnVuY3Rpb24odCl7dGhpcy5pc0FjdG9yQWxpdmVVbmRlclBvaW50ZXIodCl8fCh0aGlzLl9hY3RvcnNVbmRlclBvaW50ZXJbdC5pZF09dCx0aGlzLl9hY3RvcnNVbmRlclBvaW50ZXIubGVuZ3RoKz0xLHRoaXMuX2FjdG9ycy5wdXNoKHQpKSx0aGlzLl9hY3RvcnMuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC56PT09ZS56P3QuaWQtZS5pZDp0LnotZS56fSkpfSxlLnByb3RvdHlwZS5yZW1vdmVBY3RvclVuZGVyUG9pbnRlcj1mdW5jdGlvbih0KXt0aGlzLmlzQWN0b3JBbGl2ZVVuZGVyUG9pbnRlcih0KSYmKGRlbGV0ZSB0aGlzLl9hY3RvcnNVbmRlclBvaW50ZXJbdC5pZF0sdGhpcy5fYWN0b3JzVW5kZXJQb2ludGVyLmxlbmd0aC09MSxDKHQsdGhpcy5fYWN0b3JzKSx0aGlzLl9hY3RvcnNOb0xvbmdlclVuZGVyUG9pbnRlci5wdXNoKHQpKX0sZS5wcm90b3R5cGUuZ2V0QWN0b3JzVW5kZXJQb2ludGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdG9yc30sZS5wcm90b3R5cGUuZ2V0QWN0b3JzVW5kZXJQb2ludGVyTGFzdEZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdG9yc0xhc3RGcmFtZX0sZS5wcm90b3R5cGUuZ2V0QWN0b3JzRm9yRXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdG9ycy5jb25jYXQodGhpcy5fYWN0b3JzTGFzdEZyYW1lKS5maWx0ZXIoKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5pbmRleE9mKHQpPT09ZX0pKX0sZS5wcm90b3R5cGUuY2hlY2tBY3RvclVuZGVyUG9pbnRlcj1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMubGFzdFdvcmxkUG9zJiZ0LmNvbnRhaW5zKHRoaXMubGFzdFdvcmxkUG9zLngsdGhpcy5sYXN0V29ybGRQb3MueSwhYWkodCkpfSxlLnByb3RvdHlwZS53YXNBY3RvclVuZGVyUG9pbnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWN0b3JzTGFzdEZyYW1lLmluZGV4T2YodCk+LTF9LGUucHJvdG90eXBlLmlzQWN0b3JBbGl2ZVVuZGVyUG9pbnRlcj1mdW5jdGlvbih0KXtyZXR1cm4hKHQuaXNLaWxsZWQoKXx8IXQuc2NlbmV8fCF0aGlzLl9hY3RvcnNVbmRlclBvaW50ZXIuaGFzT3duUHJvcGVydHkodC5pZC50b1N0cmluZygpKSl9LGUucHJvdG90eXBlLl9vblBvaW50ZXJNb3ZlPWZ1bmN0aW9uKHQpe3RoaXMubGFzdFBhZ2VQb3M9bmV3IFYodC5wYWdlUG9zLngsdC5wYWdlUG9zLnkpLHRoaXMubGFzdFNjcmVlblBvcz1uZXcgVih0LnNjcmVlblBvcy54LHQuc2NyZWVuUG9zLnkpLHRoaXMubGFzdFdvcmxkUG9zPW5ldyBWKHQud29ybGRQb3MueCx0LndvcmxkUG9zLnkpfSxlLnByb3RvdHlwZS5fb25Qb2ludGVyRG93bj1mdW5jdGlvbih0KXt0aGlzLmxhc3RQYWdlUG9zPW5ldyBWKHQucGFnZVBvcy54LHQucGFnZVBvcy55KSx0aGlzLmxhc3RTY3JlZW5Qb3M9bmV3IFYodC5zY3JlZW5Qb3MueCx0LnNjcmVlblBvcy55KSx0aGlzLmxhc3RXb3JsZFBvcz1uZXcgVih0LndvcmxkUG9zLngsdC53b3JsZFBvcy55KSx0aGlzLl9pc0Rvd249ITB9LGUucHJvdG90eXBlLl9vblBvaW50ZXJVcD1mdW5jdGlvbih0KXt0aGlzLl9pc0Rvd249ITEsdGhpcy5kcmFnVGFyZ2V0PW51bGx9LGUuX01BWF9JRD0wLGV9KGVlKSxIaT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsbil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkoZSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKTshZnVuY3Rpb24odCl7dFt0Lk5vQnV0dG9uPS0xXT1cIk5vQnV0dG9uXCIsdFt0LkxlZnQ9MF09XCJMZWZ0XCIsdFt0Lk1pZGRsZT0xXT1cIk1pZGRsZVwiLHRbdC5SaWdodD0yXT1cIlJpZ2h0XCIsdFt0LlVua25vd249M109XCJVbmtub3duXCJ9KEZpfHwoRmk9e30pKSxmdW5jdGlvbih0KXt0LkxlZnQ9XCJMZWZ0XCIsdC5NaWRkbGU9XCJNaWRkbGVcIix0LlJpZ2h0PVwiUmlnaHRcIix0LlVua25vd249XCJVbmtub3duXCIsdC5Ob0J1dHRvbj1cIk5vQnV0dG9uXCJ9KElpfHwoSWk9e30pKSxmdW5jdGlvbih0KXt0LlBpeGVsPVwiUGl4ZWxcIix0LkxpbmU9XCJMaW5lXCIsdC5QYWdlPVwiUGFnZVwifShMaXx8KExpPXt9KSk7dmFyIFVpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvLHMpe3ZhciBhPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gYS5jb29yZGluYXRlcz1lLGEucG9pbnRlcj1uLGEuaW5kZXg9aSxhLnBvaW50ZXJUeXBlPXIsYS5idXR0b249byxhLmV2PXMsYX1yZXR1cm4gSGkoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIndvcmxkUG9zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVzLndvcmxkUG9zLmNsb25lKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGFnZVBvc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlcy5wYWdlUG9zLmNsb25lKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2NyZWVuUG9zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVzLnNjcmVlblBvcy5jbG9uZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBvc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlcy53b3JsZFBvcy5jbG9uZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnByb3BhZ2F0ZT1mdW5jdGlvbih0KXt0aGlzLmRvQWN0aW9uKHQpLHRoaXMuYnViYmxlcyYmdC5wYXJlbnQmJnRoaXMucHJvcGFnYXRlKHQucGFyZW50KX0sZS5wcm90b3R5cGUuZG9BY3Rpb249ZnVuY3Rpb24odCl7dCYmKHRoaXMuX29uQWN0aW9uU3RhcnQodCksdC5lbWl0KHRoaXMuX25hbWUsdGhpcyksdGhpcy5fb25BY3Rpb25FbmQodCkpfSxlLnByb3RvdHlwZS5fb25BY3Rpb25TdGFydD1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9vbkFjdGlvbkVuZD1mdW5jdGlvbih0KXt9LGV9KGh0KSxXaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcG9pbnRlckV2ZW50VHlwZT10fXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3JldHVybiBuZXcgdGhpcy5fcG9pbnRlckV2ZW50VHlwZSh0LGUsbixpLHIsbyl9LHR9KCksTmk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIEhpKGUsdCksZX0oVWkpLHFpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX25hbWU9XCJwb2ludGVydXBcIixlfXJldHVybiBIaShlLHQpLGUucHJvdG90eXBlLl9vbkFjdGlvbkVuZD1mdW5jdGlvbih0KXt0aGlzLnBvaW50ZXIuaXNEcmFnRW5kJiZ0LmNhcHR1cmVQb2ludGVyLmNhcHR1cmVEcmFnRXZlbnRzJiZ0LmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwicG9pbnRlcmRyYWdlbmRcIix0aGlzKX0sZX0oVWkpLFZpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX25hbWU9XCJwb2ludGVyZG93blwiLGV9cmV0dXJuIEhpKGUsdCksZS5wcm90b3R5cGUuX29uQWN0aW9uRW5kPWZ1bmN0aW9uKHQpe3RoaXMucG9pbnRlci5pc0RyYWdTdGFydCYmdC5jYXB0dXJlUG9pbnRlci5jYXB0dXJlRHJhZ0V2ZW50cyYmdC5ldmVudERpc3BhdGNoZXIuZW1pdChcInBvaW50ZXJkcmFnc3RhcnRcIix0aGlzKX0sZX0oVWkpLEdpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX25hbWU9XCJwb2ludGVybW92ZVwiLGV9cmV0dXJuIEhpKGUsdCksZS5wcm90b3R5cGUucHJvcGFnYXRlPWZ1bmN0aW9uKHQpe3RoaXMucG9pbnRlci5pc0FjdG9yQWxpdmVVbmRlclBvaW50ZXIodCkmJih0aGlzLmRvQWN0aW9uKHQpLHRoaXMuYnViYmxlcyYmdC5wYXJlbnQmJnRoaXMucHJvcGFnYXRlKHQucGFyZW50KSl9LGUucHJvdG90eXBlLl9vbkFjdGlvblN0YXJ0PWZ1bmN0aW9uKHQpe3QuY2FwdHVyZVBvaW50ZXIuY2FwdHVyZU1vdmVFdmVudHMmJnRoaXMucG9pbnRlci5pc0RyYWdnaW5nJiZ0LmNhcHR1cmVQb2ludGVyLmNhcHR1cmVEcmFnRXZlbnRzJiZ0LmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwicG9pbnRlcmRyYWdtb3ZlXCIsdGhpcyl9LGV9KFVpKSxYaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9uYW1lPVwicG9pbnRlcmVudGVyXCIsZX1yZXR1cm4gSGkoZSx0KSxlLnByb3RvdHlwZS5fb25BY3Rpb25TdGFydD1mdW5jdGlvbih0KXt0LmNhcHR1cmVQb2ludGVyLmNhcHR1cmVNb3ZlRXZlbnRzfSxlLnByb3RvdHlwZS5fb25BY3Rpb25FbmQ9ZnVuY3Rpb24odCl7dGhpcy5wb2ludGVyLmlzRHJhZ2dpbmcmJnQuY2FwdHVyZVBvaW50ZXIuY2FwdHVyZURyYWdFdmVudHMmJnQuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJwb2ludGVyZHJhZ2VudGVyXCIsdGhpcyl9LGV9KFVpKSxRaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9uYW1lPVwicG9pbnRlcmxlYXZlXCIsZX1yZXR1cm4gSGkoZSx0KSxlLnByb3RvdHlwZS5fb25BY3Rpb25TdGFydD1mdW5jdGlvbih0KXt0LmNhcHR1cmVQb2ludGVyLmNhcHR1cmVNb3ZlRXZlbnRzfSxlLnByb3RvdHlwZS5fb25BY3Rpb25FbmQ9ZnVuY3Rpb24odCl7dGhpcy5wb2ludGVyLmlzRHJhZ2dpbmcmJnQuY2FwdHVyZVBvaW50ZXIuY2FwdHVyZURyYWdFdmVudHMmJnQuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJwb2ludGVyZHJhZ2xlYXZlXCIsdGhpcyl9LGV9KFVpKSxaaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9uYW1lPVwicG9pbnRlcmNhbmNlbFwiLGV9cmV0dXJuIEhpKGUsdCksZX0oVWkpLEtpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvLHMsYSxjLGgsdSxsLHApe3ZhciBkPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gZC54PWUsZC55PW4sZC5wYWdlWD1pLGQucGFnZVk9cixkLnNjcmVlblg9byxkLnNjcmVlblk9cyxkLmluZGV4PWEsZC5kZWx0YVg9YyxkLmRlbHRhWT1oLGQuZGVsdGFaPXUsZC5kZWx0YU1vZGU9bCxkLmV2PXAsZH1yZXR1cm4gSGkoZSx0KSxlfShodCk7ZnVuY3Rpb24gWWkodCxlLG4saSxyLG8scyl7dmFyIGE7c3dpdGNoKHQpe2Nhc2VcInVwXCI6YT1uZXcgV2kocWkpO2JyZWFrO2Nhc2VcImRvd25cIjphPW5ldyBXaShWaSk7YnJlYWs7Y2FzZVwibW92ZVwiOmE9bmV3IFdpKEdpKTticmVhaztjYXNlXCJjYW5jZWxcIjphPW5ldyBXaShaaSk7YnJlYWs7Y2FzZVwiZW50ZXJcIjphPW5ldyBXaShYaSk7YnJlYWs7Y2FzZVwibGVhdmVcIjphPW5ldyBXaShRaSl9cmV0dXJuIGEuY3JlYXRlKGUsbixpLHIsbyxzKX12YXIgSmksJGksdHI9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCksZXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uX3BvaW50ZXJEb3duPVtdLG4uX3BvaW50ZXJVcD1bXSxuLl9wb2ludGVyTW92ZT1bXSxuLl9wb2ludGVyQ2FuY2VsPVtdLG4uX3doZWVsPVtdLG4uX3BvaW50ZXJzPVtdLG4uX2FjdGl2ZVBvaW50ZXJzPVtdLG4uX2VuZ2luZT1lLG4uX3BvaW50ZXJzLnB1c2gobmV3IHppKSxuLl9hY3RpdmVQb2ludGVycz1bLTFdLG4ucHJpbWFyeT1uLl9wb2ludGVyc1swXSxufXJldHVybiB0cihlLHQpLGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsbil9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7KHQ9dHx8dGhpcy5fZW5naW5lLmNhbnZhcykuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9oYW5kbGVUb3VjaEV2ZW50KFwiZG93blwiLHRoaXMuX3BvaW50ZXJEb3duKSksdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLl9oYW5kbGVUb3VjaEV2ZW50KFwidXBcIix0aGlzLl9wb2ludGVyVXApKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLl9oYW5kbGVUb3VjaEV2ZW50KFwibW92ZVwiLHRoaXMuX3BvaW50ZXJNb3ZlKSksdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLl9oYW5kbGVUb3VjaEV2ZW50KFwiY2FuY2VsXCIsdGhpcy5fcG9pbnRlckNhbmNlbCkpLHdpbmRvdy5Qb2ludGVyRXZlbnQ/KHRoaXMuX2VuZ2luZS5jYW52YXMuc3R5bGUudG91Y2hBY3Rpb249XCJub25lXCIsdC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIix0aGlzLl9oYW5kbGVQb2ludGVyRXZlbnQoXCJkb3duXCIsdGhpcy5fcG9pbnRlckRvd24pKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIix0aGlzLl9oYW5kbGVQb2ludGVyRXZlbnQoXCJ1cFwiLHRoaXMuX3BvaW50ZXJVcCkpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsdGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KFwibW92ZVwiLHRoaXMuX3BvaW50ZXJNb3ZlKSksdC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLHRoaXMuX2hhbmRsZVBvaW50ZXJFdmVudChcImNhbmNlbFwiLHRoaXMuX3BvaW50ZXJDYW5jZWwpKSk6d2luZG93Lk1TUG9pbnRlckV2ZW50Pyh0aGlzLl9lbmdpbmUuY2FudmFzLnN0eWxlLm1zVG91Y2hBY3Rpb249XCJub25lXCIsdC5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLHRoaXMuX2hhbmRsZVBvaW50ZXJFdmVudChcImRvd25cIix0aGlzLl9wb2ludGVyRG93bikpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlclVwXCIsdGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KFwidXBcIix0aGlzLl9wb2ludGVyVXApKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJNb3ZlXCIsdGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KFwibW92ZVwiLHRoaXMuX3BvaW50ZXJNb3ZlKSksdC5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyQ2FuY2VsXCIsdGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KFwiY2FuY2VsXCIsdGhpcy5fcG9pbnRlckNhbmNlbCkpKToodC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5faGFuZGxlTW91c2VFdmVudChcImRvd25cIix0aGlzLl9wb2ludGVyRG93bikpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9oYW5kbGVNb3VzZUV2ZW50KFwidXBcIix0aGlzLl9wb2ludGVyVXApKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9oYW5kbGVNb3VzZUV2ZW50KFwibW92ZVwiLHRoaXMuX3BvaW50ZXJNb3ZlKSkpO3ZhciBlPXtwYXNzaXZlOiEodGhpcy5fZW5naW5lLnBhZ2VTY3JvbGxQcmV2ZW50aW9uTW9kZT09PW9yLkFsbHx8dGhpcy5fZW5naW5lLnBhZ2VTY3JvbGxQcmV2ZW50aW9uTW9kZT09PW9yLkNhbnZhcyl9O1wib253aGVlbFwiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKT90LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHRoaXMuX2hhbmRsZVdoZWVsRXZlbnQoXCJ3aGVlbFwiLHRoaXMuX3doZWVsKSxlKTp2b2lkIDAhPT1kb2N1bWVudC5vbm1vdXNld2hlZWw/dC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLHRoaXMuX2hhbmRsZVdoZWVsRXZlbnQoXCJ3aGVlbFwiLHRoaXMuX3doZWVsKSxlKTp0LmFkZEV2ZW50TGlzdGVuZXIoXCJNb3pNb3VzZVBpeGVsU2Nyb2xsXCIsdGhpcy5faGFuZGxlV2hlZWxFdmVudChcIndoZWVsXCIsdGhpcy5fd2hlZWwpLGUpfSxlLnByb3RvdHlwZS50cmlnZ2VyRXZlbnQ9ZnVuY3Rpb24odCxlLG4saSxyKXt2b2lkIDA9PT1uJiYobj1GaS5MZWZ0KSx2b2lkIDA9PT1pJiYoaT1cIm1vdXNlXCIpLHZvaWQgMD09PXImJihyPTApO3ZhciBvLHM9MCxhPTA7ZSBpbnN0YW5jZW9mIFo/KHM9ZS5wYWdlUG9zLngsYT1lLnBhZ2VQb3MueSxvPWUpOihzPWUueCxhPWUueSxvPW5ldyBaKGUuY2xvbmUoKSxlLmNsb25lKCksZS5jbG9uZSgpKSk7dmFyIGM9e3BhZ2VYOnMscGFnZVk6YSxwb2ludGVySWQ6cixwb2ludGVyVHlwZTppLGJ1dHRvbjpuLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7fX07c3dpdGNoKHQpe2Nhc2VcIm1vdmVcIjp0aGlzLl9oYW5kbGVQb2ludGVyRXZlbnQodCx0aGlzLl9wb2ludGVyTW92ZSxvKShjKTticmVhaztjYXNlXCJkb3duXCI6dGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KHQsdGhpcy5fcG9pbnRlckRvd24sbykoYyk7YnJlYWs7Y2FzZVwidXBcIjp0aGlzLl9oYW5kbGVQb2ludGVyRXZlbnQodCx0aGlzLl9wb2ludGVyVXAsbykoYyk7YnJlYWs7Y2FzZVwiY2FuY2VsXCI6dGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KHQsdGhpcy5fcG9pbnRlckNhbmNlbCxvKShjKX1mb3IodmFyIGg9MCx1PXRoaXMuX2VuZ2luZS5jdXJyZW50U2NlbmUuYWN0b3JzO2g8dS5sZW5ndGg7aCsrKXt2YXIgbD11W2hdLHA9bC50cmFpdHMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEtlfSkpWzBdO3AmJnAudXBkYXRlKGwsdGhpcy5fZW5naW5lLDEpfXRoaXMuZGlzcGF0Y2hQb2ludGVyRXZlbnRzKCksdGhpcy51cGRhdGUoKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fcG9pbnRlclVwLmxlbmd0aD0wLHRoaXMuX3BvaW50ZXJEb3duLmxlbmd0aD0wLHRoaXMuX3BvaW50ZXJNb3ZlLmxlbmd0aD0wLHRoaXMuX3BvaW50ZXJDYW5jZWwubGVuZ3RoPTAsdGhpcy5fd2hlZWwubGVuZ3RoPTA7Zm9yKHZhciB0PTA7dDx0aGlzLl9wb2ludGVycy5sZW5ndGg7dCsrKXRoaXMuX3BvaW50ZXJzW3RdLnVwZGF0ZSgpfSxlLnByb3RvdHlwZS5hdD1mdW5jdGlvbih0KXtpZih0Pj10aGlzLl9wb2ludGVycy5sZW5ndGgpZm9yKHZhciBlPXRoaXMuX3BvaW50ZXJzLmxlbmd0aC0xLG49dDtlPG47ZSsrKXRoaXMuX3BvaW50ZXJzLnB1c2gobmV3IHppKSx0aGlzLl9hY3RpdmVQb2ludGVycy5wdXNoKC0xKTtyZXR1cm4gdGhpcy5fcG9pbnRlcnNbdF19LGUucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJzLmxlbmd0aH0sZS5wcm90b3R5cGUuY2hlY2tBbmRVcGRhdGVBY3RvclVuZGVyUG9pbnRlcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuX3BvaW50ZXJzO2U8bi5sZW5ndGg7ZSsrKXt2YXIgaT1uW2VdO2kuY2hlY2tBY3RvclVuZGVyUG9pbnRlcih0KT9pLmFkZEFjdG9yVW5kZXJQb2ludGVyKHQpOmkucmVtb3ZlQWN0b3JVbmRlclBvaW50ZXIodCl9fSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hXaXRoQnViYmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dDtlPG4ubGVuZ3RoO2UrKylmb3IodmFyIGk9bltlXSxyPTAsbz1pLnBvaW50ZXIuZ2V0QWN0b3JzRm9yRXZlbnRzKCk7cjxvLmxlbmd0aDtyKyspe3ZhciBzPW9bcl07aWYoaS5wcm9wYWdhdGUocyksIWkuYnViYmxlcylicmVha319LGUucHJvdG90eXBlLl9kaXNwYXRjaFBvaW50ZXJMZWF2ZUV2ZW50cz1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPVtdLG49MCxpPXRoaXMuX3BvaW50ZXJNb3ZlO248aS5sZW5ndGg7bisrKWZvcih2YXIgcj1pW25dLG89MCxzPXIucG9pbnRlci5nZXRBY3RvcnNGb3JFdmVudHMoKTtvPHMubGVuZ3RoO28rKyl7dmFyIGE9c1tvXTtpZighdFtyLnBvaW50ZXIuaWQrXCIrXCIrYS5pZF0mJnIucG9pbnRlci53YXNBY3RvclVuZGVyUG9pbnRlcihhKSYmIXIucG9pbnRlci5pc0FjdG9yQWxpdmVVbmRlclBvaW50ZXIoYSkpe3Rbci5wb2ludGVyLmlkK1wiK1wiK2EuaWRdPXI7dmFyIGM9WWkoXCJsZWF2ZVwiLG5ldyBaKHIud29ybGRQb3Msci5wYWdlUG9zLHIuc2NyZWVuUG9zKSxyLnBvaW50ZXIsci5pbmRleCxyLnBvaW50ZXJUeXBlLHIuYnV0dG9uLHIuZXYpO2MucHJvcGFnYXRlKGEpLGUucHVzaChjKX19cmV0dXJuIGV9LGUucHJvdG90eXBlLl9kaXNwYXRjaFBvaW50ZXJFbnRlckV2ZW50cz1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPVtdLG49MCxpPXRoaXMuX3BvaW50ZXJNb3ZlO248aS5sZW5ndGg7bisrKWZvcih2YXIgcj1pW25dLG89MCxzPXIucG9pbnRlci5nZXRBY3RvcnNGb3JFdmVudHMoKTtvPHMubGVuZ3RoO28rKyl7dmFyIGE9c1tvXTtpZighdFtyLnBvaW50ZXIuaWRdJiYhci5wb2ludGVyLndhc0FjdG9yVW5kZXJQb2ludGVyKGEpJiZyLnBvaW50ZXIuaXNBY3RvckFsaXZlVW5kZXJQb2ludGVyKGEpKXt0W3IucG9pbnRlci5pZF09cjt2YXIgYz1ZaShcImVudGVyXCIsbmV3IFooci53b3JsZFBvcyxyLnBhZ2VQb3Msci5zY3JlZW5Qb3MpLHIucG9pbnRlcixyLmluZGV4LHIucG9pbnRlclR5cGUsci5idXR0b24sci5ldik7Yy5wcm9wYWdhdGUoYSksZS5wdXNoKGMpLHIucG9pbnRlci5pc0RyYWdnaW5nJiYoci5wb2ludGVyLmRyYWdUYXJnZXQ9YSl9fXJldHVybiBlfSxlLnByb3RvdHlwZS5kaXNwYXRjaFBvaW50ZXJFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwYXRjaFdpdGhCdWJibGUodGhpcy5fcG9pbnRlckRvd24pLHRoaXMuX2Rpc3BhdGNoV2l0aEJ1YmJsZSh0aGlzLl9wb2ludGVyVXApLHRoaXMuX2Rpc3BhdGNoV2l0aEJ1YmJsZSh0aGlzLl9wb2ludGVyTW92ZSksdGhpcy5fZGlzcGF0Y2hQb2ludGVyTGVhdmVFdmVudHMoKSx0aGlzLl9kaXNwYXRjaFBvaW50ZXJFbnRlckV2ZW50cygpLHRoaXMuX2Rpc3BhdGNoV2l0aEJ1YmJsZSh0aGlzLl9wb2ludGVyQ2FuY2VsKTtmb3IodmFyIHQ9MCxlPXRoaXMuX3doZWVsO3Q8ZS5sZW5ndGg7dCsrKWZvcih2YXIgbj1lW3RdLGk9MCxyPXRoaXMuX3BvaW50ZXJzW24uaW5kZXhdLmdldEFjdG9yc1VuZGVyUG9pbnRlcigpO2k8ci5sZW5ndGg7aSsrKXt2YXIgbz1yW2ldO2lmKHRoaXMuX3Byb3BhZ2F0ZVdoZWVsUG9pbnRlckV2ZW50KG8sbiksIW4uYnViYmxlcylicmVha319LGUucHJvdG90eXBlLl9wcm9wYWdhdGVXaGVlbFBvaW50ZXJFdmVudD1mdW5jdGlvbih0LGUpe3QuZW1pdChcInBvaW50ZXJ3aGVlbFwiLGUpLGUuYnViYmxlcyYmdC5wYXJlbnQmJnRoaXMuX3Byb3BhZ2F0ZVdoZWVsUG9pbnRlckV2ZW50KHQucGFyZW50LGUpfSxlLnByb3RvdHlwZS5faGFuZGxlTW91c2VFdmVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGkpe2kucHJldmVudERlZmF1bHQoKTt2YXIgcj1uLmF0KDApLG89Wi5mcm9tUGFnZVBvc2l0aW9uKGkucGFnZVgsaS5wYWdlWSxuLl9lbmdpbmUpLHM9WWkodCxvLHIsMCxCaS5Nb3VzZSxuLl9uYXRpdmVCdXR0b25Ub1BvaW50ZXJCdXR0b24oaS5idXR0b24pLGkpO2UucHVzaChzKSxyLmV2ZW50RGlzcGF0Y2hlci5lbWl0KHQscyl9fSxlLnByb3RvdHlwZS5faGFuZGxlVG91Y2hFdmVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGkpe2kucHJldmVudERlZmF1bHQoKTtmb3IodmFyIHI9MCxvPWkuY2hhbmdlZFRvdWNoZXMubGVuZ3RoO3I8bztyKyspe3ZhciBzPW4uX3BvaW50ZXJzLmxlbmd0aD4xP24uX2dldFBvaW50ZXJJbmRleChpLmNoYW5nZWRUb3VjaGVzW3JdLmlkZW50aWZpZXIpOjA7aWYoLTEhPT1zKXt2YXIgYT1uLmF0KHMpLGM9Wi5mcm9tUGFnZVBvc2l0aW9uKGkuY2hhbmdlZFRvdWNoZXNbcl0ucGFnZVgsaS5jaGFuZ2VkVG91Y2hlc1tyXS5wYWdlWSxuLl9lbmdpbmUpLGg9WWkodCxjLGEscyxCaS5Ub3VjaCxJaS5Vbmtub3duLGkpO2UucHVzaChoKSxhLmV2ZW50RGlzcGF0Y2hlci5lbWl0KHQsaCksbi5fcG9pbnRlcnMubGVuZ3RoPjEmJihcInVwXCI9PT10P24uX2FjdGl2ZVBvaW50ZXJzW3NdPS0xOlwiZG93blwiPT09dCYmKG4uX2FjdGl2ZVBvaW50ZXJzW3NdPWkuY2hhbmdlZFRvdWNoZXNbcl0uaWRlbnRpZmllcikpfX19fSxlLnByb3RvdHlwZS5faGFuZGxlUG9pbnRlckV2ZW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO3JldHVybiBmdW5jdGlvbihyKXtyLnByZXZlbnREZWZhdWx0KCk7dmFyIG89aS5fcG9pbnRlcnMubGVuZ3RoPjE/aS5fZ2V0UG9pbnRlckluZGV4KHIucG9pbnRlcklkKTowO2lmKC0xIT09byl7dmFyIHM9aS5hdChvKSxhPW58fFouZnJvbVBhZ2VQb3NpdGlvbihyLnBhZ2VYLHIucGFnZVksaS5fZW5naW5lKSxjPVlpKHQsYSxzLG8saS5fc3RyaW5nVG9Qb2ludGVyVHlwZShyLnBvaW50ZXJUeXBlKSxpLl9uYXRpdmVCdXR0b25Ub1BvaW50ZXJCdXR0b24oci5idXR0b24pLHIpO2UucHVzaChjKSxzLmV2ZW50RGlzcGF0Y2hlci5lbWl0KHQsYyksaS5fcG9pbnRlcnMubGVuZ3RoPjEmJihcInVwXCI9PT10P2kuX2FjdGl2ZVBvaW50ZXJzW29dPS0xOlwiZG93blwiPT09dCYmKGkuX2FjdGl2ZVBvaW50ZXJzW29dPXIucG9pbnRlcklkKSl9fX0sZS5wcm90b3R5cGUuX2hhbmRsZVdoZWVsRXZlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihpKXsobi5fZW5naW5lLnBhZ2VTY3JvbGxQcmV2ZW50aW9uTW9kZT09PW9yLkFsbHx8bi5fZW5naW5lLnBhZ2VTY3JvbGxQcmV2ZW50aW9uTW9kZT09PW9yLkNhbnZhcyYmaS50YXJnZXQ9PT1uLl9lbmdpbmUuY2FudmFzKSYmaS5wcmV2ZW50RGVmYXVsdCgpO3ZhciByPWkucGFnZVgtRShuLl9lbmdpbmUuY2FudmFzKS54LG89aS5wYWdlWS1FKG4uX2VuZ2luZS5jYW52YXMpLnkscz1uLl9lbmdpbmUuc2NyZWVuVG9Xb3JsZENvb3JkaW5hdGVzKG5ldyBWKHIsbykpLGE9aS5kZWx0YVh8fC0uMDI1Kmkud2hlZWxEZWx0YVh8fDAsYz1pLmRlbHRhWXx8LS4wMjUqaS53aGVlbERlbHRhWXx8LS4wMjUqaS53aGVlbERlbHRhfHxpLmRldGFpbHx8MCxoPWkuZGVsdGFafHwwLHU9TGkuUGl4ZWw7aS5kZWx0YU1vZGUmJigxPT09aS5kZWx0YU1vZGU/dT1MaS5MaW5lOjI9PT1pLmRlbHRhTW9kZSYmKHU9TGkuUGFnZSkpO3ZhciBsPW5ldyBLaShzLngscy55LGkucGFnZVgsaS5wYWdlWSxyLG8sMCxhLGMsaCx1LGkpO2UucHVzaChsKSxuLmF0KDApLmV2ZW50RGlzcGF0Y2hlci5lbWl0KHQsbCl9fSxlLnByb3RvdHlwZS5fZ2V0UG9pbnRlckluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlO2lmKChlPXRoaXMuX2FjdGl2ZVBvaW50ZXJzLmluZGV4T2YodCkpPi0xKXJldHVybiBlO2Zvcih2YXIgbj0wO248dGhpcy5fYWN0aXZlUG9pbnRlcnMubGVuZ3RoO24rKylpZigtMT09PXRoaXMuX2FjdGl2ZVBvaW50ZXJzW25dKXJldHVybiBuO3JldHVybi0xfSxlLnByb3RvdHlwZS5fbmF0aXZlQnV0dG9uVG9Qb2ludGVyQnV0dG9uPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIEZpLk5vQnV0dG9uOnJldHVybiBJaS5Ob0J1dHRvbjtjYXNlIEZpLkxlZnQ6cmV0dXJuIElpLkxlZnQ7Y2FzZSBGaS5NaWRkbGU6cmV0dXJuIElpLk1pZGRsZTtjYXNlIEZpLlJpZ2h0OnJldHVybiBJaS5SaWdodDtjYXNlIEZpLlVua25vd246cmV0dXJuIElpLlVua25vd247ZGVmYXVsdDpyZXR1cm4gayh0KX19LGUucHJvdG90eXBlLl9zdHJpbmdUb1BvaW50ZXJUeXBlPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlXCJ0b3VjaFwiOnJldHVybiBCaS5Ub3VjaDtjYXNlXCJtb3VzZVwiOnJldHVybiBCaS5Nb3VzZTtjYXNlXCJwZW5cIjpyZXR1cm4gQmkuUGVuO2RlZmF1bHQ6cmV0dXJuIEJpLlVua25vd259fSxlfShlZSksbnI9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCksaXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gZS5lbmFibGVkPSExLGUuc3VwcG9ydGVkPSEhbmF2aWdhdG9yLmdldEdhbWVwYWRzLGUuX2dhbWVQYWRUaW1lU3RhbXBzPVswLDAsMCwwXSxlLl9vbGRQYWRzPVtdLGUuX3BhZHM9W10sZS5faW5pdFN1Y2Nlc3M9ITEsZS5fbmF2aWdhdG9yPW5hdmlnYXRvcixlLl9taW5pbXVtQ29uZmlndXJhdGlvbj1udWxsLGV9cmV0dXJuIG5yKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuc3VwcG9ydGVkJiYodGhpcy5faW5pdFN1Y2Nlc3N8fCh0aGlzLl9vbGRQYWRzPXRoaXMuX2Nsb25lUGFkcyh0aGlzLl9uYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKSksdGhpcy5fb2xkUGFkcy5sZW5ndGgmJnRoaXMuX29sZFBhZHNbMF0mJih0aGlzLl9pbml0U3VjY2Vzcz0hMCkpKX0sZS5wcm90b3R5cGUuc2V0TWluaW11bUdhbWVwYWRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuX2VuYWJsZUFuZFVwZGF0ZSgpLHRoaXMuX21pbmltdW1Db25maWd1cmF0aW9uPXR9LGUucHJvdG90eXBlLl9lbmFibGVBbmRVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWR8fCh0aGlzLmVuYWJsZWQ9ITAsdGhpcy51cGRhdGUoKSl9LGUucHJvdG90eXBlLl9pc0dhbWVwYWRWYWxpZD1mdW5jdGlvbih0KXtpZighdGhpcy5fbWluaW11bUNvbmZpZ3VyYXRpb24pcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7dmFyIGU9dC5heGVzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXR5cGVvZiB0fSkpLmxlbmd0aCxuPXQuYnV0dG9ucy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10eXBlb2YgdH0pKS5sZW5ndGg7cmV0dXJuIGU+PXRoaXMuX21pbmltdW1Db25maWd1cmF0aW9uLmF4aXMmJm4+PXRoaXMuX21pbmltdW1Db25maWd1cmF0aW9uLmJ1dHRvbnMmJnQuY29ubmVjdGVkfSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLG4pe3RoaXMuX2VuYWJsZUFuZFVwZGF0ZSgpLHQucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSxuKXt0aGlzLl9lbmFibGVBbmRVcGRhdGUoKSx0LnByb3RvdHlwZS5vZmYuY2FsbCh0aGlzLGUsbil9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuZW5hYmxlZCYmdGhpcy5zdXBwb3J0ZWQpe3RoaXMuaW5pdCgpO2Zvcih2YXIgdD10aGlzLl9uYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKSxlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXSl7aWYoIXRoaXMuYXQoZSkuY29ubmVjdGVkJiZ0aGlzLl9pc0dhbWVwYWRWYWxpZCh0W2VdKSYmdGhpcy5ldmVudERpc3BhdGNoZXIuZW1pdChcImNvbm5lY3RcIixuZXcgUHQoZSx0aGlzLmF0KGUpKSksdGhpcy5hdChlKS5jb25uZWN0ZWQ9ITAsIXRbZV0udGltZXN0YW1wfHx0W2VdLnRpbWVzdGFtcCE9PXRoaXMuX2dhbWVQYWRUaW1lU3RhbXBzW2VdKXt0aGlzLl9nYW1lUGFkVGltZVN0YW1wc1tlXT10W2VdLnRpbWVzdGFtcCx0aGlzLmF0KGUpLm5hdmlnYXRvckdhbWVwYWQ9dFtlXTt2YXIgbj12b2lkIDAsaT12b2lkIDAscj12b2lkIDAsbz12b2lkIDAscz12b2lkIDA7Zm9yKG4gaW4gSmkpXCJudW1iZXJcIj09dHlwZW9mKGk9Smlbbl0pJiZ0W2VdLmJ1dHRvbnNbaV0mJihzPXRbZV0uYnV0dG9uc1tpXS52YWx1ZSkhPT10aGlzLl9vbGRQYWRzW2VdLmdldEJ1dHRvbihpKSYmKHRbZV0uYnV0dG9uc1tpXS5wcmVzc2VkPyh0aGlzLmF0KGUpLnVwZGF0ZUJ1dHRvbihpLHMpLHRoaXMuYXQoZSkuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJidXR0b25cIixuZXcgRXQoaSxzLHRoaXMuYXQoZSkpKSk6dGhpcy5hdChlKS51cGRhdGVCdXR0b24oaSwwKSk7Zm9yKHIgaW4gJGkpXCJudW1iZXJcIj09dHlwZW9mKG89JGlbcl0pJiYocz10W2VdLmF4ZXNbb10pIT09dGhpcy5fb2xkUGFkc1tlXS5nZXRBeGVzKG8pJiYodGhpcy5hdChlKS51cGRhdGVBeGVzKG8scyksdGhpcy5hdChlKS5ldmVudERpc3BhdGNoZXIuZW1pdChcImF4aXNcIixuZXcgU3QobyxzLHRoaXMuYXQoZSkpKSk7dGhpcy5fb2xkUGFkc1tlXT10aGlzLl9jbG9uZVBhZCh0W2VdKX19ZWxzZXt2YXIgYT10aGlzLmF0KGUpO2EuY29ubmVjdGVkJiZ0aGlzLmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwiZGlzY29ubmVjdFwiLG5ldyBBdChlLGEpKSxhLmNvbm5lY3RlZD0hMX19fSxlLnByb3RvdHlwZS5hdD1mdW5jdGlvbih0KXtpZih0aGlzLl9lbmFibGVBbmRVcGRhdGUoKSx0Pj10aGlzLl9wYWRzLmxlbmd0aClmb3IodmFyIGU9dGhpcy5fcGFkcy5sZW5ndGgtMSxuPXQ7ZTxuO2UrKyl0aGlzLl9wYWRzLnB1c2gobmV3IHJyKSx0aGlzLl9vbGRQYWRzLnB1c2gobmV3IHJyKTtyZXR1cm4gdGhpcy5fcGFkc1t0XX0sZS5wcm90b3R5cGUuZ2V0VmFsaWRHYW1lcGFkcz1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZUFuZFVwZGF0ZSgpO2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLl9wYWRzLmxlbmd0aDtlKyspdGhpcy5faXNHYW1lcGFkVmFsaWQodGhpcy5hdChlKS5uYXZpZ2F0b3JHYW1lcGFkKSYmdGhpcy5hdChlKS5jb25uZWN0ZWQmJnQucHVzaCh0aGlzLmF0KGUpKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFkcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbm5lY3RlZH0pKS5sZW5ndGh9LGUucHJvdG90eXBlLl9jbG9uZVBhZHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxpPXQubGVuZ3RoO248aTtuKyspZS5wdXNoKHRoaXMuX2Nsb25lUGFkKHRbbl0pKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuX2Nsb25lUGFkPWZ1bmN0aW9uKHQpe3ZhciBlLG4saT1uZXcgcnI7aWYoIXQpcmV0dXJuIGk7Zm9yKGU9MCxuPXQuYnV0dG9ucy5sZW5ndGg7ZTxuO2UrKyl0LmJ1dHRvbnNbZV0mJmkudXBkYXRlQnV0dG9uKGUsdC5idXR0b25zW2VdLnZhbHVlKTtmb3IoZT0wLG49dC5heGVzLmxlbmd0aDtlPG47ZSsrKWkudXBkYXRlQXhlcyhlLHQuYXhlc1tlXSk7cmV0dXJuIGl9LGUuTWluQXhpc01vdmVUaHJlc2hvbGQ9LjA1LGV9KGVlKSxycj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9dC5jYWxsKHRoaXMpfHx0aGlzO2UuY29ubmVjdGVkPSExLGUuX2J1dHRvbnM9bmV3IEFycmF5KDE2KSxlLl9heGVzPW5ldyBBcnJheSg0KTtmb3IodmFyIG49MDtuPGUuX2J1dHRvbnMubGVuZ3RoO24rKyllLl9idXR0b25zW25dPTA7Zm9yKG49MDtuPGUuX2F4ZXMubGVuZ3RoO24rKyllLl9heGVzW25dPTA7cmV0dXJuIGV9cmV0dXJuIG5yKGUsdCksZS5wcm90b3R5cGUuaXNCdXR0b25QcmVzc2VkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHRoaXMuX2J1dHRvbnNbdF0+PWV9LGUucHJvdG90eXBlLmdldEJ1dHRvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYnV0dG9uc1t0XX0sZS5wcm90b3R5cGUuZ2V0QXhlcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9heGVzW3RdO3JldHVybiBNYXRoLmFicyhlKTxpci5NaW5BeGlzTW92ZVRocmVzaG9sZD8wOmV9LGUucHJvdG90eXBlLnVwZGF0ZUJ1dHRvbj1mdW5jdGlvbih0LGUpe3RoaXMuX2J1dHRvbnNbdF09ZX0sZS5wcm90b3R5cGUudXBkYXRlQXhlcz1mdW5jdGlvbih0LGUpe3RoaXMuX2F4ZXNbdF09ZX0sZX0oZWUpOyFmdW5jdGlvbih0KXt0W3QuRmFjZTE9MF09XCJGYWNlMVwiLHRbdC5GYWNlMj0xXT1cIkZhY2UyXCIsdFt0LkZhY2UzPTJdPVwiRmFjZTNcIix0W3QuRmFjZTQ9M109XCJGYWNlNFwiLHRbdC5MZWZ0QnVtcGVyPTRdPVwiTGVmdEJ1bXBlclwiLHRbdC5SaWdodEJ1bXBlcj01XT1cIlJpZ2h0QnVtcGVyXCIsdFt0LkxlZnRUcmlnZ2VyPTZdPVwiTGVmdFRyaWdnZXJcIix0W3QuUmlnaHRUcmlnZ2VyPTddPVwiUmlnaHRUcmlnZ2VyXCIsdFt0LlNlbGVjdD04XT1cIlNlbGVjdFwiLHRbdC5TdGFydD05XT1cIlN0YXJ0XCIsdFt0LkxlZnRTdGljaz0xMF09XCJMZWZ0U3RpY2tcIix0W3QuUmlnaHRTdGljaz0xMV09XCJSaWdodFN0aWNrXCIsdFt0LkRwYWRVcD0xMl09XCJEcGFkVXBcIix0W3QuRHBhZERvd249MTNdPVwiRHBhZERvd25cIix0W3QuRHBhZExlZnQ9MTRdPVwiRHBhZExlZnRcIix0W3QuRHBhZFJpZ2h0PTE1XT1cIkRwYWRSaWdodFwifShKaXx8KEppPXt9KSksZnVuY3Rpb24odCl7dFt0LkxlZnRTdGlja1g9MF09XCJMZWZ0U3RpY2tYXCIsdFt0LkxlZnRTdGlja1k9MV09XCJMZWZ0U3RpY2tZXCIsdFt0LlJpZ2h0U3RpY2tYPTJdPVwiUmlnaHRTdGlja1hcIix0W3QuUmlnaHRTdGlja1k9M109XCJSaWdodFN0aWNrWVwifSgkaXx8KCRpPXt9KSk7dmFyIG9yLHNyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm5hdGl2ZUNvbXBvbmVudD10LHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9uYXRpdmVIYW5kbGVycz17fX1yZXR1cm4gdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXt0aGlzLl9uYXRpdmVIYW5kbGVyc1t0XSYmdGhpcy5vZmYodCx0aGlzLl9uYXRpdmVIYW5kbGVyc1t0XSksdGhpcy5fbmF0aXZlSGFuZGxlcnNbdF09dGhpcy5fZGVjb3JhdGUoZSksdGhpcy5uYXRpdmVDb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcih0LHRoaXMuX25hdGl2ZUhhbmRsZXJzW3RdKX0sdC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSl7ZXx8KGU9dGhpcy5fbmF0aXZlSGFuZGxlcnNbdF0pLHRoaXMubmF0aXZlQ29tcG9uZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKSx0aGlzLl9uYXRpdmVIYW5kbGVyc1t0XT1udWxsfSx0LnByb3RvdHlwZS5fZGVjb3JhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7ZS5fcGF1c2VkfHx0KG4pfX0sdC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQ9ITB9LHQucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5fbmF0aXZlSGFuZGxlcnMpdGhpcy5vZmYodCl9LHR9KCksYXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fd2luZG93R2xvYmFsPXQsdGhpcy5fZG9jdW1lbnRHbG9iYWw9ZSx0aGlzLl93aW5kb3dDb21wb25lbnQ9bmV3IHNyKHRoaXMuX3dpbmRvd0dsb2JhbCksdGhpcy5fZG9jdW1lbnRDb21wb25lbnQ9bmV3IHNyKHRoaXMuX2RvY3VtZW50R2xvYmFsKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwid2luZG93XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aW5kb3dDb21wb25lbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZG9jdW1lbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvY3VtZW50Q29tcG9uZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy53aW5kb3cucGF1c2UoKSx0aGlzLmRvY3VtZW50LnBhdXNlKCl9LHQucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMud2luZG93LnJlc3VtZSgpLHRoaXMuZG9jdW1lbnQucmVzdW1lKCl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy53aW5kb3cuY2xlYXIoKSx0aGlzLmRvY3VtZW50LmNsZWFyKCl9LHR9KCksY3I9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCksaHI9ZnVuY3Rpb24oKXtyZXR1cm4oaHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKylmb3IodmFyIHIgaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtsKCksZnVuY3Rpb24odCl7dFt0Lk5vbmU9MF09XCJOb25lXCIsdFt0LkNhbnZhcz0xXT1cIkNhbnZhc1wiLHRbdC5BbGw9Ml09XCJBbGxcIn0ob3J8fChvcj17fSkpO3ZhciB1cixscj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKG4pe3ZhciBpLHIsbyxzPXQuY2FsbCh0aGlzKXx8dGhpcztzLl9oYXNTdGFydGVkPSExLHMucG9zdFByb2Nlc3NvcnM9W10scy5zY2VuZXM9e30scy5fYW5pbWF0aW9ucz1bXSxzLl9zdXBwcmVzc1BsYXlCdXR0b249ITEscy5wYXVzZUF1ZGlvV2hlbkhpZGRlbj0hMCxzLmlzRGVidWc9ITEscy5kZWJ1Z0NvbG9yPW5ldyBldCgyNTUsMjU1LDI1NSkscy5lbmFibGVDYW52YXNUcmFuc3BhcmVuY3k9ITAscy5vbkZhdGFsRXhjZXB0aW9uPWZ1bmN0aW9uKHQpe1IuZ2V0SW5zdGFuY2UoKS5mYXRhbCh0KX0scy5fdGltZXNjYWxlPTEscy5faXNMb2FkaW5nPSExLHMuX2lzSW5pdGlhbGl6ZWQ9ITEsbj1ocihocih7fSxlLl9EZWZhdWx0RW5naW5lT3B0aW9ucyksbikscy5icm93c2VyPW5ldyBhcih3aW5kb3csZG9jdW1lbnQpO3ZhciBhPW5ldyBJbjtpZighbi5zdXBwcmVzc01pbmltdW1Ccm93c2VyRmVhdHVyZURldGVjdGlvbiYmIShzLl9jb21wYXRpYmxlPWEudGVzdCgpKSl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihjLmlubmVyVGV4dD1cIlNvcnJ5LCB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBhbGwgdGhlIGZlYXR1cmVzIG5lZWRlZCBmb3IgRXhjYWxpYnVyXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjKSxhLmZhaWxlZFRlc3RzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5pbm5lclRleHQ9XCJCcm93c2VyIGZlYXR1cmUgbWlzc2luZyBcIit0LGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSl9KSksbi5jYW52YXNFbGVtZW50SWQpe3ZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4uY2FudmFzRWxlbWVudElkKTtoJiZoLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoaCl9cmV0dXJuIHN9cy5fY29tcGF0aWJsZT0hMCxjb25zb2xlLmxvZyYmIW4uc3VwcHJlc3NDb25zb2xlQm9vdE1lc3NhZ2UmJihjb25zb2xlLmxvZyhcIiVjUG93ZXJlZCBieSBFeGNhbGlidXIuanMgKHZcIiskcitcIilcIixcImJhY2tncm91bmQ6ICMxNzZCQUE7IGNvbG9yOiB3aGl0ZTsgYm9yZGVyLXJhZGl1czogNXB4OyBwYWRkaW5nOiAxNXB4OyBmb250LXNpemU6IDEuNWVtOyBsaW5lLWhlaWdodDogODBweDtcIiksY29uc29sZS5sb2coXCJcXG4gICAgICAvfCBfX19fX19fX19fX19fX19fXFxuT3w9PT18KiA+X19fX19fX19fX19fX19fXz5cXG4gICAgICBcXFxcfFwiKSxjb25zb2xlLmxvZyhcIlZpc2l0XCIsXCJodHRwOi8vZXhjYWxpYnVyanMuY29tXCIsXCJmb3IgbW9yZSBpbmZvcm1hdGlvblwiKSksbi5zdXBwcmVzc1BsYXlCdXR0b24mJihzLl9zdXBwcmVzc1BsYXlCdXR0b249ITApLHMuX2xvZ2dlcj1SLmdldEluc3RhbmNlKCkscy5fbG9nZ2VyLmRlZmF1bHRMZXZlbD09PU0uRGVidWcmJmEubG9nQnJvd3NlckZlYXR1cmVzKCkscy5fbG9nZ2VyLmRlYnVnKFwiQnVpbGRpbmcgZW5naW5lLi4uXCIpLHMuY2FudmFzRWxlbWVudElkPW4uY2FudmFzRWxlbWVudElkLG4uY2FudmFzRWxlbWVudElkPyhzLl9sb2dnZXIuZGVidWcoXCJVc2luZyBDYW52YXMgZWxlbWVudCBzcGVjaWZpZWQ6IFwiK24uY2FudmFzRWxlbWVudElkKSxzLmNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuLmNhbnZhc0VsZW1lbnRJZCkpOm4uY2FudmFzRWxlbWVudD8ocy5fbG9nZ2VyLmRlYnVnKFwiVXNpbmcgQ2FudmFzIGVsZW1lbnQgc3BlY2lmaWVkOlwiLG4uY2FudmFzRWxlbWVudCkscy5jYW52YXM9bi5jYW52YXNFbGVtZW50KToocy5fbG9nZ2VyLmRlYnVnKFwiVXNpbmcgZ2VuZXJhdGVkIGNhbnZhcyBlbGVtZW50XCIpLHMuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpO3ZhciB1PW51bGwhPT0oaT1uLmRpc3BsYXlNb2RlKSYmdm9pZCAwIT09aT9pOlZ0LkZpeGVkO3JldHVybiBuLndpZHRoJiZuLmhlaWdodHx8bi52aWV3cG9ydD8odm9pZCAwPT09bi5kaXNwbGF5TW9kZSYmKHU9VnQuRml4ZWQpLHMuX2xvZ2dlci5kZWJ1ZyhcIkVuZ2luZSB2aWV3cG9ydCBpcyBzaXplIFwiK24ud2lkdGgrXCIgeCBcIituLmhlaWdodCkpOm4uZGlzcGxheU1vZGV8fChzLl9sb2dnZXIuZGVidWcoXCJFbmdpbmUgdmlld3BvcnQgaXMgZnVsbHNjcmVlblwiKSx1PVZ0LkZ1bGxTY3JlZW4pLHMuY3R4PXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiLHthbHBoYTpzLmVuYWJsZUNhbnZhc1RyYW5zcGFyZW5jeX0pLHMuc2NyZWVuPW5ldyAkdCh7Y2FudmFzOnMuY2FudmFzLGNvbnRleHQ6cy5jdHgsYW50aWFsaWFzaW5nOm51bGw9PT0ocj1uLmFudGlhbGlhc2luZyl8fHZvaWQgMD09PXJ8fHIsYnJvd3NlcjpzLmJyb3dzZXIsdmlld3BvcnQ6bnVsbCE9PShvPW4udmlld3BvcnQpJiZ2b2lkIDAhPT1vP286e3dpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0fSxyZXNvbHV0aW9uOm4ucmVzb2x1dGlvbixkaXNwbGF5TW9kZTp1LHBvc2l0aW9uOm4ucG9zaXRpb24scGl4ZWxSYXRpbzpuLnN1cHByZXNzSGlEUElTY2FsaW5nPzE6bnVsbH0pLHMuc2NyZWVuLmFwcGx5UmVzb2x1dGlvbkFuZFZpZXdwb3J0KCksbi5iYWNrZ3JvdW5kQ29sb3ImJihzLmJhY2tncm91bmRDb2xvcj1uLmJhY2tncm91bmRDb2xvci5jbG9uZSgpKSxzLmVuYWJsZUNhbnZhc1RyYW5zcGFyZW5jeT1uLmVuYWJsZUNhbnZhc1RyYW5zcGFyZW5jeSxzLl9sb2FkZXI9bmV3IGpuLHMuZGVidWc9bmV3IFNpKHMpLHMuX2luaXRpYWxpemUobikscy5yb290U2NlbmU9cy5jdXJyZW50U2NlbmU9bmV3IHhpKHMpLHMuYWRkU2NlbmUoXCJyb290XCIscy5yb290U2NlbmUpLHMuZ29Ub1NjZW5lKFwicm9vdFwiKSxzfXJldHVybiBjcihlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImNhbnZhc1dpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcmVlbi5jYW52YXNXaWR0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoYWxmQ2FudmFzV2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NyZWVuLmhhbGZDYW52YXNXaWR0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjYW52YXNIZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NyZWVuLmNhbnZhc0hlaWdodH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoYWxmQ2FudmFzSGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcmVlbi5oYWxmQ2FudmFzSGVpZ2h0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRyYXdXaWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JlZW4uZHJhd1dpZHRofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhhbGZEcmF3V2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NyZWVuLmhhbGZEcmF3V2lkdGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZHJhd0hlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JlZW4uZHJhd0hlaWdodH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoYWxmRHJhd0hlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JlZW4uaGFsZkRyYXdIZWlnaHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNIaURwaVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JlZW4uaXNIaURwaX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzdGF0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWJ1Zy5zdGF0c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0Z1bGxzY3JlZW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NyZWVuLmlzRnVsbFNjcmVlbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkaXNwbGF5TW9kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JlZW4uZGlzcGxheU1vZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGl4ZWxSYXRpb1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JlZW4ucGl4ZWxSYXRpb30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUub25jZS5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5nZXRXb3JsZEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcmVlbi5nZXRXb3JsZEJvdW5kcygpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ0aW1lc2NhbGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWVzY2FsZX0sc2V0OmZ1bmN0aW9uKHQpe3Q8PTA/Ui5nZXRJbnN0YW5jZSgpLmVycm9yKFwiQ2Fubm90IHNldCBlbmdpbmUudGltZXNjYWxlIHRvIGEgdmFsdWUgb2YgMCBvciBsZXNzIHRoYW4gMC5cIik6dGhpcy5fdGltZXNjYWxlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucGxheUFuaW1hdGlvbj1mdW5jdGlvbih0LGUsbil7dGhpcy5fYW5pbWF0aW9ucy5wdXNoKG5ldyBwcih0LGUsbikpfSxlLnByb3RvdHlwZS5hZGRUaWxlTWFwPWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudFNjZW5lLmFkZFRpbGVNYXAodCl9LGUucHJvdG90eXBlLnJlbW92ZVRpbGVNYXA9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50U2NlbmUucmVtb3ZlVGlsZU1hcCh0KX0sZS5wcm90b3R5cGUuYWRkVGltZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3VycmVudFNjZW5lLmFkZFRpbWVyKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVUaW1lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jdXJyZW50U2NlbmUucmVtb3ZlVGltZXIodCl9LGUucHJvdG90eXBlLmFkZFNjZW5lPWZ1bmN0aW9uKHQsZSl7dGhpcy5zY2VuZXNbdF0mJnRoaXMuX2xvZ2dlci53YXJuKFwiU2NlbmVcIix0LFwiYWxyZWFkeSBleGlzdHMgb3ZlcndyaXRpbmdcIiksdGhpcy5zY2VuZXNbdF09ZX0sZS5wcm90b3R5cGUucmVtb3ZlU2NlbmU9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIHhpKWZvcih2YXIgZSBpbiB0aGlzLnNjZW5lcyl0aGlzLnNjZW5lcy5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5zY2VuZXNbZV09PT10JiZkZWxldGUgdGhpcy5zY2VuZXNbZV07XCJzdHJpbmdcIj09dHlwZW9mIHQmJmRlbGV0ZSB0aGlzLnNjZW5lc1t0XX0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBQbj90aGlzLmN1cnJlbnRTY2VuZS5hZGRTY3JlZW5FbGVtZW50KHQpOih0IGluc3RhbmNlb2YgYm4mJnRoaXMuX2FkZENoaWxkKHQpLHQgaW5zdGFuY2VvZiBFbiYmdGhpcy5hZGRUaW1lcih0KSx0IGluc3RhbmNlb2YgQ24mJnRoaXMuYWRkVGlsZU1hcCh0KSwyPT09YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5hZGRTY2VuZShhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdKSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgUG4/dGhpcy5jdXJyZW50U2NlbmUucmVtb3ZlU2NyZWVuRWxlbWVudCh0KToodCBpbnN0YW5jZW9mIGJuJiZ0aGlzLl9yZW1vdmVDaGlsZCh0KSx0IGluc3RhbmNlb2YgRW4mJnRoaXMucmVtb3ZlVGltZXIodCksdCBpbnN0YW5jZW9mIENuJiZ0aGlzLnJlbW92ZVRpbGVNYXAodCksdCBpbnN0YW5jZW9mIHhpJiZ0aGlzLnJlbW92ZVNjZW5lKHQpLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0aGlzLnJlbW92ZVNjZW5lKHQpKX0sZS5wcm90b3R5cGUuX2FkZENoaWxkPWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudFNjZW5lLmFkZCh0KX0sZS5wcm90b3R5cGUuX3JlbW92ZUNoaWxkPWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudFNjZW5lLnJlbW92ZSh0KX0sZS5wcm90b3R5cGUuZ29Ub1NjZW5lPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2NlbmVzW3RdKXt2YXIgZT10aGlzLmN1cnJlbnRTY2VuZSxuPXRoaXMuc2NlbmVzW3RdO3RoaXMuX2xvZ2dlci5kZWJ1ZyhcIkdvaW5nIHRvIHNjZW5lOlwiLHQpLHRoaXMuY3VycmVudFNjZW5lLmlzSW5pdGlhbGl6ZWQmJih0aGlzLmN1cnJlbnRTY2VuZS5fZGVhY3RpdmF0ZS5jYWxsKHRoaXMuY3VycmVudFNjZW5lLFtlLG5dKSx0aGlzLmN1cnJlbnRTY2VuZS5ldmVudERpc3BhdGNoZXIuZW1pdChcImRlYWN0aXZhdGVcIixuZXcgSXQobix0aGlzLmN1cnJlbnRTY2VuZSkpKSx0aGlzLmN1cnJlbnRTY2VuZT1uLHRoaXMuc2NyZWVuLnNldEN1cnJlbnRDYW1lcmEobi5jYW1lcmEpLHRoaXMuY3VycmVudFNjZW5lLl9pbml0aWFsaXplKHRoaXMpLHRoaXMuY3VycmVudFNjZW5lLl9hY3RpdmF0ZS5jYWxsKHRoaXMuY3VycmVudFNjZW5lLFtlLG5dKSx0aGlzLmN1cnJlbnRTY2VuZS5ldmVudERpc3BhdGNoZXIuZW1pdChcImFjdGl2YXRlXCIsbmV3IEZ0KGUsdGhpcy5jdXJyZW50U2NlbmUpKX1lbHNlIHRoaXMuX2xvZ2dlci5lcnJvcihcIlNjZW5lXCIsdCxcImRvZXMgbm90IGV4aXN0IVwiKX0sZS5wcm90b3R5cGUuc2NyZWVuVG9Xb3JsZENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNjcmVlbi5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXModCl9LGUucHJvdG90eXBlLndvcmxkVG9TY3JlZW5Db29yZGluYXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zY3JlZW4ud29ybGRUb1NjcmVlbkNvb3JkaW5hdGVzKHQpfSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZSxuLGk9dGhpczt0aGlzLnBhZ2VTY3JvbGxQcmV2ZW50aW9uTW9kZT10LnNjcm9sbFByZXZlbnRpb25Nb2RlLHRoaXMuaW5wdXQ9e2tleWJvYXJkOm5ldyBraSxwb2ludGVyczpuZXcgZXIodGhpcyksZ2FtZXBhZHM6bmV3IGlyfSx0aGlzLmlucHV0LmtleWJvYXJkLmluaXQoKSx0aGlzLmlucHV0LnBvaW50ZXJzLmluaXQodCYmdC5wb2ludGVyU2NvcGU9PT1NaS5Eb2N1bWVudD9kb2N1bWVudDp0aGlzLmNhbnZhcyksdGhpcy5pbnB1dC5nYW1lcGFkcy5pbml0KCksdm9pZCAwIT09ZG9jdW1lbnQuaGlkZGVuPyhlPVwiaGlkZGVuXCIsbj1cInZpc2liaWxpdHljaGFuZ2VcIik6XCJtc0hpZGRlblwiaW4gZG9jdW1lbnQ/KGU9XCJtc0hpZGRlblwiLG49XCJtc3Zpc2liaWxpdHljaGFuZ2VcIik6XCJ3ZWJraXRIaWRkZW5cImluIGRvY3VtZW50JiYoZT1cIndlYmtpdEhpZGRlblwiLG49XCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCIpLHRoaXMuYnJvd3Nlci5kb2N1bWVudC5vbihuLChmdW5jdGlvbigpe2RvY3VtZW50W2VdPyhpLmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwiaGlkZGVuXCIsbmV3IEJ0KGkpKSxpLl9sb2dnZXIuZGVidWcoXCJXaW5kb3cgaGlkZGVuXCIpKTooaS5ldmVudERpc3BhdGNoZXIuZW1pdChcInZpc2libGVcIixuZXcgVHQoaSkpLGkuX2xvZ2dlci5kZWJ1ZyhcIldpbmRvdyB2aXNpYmxlXCIpKX0pKSx0aGlzLmNhbnZhc0VsZW1lbnRJZHx8dC5jYW52YXNFbGVtZW50fHxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKX0sZS5wcm90b3R5cGUub25Jbml0aWFsaXplPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuc2V0QW50aWFsaWFzaW5nPWZ1bmN0aW9uKHQpe3RoaXMuc2NyZWVuLmFudGlhbGlhc2luZz10fSxlLnByb3RvdHlwZS5nZXRBbnRpYWxpYXNpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JlZW4uYW50aWFsaWFzaW5nfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0luaXRpYWxpemVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0luaXRpYWxpemVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9vdmVycmlkZUluaXRpYWxpemU9ZnVuY3Rpb24oZSl7dGhpcy5pc0luaXRpYWxpemVkfHwodGhpcy5vbkluaXRpYWxpemUoZSksdC5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJpbml0aWFsaXplXCIsbmV3IGp0KGUsdGhpcykpLHRoaXMuX2lzSW5pdGlhbGl6ZWQ9ITApfSxlLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2lzTG9hZGluZylyZXR1cm4gdGhpcy5fbG9hZGVyLnVwZGF0ZSh0aGlzLHQpLHRoaXMuaW5wdXQua2V5Ym9hcmQudXBkYXRlKCksdGhpcy5pbnB1dC5wb2ludGVycy51cGRhdGUoKSx2b2lkIHRoaXMuaW5wdXQuZ2FtZXBhZHMudXBkYXRlKCk7dGhpcy5fb3ZlcnJpZGVJbml0aWFsaXplKHRoaXMpLHRoaXMuX3ByZXVwZGF0ZSh0KSx0aGlzLmN1cnJlbnRTY2VuZS51cGRhdGUodGhpcyx0KSx0aGlzLl9hbmltYXRpb25zPXRoaXMuX2FuaW1hdGlvbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hdC5hbmltYXRpb24uaXNEb25lKCl9KSksdGhpcy5pbnB1dC5rZXlib2FyZC51cGRhdGUoKSx0aGlzLmlucHV0LnBvaW50ZXJzLnVwZGF0ZSgpLHRoaXMuaW5wdXQuZ2FtZXBhZHMudXBkYXRlKCksdGhpcy5fcG9zdHVwZGF0ZSh0KX0sZS5wcm90b3R5cGUuX3ByZXVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJwcmV1cGRhdGVcIixuZXcgbXQodGhpcyx0LHRoaXMpKSx0aGlzLm9uUHJlVXBkYXRlKHRoaXMsdCl9LGUucHJvdG90eXBlLm9uUHJlVXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5fcG9zdHVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJwb3N0dXBkYXRlXCIsbmV3IGJ0KHRoaXMsdCx0aGlzKSksdGhpcy5vblBvc3RVcGRhdGUodGhpcyx0KX0sZS5wcm90b3R5cGUub25Qb3N0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5fZHJhdz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN0eDtpZih0aGlzLl9wcmVkcmF3KGUsdCksdGhpcy5faXNMb2FkaW5nKXRoaXMuX2xvYWRlci5kcmF3KGUsdCk7ZWxzZXtlLmNsZWFyUmVjdCgwLDAsdGhpcy5jYW52YXNXaWR0aCx0aGlzLmNhbnZhc0hlaWdodCksZS5maWxsU3R5bGU9dGhpcy5iYWNrZ3JvdW5kQ29sb3IudG9TdHJpbmcoKSxlLmZpbGxSZWN0KDAsMCx0aGlzLmNhbnZhc1dpZHRoLHRoaXMuY2FudmFzSGVpZ2h0KSx0aGlzLmN1cnJlbnRTY2VuZS5kcmF3KHRoaXMuY3R4LHQpO2Zvcih2YXIgbj0wLGk9dGhpcy5fYW5pbWF0aW9ucy5sZW5ndGg7bjxpO24rKyl0aGlzLl9hbmltYXRpb25zW25dLmFuaW1hdGlvbi5kcmF3KGUsdGhpcy5fYW5pbWF0aW9uc1tuXS54LHRoaXMuX2FuaW1hdGlvbnNbbl0ueSk7aWYodGhpcy5pc0RlYnVnKXt0aGlzLmN0eC5mb250PVwiQ29uc29sYXNcIix0aGlzLmN0eC5maWxsU3R5bGU9dGhpcy5kZWJ1Z0NvbG9yLnRvU3RyaW5nKCk7Zm9yKHZhciByPXRoaXMuaW5wdXQua2V5Ym9hcmQuZ2V0S2V5cygpLG89MDtvPHIubGVuZ3RoO28rKyl0aGlzLmN0eC5maWxsVGV4dChyW29dLnRvU3RyaW5nKCkrXCIgOiBcIisoUGlbcltvXV0/UGlbcltvXV06XCJOb3QgTWFwcGVkXCIpLDEwMCwxMCpvKzEwKTt0aGlzLmN0eC5maWxsVGV4dChcIkZQUzpcIit0aGlzLnN0YXRzLmN1cnJGcmFtZS5mcHMudG9GaXhlZCgyKS50b1N0cmluZygpLDEwLDEwKX1mb3IodmFyIHM9MDtzPHRoaXMucG9zdFByb2Nlc3NvcnMubGVuZ3RoO3MrKyl0aGlzLnBvc3RQcm9jZXNzb3JzW3NdLnByb2Nlc3ModGhpcy5jdHguZ2V0SW1hZ2VEYXRhKDAsMCx0aGlzLmNhbnZhc1dpZHRoLHRoaXMuY2FudmFzSGVpZ2h0KSx0aGlzLmN0eCk7dGhpcy5fcG9zdGRyYXcoZSx0KX19LGUucHJvdG90eXBlLl9wcmVkcmF3PWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicHJlZHJhd1wiLG5ldyB5dCh0LGUsdGhpcykpLHRoaXMub25QcmVEcmF3KHQsZSl9LGUucHJvdG90eXBlLm9uUHJlRHJhdz1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuX3Bvc3RkcmF3PWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicG9zdGRyYXdcIixuZXcgZ3QodCxlLHRoaXMpKSx0aGlzLm9uUG9zdERyYXcodCxlKX0sZS5wcm90b3R5cGUub25Qb3N0RHJhdz1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCl7dmFyIG4saT10aGlzO3JldHVybiB0aGlzLl9jb21wYXRpYmxlPyh0aGlzLnNjcmVlbi5wdXNoUmVzb2x1dGlvbkFuZFZpZXdwb3J0KCksdGhpcy5zY3JlZW4ucmVzb2x1dGlvbj10aGlzLnNjcmVlbi52aWV3cG9ydCx0aGlzLnNjcmVlbi5hcHBseVJlc29sdXRpb25BbmRWaWV3cG9ydCgpLHQ/KHRoaXMuX2xvYWRlcj10LHRoaXMuX2xvYWRlci5zdXBwcmVzc1BsYXlCdXR0b249dGhpcy5fc3VwcHJlc3NQbGF5QnV0dG9ufHx0aGlzLl9sb2FkZXIuc3VwcHJlc3NQbGF5QnV0dG9uLHRoaXMuX2xvYWRlci53aXJlRW5naW5lKHRoaXMpLG49dGhpcy5sb2FkKHRoaXMuX2xvYWRlcikpOm49ZC5yZXNvbHZlKCksbi50aGVuKChmdW5jdGlvbigpe2kuc2NyZWVuLnBvcFJlc29sdXRpb25BbmRWaWV3cG9ydCgpLGkuc2NyZWVuLmFwcGx5UmVzb2x1dGlvbkFuZFZpZXdwb3J0KCksaS5lbWl0KFwic3RhcnRcIixuZXcgZHQoaSkpfSkpLHRoaXMuX2hhc1N0YXJ0ZWR8fCh0aGlzLl9oYXNTdGFydGVkPSEwLHRoaXMuX2xvZ2dlci5kZWJ1ZyhcIlN0YXJ0aW5nIGdhbWUuLi5cIiksdGhpcy5icm93c2VyLnJlc3VtZSgpLGUuY3JlYXRlTWFpbkxvb3AodGhpcyx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLERhdGUubm93KSgpLHRoaXMuX2xvZ2dlci5kZWJ1ZyhcIkdhbWUgc3RhcnRlZFwiKSksbik6KG5ldyBkKS5yZWplY3QoXCJFeGNhbGlidXIgaXMgaW5jb21wYXRpYmxlIHdpdGggeW91ciBicm93c2VyXCIpfSxlLmNyZWF0ZU1haW5Mb29wPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKCk7cmV0dXJuIGZ1bmN0aW9uIHIoKXtpZih0Ll9oYXNTdGFydGVkKXRyeXt0Ll9yZXF1ZXN0SWQ9ZShyKSx0LmVtaXQoXCJwcmVmcmFtZVwiLG5ldyB3dCh0LHQuc3RhdHMucHJldkZyYW1lKSk7dmFyIG89bigpLHM9TWF0aC5mbG9vcihvLWkpfHwxO3M+MjAwJiYocz0xKTt2YXIgYT1zKnQudGltZXNjYWxlLGM9dC5zdGF0cy5wcmV2RnJhbWUuaWQrMTt0LnN0YXRzLmN1cnJGcmFtZS5yZXNldCgpLHQuc3RhdHMuY3VyckZyYW1lLmlkPWMsdC5zdGF0cy5jdXJyRnJhbWUuZGVsdGE9YSx0LnN0YXRzLmN1cnJGcmFtZS5mcHM9MS8oYS8xZTMpO3ZhciBoPW4oKTt0Ll91cGRhdGUoYSk7dmFyIHU9bigpO3QuX2RyYXcoYSk7dmFyIGw9bigpO3Quc3RhdHMuY3VyckZyYW1lLmR1cmF0aW9uLnVwZGF0ZT11LWgsdC5zdGF0cy5jdXJyRnJhbWUuZHVyYXRpb24uZHJhdz1sLXUsaT1vLHQuZW1pdChcInBvc3RmcmFtZVwiLG5ldyB4dCh0LHQuc3RhdHMuY3VyckZyYW1lKSksdC5zdGF0cy5wcmV2RnJhbWUucmVzZXQodC5zdGF0cy5jdXJyRnJhbWUpfWNhdGNoKGUpe3dpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0Ll9yZXF1ZXN0SWQpLHQuc3RvcCgpLHQub25GYXRhbEV4Y2VwdGlvbihlKX19fSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5faGFzU3RhcnRlZCYmKHRoaXMuZW1pdChcInN0b3BcIixuZXcgZnQodGhpcykpLHRoaXMuYnJvd3Nlci5wYXVzZSgpLHRoaXMuX2hhc1N0YXJ0ZWQ9ITEsdGhpcy5fbG9nZ2VyLmRlYnVnKFwiR2FtZSBzdG9wcGVkXCIpKX0sZS5wcm90b3R5cGUuaXNQYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5faGFzU3RhcnRlZH0sZS5wcm90b3R5cGUuc2NyZWVuc2hvdD1mdW5jdGlvbigpe3ZhciB0PW5ldyBJbWFnZSxlPXRoaXMuY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtyZXR1cm4gdC5zcmM9ZSx0fSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1uZXcgZDtyZXR1cm4gdGhpcy5faXNMb2FkaW5nPSEwLHQubG9hZCgpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5fc3VwcHJlc3NQbGF5QnV0dG9uP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5faXNMb2FkaW5nPSExLG4ucmVzb2x2ZSgpfSksNTAwKTooZS5faXNMb2FkaW5nPSExLG4ucmVzb2x2ZSgpKX0pKSxufSxlLl9EZWZhdWx0RW5naW5lT3B0aW9ucz17d2lkdGg6MCxoZWlnaHQ6MCxlbmFibGVDYW52YXNUcmFuc3BhcmVuY3k6ITAsY2FudmFzRWxlbWVudElkOlwiXCIsY2FudmFzRWxlbWVudDp2b2lkIDAscG9pbnRlclNjb3BlOk1pLkRvY3VtZW50LHN1cHByZXNzQ29uc29sZUJvb3RNZXNzYWdlOm51bGwsc3VwcHJlc3NNaW5pbXVtQnJvd3NlckZlYXR1cmVEZXRlY3Rpb246bnVsbCxzdXBwcmVzc0hpRFBJU2NhbGluZzpudWxsLHN1cHByZXNzUGxheUJ1dHRvbjpudWxsLHNjcm9sbFByZXZlbnRpb25Nb2RlOm9yLkNhbnZhcyxiYWNrZ3JvdW5kQ29sb3I6ZXQuZnJvbUhleChcIiMyMTg1ZDBcIil9LGV9KGVlKSxwcj1mdW5jdGlvbih0LGUsbil7dGhpcy5hbmltYXRpb249dCx0aGlzLng9ZSx0aGlzLnk9bn0sZHI9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKGUsbil9O3JldHVybiBmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCksZnI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPVwiTWVkaWFFdmVudFwiKTt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkudGFyZ2V0PWUsaS5fbmFtZT1uLGl9cmV0dXJuIGRyKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYnViYmxlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sc2V0OmZ1bmN0aW9uKHQpe30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJfcGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKHQpe30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmFjdGlvbj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUucHJvcGFnYXRlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5sYXlQYXRoPWZ1bmN0aW9uKHQpe30sZX0oaHQpLHlyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlLFwiTmF0aXZlU291bmRFdmVudFwiKXx8dGhpcztyZXR1cm4gaS50cmFjaz1uLGl9cmV0dXJuIGRyKGUsdCksZX0oZnIpLGdyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlLFwiTmF0aXZlU291bmRQcm9jZXNzZWRFdmVudFwiKXx8dGhpcztyZXR1cm4gaS5wcm9jZXNzZWREYXRhPW4saS5kYXRhPWkucHJvY2Vzc2VkRGF0YSxpfXJldHVybiBkcihlLHQpLGV9KGZyKSxfcj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsbil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkoZSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKTshZnVuY3Rpb24odCl7dFt0LkNpcmNsZT0wXT1cIkNpcmNsZVwiLHRbdC5SZWN0YW5nbGU9MV09XCJSZWN0YW5nbGVcIn0odXJ8fCh1cj17fSkpO3ZhciB2cj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsbyxzLGEsYyxoLHUpe3JldHVybiB0LmNhbGwodGhpcyxlLG4saSxyLG8scyxhLGMsaCx1KXx8dGhpc31yZXR1cm4gX3IoZSx0KSxlfShmZShmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSxyLG8scyxhLGMsaCl7dGhpcy5wb3NpdGlvbj1uZXcgVigwLDApLHRoaXMudmVsb2NpdHk9bmV3IFYoMCwwKSx0aGlzLmFjY2VsZXJhdGlvbj1uZXcgVigwLDApLHRoaXMucGFydGljbGVSb3RhdGlvbmFsVmVsb2NpdHk9MCx0aGlzLmN1cnJlbnRSb3RhdGlvbj0wLHRoaXMuZm9jdXM9bnVsbCx0aGlzLmZvY3VzQWNjZWw9MCx0aGlzLm9wYWNpdHk9MSx0aGlzLmJlZ2luQ29sb3I9ZXQuV2hpdGUsdGhpcy5lbmRDb2xvcj1ldC5XaGl0ZSx0aGlzLmxpZmU9MzAwLHRoaXMuZmFkZUZsYWc9ITEsdGhpcy5fclJhdGU9MSx0aGlzLl9nUmF0ZT0xLHRoaXMuX2JSYXRlPTEsdGhpcy5fYVJhdGU9MCx0aGlzLl9jdXJyZW50Q29sb3I9ZXQuV2hpdGUsdGhpcy5lbWl0dGVyPW51bGwsdGhpcy5wYXJ0aWNsZVNpemU9NSx0aGlzLnBhcnRpY2xlU3ByaXRlPW51bGwsdGhpcy5zaXplUmF0ZT0wLHRoaXMuZWxhcHNlZE11bHRpcGxpZXI9MDt2YXIgdT10O2lmKHUmJiEodCBpbnN0YW5jZW9mIG1yKSl7dmFyIGw9dDt1PWwuZW1pdHRlcixlPWwubGlmZSxuPWwub3BhY2l0eSxyPWwuZW5kQ29sb3IsaT1sLmJlZ2luQ29sb3Isbz1sLnBvc2l0aW9uLHM9bC52ZWxvY2l0eSxhPWwuYWNjZWxlcmF0aW9uLGM9bC5zdGFydFNpemUsaD1sLmVuZFNpemV9dGhpcy5lbWl0dGVyPXUsdGhpcy5saWZlPWV8fHRoaXMubGlmZSx0aGlzLm9wYWNpdHk9bnx8dGhpcy5vcGFjaXR5LHRoaXMuZW5kQ29sb3I9cnx8dGhpcy5lbmRDb2xvci5jbG9uZSgpLHRoaXMuYmVnaW5Db2xvcj1pfHx0aGlzLmJlZ2luQ29sb3IuY2xvbmUoKSx0aGlzLl9jdXJyZW50Q29sb3I9dGhpcy5iZWdpbkNvbG9yLmNsb25lKCksdGhpcy5wb3NpdGlvbj1vfHx0aGlzLnBvc2l0aW9uLHRoaXMudmVsb2NpdHk9c3x8dGhpcy52ZWxvY2l0eSx0aGlzLmFjY2VsZXJhdGlvbj1hfHx0aGlzLmFjY2VsZXJhdGlvbix0aGlzLl9yUmF0ZT0odGhpcy5lbmRDb2xvci5yLXRoaXMuYmVnaW5Db2xvci5yKS90aGlzLmxpZmUsdGhpcy5fZ1JhdGU9KHRoaXMuZW5kQ29sb3IuZy10aGlzLmJlZ2luQ29sb3IuZykvdGhpcy5saWZlLHRoaXMuX2JSYXRlPSh0aGlzLmVuZENvbG9yLmItdGhpcy5iZWdpbkNvbG9yLmIpL3RoaXMubGlmZSx0aGlzLl9hUmF0ZT10aGlzLm9wYWNpdHkvdGhpcy5saWZlLHRoaXMuc3RhcnRTaXplPWN8fDAsdGhpcy5lbmRTaXplPWh8fDAsdGhpcy5lbmRTaXplPjAmJnRoaXMuc3RhcnRTaXplPjAmJih0aGlzLnNpemVSYXRlPSh0aGlzLmVuZFNpemUtdGhpcy5zdGFydFNpemUpL3RoaXMubGlmZSx0aGlzLnBhcnRpY2xlU2l6ZT10aGlzLnN0YXJ0U2l6ZSl9cmV0dXJuIHQucHJvdG90eXBlLmtpbGw9ZnVuY3Rpb24oKXt0aGlzLmVtaXR0ZXIucmVtb3ZlUGFydGljbGUodGhpcyl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtpZih0aGlzLmxpZmU9dGhpcy5saWZlLXQsdGhpcy5lbGFwc2VkTXVsdGlwbGllcj10aGlzLmVsYXBzZWRNdWx0aXBsaWVyK3QsdGhpcy5saWZlPDAmJnRoaXMua2lsbCgpLHRoaXMuZmFkZUZsYWcmJih0aGlzLm9wYWNpdHk9bSh0aGlzLl9hUmF0ZSp0aGlzLmxpZmUsMWUtNCwxKSksdGhpcy5zdGFydFNpemU+MCYmdGhpcy5lbmRTaXplPjAmJih0aGlzLnBhcnRpY2xlU2l6ZT1tKHRoaXMuc2l6ZVJhdGUqdCt0aGlzLnBhcnRpY2xlU2l6ZSxNYXRoLm1pbih0aGlzLnN0YXJ0U2l6ZSx0aGlzLmVuZFNpemUpLE1hdGgubWF4KHRoaXMuc3RhcnRTaXplLHRoaXMuZW5kU2l6ZSkpKSx0aGlzLl9jdXJyZW50Q29sb3Iucj1tKHRoaXMuX2N1cnJlbnRDb2xvci5yK3RoaXMuX3JSYXRlKnQsMCwyNTUpLHRoaXMuX2N1cnJlbnRDb2xvci5nPW0odGhpcy5fY3VycmVudENvbG9yLmcrdGhpcy5fZ1JhdGUqdCwwLDI1NSksdGhpcy5fY3VycmVudENvbG9yLmI9bSh0aGlzLl9jdXJyZW50Q29sb3IuYit0aGlzLl9iUmF0ZSp0LDAsMjU1KSx0aGlzLl9jdXJyZW50Q29sb3IuYT1tKHRoaXMub3BhY2l0eSwxZS00LDEpLHRoaXMuZm9jdXMpe3ZhciBlPXRoaXMuZm9jdXMuc3ViKHRoaXMucG9zaXRpb24pLm5vcm1hbGl6ZSgpLnNjYWxlKHRoaXMuZm9jdXNBY2NlbCkuc2NhbGUodC8xZTMpO3RoaXMudmVsb2NpdHk9dGhpcy52ZWxvY2l0eS5hZGQoZSl9ZWxzZSB0aGlzLnZlbG9jaXR5PXRoaXMudmVsb2NpdHkuYWRkKHRoaXMuYWNjZWxlcmF0aW9uLnNjYWxlKHQvMWUzKSk7dGhpcy5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5LnNjYWxlKHQvMWUzKSksdGhpcy5wYXJ0aWNsZVJvdGF0aW9uYWxWZWxvY2l0eSYmKHRoaXMuY3VycmVudFJvdGF0aW9uPSh0aGlzLmN1cnJlbnRSb3RhdGlvbit0aGlzLnBhcnRpY2xlUm90YXRpb25hbFZlbG9jaXR5KnQvMWUzKSUoMipNYXRoLlBJKSl9LHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCl7aWYodGhpcy5wYXJ0aWNsZVNwcml0ZSlyZXR1cm4gdGhpcy5wYXJ0aWNsZVNwcml0ZS5yb3RhdGlvbj10aGlzLmN1cnJlbnRSb3RhdGlvbix0aGlzLnBhcnRpY2xlU3ByaXRlLnNjYWxlLnNldFRvKHRoaXMucGFydGljbGVTaXplLHRoaXMucGFydGljbGVTaXplKSx2b2lkIHRoaXMucGFydGljbGVTcHJpdGUuZHJhdyh0LHRoaXMucG9zaXRpb24ueCx0aGlzLnBvc2l0aW9uLnkpO3RoaXMuX2N1cnJlbnRDb2xvci5hPW0odGhpcy5vcGFjaXR5LDFlLTQsMSksdC5maWxsU3R5bGU9dGhpcy5fY3VycmVudENvbG9yLnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKSx0LmFyYyh0aGlzLnBvc2l0aW9uLngsdGhpcy5wb3NpdGlvbi55LHRoaXMucGFydGljbGVTaXplLDAsMipNYXRoLlBJKSx0LmZpbGwoKSx0LmNsb3NlUGF0aCgpfSx0fSgpKSksbXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuLGkscil8fHRoaXN9cmV0dXJuIF9yKGUsdCksZX0oZmUoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXt2YXIgbz10LmNhbGwodGhpcyxcIm51bWJlclwiPT10eXBlb2YgZT97cG9zOm5ldyBWKGUsbiksd2lkdGg6aSxoZWlnaHQ6cn06ZSl8fHRoaXM7by5udW1QYXJ0aWNsZXM9MCxvLmlzRW1pdHRpbmc9ITAsby5wYXJ0aWNsZXM9bnVsbCxvLmRlYWRQYXJ0aWNsZXM9bnVsbCxvLm1pblZlbD0wLG8ubWF4VmVsPTAsby5hY2NlbGVyYXRpb249bmV3IFYoMCwwKSxvLm1pbkFuZ2xlPTAsby5tYXhBbmdsZT0wLG8uZW1pdFJhdGU9MSxvLnBhcnRpY2xlTGlmZT0yZTMsby5vcGFjaXR5PTEsby5mYWRlRmxhZz0hMSxvLmZvY3VzPW51bGwsby5mb2N1c0FjY2VsPTEsby5zdGFydFNpemU9bnVsbCxvLmVuZFNpemU9bnVsbCxvLm1pblNpemU9NSxvLm1heFNpemU9NSxvLmJlZ2luQ29sb3I9ZXQuV2hpdGUsby5lbmRDb2xvcj1ldC5XaGl0ZSxvLnBhcnRpY2xlU3ByaXRlPW51bGwsby5lbWl0dGVyVHlwZT11ci5SZWN0YW5nbGUsby5yYWRpdXM9MCxvLnBhcnRpY2xlUm90YXRpb25hbFZlbG9jaXR5PTAsby5yYW5kb21Sb3RhdGlvbj0hMSxvLl9wYXJ0aWNsZXNUb0VtaXQ9MCxvLmJvZHkuY29sbGlkZXIudHlwZT1jdC5QcmV2ZW50Q29sbGlzaW9uLG8ucGFydGljbGVzPW5ldyBELG8uZGVhZFBhcnRpY2xlcz1uZXcgRCxvLnJhbmRvbT1uZXcgZjtmb3IodmFyIHM9MDtzPG8udHJhaXRzLmxlbmd0aDtzKyspby50cmFpdHNbc11pbnN0YW5jZW9mIFplJiZvLnRyYWl0cy5zcGxpY2UocywxKTtyZXR1cm4gb31yZXR1cm4gX3IoZSx0KSxlLnByb3RvdHlwZS5yZW1vdmVQYXJ0aWNsZT1mdW5jdGlvbih0KXt0aGlzLmRlYWRQYXJ0aWNsZXMucHVzaCh0KX0sZS5wcm90b3R5cGUuZW1pdFBhcnRpY2xlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQ7ZSsrKXRoaXMucGFydGljbGVzLnB1c2godGhpcy5fY3JlYXRlUGFydGljbGUoKSl9LGUucHJvdG90eXBlLmNsZWFyUGFydGljbGVzPWZ1bmN0aW9uKCl7dGhpcy5wYXJ0aWNsZXMuY2xlYXIoKX0sZS5wcm90b3R5cGUuX2NyZWF0ZVBhcnRpY2xlPWZ1bmN0aW9uKCl7dmFyIHQ9MCxlPTAsbj1iKHRoaXMubWluQW5nbGUsdGhpcy5tYXhBbmdsZSx0aGlzLnJhbmRvbSksaT1iKHRoaXMubWluVmVsLHRoaXMubWF4VmVsLHRoaXMucmFuZG9tKSxyPXRoaXMuc3RhcnRTaXplfHxiKHRoaXMubWluU2l6ZSx0aGlzLm1heFNpemUsdGhpcy5yYW5kb20pLG89aSpNYXRoLmNvcyhuKSxzPWkqTWF0aC5zaW4obik7aWYodGhpcy5lbWl0dGVyVHlwZT09PXVyLlJlY3RhbmdsZSl0PWIodGhpcy5wb3MueCx0aGlzLnBvcy54K3RoaXMud2lkdGgsdGhpcy5yYW5kb20pLGU9Yih0aGlzLnBvcy55LHRoaXMucG9zLnkrdGhpcy5oZWlnaHQsdGhpcy5yYW5kb20pO2Vsc2UgaWYodGhpcy5lbWl0dGVyVHlwZT09PXVyLkNpcmNsZSl7dmFyIGE9YigwLHRoaXMucmFkaXVzLHRoaXMucmFuZG9tKTt0PWEqTWF0aC5jb3MobikrdGhpcy5wb3MueCxlPWEqTWF0aC5zaW4obikrdGhpcy5wb3MueX12YXIgYz1uZXcgdnIodGhpcyx0aGlzLnBhcnRpY2xlTGlmZSx0aGlzLm9wYWNpdHksdGhpcy5iZWdpbkNvbG9yLHRoaXMuZW5kQ29sb3IsbmV3IFYodCxlKSxuZXcgVihvLHMpLHRoaXMuYWNjZWxlcmF0aW9uLHRoaXMuc3RhcnRTaXplLHRoaXMuZW5kU2l6ZSk7cmV0dXJuIGMuZmFkZUZsYWc9dGhpcy5mYWRlRmxhZyxjLnBhcnRpY2xlU2l6ZT1yLHRoaXMucGFydGljbGVTcHJpdGUmJihjLnBhcnRpY2xlU3ByaXRlPXRoaXMucGFydGljbGVTcHJpdGUpLGMucGFydGljbGVSb3RhdGlvbmFsVmVsb2NpdHk9dGhpcy5wYXJ0aWNsZVJvdGF0aW9uYWxWZWxvY2l0eSx0aGlzLnJhbmRvbVJvdGF0aW9uJiYoYy5jdXJyZW50Um90YXRpb249YigwLDIqTWF0aC5QSSx0aGlzLnJhbmRvbSkpLHRoaXMuZm9jdXMmJihjLmZvY3VzPXRoaXMuZm9jdXMuYWRkKG5ldyBWKHRoaXMucG9zLngsdGhpcy5wb3MueSkpLGMuZm9jdXNBY2NlbD10aGlzLmZvY3VzQWNjZWwpLGN9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLG4pe3ZhciBpPXRoaXM7dC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyxlLG4pLHRoaXMuaXNFbWl0dGluZyYmKHRoaXMuX3BhcnRpY2xlc1RvRW1pdCs9dGhpcy5lbWl0UmF0ZSoobi8xZTMpLHRoaXMuX3BhcnRpY2xlc1RvRW1pdD4xJiYodGhpcy5lbWl0UGFydGljbGVzKE1hdGguZmxvb3IodGhpcy5fcGFydGljbGVzVG9FbWl0KSksdGhpcy5fcGFydGljbGVzVG9FbWl0PXRoaXMuX3BhcnRpY2xlc1RvRW1pdC1NYXRoLmZsb29yKHRoaXMuX3BhcnRpY2xlc1RvRW1pdCkpKSx0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC51cGRhdGUobil9KSksdGhpcy5kZWFkUGFydGljbGVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBpLnBhcnRpY2xlcy5yZW1vdmVFbGVtZW50KHQpfSkpLHRoaXMuZGVhZFBhcnRpY2xlcy5jbGVhcigpfSxlLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQpe3RoaXMucGFydGljbGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRyYXcodCl9KSl9LGUucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5kZWJ1Z0RyYXcuY2FsbCh0aGlzLGUpLGUuZmlsbFN0eWxlPWV0LkJsYWNrLnRvU3RyaW5nKCksZS5maWxsVGV4dChcIlBhcnRpY2xlczogXCIrdGhpcy5wYXJ0aWNsZXMuY291bnQoKSx0aGlzLnBvcy54LHRoaXMucG9zLnkrMjApLHRoaXMuZm9jdXMmJihlLmZpbGxSZWN0KHRoaXMuZm9jdXMueCt0aGlzLnBvcy54LHRoaXMuZm9jdXMueSt0aGlzLnBvcy55LDMsMyksWWUoZSxldC5ZZWxsb3csdGhpcy5mb2N1cy54K3RoaXMucG9zLngsdGhpcy5mb2N1cy55K3RoaXMucG9zLnksdGhpcy5jZW50ZXIueCx0aGlzLmNlbnRlci55KSxlLmZpbGxUZXh0KFwiRm9jdXNcIix0aGlzLmZvY3VzLngrdGhpcy5wb3MueCx0aGlzLmZvY3VzLnkrdGhpcy5wb3MueSkpfSxlfShibikpKSxicj17QWN0aW9uczpvfSx3cj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuY3JlYXRlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fY3VycmVudEdyb3VwPnRoaXMuX01BWF9HUk9VUFMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGhhdmUgbW9yZSB0aGFuIFwiK3RoaXMuX01BWF9HUk9VUFMrXCIgY29sbGlzaW9uIGdyb3Vwc1wiKTtpZih0aGlzLl9ncm91cHMuZ2V0KHQpKXRocm93IG5ldyBFcnJvcihcIkNvbGxpc2lvbiBncm91cCBcIit0K1wiIGFscmVhZHkgZXhpc3RzXCIpO3ZhciBuPW5ldyBubih0LHRoaXMuX2N1cnJlbnRCaXQsdm9pZCAwIT09ZT9lOn50aGlzLl9jdXJyZW50Qml0KTtyZXR1cm4gdGhpcy5fY3VycmVudEJpdD10aGlzLl9jdXJyZW50Qml0PDwxfDAsdGhpcy5fY3VycmVudEdyb3VwKyssdGhpcy5fZ3JvdXBzLnNldCh0LG4pLG59LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ3JvdXBzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2dyb3Vwcy52YWx1ZXMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5ncm91cEJ5TmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ3JvdXBzLmdldCh0KX0sdC5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2dyb3Vwcz1uZXcgTWFwLHRoaXMuX2N1cnJlbnRCaXQ9dGhpcy5fU1RBUlRJTkdfQklULHRoaXMuX2N1cnJlbnRHcm91cD0xfSx0Ll9TVEFSVElOR19CSVQ9MSx0Ll9NQVhfR1JPVVBTPTMyLHQuX2N1cnJlbnRHcm91cD0xLHQuX2N1cnJlbnRCaXQ9dC5fU1RBUlRJTkdfQklULHQuX2dyb3Vwcz1uZXcgTWFwLHR9KCkseHI9ZnVuY3Rpb24oKXtyZXR1cm4oeHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKylmb3IodmFyIHIgaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxQcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5saW5lV2lkdGg9NSx0aGlzLmZpbGxlZD0hMSx0aGlzLl9wb2ludHM9W10sdGhpcy5hbmNob3I9Vi5aZXJvLHRoaXMub2Zmc2V0PVYuWmVybyx0aGlzLnJvdGF0aW9uPTAsdGhpcy5zY2FsZT1WLk9uZSx0aGlzLm9wYWNpdHk9MSx0aGlzLl9wb2ludHM9dDt2YXIgZT10aGlzLl9wb2ludHMucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1pbih0LGUueCl9KSwwKSxuPXRoaXMuX3BvaW50cy5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWF4KHQsZS54KX0pLDApO3RoaXMuZHJhd1dpZHRoPW4tZTt2YXIgaT10aGlzLl9wb2ludHMucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1pbih0LGUueSl9KSwwKSxyPXRoaXMuX3BvaW50cy5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWF4KHQsZS55KX0pLDApO3RoaXMuZHJhd0hlaWdodD1yLWksdGhpcy5oZWlnaHQ9dGhpcy5kcmF3SGVpZ2h0LHRoaXMud2lkdGg9dGhpcy5kcmF3V2lkdGh9cmV0dXJuIHQucHJvdG90eXBlLmFkZEVmZmVjdD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucmVtb3ZlRWZmZWN0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5jbGVhckVmZmVjdHM9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxuKXt0IGluc3RhbmNlb2YgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEP3RoaXMuX2RyYXdXaXRoT3B0aW9ucyh7Y3R4OnQseDplLHk6bn0pOnRoaXMuX2RyYXdXaXRoT3B0aW9ucyh0KX0sdC5wcm90b3R5cGUuX2RyYXdXaXRoT3B0aW9ucz1mdW5jdGlvbih0KXt2YXIgZSxuLGkscixvLHMsYSxjLGg9eHIoeHIoe30sdCkse3JvdGF0aW9uOm51bGwhPT0oZT10LnJvdGF0aW9uKSYmdm9pZCAwIT09ZT9lOnRoaXMucm90YXRpb24sZHJhd1dpZHRoOm51bGwhPT0obj10LmRyYXdXaWR0aCkmJnZvaWQgMCE9PW4/bjp0aGlzLmRyYXdXaWR0aCxkcmF3SGVpZ2h0Om51bGwhPT0oaT10LmRyYXdIZWlnaHQpJiZ2b2lkIDAhPT1pP2k6dGhpcy5kcmF3SGVpZ2h0LGZsaXBIb3Jpem9udGFsOm51bGwhPT0ocj10LmZsaXBIb3Jpem9udGFsKSYmdm9pZCAwIT09cj9yOnRoaXMuZmxpcEhvcml6b250YWwsZmxpcFZlcnRpY2FsOm51bGwhPT0obz10LmZsaXBWZXJ0aWNhbCkmJnZvaWQgMCE9PW8/bzp0aGlzLmZsaXBWZXJ0aWNhbCxhbmNob3I6bnVsbCE9PShzPXQuYW5jaG9yKSYmdm9pZCAwIT09cz9zOnRoaXMuYW5jaG9yLG9mZnNldDpudWxsIT09KGE9dC5vZmZzZXQpJiZ2b2lkIDAhPT1hP2E6dGhpcy5vZmZzZXQsb3BhY2l0eTpudWxsIT09KGM9dC5vcGFjaXR5KSYmdm9pZCAwIT09Yz9jOnRoaXMub3BhY2l0eX0pLHU9aC5jdHgsbD1oLngscD1oLnksZD1oLnJvdGF0aW9uLGY9aC5kcmF3V2lkdGgseT1oLmRyYXdIZWlnaHQsZz1oLmFuY2hvcixfPWgub2Zmc2V0LHY9aC5vcGFjaXR5LG09aC5mbGlwSG9yaXpvbnRhbCxiPWguZmxpcFZlcnRpY2FsLHc9ZipnLngrXy54K2wseD15KmcueStfLnkrcDt1LnNhdmUoKSx1LnRyYW5zbGF0ZSh3LHgpLHUuc2NhbGUodGhpcy5zY2FsZS54LHRoaXMuc2NhbGUueSksdS5yb3RhdGUoZCksdS5iZWdpblBhdGgoKSx1LmxpbmVXaWR0aD10aGlzLmxpbmVXaWR0aDt2YXIgUD10aGlzLl9wb2ludHNbMF07dS5tb3ZlVG8oUC54LFAueSk7Zm9yKHZhciBBPTAsRT10aGlzLl9wb2ludHMubGVuZ3RoO0E8RTtBKyspdS5saW5lVG8odGhpcy5fcG9pbnRzW0FdLngsdGhpcy5fcG9pbnRzW0FdLnkpO3UubGluZVRvKFAueCxQLnkpLHUuY2xvc2VQYXRoKCksdGhpcy5maWxsZWQmJih1LmZpbGxTdHlsZT10aGlzLmZpbGxDb2xvci50b1N0cmluZygpLHUuZmlsbCgpKSx1LnN0cm9rZVN0eWxlPXRoaXMubGluZUNvbG9yLnRvU3RyaW5nKCksbSYmKHUudHJhbnNsYXRlKGYsMCksdS5zY2FsZSgtMSwxKSksYiYmKHUudHJhbnNsYXRlKDAseSksdS5zY2FsZSgxLC0xKSk7dmFyIFM9dS5nbG9iYWxBbHBoYTt1Lmdsb2JhbEFscGhhPW51bGwhPXY/djoxLHUuc3Ryb2tlKCksdS5nbG9iYWxBbHBoYT1TLHUucmVzdG9yZSgpfSx0fSgpLEFyPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KShlLG4pfTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxuKSxlLnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpLEVyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvLHMpe3JldHVybiB0LmNhbGwodGhpcyxlLG4saSxyLG8scyl8fHRoaXN9cmV0dXJuIEFyKGUsdCksZX0oZmUoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkscixvKXt2YXIgcz10aGlzO3RoaXMuc3ByaXRlcz1bXSx0aGlzLmltYWdlPW51bGwsdGhpcy5jb2x1bW5zPTAsdGhpcy5yb3dzPTAsdGhpcy5zcFdpZHRoPTAsdGhpcy5zcEhlaWdodD0wLHRoaXMuc3BhY2luZz0wO3ZhciBhPSExO2lmKHQgaW5zdGFuY2VvZiBBcnJheT90aGlzLnNwcml0ZXM9dDooIXR8fHQgaW5zdGFuY2VvZiBiZT8odGhpcy5pbWFnZT10LHRoaXMuY29sdW1ucz1lLHRoaXMucm93cz1uLHRoaXMuc3BXaWR0aD1pLHRoaXMuc3BIZWlnaHQ9cix0aGlzLnNwYWNpbmc9b3x8MCk6KHRoaXMuY29sdW1ucz10LmNvbHVtbnMsdGhpcy5yb3dzPXQucm93cyx0aGlzLnNwV2lkdGg9dC5zcFdpZHRoLHRoaXMuc3BIZWlnaHQ9dC5zcEhlaWdodCx0aGlzLmltYWdlPXQuaW1hZ2UsdGhpcy5zcGFjaW5nPXQuc3BhY2luZ3x8MCksdGhpcy5zcHJpdGVzPW5ldyBBcnJheSh0aGlzLmNvbHVtbnMqdGhpcy5yb3dzKSxhPSEwKSx0aGlzLmltYWdlIGluc3RhbmNlb2YgYmUpe3ZhciBjPSExLGg9ITE7aWYodGhpcy5pbWFnZS5sb2FkZWQudGhlbigoZnVuY3Rpb24odCl7Yz1zLnNwV2lkdGgqcy5jb2x1bW5zPnQubmF0dXJhbFdpZHRoLGg9cy5zcEhlaWdodCpzLnJvd3M+dC5uYXR1cmFsSGVpZ2h0fSkpLGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJTcHJpdGVTaGVldCBzcGVjaWZpZWQgaXMgd2lkZXIsIFwiK3RoaXMuY29sdW1ucytcIiBjb2xzIHggXCIrdGhpcy5zcFdpZHRoK1wiIHBpeGVscyA+IFwiK3RoaXMuaW1hZ2UuaW1hZ2UubmF0dXJhbFdpZHRoK1wiIHBpeGVscyB0aGFuIGltYWdlIHdpZHRoXCIpO2lmKGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJTcHJpdGVTaGVldCBzcGVjaWZpZWQgaXMgdGFsbGVyLCBcIit0aGlzLnJvd3MrXCIgcm93cyB4IFwiK3RoaXMuc3BIZWlnaHQrXCIgcGl4ZWxzID4gXCIrdGhpcy5pbWFnZS5pbWFnZS5uYXR1cmFsSGVpZ2h0K1wiIHBpeGVscyB0aGFuIGltYWdlIGhlaWdodFwiKX1pZihhKWZvcih2YXIgdT0wO3U8dGhpcy5yb3dzO3UrKylmb3IodmFyIGw9MDtsPHRoaXMuY29sdW1ucztsKyspdGhpcy5zcHJpdGVzW2wrdSp0aGlzLmNvbHVtbnNdPW5ldyB2ZSh0aGlzLmltYWdlLGwqdGhpcy5zcFdpZHRoK3RoaXMuc3BhY2luZypsK3RoaXMuc3BhY2luZyx1KnRoaXMuc3BIZWlnaHQrdGhpcy5zcGFjaW5nKnUrdGhpcy5zcGFjaW5nLHRoaXMuc3BXaWR0aCx0aGlzLnNwSGVpZ2h0KX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uQnlJbmRpY2VzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBpLnNwcml0ZXNbdF19KSk7cmV0dXJuIHI9ci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsb25lKCl9KSksbmV3IFBlKHQscixuKX0sdC5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uQmV0d2Vlbj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLnNwcml0ZXMuc2xpY2UoZSxuKTtyZXR1cm4gcj1yLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xvbmUoKX0pKSxuZXcgUGUodCxyLGkpfSx0LnByb3RvdHlwZS5nZXRBbmltYXRpb25Gb3JBbGw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnNwcml0ZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9uZSgpfSkpO3JldHVybiBuZXcgUGUodCxuLGUpfSx0LnByb3RvdHlwZS5nZXRTcHJpdGU9ZnVuY3Rpb24odCl7aWYodD49MCYmdDx0aGlzLnNwcml0ZXMubGVuZ3RoKXJldHVybiB0aGlzLnNwcml0ZXNbdF07dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbmRleDogXCIrdCl9LHQucHJvdG90eXBlLmdldEFuaW1hdGlvbkJ5Q29vcmRzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9MCxyPTAsbz1uZXcgQXJyYXkoZS5sZW5ndGgpLHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIGE9ZVtzXTthLmltYWdlPWEuaW1hZ2V8fHRoaXMuaW1hZ2UsaT1NYXRoLm1heChpLGEuZHJhd1dpZHRoKSxyPU1hdGgubWF4KHIsYS5kcmF3SGVpZ2h0KSxvW3NdPW5ldyB2ZShhKX12YXIgYz1uZXcgUGUodCxvLG4pO3JldHVybiBjLmRyYXdXaWR0aD1pLGMuZHJhd0hlaWdodD1yLGN9LHR9KCkpKSxTcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsbyxzLGEsYyl7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbixpLHIsbyxzLGEsYyl8fHRoaXN9cmV0dXJuIEFyKGUsdCksZX0oZmUoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLG8scyxhLGMpe3ZhciBoPXQuY2FsbCh0aGlzLGUgaW5zdGFuY2VvZiBiZT97aW1hZ2U6ZSxzcFdpZHRoOnMsc3BIZWlnaHQ6YSxyb3dzOm8sY29sdW1uczpyLHNwYWNpbmc6Y3x8MH06ZSl8fHRoaXM7cmV0dXJuIGguX2N1cnJlbnRDb2xvcj1ldC5CbGFjayxoLl9jdXJyZW50T3BhY2l0eT0xLGguX3Nwcml0ZXM9e30saC5fdGV4dFNoYWRvd09uPSExLGguX3RleHRTaGFkb3dEaXJ0eT0hMCxoLl90ZXh0U2hhZG93Q29sb3I9ZXQuQmxhY2ssaC5fdGV4dFNoYWRvd1Nwcml0ZXM9e30saC5fc2hhZG93T2Zmc2V0WD01LGguX3NoYWRvd09mZnNldFk9NSwhZXx8ZSBpbnN0YW5jZW9mIGJlfHwobj1lLmFscGhhYmV0LGk9ZS5jYXNlSW5zZW5zaXRpdmUpLGguX2FscGhhYmV0PW4saC5fY2FzZUluc2Vuc2l0aXZlPWksaC5fc3ByaXRlcz1oLmdldFRleHRTcHJpdGVzKCksaH1yZXR1cm4gQXIoZSx0KSxlLnByb3RvdHlwZS5nZXRUZXh0U3ByaXRlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTA7ZTx0aGlzLl9hbHBoYWJldC5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9hbHBoYWJldFtlXTt0aGlzLl9jYXNlSW5zZW5zaXRpdmUmJihuPW4udG9Mb3dlckNhc2UoKSksdFtuXT10aGlzLnNwcml0ZXNbZV0uY2xvbmUoKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuc2V0VGV4dFNoYWRvdz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpIGluIHRoaXMuX3RleHRTaGFkb3dPbj0hMCx0aGlzLl9zaGFkb3dPZmZzZXRYPXQsdGhpcy5fc2hhZG93T2Zmc2V0WT1lLHRoaXMuX3RleHRTaGFkb3dDb2xvcj1uLmNsb25lKCksdGhpcy5fdGV4dFNoYWRvd0RpcnR5PSEwLHRoaXMuX3Nwcml0ZXMpdGhpcy5fdGV4dFNoYWRvd1Nwcml0ZXNbaV09dGhpcy5fc3ByaXRlc1tpXS5jbG9uZSgpfSxlLnByb3RvdHlwZS51c2VUZXh0U2hhZG93PWZ1bmN0aW9uKHQpe3RoaXMuX3RleHRTaGFkb3dPbj10LHQmJnRoaXMuc2V0VGV4dFNoYWRvdyg1LDUsdGhpcy5fdGV4dFNoYWRvd0NvbG9yKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUsbixpLHIpe2lmKHI9dGhpcy5fcGFyc2VPcHRpb25zKHIpLHRoaXMuX2N1cnJlbnRDb2xvci50b1N0cmluZygpIT09ci5jb2xvci50b1N0cmluZygpfHx0aGlzLl9jdXJyZW50T3BhY2l0eSE9PXIub3BhY2l0eSlmb3IodmFyIG8gaW4gdGhpcy5fY3VycmVudE9wYWNpdHk9ci5vcGFjaXR5LHRoaXMuX2N1cnJlbnRDb2xvcj1yLmNvbG9yLHRoaXMuX3Nwcml0ZXMpdGhpcy5fc3ByaXRlc1tvXS5jbGVhckVmZmVjdHMoKSx0aGlzLl9zcHJpdGVzW29dLmZpbGwoci5jb2xvciksdGhpcy5fc3ByaXRlc1tvXS5vcGFjaXR5KHIub3BhY2l0eSk7aWYodGhpcy5fdGV4dFNoYWRvd09uJiZ0aGlzLl90ZXh0U2hhZG93RGlydHkmJnRoaXMuX3RleHRTaGFkb3dDb2xvcil7Zm9yKHZhciBzIGluIHRoaXMuX3RleHRTaGFkb3dTcHJpdGVzKXRoaXMuX3RleHRTaGFkb3dTcHJpdGVzW3NdLmNsZWFyRWZmZWN0cygpLHRoaXMuX3RleHRTaGFkb3dTcHJpdGVzW3NdLmFkZEVmZmVjdChuZXcgcGUodGhpcy5fdGV4dFNoYWRvd0NvbG9yLmNsb25lKCkpKTt0aGlzLl90ZXh0U2hhZG93RGlydHk9ITF9dmFyIGE9dGhpcy5zcHJpdGVzWzBdLGM9YS5kcmF3SGVpZ2h0LGg9ci5mb250U2l6ZS9jLHU9ZS5sZW5ndGgqYS5kcmF3V2lkdGgqaCtlLmxlbmd0aCpyLmxldHRlclNwYWNpbmcsbD1uO3IudGV4dEFsaWduPT09WG4uTGVmdHx8ci50ZXh0QWxpZ249PT1Ybi5TdGFydD9sPW46ci50ZXh0QWxpZ249PT1Ybi5SaWdodHx8ci50ZXh0QWxpZ249PT1Ybi5FbmQ/bD1uLXU6ci50ZXh0QWxpZ249PT1Ybi5DZW50ZXImJihsPW4tdS8yKTt2YXIgcD1pLWMqaDtyLmJhc2VBbGlnbj09PVFuLlRvcHx8ci5iYXNlQWxpZ249PT1Rbi5IYW5naW5nP3A9aTpyLmJhc2VBbGlnbj09PVFuLklkZW9ncmFwaGljfHxyLmJhc2VBbGlnbj09PVFuLkJvdHRvbXx8ci5iYXNlQWxpZ249PT1Rbi5BbHBoYWJldGljP3A9aS1jKmg6ci5iYXNlQWxpZ249PT1Rbi5NaWRkbGUmJihwPWktYypoLzIpO2Zvcih2YXIgZD0wO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgZj1lW2RdO3RoaXMuX2Nhc2VJbnNlbnNpdGl2ZSYmKGY9Zi50b0xvd2VyQ2FzZSgpKTt0cnl7dGhpcy5fdGV4dFNoYWRvd09uJiYodGhpcy5fdGV4dFNoYWRvd1Nwcml0ZXNbZl0uc2NhbGUueD1oLHRoaXMuX3RleHRTaGFkb3dTcHJpdGVzW2ZdLnNjYWxlLnk9aCx0aGlzLl90ZXh0U2hhZG93U3ByaXRlc1tmXS5kcmF3KHQsbCt0aGlzLl9zaGFkb3dPZmZzZXRYLHArdGhpcy5fc2hhZG93T2Zmc2V0WSkpO3ZhciB5PXRoaXMuX3Nwcml0ZXNbZl07eS5zY2FsZS54PWgseS5zY2FsZS55PWgseS5kcmF3KHQsbCxwKSxsKz15LmRyYXdXaWR0aCtyLmxldHRlclNwYWNpbmd9Y2F0Y2godCl7Ui5nZXRJbnN0YW5jZSgpLmVycm9yKFwiU3ByaXRlRm9udCBFcnJvciBkcmF3aW5nIGNoYXIgXCIrZil9fX0sZS5wcm90b3R5cGUuX3BhcnNlT3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm57Zm9udFNpemU6dC5mb250U2l6ZXx8MTAsbGV0dGVyU3BhY2luZzp0LmxldHRlclNwYWNpbmd8fDAsY29sb3I6dC5jb2xvcnx8ZXQuQmxhY2ssdGV4dEFsaWduOnZvaWQgMD09PXR5cGVvZiB0LnRleHRBbGlnbj9Ybi5MZWZ0OnQudGV4dEFsaWduLGJhc2VBbGlnbjp2b2lkIDA9PT10eXBlb2YgdC5iYXNlQWxpZ24/UW4uQm90dG9tOnQuYmFzZUFsaWduLG1heFdpZHRoOnQubWF4V2lkdGh8fC0xLG9wYWNpdHk6dC5vcGFjaXR5fHwwfX0sZX0oRXIpKSksQ3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnR5cGU9e2FueTpcIlwiLGJsb2I6XCJibG9iXCIsanNvbjpcImpzb25cIix0ZXh0OlwidGV4dFwiLGRvY3VtZW50OlwiZG9jdW1lbnRcIixhcnJheWJ1ZmZlcjpcImFycmF5YnVmZmVyXCJ9LHR9KCk7ZnVuY3Rpb24gT3IodCl7cmV0dXJuISF0Ll9pbml0aWFsaXplfWZ1bmN0aW9uIFRyKHQpe3JldHVybiEhdC5vbkluaXRpYWxpemV9ZnVuY3Rpb24gQnIodCl7cmV0dXJuISF0Ll9wcmV1cGRhdGV9ZnVuY3Rpb24gTXIodCl7cmV0dXJuISF0Lm9uUHJlVXBkYXRlfWZ1bmN0aW9uIERyKHQpe3JldHVybiEhdC5vblBvc3RVcGRhdGV9ZnVuY3Rpb24ga3IodCl7cmV0dXJuISF0Lm9uUG9zdFVwZGF0ZX1mdW5jdGlvbiBScih0KXtyZXR1cm4hIXQub25QcmVEcmF3fWZ1bmN0aW9uIGpyKHQpe3JldHVybiEhdC5vblBvc3REcmF3fWZ1bmN0aW9uIEZyKHQsZSxuKXtyZXR1cm4gZSt0KihuLWUpfWZ1bmN0aW9uIElyKHQpe3JldHVybiB0KnQqdCoodCooNip0LTE1KSsxMCl9dmFyIExyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9wZXJtPVsxNTEsMTYwLDEzNyw5MSw5MCwxNSwxMzEsMTMsMjAxLDk1LDk2LDUzLDE5NCwyMzMsNywyMjUsMTQwLDM2LDEwMywzMCw2OSwxNDIsOCw5OSwzNywyNDAsMjEsMTAsMjMsMTkwLDYsMTQ4LDI0NywxMjAsMjM0LDc1LDAsMjYsMTk3LDYyLDk0LDI1MiwyMTksMjAzLDExNywzNSwxMSwzMiw1NywxNzcsMzMsODgsMjM3LDE0OSw1Niw4NywxNzQsMjAsMTI1LDEzNiwxNzEsMTY4LDY4LDE3NSw3NCwxNjUsNzEsMTM0LDEzOSw0OCwyNywxNjYsNzcsMTQ2LDE1OCwyMzEsODMsMTExLDIyOSwxMjIsNjAsMjExLDEzMywyMzAsMjIwLDEwNSw5Miw0MSw1NSw0NiwyNDUsNDAsMjQ0LDEwMiwxNDMsNTQsNjUsMjUsNjMsMTYxLDEsMjE2LDgwLDczLDIwOSw3NiwxMzIsMTg3LDIwOCw4OSwxOCwxNjksMjAwLDE5NiwxMzUsMTMwLDExNiwxODgsMTU5LDg2LDE2NCwxMDAsMTA5LDE5OCwxNzMsMTg2LDMsNjQsNTIsMjE3LDIyNiwyNTAsMTI0LDEyMyw1LDIwMiwzOCwxNDcsMTE4LDEyNiwyNTUsODIsODUsMjEyLDIwNywyMDYsNTksMjI3LDQ3LDE2LDU4LDE3LDE4MiwxODksMjgsNDIsMjIzLDE4MywxNzAsMjEzLDExOSwyNDgsMTUyLDIsNDQsMTU0LDE2Myw3MCwyMjEsMTUzLDEwMSwxNTUsMTY3LDQzLDE3Miw5LDEyOSwyMiwzOSwyNTMsMTksOTgsMTA4LDExMCw3OSwxMTMsMjI0LDIzMiwxNzgsMTg1LDExMiwxMDQsMjE4LDI0Niw5NywyMjgsMjUxLDM0LDI0MiwxOTMsMjM4LDIxMCwxNDQsMTIsMTkxLDE3OSwxNjIsMjQxLDgxLDUxLDE0NSwyMzUsMjQ5LDE0LDIzOSwxMDcsNDksMTkyLDIxNCwzMSwxODEsMTk5LDEwNiwxNTcsMTg0LDg0LDIwNCwxNzYsMTE1LDEyMSw1MCw0NSwxMjcsNCwxNTAsMjU0LDEzOCwyMzYsMjA1LDkzLDIyMiwxMTQsNjcsMjksMjQsNzIsMjQzLDE0MSwxMjgsMTk1LDc4LDY2LDIxNSw2MSwxNTYsMTgwXSx0aGlzLl9wPW5ldyBVaW50OEFycmF5KDUxMiksdGhpcy5fZGVmYXVsdFBlcmxpbk9wdGlvbnM9e29jdGF2ZXM6MSxmcmVxdWVuY3k6MSxhbXBsaXR1ZGU6MSxwZXJzaXN0YW5jZTouNX0sdD1nKHt9LHRoaXMuX2RlZmF1bHRQZXJsaW5PcHRpb25zLHQpLHRoaXMucGVyc2lzdGFuY2U9dC5wZXJzaXN0YW5jZSx0aGlzLmFtcGxpdHVkZT10LmFtcGxpdHVkZSx0aGlzLmZyZXF1ZW5jeT10LmZyZXF1ZW5jeSx0aGlzLm9jdGF2ZXM9dC5vY3RhdmVzLHQuc2VlZD90aGlzLl9yYW5kb209bmV3IGYodC5zZWVkKTp0aGlzLl9yYW5kb209bmV3IGYsdGhpcy5fcGVybT10aGlzLl9yYW5kb20uc2h1ZmZsZSh0aGlzLl9wZXJtKTtmb3IodmFyIGU9MDtlPDUxMjtlKyspdGhpcy5fcFtlXT0yNTUmdGhpcy5fcGVybVtlJTI1Nl19cmV0dXJuIHQucHJvdG90eXBlLm5vaXNlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuYW1wbGl0dWRlLGU9dGhpcy5mcmVxdWVuY3ksbj0wLGk9MCxyPTA7cjx0aGlzLm9jdGF2ZXM7cisrKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOm4rPXRoaXMuX25vaXNlMWQoYXJndW1lbnRzWzBdKmUpKnQ7YnJlYWs7Y2FzZSAyOm4rPXRoaXMuX25vaXNlMmQoYXJndW1lbnRzWzBdKmUsYXJndW1lbnRzWzFdKmUpKnQ7YnJlYWs7Y2FzZSAzOm4rPXRoaXMuX25vaXNlM2QoYXJndW1lbnRzWzBdKmUsYXJndW1lbnRzWzFdKmUsYXJndW1lbnRzWzJdKmUpKnQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBmb3IgcGVybGluIG5vaXNlXCIpfWkrPXQsdCo9dGhpcy5wZXJzaXN0YW5jZSxlKj0yfXJldHVybiBuL2l9LHQucHJvdG90eXBlLnNlcXVlbmNlPWZ1bmN0aW9uKHQsZSl7ZXx8KGU9MS90KTtmb3IodmFyIG49bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKW5baV09dGhpcy5ub2lzZShpKmUpO3JldHVybiBufSx0LnByb3RvdHlwZS5ncmlkPWZ1bmN0aW9uKHQsZSxuKXtufHwobj0xL01hdGgubWluKHQsZSkpO2Zvcih2YXIgaT1uZXcgQXJyYXkodCplKSxyPTA7cjxlO3IrKylmb3IodmFyIG89MDtvPHQ7bysrKWlbbytyKnRdPXRoaXMubm9pc2UobypuLHIqbik7cmV0dXJuIGl9LHQucHJvdG90eXBlLl9ncmFkaWVudDNkPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPTE1JnQsbz1yPDg/ZTpuLHM9cjw0P246MTI9PT1yfHwxND09PXI/ZTppO3JldHVybigwPT0oMSZyKT9vOi1vKSsoMD09KDImcik/czotcyl9LHQucHJvdG90eXBlLl9ncmFkaWVudDJkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT0wPT0oMSZ0KT9lOm47cmV0dXJuIDA9PSgyJnQpPy1pOml9LHQucHJvdG90eXBlLl9ncmFkaWVudDFkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PSgxJnQpPy1lOmV9LHQucHJvdG90eXBlLl9ub2lzZTFkPWZ1bmN0aW9uKHQpe3ZhciBlPTI1NSZNYXRoLmZsb29yKHQpO3JldHVybihGcihJcih0LT1NYXRoLmZsb29yKHQpKSx0aGlzLl9ncmFkaWVudDFkKHRoaXMuX3BbZV0sdCksdGhpcy5fZ3JhZGllbnQxZCh0aGlzLl9wW2UrMV0sdC0xKSkrMSkvMn0sdC5wcm90b3R5cGUuX25vaXNlMmQ9ZnVuY3Rpb24odCxlKXt2YXIgbj0yNTUmTWF0aC5mbG9vcih0KSxpPTI1NSZNYXRoLmZsb29yKGUpO3QtPU1hdGguZmxvb3IodCksZS09TWF0aC5mbG9vcihlKTt2YXIgcj1Jcih0KSxvPUlyKGUpLHM9dGhpcy5fcFtuXStpLGE9dGhpcy5fcFtuKzFdK2k7cmV0dXJuKEZyKG8sRnIocix0aGlzLl9ncmFkaWVudDJkKHRoaXMuX3Bbc10sdCxlKSx0aGlzLl9ncmFkaWVudDJkKHRoaXMuX3BbYV0sdC0xLGUpKSxGcihyLHRoaXMuX2dyYWRpZW50MmQodGhpcy5fcFtzKzFdLHQsZS0xKSx0aGlzLl9ncmFkaWVudDJkKHRoaXMuX3BbYSsxXSx0LTEsZS0xKSkpKzEpLzJ9LHQucHJvdG90eXBlLl9ub2lzZTNkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT0yNTUmTWF0aC5mbG9vcih0KSxyPTI1NSZNYXRoLmZsb29yKGUpLG89MjU1Jk1hdGguZmxvb3Iobik7dC09TWF0aC5mbG9vcih0KSxlLT1NYXRoLmZsb29yKGUpLG4tPU1hdGguZmxvb3Iobik7dmFyIHM9SXIodCksYT1JcihlKSxjPUlyKG4pLGg9dGhpcy5fcFtpXStyLHU9dGhpcy5fcFtpKzFdK3IsbD10aGlzLl9wW2hdK28scD10aGlzLl9wW3VdK28sZD10aGlzLl9wW2grMV0rbyxmPXRoaXMuX3BbdSsxXStvO3JldHVybihGcihjLEZyKGEsRnIocyx0aGlzLl9ncmFkaWVudDNkKHRoaXMuX3BbbF0sdCxlLG4pLHRoaXMuX2dyYWRpZW50M2QodGhpcy5fcFtwXSx0LTEsZSxuKSksRnIocyx0aGlzLl9ncmFkaWVudDNkKHRoaXMuX3BbZF0sdCxlLTEsbiksdGhpcy5fZ3JhZGllbnQzZCh0aGlzLl9wW2ZdLHQtMSxlLTEsbikpKSxGcihhLEZyKHMsdGhpcy5fZ3JhZGllbnQzZCh0aGlzLl9wW2wrMV0sdCxlLG4tMSksdGhpcy5fZ3JhZGllbnQzZCh0aGlzLl9wW3ArMV0sdC0xLGUsbi0xKSksRnIocyx0aGlzLl9ncmFkaWVudDNkKHRoaXMuX3BbZCsxXSx0LGUtMSxuLTEpLHRoaXMuX2dyYWRpZW50M2QodGhpcy5fcFtmKzFdLHQtMSxlLTEsbi0xKSkpKSsxKS8yfSx0fSgpLHpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuZ2VuZXJhdG9yPXQsdGhpcy5jb2xvckZjbj1lLGV8fCh0aGlzLmNvbG9yRmNuPWZ1bmN0aW9uKHQpe3JldHVybiB0PDEyNT9ldC5CbGFjazpldC5XaGl0ZX0pfXJldHVybiB0LnByb3RvdHlwZS5pbWFnZT1mdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2kud2lkdGg9dCxpLmhlaWdodD1lO3ZhciByPWkuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiB0aGlzLmRyYXcociwwLDAsdCxlKSxuLnNyYz1pLnRvRGF0YVVSTCgpLG59LHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLG4saSxyKXtmb3IodmFyIG89dGhpcy5nZW5lcmF0b3IuZ3JpZChpLHIpLHM9dC5nZXRJbWFnZURhdGEoZSxuLGksciksYT0wO2E8cjthKyspZm9yKHZhciBjPTA7YzxpO2MrKyl7dmFyIGg9b1tjK2kqYV0sdT0yNTUmTWF0aC5mbG9vcigyNTUqaCksbD00KihjK2Eqcy53aWR0aCkscD10aGlzLmNvbG9yRmNuKHUpO3MuZGF0YVtsXT1wLnIscy5kYXRhW2wrMV09cC5nLHMuZGF0YVtsKzJdPXAuYixzLmRhdGFbbCszXT1NYXRoLmZsb29yKDI1NSpwLmEpfXQucHV0SW1hZ2VEYXRhKHMsZSxuKX0sdH0oKSxIcj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsbil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkoZSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxVcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXVkaW9CdWZmZXI/bmV3IE5yKHQpOm5ldyBXcih0KX0sdH0oKSxXcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc3JjPXQsdGhpcy5fdm9sdW1lPTEsdGhpcy5fZHVyYXRpb249dm9pZCAwLHRoaXMuX2xvb3A9ITEsdGhpcy5faXNQbGF5aW5nPSExLHRoaXMuX2lzUGF1c2VkPSExfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJsb29wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9vcD10LHRoaXMuX2luc3RhbmNlJiYodGhpcy5faW5zdGFuY2UubG9vcD10LHRoaXMuX3dpcmVVcE9uRW5kZWQoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidm9sdW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92b2x1bWV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl92b2x1bWU9bSh0LDAsMSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZHVyYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2R1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZHVyYXRpb249dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5pc1BsYXlpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNQbGF5aW5nfSx0LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX2lzUGxheWluZyYmKHRoaXMuX2lzUGF1c2VkPSEwLHRoaXMuX2lzUGxheWluZz0hMSl9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9pc1BsYXlpbmcmJih0aGlzLl9pc1BsYXlpbmc9ITEsdGhpcy5faXNQYXVzZWQ9ITEpfSx0LnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzUGF1c2VkJiZ0aGlzLl9yZXN1bWVQbGF5QmFjaygpLHRoaXMuX2lzUGxheWluZ3x8dGhpcy5fc3RhcnRQbGF5QmFjaygpLHRoaXMuX3BsYXlpbmdQcm9taXNlfSx0LnByb3RvdHlwZS5fc3RhcnRQbGF5QmFjaz1mdW5jdGlvbigpe3RoaXMuX2lzUGxheWluZz0hMCx0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl9wbGF5aW5nUHJvbWlzZT1uZXcgZH0sdC5wcm90b3R5cGUuX3Jlc3VtZVBsYXlCYWNrPWZ1bmN0aW9uKCl7dGhpcy5faXNQYXVzZWQmJih0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl9pc1BsYXlpbmc9ITApfSx0LnByb3RvdHlwZS5fd2lyZVVwT25FbmRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5sb29wfHwodGhpcy5faW5zdGFuY2Uub25lbmRlZD1mdW5jdGlvbigpe3JldHVybiB0Ll9oYW5kbGVPbkVuZGVkKCl9KX0sdC5wcm90b3R5cGUuX2hhbmRsZU9uRW5kZWQ9ZnVuY3Rpb24oKXt9LHR9KCksTnI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi5fYXVkaW9Db250ZXh0PUJuLmNyZWF0ZSgpLG4uX3ZvbHVtZU5vZGU9bi5fYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKSxuLl9jdXJyZW50T2Zmc2V0PTAsbi5fY3JlYXRlTmV3QnVmZmVyU291cmNlKCksbn1yZXR1cm4gSHIoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2b2x1bWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZX0sc2V0OmZ1bmN0aW9uKHQpe3Q9bSh0LDAsMSksdGhpcy5fdm9sdW1lPXQsdGhpcy5faXNQbGF5aW5nJiZ0aGlzLl92b2x1bWVOb2RlLmdhaW4uc2V0VGFyZ2V0QXRUaW1lP3RoaXMuX3ZvbHVtZU5vZGUuZ2Fpbi5zZXRUYXJnZXRBdFRpbWUodCx0aGlzLl9hdWRpb0NvbnRleHQuY3VycmVudFRpbWUsLjEpOnRoaXMuX3ZvbHVtZU5vZGUuZ2Fpbi52YWx1ZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9wbGF5YmFja1JhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlPzEvKHRoaXMuX2luc3RhbmNlLnBsYXliYWNrUmF0ZS52YWx1ZXx8MSk6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3QucHJvdG90eXBlLnBhdXNlLmNhbGwodGhpcyksdGhpcy5faW5zdGFuY2Uuc3RvcCgwKSx0aGlzLl9zZXRQYXVzZU9mZnNldCgpfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuc3RvcC5jYWxsKHRoaXMpLHRoaXMuX2N1cnJlbnRPZmZzZXQ9MCx0aGlzLl9pbnN0YW5jZS5zdG9wKDApLHRoaXMuX2luc3RhbmNlLm9uZW5kZWR8fHRoaXMuX2hhbmRsZU9uRW5kZWQoKX0sZS5wcm90b3R5cGUuX3N0YXJ0UGxheUJhY2s9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5fc3RhcnRQbGF5QmFjay5jYWxsKHRoaXMpLHRoaXMuX2luc3RhbmNlfHx0aGlzLl9jcmVhdGVOZXdCdWZmZXJTb3VyY2UoKSx0aGlzLl9yZW1lbWJlclN0YXJ0VGltZSgpLHRoaXMuX3ZvbHVtZU5vZGUuY29ubmVjdCh0aGlzLl9hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pLHRoaXMuX2luc3RhbmNlLnN0YXJ0KDAsMCksdGhpcy5fY3VycmVudE9mZnNldD0wLHRoaXMuX3BsYXlpbmdQcm9taXNlPW5ldyBkLHRoaXMuX3dpcmVVcE9uRW5kZWQoKX0sZS5wcm90b3R5cGUuX3Jlc3VtZVBsYXlCYWNrPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuX3Jlc3VtZVBsYXlCYWNrLmNhbGwodGhpcyksdGhpcy5faW5zdGFuY2Uub25lbmRlZD1udWxsLHRoaXMuX2NyZWF0ZU5ld0J1ZmZlclNvdXJjZSgpO3ZhciBlPXRoaXMuX3BsYXliYWNrUmF0ZSp0aGlzLl9zcmMuZHVyYXRpb24sbj10aGlzLl9jdXJyZW50T2Zmc2V0JWU7dGhpcy5fcmVtZW1iZXJTdGFydFRpbWUoLTFlMypuKSx0aGlzLl9pbnN0YW5jZS5zdGFydCgwLG4pLHRoaXMuX3dpcmVVcE9uRW5kZWQoKX0sZS5wcm90b3R5cGUuX2hhbmRsZU9uRW5kZWQ9ZnVuY3Rpb24oKXt0aGlzLl9pc1BhdXNlZHx8KHRoaXMuX2lzUGxheWluZz0hMSx0aGlzLl9wbGF5aW5nUHJvbWlzZS5yZXNvbHZlKCEwKSl9LGUucHJvdG90eXBlLl9yZW1lbWJlclN0YXJ0VGltZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCkrKDB8dCl9LGUucHJvdG90eXBlLl9zZXRQYXVzZU9mZnNldD1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRPZmZzZXQ9KChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuX3N0YXJ0VGltZSkqdGhpcy5fcGxheWJhY2tSYXRlLzFlM30sZS5wcm90b3R5cGUuX2NyZWF0ZU5ld0J1ZmZlclNvdXJjZT1mdW5jdGlvbigpe3RoaXMuX2luc3RhbmNlPXRoaXMuX2F1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKSx0aGlzLl9pbnN0YW5jZS5idWZmZXI9dGhpcy5fc3JjLHRoaXMuX2luc3RhbmNlLmxvb3A9dGhpcy5sb29wLHRoaXMuX2luc3RhbmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZSgxLDApLHRoaXMuX2luc3RhbmNlLmNvbm5lY3QodGhpcy5fdm9sdW1lTm9kZSl9LGV9KFdyKTtmdW5jdGlvbiBxcih0KXt0cnl7dmFyIGU9bmV3IEF1ZGlvLG49dC5tYXRjaCgvLipcXC4oW0EtWmEtejAtOV0rKSQvKVsxXTtyZXR1cm4hIWUuY2FuUGxheVR5cGUoXCJhdWRpby9cIituKX1jYXRjaCh0KXtyZXR1cm4gUi5nZXRJbnN0YW5jZSgpLndhcm4oXCJDYW5ub3QgZGV0ZXJtaW5lIGF1ZGlvIHN1cHBvcnQsIGFzc3VtaW5nIG5vIHN1cHBvcnQgZm9yIHRoZSBBdWRpbyBUYWdcIix0KSwhMX19dmFyIFZyPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KShlLG4pfTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxuKSxlLnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpLEdyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07dmFyIGk9dC5jYWxsKHRoaXMsXCJcIixcIlwiKXx8dGhpcztpLl9sb29wPSExLGkuX3ZvbHVtZT0xLGkuX2R1cmF0aW9uPXZvaWQgMCxpLl9pc1N0b3BwZWQ9ITEsaS5faXNQYXVzZWQ9ITEsaS5fdHJhY2tzPVtdLGkuX3dhc1BsYXlpbmdPbkhpZGRlbj0hMSxpLl9wcm9jZXNzZWREYXRhPW5ldyBkLGkuX2F1ZGlvQ29udGV4dD1Cbi5jcmVhdGUoKSxpLl9kZXRlY3RSZXNwb25zZVR5cGUoKTtmb3IodmFyIHI9MCxvPWU7cjxvLmxlbmd0aDtyKyspe3ZhciBzPW9bcl07aWYocXIocykpe2kucGF0aD1zO2JyZWFrfX1yZXR1cm4gaS5wYXRofHwoaS5sb2dnZXIud2FybihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGFueSBvZiB0aGUgYXVkaW8gZmlsZXMgc3BlY2lmaWVkOlwiLGUuam9pbihcIiwgXCIpKSxpLmxvZ2dlci53YXJuKFwiQXR0ZW1wdGluZyB0byB1c2VcIixlWzBdKSxpLnBhdGg9ZVswXSksaX1yZXR1cm4gVnIoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsb29wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9vcD10O2Zvcih2YXIgZT0wLG49dGhpcy5fdHJhY2tzO2U8bi5sZW5ndGg7ZSsrKXtuW2VdLmxvb3A9dGhpcy5fbG9vcH10aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldCBsb29wIGZvciBhbGwgaW5zdGFuY2VzIG9mIHNvdW5kXCIsdGhpcy5wYXRoLFwidG9cIix0aGlzLl9sb29wKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2b2x1bWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3ZvbHVtZT10O2Zvcih2YXIgZT0wLG49dGhpcy5fdHJhY2tzO2U8bi5sZW5ndGg7ZSsrKXtuW2VdLnZvbHVtZT10aGlzLl92b2x1bWV9dGhpcy5lbWl0KFwidm9sdW1lY2hhbmdlXCIsbmV3IHlyKHRoaXMpKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldCBsb29wIGZvciBhbGwgaW5zdGFuY2VzIG9mIHNvdW5kXCIsdGhpcy5wYXRoLFwidG9cIix0aGlzLl92b2x1bWUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImR1cmF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kdXJhdGlvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpbnN0YW5jZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS53aXJlRW5naW5lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dCYmKHRoaXMuX2VuZ2luZT10LHRoaXMuX2VuZ2luZS5vbihcImhpZGRlblwiLChmdW5jdGlvbigpe3QucGF1c2VBdWRpb1doZW5IaWRkZW4mJmUuaXNQbGF5aW5nKCkmJihlLl93YXNQbGF5aW5nT25IaWRkZW49ITAsZS5wYXVzZSgpKX0pKSx0aGlzLl9lbmdpbmUub24oXCJ2aXNpYmxlXCIsKGZ1bmN0aW9uKCl7dC5wYXVzZUF1ZGlvV2hlbkhpZGRlbiYmZS5fd2FzUGxheWluZ09uSGlkZGVuJiYoZS5wbGF5KCksZS5fd2FzUGxheWluZ09uSGlkZGVuPSExKX0pKSx0aGlzLl9lbmdpbmUub24oXCJzdGFydFwiLChmdW5jdGlvbigpe2UuX2lzU3RvcHBlZD0hMX0pKSx0aGlzLl9lbmdpbmUub24oXCJzdG9wXCIsKGZ1bmN0aW9uKCl7ZS5zdG9wKCksZS5faXNTdG9wcGVkPSEwfSkpKX0sZS5wcm90b3R5cGUuaW5zdGFuY2VDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFja3MubGVuZ3RofSxlLnByb3RvdHlwZS5pc1BsYXlpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2tzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzUGxheWluZygpfSkpfSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzTG9hZGVkKCk/dGhpcy5faXNTdG9wcGVkPyh0aGlzLmxvZ2dlci53YXJuKFwiQ2Fubm90IHN0YXJ0IHBsYXlpbmcuIEVuZ2luZSBpcyBpbiBhIHN0b3BwZWQgc3RhdGUuXCIpLGQucmVzb2x2ZSghMSkpOih0aGlzLnZvbHVtZT10fHx0aGlzLnZvbHVtZSx0aGlzLl9pc1BhdXNlZD90aGlzLl9yZXN1bWVQbGF5YmFjaygpOnRoaXMuX3N0YXJ0UGxheWJhY2soKSk6KHRoaXMubG9nZ2VyLndhcm4oXCJDYW5ub3Qgc3RhcnQgcGxheWluZy4gUmVzb3VyY2VcIix0aGlzLnBhdGgsXCJpcyBub3QgbG9hZGVkIHlldFwiKSxkLnJlc29sdmUoITApKX0sZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtpZih0aGlzLmlzUGxheWluZygpKXtmb3IodmFyIHQ9MCxlPXRoaXMuX3RyYWNrczt0PGUubGVuZ3RoO3QrKyl7ZVt0XS5wYXVzZSgpfXRoaXMuX2lzUGF1c2VkPSEwLHRoaXMuZW1pdChcInBhdXNlXCIsbmV3IHlyKHRoaXMpKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlBhdXNlZCBhbGwgaW5zdGFuY2VzIG9mIHNvdW5kXCIsdGhpcy5wYXRoKX19LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuX3RyYWNrczt0PGUubGVuZ3RoO3QrKyl7ZVt0XS5zdG9wKCl9dGhpcy5lbWl0KFwic3RvcFwiLG5ldyB5cih0aGlzKSksdGhpcy5faXNQYXVzZWQ9ITEsdGhpcy5fdHJhY2tzLmxlbmd0aD0wLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3RvcHBlZCBhbGwgaW5zdGFuY2VzIG9mIHNvdW5kXCIsdGhpcy5wYXRoKX0sZS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJlbXB0aWVkXCIsbmV3IHlyKHRoaXMpKSx0aGlzLmRhdGE9dCx0aGlzLl9wcm9jZXNzZWREYXRhPW5ldyBkfSxlLnByb3RvdHlwZS5wcm9jZXNzRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/dGhpcy5fcHJvY2Vzc0FycmF5QnVmZmVyRGF0YSh0KTp0aGlzLl9wcm9jZXNzQmxvYkRhdGEodCkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9zZXRQcm9jZXNzZWREYXRhKHQpfSkpfSxlLnByb3RvdHlwZS5nZXRUcmFja0lkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90cmFja3MuaW5kZXhPZih0KX0sZS5wcm90b3R5cGUuX3Jlc3VtZVBsYXliYWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5faXNQYXVzZWQpe2Zvcih2YXIgdD1bXSxlPTAsbj10aGlzLl90cmFja3M7ZTxuLmxlbmd0aDtlKyspe3ZhciBpPW5bZV07dC5wdXNoKGkucGxheSgpKX1yZXR1cm4gdGhpcy5faXNQYXVzZWQ9ITEsdGhpcy5lbWl0KFwicmVzdW1lXCIsbmV3IHlyKHRoaXMpKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJlc3VtaW5nIHBhdXNlZCBpbnN0YW5jZXMgZm9yIHNvdW5kXCIsdGhpcy5wYXRoLHRoaXMuX3RyYWNrcyksZC5qb2luKHQpfXJldHVybiBkLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5fc3RhcnRQbGF5YmFjaz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLl9jcmVhdGVOZXdUcmFjaygpLG49bmV3IGQ7cmV0dXJuIGUudGhlbigoZnVuY3Rpb24oZSl7ZS5wbGF5KCkudGhlbigoZnVuY3Rpb24oaSl7cmV0dXJuIHQuZW1pdChcInBsYXliYWNrZW5kXCIsbmV3IHlyKHQsZSkpLHQuX3RyYWNrcy5zcGxpY2UodC5nZXRUcmFja0lkKGUpLDEpLG4ucmVzb2x2ZShpKSxpfSkpLHQuZW1pdChcInBsYXliYWNrc3RhcnRcIixuZXcgeXIodCxlKSksdC5sb2dnZXIuZGVidWcoXCJQbGF5aW5nIG5ldyBpbnN0YW5jZSBmb3Igc291bmRcIix0LnBhdGgpfSkpLG59LGUucHJvdG90eXBlLl9wcm9jZXNzQXJyYXlCdWZmZXJEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1uZXcgZDtyZXR1cm4gdGhpcy5fYXVkaW9Db250ZXh0LmRlY29kZUF1ZGlvRGF0YSh0LChmdW5jdGlvbih0KXtuLnJlc29sdmUodCl9KSwoZnVuY3Rpb24oKXtlLmxvZ2dlci5lcnJvcihcIlVuYWJsZSB0byBkZWNvZGUgIHRoaXMgYnJvd3NlciBtYXkgbm90IGZ1bGx5IHN1cHBvcnQgdGhpcyBmb3JtYXQsIG9yIHRoZSBmaWxlIG1heSBiZSBjb3JydXB0LCBpZiB0aGlzIGlzIGFuIG1wMyB0cnkgcmVtb3ZpbmcgaWQzIHRhZ3MgYW5kIGFsYnVtIGFydCBmcm9tIHRoZSBmaWxlLlwiKSxuLnJlc29sdmUodm9pZCAwKX0pKSxufSxlLnByb3RvdHlwZS5fcHJvY2Vzc0Jsb2JEYXRhPWZ1bmN0aW9uKGUpe3JldHVybihuZXcgZCkucmVzb2x2ZSh0LnByb3RvdHlwZS5wcm9jZXNzRGF0YS5jYWxsKHRoaXMsZSkpfSxlLnByb3RvdHlwZS5fc2V0UHJvY2Vzc2VkRGF0YT1mdW5jdGlvbih0KXt0aGlzLl9wcm9jZXNzZWREYXRhLnJlc29sdmUodCksdGhpcy5fZHVyYXRpb249XCJvYmplY3RcIj09dHlwZW9mIHQ/dC5kdXJhdGlvbjp2b2lkIDAsdGhpcy5lbWl0KFwicHJvY2Vzc2VkXCIsbmV3IGdyKHRoaXMsdCkpfSxlLnByb3RvdHlwZS5fY3JlYXRlTmV3VHJhY2s9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9bmV3IGQ7cmV0dXJuIDAhPT10aGlzLl9wcm9jZXNzZWREYXRhLnN0YXRlKCkmJnRoaXMucHJvY2Vzc0RhdGEodGhpcy5kYXRhKSx0aGlzLl9wcm9jZXNzZWREYXRhLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiBlLnJlc29sdmUodC5fZ2V0VHJhY2tJbnN0YW5jZShuKSksbn0pLChmdW5jdGlvbihlKXt0LmxvZ2dlci5lcnJvcihlLFwiQ2Fubm90IGNyZWF0ZSBBdWRpb0luc3RhbmNlIGR1ZSB0byB3cm9uZyBwcm9jZXNzZWQgZGF0YS5cIil9KSksZX0sZS5wcm90b3R5cGUuX2dldFRyYWNrSW5zdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9VXIuY3JlYXRlKHQpO3JldHVybiBlLmxvb3A9dGhpcy5sb29wLGUudm9sdW1lPXRoaXMudm9sdW1lLGUuZHVyYXRpb249dGhpcy5kdXJhdGlvbix0aGlzLl90cmFja3MucHVzaChlKSxlfSxlLnByb3RvdHlwZS5fZGV0ZWN0UmVzcG9uc2VUeXBlPWZ1bmN0aW9uKCl7d2luZG93LkF1ZGlvQ29udGV4dD90aGlzLnJlc3BvbnNlVHlwZT1Dci50eXBlLmFycmF5YnVmZmVyOnRoaXMucmVzcG9uc2VUeXBlPUNyLnR5cGUuYmxvYn0sZX0oaWUpLFhyPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KShlLG4pfTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxuKSxlLnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpLFFyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZvaWQgMD09PW4mJihuPWV0Lk1hZ2VudGEpLHZvaWQgMD09PWkmJihpPSEwKTt2YXIgcj10LmNhbGwodGhpcyxlLFwiYXJyYXlidWZmZXJcIixpKXx8dGhpcztyZXR1cm4gci5wYXRoPWUsci5jb2xvcj1uLHIuYnVzdENhY2hlPWksci5sb2FkZWQ9bmV3IGQsci5faXNMb2FkZWQ9ITEsci5fc3RyZWFtPW51bGwsci5fZ2lmPW51bGwsci5fdGV4dHVyZT1bXSxyLl9hbmltYXRpb249bnVsbCxyLl90cmFuc3BhcmVudENvbG9yPW51bGwsci5fdHJhbnNwYXJlbnRDb2xvcj1uLHJ9cmV0dXJuIFhyKGUsdCksZS5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMb2FkZWR9LGUucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49bmV3IGQ7cmV0dXJuIHQucHJvdG90eXBlLmxvYWQuY2FsbCh0aGlzKS50aGVuKChmdW5jdGlvbigpe2UuX3N0cmVhbT1uZXcgWXIoZS5nZXREYXRhKCkpLGUuX2dpZj1uZXcgSnIoZS5fc3RyZWFtLGUuX3RyYW5zcGFyZW50Q29sb3IpO2Zvcih2YXIgdD1bXSxpPTA7aTxlLl9naWYuaW1hZ2VzLmxlbmd0aDtpKyspe3ZhciByPW5ldyBiZShlLl9naWYuaW1hZ2VzW2ldLnNyYywhMSk7ZS5fdGV4dHVyZS5wdXNoKHIpLHQucHVzaChyLmxvYWQoKSl9ZC5qb2luKHQpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5faXNMb2FkZWQ9ITAsbi5yZXNvbHZlKGUuX3RleHR1cmUpfSkpfSksKGZ1bmN0aW9uKCl7bi5yZWplY3QoXCJFcnJvciBsb2FkaW5nIHRleHR1cmUuXCIpfSkpLG59LGUucHJvdG90eXBlLmFzU3ByaXRlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx0aGlzLl90ZXh0dXJlW3RdLmFzU3ByaXRlKCl9LGUucHJvdG90eXBlLmFzU3ByaXRlU2hlZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90ZXh0dXJlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYXNTcHJpdGUoKX0pKTtyZXR1cm4gbmV3IEVyKHQpfSxlLnByb3RvdHlwZS5hc0FuaW1hdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXNTcHJpdGVTaGVldCgpO3JldHVybiB0aGlzLl9hbmltYXRpb249bi5nZXRBbmltYXRpb25Gb3JBbGwodCxlKSx0aGlzLl9hbmltYXRpb259LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInJlYWRDaGVja0J5dGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9naWYuY2hlY2tCeXRlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlfShpZSksWnI9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiAyKnQrZX0pLDApfSxLcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj03O24+PTA7bi0tKWUucHVzaCghISh0JjE8PG4pKTtyZXR1cm4gZX0sWXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmRhdGE9bnVsbCx0aGlzLmxlbj0wLHRoaXMucG9zaXRpb249MCx0aGlzLnJlYWRCeXRlPWZ1bmN0aW9uKCl7aWYoZS5wb3NpdGlvbj49ZS5kYXRhLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIHJlYWQgcGFzdCBlbmQgb2Ygc3RyZWFtLlwiKTtyZXR1cm4gZS5kYXRhW2UucG9zaXRpb24rK119LHRoaXMucmVhZEJ5dGVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1bXSxpPTA7aTx0O2krKyluLnB1c2goZS5yZWFkQnl0ZSgpKTtyZXR1cm4gbn0sdGhpcy5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1cIlwiLGk9MDtpPHQ7aSsrKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoZS5yZWFkQnl0ZSgpKTtyZXR1cm4gbn0sdGhpcy5yZWFkVW5zaWduZWQ9ZnVuY3Rpb24oKXt2YXIgdD1lLnJlYWRCeXRlcygyKTtyZXR1cm4odFsxXTw8OCkrdFswXX0sdGhpcy5kYXRhPW5ldyBVaW50OEFycmF5KHQpLHRoaXMubGVuPXRoaXMuZGF0YS5ieXRlTGVuZ3RoLDA9PT10aGlzLmxlbil0aHJvdyBuZXcgRXJyb3IoXCJObyBkYXRhIGxvYWRlZCBmcm9tIGZpbGVcIil9LEpyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt2b2lkIDA9PT1lJiYoZT1ldC5NYWdlbnRhKSx0aGlzLl9zdD1udWxsLHRoaXMuX2hhbmRsZXI9e30sdGhpcy5fdHJhbnNwYXJlbnRDb2xvcj1udWxsLHRoaXMuZnJhbWVzPVtdLHRoaXMuaW1hZ2VzPVtdLHRoaXMuZ2xvYmFsQ29sb3JUYWJsZT1bXSx0aGlzLmNoZWNrQnl0ZXM9W10sdGhpcy5wYXJzZUNvbG9yVGFibGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9MDtpPHQ7aSsrKXt2YXIgcj1cIiNcIituLl9zdC5yZWFkQnl0ZXMoMykubWFwKChmdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09PWUubGVuZ3RoP1wiMFwiK2U6ZX0pKS5qb2luKFwiXCIpO2UucHVzaChyKX1yZXR1cm4gZX0sdGhpcy5yZWFkU3ViQmxvY2tzPWZ1bmN0aW9uKCl7dmFyIHQsZTtlPVwiXCI7ZG97dD1uLl9zdC5yZWFkQnl0ZSgpLGUrPW4uX3N0LnJlYWQodCl9d2hpbGUoMCE9PXQpO3JldHVybiBlfSx0aGlzLnBhcnNlSGVhZGVyPWZ1bmN0aW9uKCl7dmFyIHQ9e3NpZzpudWxsLHZlcjpudWxsLHdpZHRoOm51bGwsaGVpZ2h0Om51bGwsY29sb3JSZXM6bnVsbCxnbG9iYWxDb2xvclRhYmxlU2l6ZTpudWxsLGdjdEZsYWc6bnVsbCxzb3J0ZWQ6bnVsbCxnbG9iYWxDb2xvclRhYmxlOltdLGJnQ29sb3I6bnVsbCxwaXhlbEFzcGVjdFJhdGlvOm51bGx9O2lmKHQuc2lnPW4uX3N0LnJlYWQoMyksdC52ZXI9bi5fc3QucmVhZCgzKSxcIkdJRlwiIT09dC5zaWcpdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgR0lGIGZpbGUuXCIpO3Qud2lkdGg9bi5fc3QucmVhZFVuc2lnbmVkKCksdC5oZWlnaHQ9bi5fc3QucmVhZFVuc2lnbmVkKCk7dmFyIGU9S3Iobi5fc3QucmVhZEJ5dGUoKSk7dC5nY3RGbGFnPWUuc2hpZnQoKSx0LmNvbG9yUmVzPVpyKGUuc3BsaWNlKDAsMykpLHQuc29ydGVkPWUuc2hpZnQoKSx0Lmdsb2JhbENvbG9yVGFibGVTaXplPVpyKGUuc3BsaWNlKDAsMykpLHQuYmdDb2xvcj1uLl9zdC5yZWFkQnl0ZSgpLHQucGl4ZWxBc3BlY3RSYXRpbz1uLl9zdC5yZWFkQnl0ZSgpLHQuZ2N0RmxhZyYmKHQuZ2xvYmFsQ29sb3JUYWJsZT1uLnBhcnNlQ29sb3JUYWJsZSgxPDx0Lmdsb2JhbENvbG9yVGFibGVTaXplKzEpLG4uZ2xvYmFsQ29sb3JUYWJsZT10Lmdsb2JhbENvbG9yVGFibGUpLG4uX2hhbmRsZXIuaGRyJiZuLl9oYW5kbGVyLmhkcih0KSYmbi5jaGVja0J5dGVzLnB1c2gobi5faGFuZGxlci5oZHIpfSx0aGlzLnBhcnNlRXh0PWZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsPW4uX3N0LnJlYWRCeXRlKCksdC5sYWJlbCl7Y2FzZSAyNDk6dC5leHRUeXBlPVwiZ2NlXCIsZnVuY3Rpb24odCl7bi5jaGVja0J5dGVzLnB1c2gobi5fc3QucmVhZEJ5dGUoKSk7dmFyIGU9S3Iobi5fc3QucmVhZEJ5dGUoKSk7dC5yZXNlcnZlZD1lLnNwbGljZSgwLDMpLHQuZGlzcG9zYWxNZXRob2Q9WnIoZS5zcGxpY2UoMCwzKSksdC51c2VySW5wdXQ9ZS5zaGlmdCgpLHQudHJhbnNwYXJlbmN5R2l2ZW49ZS5zaGlmdCgpLHQuZGVsYXlUaW1lPW4uX3N0LnJlYWRVbnNpZ25lZCgpLHQudHJhbnNwYXJlbmN5SW5kZXg9bi5fc3QucmVhZEJ5dGUoKSx0LnRlcm1pbmF0b3I9bi5fc3QucmVhZEJ5dGUoKSxuLl9oYW5kbGVyLmdjZSYmbi5faGFuZGxlci5nY2UodCkmJm4uY2hlY2tCeXRlcy5wdXNoKG4uX2hhbmRsZXIuZ2NlKX0odCk7YnJlYWs7Y2FzZSAyNTQ6dC5leHRUeXBlPVwiY29tXCIsZnVuY3Rpb24odCl7dC5jb21tZW50PW4ucmVhZFN1YkJsb2NrcygpLG4uX2hhbmRsZXIuY29tJiZuLl9oYW5kbGVyLmNvbSh0KSYmbi5jaGVja0J5dGVzLnB1c2gobi5faGFuZGxlci5jb20pfSh0KTticmVhaztjYXNlIDE6dC5leHRUeXBlPVwicHRlXCIsZnVuY3Rpb24odCl7bi5jaGVja0J5dGVzLnB1c2gobi5fc3QucmVhZEJ5dGUoKSksdC5wdEhlYWRlcj1uLl9zdC5yZWFkQnl0ZXMoMTIpLHQucHREYXRhPW4ucmVhZFN1YkJsb2NrcygpLG4uX2hhbmRsZXIucHRlJiZuLl9oYW5kbGVyLnB0ZSh0KSYmbi5jaGVja0J5dGVzLnB1c2gobi5faGFuZGxlci5wdGUpfSh0KTticmVhaztjYXNlIDI1NTp0LmV4dFR5cGU9XCJhcHBcIixmdW5jdGlvbih0KXtzd2l0Y2gobi5jaGVja0J5dGVzLnB1c2gobi5fc3QucmVhZEJ5dGUoKSksdC5pZGVudGlmaWVyPW4uX3N0LnJlYWQoOCksdC5hdXRoQ29kZT1uLl9zdC5yZWFkKDMpLHQuaWRlbnRpZmllcil7Y2FzZVwiTkVUU0NBUEVcIjohZnVuY3Rpb24odCl7bi5jaGVja0J5dGVzLnB1c2gobi5fc3QucmVhZEJ5dGUoKSksdC51bmtub3duPW4uX3N0LnJlYWRCeXRlKCksdC5pdGVyYXRpb25zPW4uX3N0LnJlYWRVbnNpZ25lZCgpLHQudGVybWluYXRvcj1uLl9zdC5yZWFkQnl0ZSgpLG4uX2hhbmRsZXIuYXBwJiZuLl9oYW5kbGVyLmFwcC5ORVRTQ0FQRSYmbi5faGFuZGxlci5hcHAuTkVUU0NBUEUodCkmJm4uY2hlY2tCeXRlcy5wdXNoKG4uX2hhbmRsZXIuYXBwKX0odCk7YnJlYWs7ZGVmYXVsdDohZnVuY3Rpb24odCl7dC5hcHBEYXRhPW4ucmVhZFN1YkJsb2NrcygpLG4uX2hhbmRsZXIuYXBwJiZuLl9oYW5kbGVyLmFwcFt0LmlkZW50aWZpZXJdJiZuLl9oYW5kbGVyLmFwcFt0LmlkZW50aWZpZXJdKHQpJiZuLmNoZWNrQnl0ZXMucHVzaChuLl9oYW5kbGVyLmFwcFt0LmlkZW50aWZpZXJdKX0odCl9fSh0KTticmVhaztkZWZhdWx0OnQuZXh0VHlwZT1cInVua25vd25cIixmdW5jdGlvbih0KXt0LmRhdGE9bi5yZWFkU3ViQmxvY2tzKCksbi5faGFuZGxlci51bmtub3duJiZuLl9oYW5kbGVyLnVua25vd24odCkmJm4uY2hlY2tCeXRlcy5wdXNoKG4uX2hhbmRsZXIudW5rbm93bil9KHQpfX0sdGhpcy5wYXJzZUltZz1mdW5jdGlvbih0KXt0LmxlZnRQb3M9bi5fc3QucmVhZFVuc2lnbmVkKCksdC50b3BQb3M9bi5fc3QucmVhZFVuc2lnbmVkKCksdC53aWR0aD1uLl9zdC5yZWFkVW5zaWduZWQoKSx0LmhlaWdodD1uLl9zdC5yZWFkVW5zaWduZWQoKTt2YXIgZT1LcihuLl9zdC5yZWFkQnl0ZSgpKTt0LmxjdEZsYWc9ZS5zaGlmdCgpLHQuaW50ZXJsYWNlZD1lLnNoaWZ0KCksdC5zb3J0ZWQ9ZS5zaGlmdCgpLHQucmVzZXJ2ZWQ9ZS5zcGxpY2UoMCwyKSx0LmxjdFNpemU9WnIoZS5zcGxpY2UoMCwzKSksdC5sY3RGbGFnJiYodC5sY3Q9bi5wYXJzZUNvbG9yVGFibGUoMTw8dC5sY3RTaXplKzEpKSx0Lmx6d01pbkNvZGVTaXplPW4uX3N0LnJlYWRCeXRlKCk7dmFyIGk9bi5yZWFkU3ViQmxvY2tzKCk7dC5waXhlbHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4saSxyPTAsbz1mdW5jdGlvbih0KXtmb3IodmFyIG49MCxpPTA7aTx0O2krKyllLmNoYXJDb2RlQXQocj4+MykmMTw8KDcmcikmJihufD0xPDxpKSxyKys7cmV0dXJuIG59LHM9W10sYT0xPDx0LGM9YSsxLGg9dCsxLHU9W10sbD1mdW5jdGlvbigpe3U9W10saD10KzE7Zm9yKHZhciBlPTA7ZTxhO2UrKyl1W2VdPVtlXTt1W2FdPVtdLHVbY109bnVsbH07OylpZihpPW4sKG49byhoKSkhPT1hKXtpZihuPT09YylicmVhaztpZihuPHUubGVuZ3RoKWkhPT1hJiZ1LnB1c2godVtpXS5jb25jYXQodVtuXVswXSkpO2Vsc2V7aWYobiE9PXUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgTFpXIGNvZGUuXCIpO3UucHVzaCh1W2ldLmNvbmNhdCh1W2ldWzBdKSl9cy5wdXNoLmFwcGx5KHMsdVtuXSksdS5sZW5ndGg9PT0xPDxoJiZoPDEyJiZoKyt9ZWxzZSBsKCk7cmV0dXJuIHN9KHQubHp3TWluQ29kZVNpemUsaSksdC5pbnRlcmxhY2VkJiYodC5waXhlbHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IEFycmF5KHQubGVuZ3RoKSxpPXQubGVuZ3RoL2Uscj1mdW5jdGlvbihpLHIpe3ZhciBvPXQuc2xpY2UociplLChyKzEpKmUpO24uc3BsaWNlLmFwcGx5KG4sW2kqZSxlXS5jb25jYXQobykpfSxvPVswLDQsMiwxXSxzPVs4LDgsNCwyXSxhPTAsYz0wO2M8NDtjKyspZm9yKHZhciBoPW9bY107aDxpO2grPXNbY10pcihoLGEpLGErKztyZXR1cm4gbn0odC5waXhlbHMsdC53aWR0aCkpLG4uZnJhbWVzLnB1c2godCksbi5hcnJheVRvSW1hZ2UodCksbi5faGFuZGxlci5pbWcmJm4uX2hhbmRsZXIuaW1nKHQpJiZuLmNoZWNrQnl0ZXMucHVzaChuLl9oYW5kbGVyKX0sdGhpcy5wYXJzZUJsb2NrPWZ1bmN0aW9uKCl7dmFyIHQ9e3NlbnRpbmVsOm4uX3N0LnJlYWRCeXRlKCksdHlwZTpcIlwifTtzd2l0Y2goU3RyaW5nLmZyb21DaGFyQ29kZSh0LnNlbnRpbmVsKSl7Y2FzZVwiIVwiOnQudHlwZT1cImV4dFwiLG4ucGFyc2VFeHQodCk7YnJlYWs7Y2FzZVwiLFwiOnQudHlwZT1cImltZ1wiLG4ucGFyc2VJbWcodCk7YnJlYWs7Y2FzZVwiO1wiOnQudHlwZT1cImVvZlwiLG4uX2hhbmRsZXIuZW9mJiZuLl9oYW5kbGVyLmVvZih0KSYmbi5jaGVja0J5dGVzLnB1c2gobi5faGFuZGxlci5lb2YpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBibG9jazogMHhcIit0LnNlbnRpbmVsLnRvU3RyaW5nKDE2KSl9XCJlb2ZcIiE9PXQudHlwZSYmbi5wYXJzZUJsb2NrKCl9LHRoaXMuYXJyYXlUb0ltYWdlPWZ1bmN0aW9uKHQpe3ZhciBlPTAsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2kuaWQ9ZS50b1N0cmluZygpLGkud2lkdGg9dC53aWR0aCxpLmhlaWdodD10LmhlaWdodCxlKys7Zm9yKHZhciByPWkuZ2V0Q29udGV4dChcIjJkXCIpLG89MCxzPTAsYT0wO2E8dC5waXhlbHMubGVuZ3RoO2ErKylzJXQud2lkdGg9PTAmJihvKysscz0wKSxuLmdsb2JhbENvbG9yVGFibGVbdC5waXhlbHNbYV1dPT09bi5fdHJhbnNwYXJlbnRDb2xvci50b0hleCgpP3IuZmlsbFN0eWxlPVwicmdiYSgwLCAwLCAwLCAwKVwiOnIuZmlsbFN0eWxlPW4uZ2xvYmFsQ29sb3JUYWJsZVt0LnBpeGVsc1thXV0sci5maWxsUmVjdChzLG8sMSwxKSxzKys7dmFyIGM9bmV3IEltYWdlO2Muc3JjPWkudG9EYXRhVVJMKCksbi5pbWFnZXMucHVzaChjKX0sdGhpcy5fc3Q9dCx0aGlzLl9oYW5kbGVyPXt9LHRoaXMuX3RyYW5zcGFyZW50Q29sb3I9ZSx0aGlzLnBhcnNlSGVhZGVyKCksdGhpcy5wYXJzZUJsb2NrKCl9LCRyPVwiMC4yNC41XCI7bCgpfV0pfSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGNhbGlidXIubWluLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=